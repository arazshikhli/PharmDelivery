"use strict";(self.webpackChunkmyProject=self.webpackChunkmyProject||[]).push([[179],{140:()=>{function Ue(n){return"function"==typeof n}function Fd(n){const t=n(r=>{Error.call(r),r.stack=(new Error).stack});return t.prototype=Object.create(Error.prototype),t.prototype.constructor=t,t}const wg=Fd(n=>function(t){n(this),this.message=t?`${t.length} errors occurred during unsubscription:\n${t.map((r,i)=>`${i+1}) ${r.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=t});function _c(n,e){if(n){const t=n.indexOf(e);0<=t&&n.splice(t,1)}}class Rt{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;const{_parentage:t}=this;if(t)if(this._parentage=null,Array.isArray(t))for(const s of t)s.remove(this);else t.remove(this);const{initialTeardown:r}=this;if(Ue(r))try{r()}catch(s){e=s instanceof wg?s.errors:[s]}const{_finalizers:i}=this;if(i){this._finalizers=null;for(const s of i)try{KN(s)}catch(o){e=e??[],o instanceof wg?e=[...e,...o.errors]:e.push(o)}}if(e)throw new wg(e)}}add(e){var t;if(e&&e!==this)if(this.closed)KN(e);else{if(e instanceof Rt){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=null!==(t=this._finalizers)&&void 0!==t?t:[]).push(e)}}_hasParent(e){const{_parentage:t}=this;return t===e||Array.isArray(t)&&t.includes(e)}_addParent(e){const{_parentage:t}=this;this._parentage=Array.isArray(t)?(t.push(e),t):t?[t,e]:e}_removeParent(e){const{_parentage:t}=this;t===e?this._parentage=null:Array.isArray(t)&&_c(t,e)}remove(e){const{_finalizers:t}=this;t&&_c(t,e),e instanceof Rt&&e._removeParent(this)}}Rt.EMPTY=(()=>{const n=new Rt;return n.closed=!0,n})();const WN=Rt.EMPTY;function qN(n){return n instanceof Rt||n&&"closed"in n&&Ue(n.remove)&&Ue(n.add)&&Ue(n.unsubscribe)}function KN(n){Ue(n)?n():n.unsubscribe()}const Oa={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},Cg={setTimeout(n,e,...t){const{delegate:r}=Cg;return r?.setTimeout?r.setTimeout(n,e,...t):setTimeout(n,e,...t)},clearTimeout(n){const{delegate:e}=Cg;return(e?.clearTimeout||clearTimeout)(n)},delegate:void 0};function YN(n){Cg.setTimeout(()=>{const{onUnhandledError:e}=Oa;if(!e)throw n;e(n)})}function Eg(){}const IY=yw("C",void 0,void 0);function yw(n,e,t){return{kind:n,value:e,error:t}}let Fa=null;function Ig(n){if(Oa.useDeprecatedSynchronousErrorHandling){const e=!Fa;if(e&&(Fa={errorThrown:!1,error:null}),n(),e){const{errorThrown:t,error:r}=Fa;if(Fa=null,t)throw r}}else n()}class vw extends Rt{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,qN(e)&&e.add(this)):this.destination=kY}static create(e,t,r){return new Ld(e,t,r)}next(e){this.isStopped?ww(function SY(n){return yw("N",n,void 0)}(e),this):this._next(e)}error(e){this.isStopped?ww(function TY(n){return yw("E",void 0,n)}(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?ww(IY,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const AY=Function.prototype.bind;function bw(n,e){return AY.call(n,e)}class MY{constructor(e){this.partialObserver=e}next(e){const{partialObserver:t}=this;if(t.next)try{t.next(e)}catch(r){Tg(r)}}error(e){const{partialObserver:t}=this;if(t.error)try{t.error(e)}catch(r){Tg(r)}else Tg(e)}complete(){const{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(t){Tg(t)}}}class Ld extends vw{constructor(e,t,r){let i;if(super(),Ue(e)||!e)i={next:e??void 0,error:t??void 0,complete:r??void 0};else{let s;this&&Oa.useDeprecatedNextContext?(s=Object.create(e),s.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&bw(e.next,s),error:e.error&&bw(e.error,s),complete:e.complete&&bw(e.complete,s)}):i=e}this.destination=new MY(i)}}function Tg(n){Oa.useDeprecatedSynchronousErrorHandling?function DY(n){Oa.useDeprecatedSynchronousErrorHandling&&Fa&&(Fa.errorThrown=!0,Fa.error=n)}(n):YN(n)}function ww(n,e){const{onStoppedNotification:t}=Oa;t&&Cg.setTimeout(()=>t(n,e))}const kY={closed:!0,next:Eg,error:function xY(n){throw n},complete:Eg},Cw="function"==typeof Symbol&&Symbol.observable||"@@observable";function Ro(n){return n}function QN(...n){return XN(n)}function XN(n){return 0===n.length?Ro:1===n.length?n[0]:function(t){return n.reduce((r,i)=>i(r),t)}}let je=(()=>{class n{constructor(t){t&&(this._subscribe=t)}lift(t){const r=new n;return r.source=this,r.operator=t,r}subscribe(t,r,i){const s=function NY(n){return n&&n instanceof vw||function RY(n){return n&&Ue(n.next)&&Ue(n.error)&&Ue(n.complete)}(n)&&qN(n)}(t)?t:new Ld(t,r,i);return Ig(()=>{const{operator:o,source:a}=this;s.add(o?o.call(s,a):a?this._subscribe(s):this._trySubscribe(s))}),s}_trySubscribe(t){try{return this._subscribe(t)}catch(r){t.error(r)}}forEach(t,r){return new(r=ZN(r))((i,s)=>{const o=new Ld({next:a=>{try{t(a)}catch(l){s(l),o.unsubscribe()}},error:s,complete:i});this.subscribe(o)})}_subscribe(t){var r;return null===(r=this.source)||void 0===r?void 0:r.subscribe(t)}[Cw](){return this}pipe(...t){return XN(t)(this)}toPromise(t){return new(t=ZN(t))((r,i)=>{let s;this.subscribe(o=>s=o,o=>i(o),()=>r(s))})}}return n.create=e=>new n(e),n})();function ZN(n){var e;return null!==(e=n??Oa.Promise)&&void 0!==e?e:Promise}const PY=Fd(n=>function(){n(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});let Fe=(()=>{class n extends je{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(t){const r=new JN(this,this);return r.operator=t,r}_throwIfClosed(){if(this.closed)throw new PY}next(t){Ig(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const r of this.currentObservers)r.next(t)}})}error(t){Ig(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=t;const{observers:r}=this;for(;r.length;)r.shift().error(t)}})}complete(){Ig(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:t}=this;for(;t.length;)t.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var t;return(null===(t=this.observers)||void 0===t?void 0:t.length)>0}_trySubscribe(t){return this._throwIfClosed(),super._trySubscribe(t)}_subscribe(t){return this._throwIfClosed(),this._checkFinalizedStatuses(t),this._innerSubscribe(t)}_innerSubscribe(t){const{hasError:r,isStopped:i,observers:s}=this;return r||i?WN:(this.currentObservers=null,s.push(t),new Rt(()=>{this.currentObservers=null,_c(s,t)}))}_checkFinalizedStatuses(t){const{hasError:r,thrownError:i,isStopped:s}=this;r?t.error(i):s&&t.complete()}asObservable(){const t=new je;return t.source=this,t}}return n.create=(e,t)=>new JN(e,t),n})();class JN extends Fe{constructor(e,t){super(),this.destination=e,this.source=t}next(e){var t,r;null===(r=null===(t=this.destination)||void 0===t?void 0:t.next)||void 0===r||r.call(t,e)}error(e){var t,r;null===(r=null===(t=this.destination)||void 0===t?void 0:t.error)||void 0===r||r.call(t,e)}complete(){var e,t;null===(t=null===(e=this.destination)||void 0===e?void 0:e.complete)||void 0===t||t.call(e)}_subscribe(e){var t,r;return null!==(r=null===(t=this.source)||void 0===t?void 0:t.subscribe(e))&&void 0!==r?r:WN}}function eP(n){return Ue(n?.lift)}function gt(n){return e=>{if(eP(e))return e.lift(function(t){try{return n(t,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function tt(n,e,t,r,i){return new tP(n,e,t,r,i)}class tP extends vw{constructor(e,t,r,i,s,o){super(e),this.onFinalize=s,this.shouldUnsubscribe=o,this._next=t?function(a){try{t(a)}catch(l){e.error(l)}}:super._next,this._error=i?function(a){try{i(a)}catch(l){e.error(l)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:t}=this;super.unsubscribe(),!t&&(null===(e=this.onFinalize)||void 0===e||e.call(this))}}}function ee(n,e){return gt((t,r)=>{let i=0;t.subscribe(tt(r,s=>{r.next(n.call(e,s,i++))}))})}function rP(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(null!=n&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(n);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(t[r[i]]=n[r[i]])}return t}function FY(n,e){return function(t,r){e(t,r,n)}}function LY(n,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(n,e)}function iP(n,e,t,r){return new(t||(t=Promise))(function(s,o){function a(u){try{c(r.next(u))}catch(d){o(d)}}function l(u){try{c(r.throw(u))}catch(d){o(d)}}function c(u){u.done?s(u.value):function i(s){return s instanceof t?s:new t(function(o){o(s)})}(u.value).then(a,l)}c((r=r.apply(n,e||[])).next())})}function La(n){return this instanceof La?(this.v=n,this):new La(n)}function BY(n,e,t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i,r=t.apply(n,e||[]),s=[];return i={},o("next"),o("throw"),o("return"),i[Symbol.asyncIterator]=function(){return this},i;function o(h){r[h]&&(i[h]=function(f){return new Promise(function(p,g){s.push([h,f,p,g])>1||a(h,f)})})}function a(h,f){try{!function l(h){h.value instanceof La?Promise.resolve(h.value.v).then(c,u):d(s[0][2],h)}(r[h](f))}catch(p){d(s[0][3],p)}}function c(h){a("next",h)}function u(h){a("throw",h)}function d(h,f){h(f),s.shift(),s.length&&a(s[0][0],s[0][1])}}function UY(n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,e=n[Symbol.asyncIterator];return e?e.call(n):(n=function oP(n){var e="function"==typeof Symbol&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&"number"==typeof n.length)return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}(n),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(s){t[s]=n[s]&&function(o){return new Promise(function(a,l){!function i(s,o,a,l){Promise.resolve(l).then(function(c){s({value:c,done:a})},o)}(a,l,(o=n[s](o)).done,o.value)})}}}const Iw=n=>n&&"number"==typeof n.length&&"function"!=typeof n;function aP(n){return Ue(n?.then)}function lP(n){return Ue(n[Cw])}function cP(n){return Symbol.asyncIterator&&Ue(n?.[Symbol.asyncIterator])}function uP(n){return new TypeError(`You provided ${null!==n&&"object"==typeof n?"an invalid object":`'${n}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}const dP=function jY(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}();function hP(n){return Ue(n?.[dP])}function fP(n){return BY(this,arguments,function*(){const t=n.getReader();try{for(;;){const{value:r,done:i}=yield La(t.read());if(i)return yield La(void 0);yield yield La(r)}}finally{t.releaseLock()}})}function pP(n){return Ue(n?.getReader)}function An(n){if(n instanceof je)return n;if(null!=n){if(lP(n))return function HY(n){return new je(e=>{const t=n[Cw]();if(Ue(t.subscribe))return t.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(n);if(Iw(n))return function zY(n){return new je(e=>{for(let t=0;t<n.length&&!e.closed;t++)e.next(n[t]);e.complete()})}(n);if(aP(n))return function GY(n){return new je(e=>{n.then(t=>{e.closed||(e.next(t),e.complete())},t=>e.error(t)).then(null,YN)})}(n);if(cP(n))return gP(n);if(hP(n))return function WY(n){return new je(e=>{for(const t of n)if(e.next(t),e.closed)return;e.complete()})}(n);if(pP(n))return function qY(n){return gP(fP(n))}(n)}throw uP(n)}function gP(n){return new je(e=>{(function KY(n,e){var t,r,i,s;return iP(this,void 0,void 0,function*(){try{for(t=UY(n);!(r=yield t.next()).done;)if(e.next(r.value),e.closed)return}catch(o){i={error:o}}finally{try{r&&!r.done&&(s=t.return)&&(yield s.call(t))}finally{if(i)throw i.error}}e.complete()})})(n,e).catch(t=>e.error(t))})}function Rs(n,e,t,r=0,i=!1){const s=e.schedule(function(){t(),i?n.add(this.schedule(null,r)):this.unsubscribe()},r);if(n.add(s),!i)return s}function Kt(n,e,t=1/0){return Ue(e)?Kt((r,i)=>ee((s,o)=>e(r,s,i,o))(An(n(r,i))),t):("number"==typeof e&&(t=e),gt((r,i)=>function YY(n,e,t,r,i,s,o,a){const l=[];let c=0,u=0,d=!1;const h=()=>{d&&!l.length&&!c&&e.complete()},f=g=>c<r?p(g):l.push(g),p=g=>{s&&e.next(g),c++;let m=!1;An(t(g,u++)).subscribe(tt(e,v=>{i?.(v),s?f(v):e.next(v)},()=>{m=!0},void 0,()=>{if(m)try{for(c--;l.length&&c<r;){const v=l.shift();o?Rs(e,o,()=>p(v)):p(v)}h()}catch(v){e.error(v)}}))};return n.subscribe(tt(e,f,()=>{d=!0,h()})),()=>{a?.()}}(r,i,n,t)))}function yc(n=1/0){return Kt(Ro,n)}const Ki=new je(n=>n.complete());function mP(n){return n&&Ue(n.schedule)}function Tw(n){return n[n.length-1]}function _P(n){return Ue(Tw(n))?n.pop():void 0}function Vd(n){return mP(Tw(n))?n.pop():void 0}function Sg(n,e=0){return gt((t,r)=>{t.subscribe(tt(r,i=>Rs(r,n,()=>r.next(i),e),()=>Rs(r,n,()=>r.complete(),e),i=>Rs(r,n,()=>r.error(i),e)))})}function Dg(n,e=0){return gt((t,r)=>{r.add(n.schedule(()=>t.subscribe(r),e))})}function yP(n,e){if(!n)throw new Error("Iterable cannot be null");return new je(t=>{Rs(t,e,()=>{const r=n[Symbol.asyncIterator]();Rs(t,e,()=>{r.next().then(i=>{i.done?t.complete():t.next(i.value)})},0,!0)})})}function at(n,e){return e?function rQ(n,e){if(null!=n){if(lP(n))return function ZY(n,e){return An(n).pipe(Dg(e),Sg(e))}(n,e);if(Iw(n))return function eQ(n,e){return new je(t=>{let r=0;return e.schedule(function(){r===n.length?t.complete():(t.next(n[r++]),t.closed||this.schedule())})})}(n,e);if(aP(n))return function JY(n,e){return An(n).pipe(Dg(e),Sg(e))}(n,e);if(cP(n))return yP(n,e);if(hP(n))return function tQ(n,e){return new je(t=>{let r;return Rs(t,e,()=>{r=n[dP](),Rs(t,e,()=>{let i,s;try{({value:i,done:s}=r.next())}catch(o){return void t.error(o)}s?t.complete():t.next(i)},0,!0)}),()=>Ue(r?.return)&&r.return()})}(n,e);if(pP(n))return function nQ(n,e){return yP(fP(n),e)}(n,e)}throw uP(n)}(n,e):An(n)}function vc(...n){const e=Vd(n),t=function XY(n,e){return"number"==typeof Tw(n)?n.pop():e}(n,1/0),r=n;return r.length?1===r.length?An(r[0]):yc(t)(at(r,e)):Ki}function vP(n={}){const{connector:e=(()=>new Fe),resetOnError:t=!0,resetOnComplete:r=!0,resetOnRefCountZero:i=!0}=n;return s=>{let o,a,l,c=0,u=!1,d=!1;const h=()=>{a?.unsubscribe(),a=void 0},f=()=>{h(),o=l=void 0,u=d=!1},p=()=>{const g=o;f(),g?.unsubscribe()};return gt((g,m)=>{c++,!d&&!u&&h();const v=l=l??e();m.add(()=>{c--,0===c&&!d&&!u&&(a=Sw(p,i))}),v.subscribe(m),!o&&c>0&&(o=new Ld({next:C=>v.next(C),error:C=>{d=!0,h(),a=Sw(f,t,C),v.error(C)},complete:()=>{u=!0,h(),a=Sw(f,r),v.complete()}}),An(g).subscribe(o))})(s)}}function Sw(n,e,...t){if(!0===e)return void n();if(!1===e)return;const r=new Ld({next:()=>{r.unsubscribe(),n()}});return e(...t).subscribe(r)}function rt(n){for(let e in n)if(n[e]===rt)return e;throw Error("Could not find renamed property on target object.")}function Dw(n,e){for(const t in e)e.hasOwnProperty(t)&&!n.hasOwnProperty(t)&&(n[t]=e[t])}function it(n){if("string"==typeof n)return n;if(Array.isArray(n))return"["+n.map(it).join(", ")+"]";if(null==n)return""+n;if(n.overriddenName)return`${n.overriddenName}`;if(n.name)return`${n.name}`;const e=n.toString();if(null==e)return""+e;const t=e.indexOf("\n");return-1===t?e:e.substring(0,t)}function Aw(n,e){return null==n||""===n?null===e?"":e:null==e||""===e?n:n+" "+e}const iQ=rt({__forward_ref__:rt});function lt(n){return n.__forward_ref__=lt,n.toString=function(){return it(this())},n}function ae(n){return Mw(n)?n():n}function Mw(n){return"function"==typeof n&&n.hasOwnProperty(iQ)&&n.__forward_ref__===lt}class M extends Error{constructor(e,t){super(function Ag(n,e){return`NG0${Math.abs(n)}${e?": "+e.trim():""}`}(e,t)),this.code=e}}function pe(n){return"string"==typeof n?n:null==n?"":String(n)}function Mg(n,e){throw new M(-201,!1)}function Or(n,e){null==n&&function Ye(n,e,t,r){throw new Error(`ASSERTION ERROR: ${n}`+(null==r?"":` [Expected=> ${t} ${r} ${e} <=Actual]`))}(e,n,null,"!=")}function F(n){return{token:n.token,providedIn:n.providedIn||null,factory:n.factory,value:void 0}}function ce(n){return{providers:n.providers||[],imports:n.imports||[]}}function xg(n){return bP(n,kg)||bP(n,CP)}function bP(n,e){return n.hasOwnProperty(e)?n[e]:null}function wP(n){return n&&(n.hasOwnProperty(xw)||n.hasOwnProperty(fQ))?n[xw]:null}const kg=rt({\u0275prov:rt}),xw=rt({\u0275inj:rt}),CP=rt({ngInjectableDef:rt}),fQ=rt({ngInjectorDef:rt});var te=(()=>((te=te||{})[te.Default=0]="Default",te[te.Host=1]="Host",te[te.Self=2]="Self",te[te.SkipSelf=4]="SkipSelf",te[te.Optional=8]="Optional",te))();let kw;function oi(n){const e=kw;return kw=n,e}function EP(n,e,t){const r=xg(n);return r&&"root"==r.providedIn?void 0===r.value?r.value=r.factory():r.value:t&te.Optional?null:void 0!==e?e:void Mg(it(n))}function No(n){return{toString:n}.toString()}var Ci=(()=>((Ci=Ci||{})[Ci.OnPush=0]="OnPush",Ci[Ci.Default=1]="Default",Ci))(),Ei=(()=>{return(n=Ei||(Ei={}))[n.Emulated=0]="Emulated",n[n.None=2]="None",n[n.ShadowDom=3]="ShadowDom",Ei;var n})();const ct=(()=>typeof globalThis<"u"&&globalThis||typeof global<"u"&&global||typeof window<"u"&&window||typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self)(),bc={},We=[],Rg=rt({\u0275cmp:rt}),Rw=rt({\u0275dir:rt}),Nw=rt({\u0275pipe:rt}),IP=rt({\u0275mod:rt}),Ps=rt({\u0275fac:rt}),Bd=rt({__NG_ELEMENT_ID__:rt});let gQ=0;function Qe(n){return No(()=>{const t=!0===n.standalone,r={},i={type:n.type,providersResolver:null,decls:n.decls,vars:n.vars,factory:null,template:n.template||null,consts:n.consts||null,ngContentSelectors:n.ngContentSelectors,hostBindings:n.hostBindings||null,hostVars:n.hostVars||0,hostAttrs:n.hostAttrs||null,contentQueries:n.contentQueries||null,declaredInputs:r,inputs:null,outputs:null,exportAs:n.exportAs||null,onPush:n.changeDetection===Ci.OnPush,directiveDefs:null,pipeDefs:null,standalone:t,dependencies:t&&n.dependencies||null,getStandaloneInjector:null,selectors:n.selectors||We,viewQuery:n.viewQuery||null,features:n.features||null,data:n.data||{},encapsulation:n.encapsulation||Ei.Emulated,id:"c"+gQ++,styles:n.styles||We,_:null,setInput:null,schemas:n.schemas||null,tView:null},s=n.dependencies,o=n.features;return i.inputs=DP(n.inputs,r),i.outputs=DP(n.outputs),o&&o.forEach(a=>a(i)),i.directiveDefs=s?()=>("function"==typeof s?s():s).map(TP).filter(SP):null,i.pipeDefs=s?()=>("function"==typeof s?s():s).map(ir).filter(SP):null,i})}function TP(n){return Je(n)||rr(n)}function SP(n){return null!==n}function ue(n){return No(()=>({type:n.type,bootstrap:n.bootstrap||We,declarations:n.declarations||We,imports:n.imports||We,exports:n.exports||We,transitiveCompileScopes:null,schemas:n.schemas||null,id:n.id||null}))}function DP(n,e){if(null==n)return bc;const t={};for(const r in n)if(n.hasOwnProperty(r)){let i=n[r],s=i;Array.isArray(i)&&(s=i[1],i=i[0]),t[i]=r,e&&(e[i]=s)}return t}const q=Qe;function jn(n){return{type:n.type,name:n.name,factory:null,pure:!1!==n.pure,standalone:!0===n.standalone,onDestroy:n.type.prototype.ngOnDestroy||null}}function Je(n){return n[Rg]||null}function rr(n){return n[Rw]||null}function ir(n){return n[Nw]||null}function Fr(n,e){const t=n[IP]||null;if(!t&&!0===e)throw new Error(`Type ${it(n)} does not have '\u0275mod' property.`);return t}function wr(n){return Array.isArray(n)&&"object"==typeof n[1]}function Ti(n){return Array.isArray(n)&&!0===n[1]}function Fw(n){return 0!=(8&n.flags)}function Fg(n){return 2==(2&n.flags)}function Lg(n){return 1==(1&n.flags)}function Si(n){return null!==n.template}function wQ(n){return 0!=(256&n[2])}function ja(n,e){return n.hasOwnProperty(Ps)?n[Ps]:null}class IQ{constructor(e,t,r){this.previousValue=e,this.currentValue=t,this.firstChange=r}isFirstChange(){return this.firstChange}}function sr(){return xP}function xP(n){return n.type.prototype.ngOnChanges&&(n.setInput=SQ),TQ}function TQ(){const n=RP(this),e=n?.current;if(e){const t=n.previous;if(t===bc)n.previous=e;else for(let r in e)t[r]=e[r];n.current=null,this.ngOnChanges(e)}}function SQ(n,e,t,r){const i=RP(n)||function DQ(n,e){return n[kP]=e}(n,{previous:bc,current:null}),s=i.current||(i.current={}),o=i.previous,a=this.declaredInputs[t],l=o[a];s[a]=new IQ(l&&l.currentValue,e,o===bc),n[r]=e}sr.ngInherit=!0;const kP="__ngSimpleChanges__";function RP(n){return n[kP]||null}function Yt(n){for(;Array.isArray(n);)n=n[0];return n}function Vg(n,e){return Yt(e[n])}function Vr(n,e){return Yt(e[n.index])}function $w(n,e){return n.data[e]}function Tc(n,e){return n[e]}function Br(n,e){const t=e[n];return wr(t)?t:t[0]}function Bg(n){return 64==(64&n[2])}function Po(n,e){return null==e?null:n[e]}function NP(n){n[18]=0}function jw(n,e){n[5]+=e;let t=n,r=n[3];for(;null!==r&&(1===e&&1===t[5]||-1===e&&0===t[5]);)r[5]+=e,t=r,r=r[3]}const de={lFrame:HP(null),bindingsEnabled:!0};function OP(){return de.bindingsEnabled}function x(){return de.lFrame.lView}function Le(){return de.lFrame.tView}function Ut(n){return de.lFrame.contextLView=n,n[8]}function $t(n){return de.lFrame.contextLView=null,n}function sn(){let n=FP();for(;null!==n&&64===n.type;)n=n.parent;return n}function FP(){return de.lFrame.currentTNode}function Yi(n,e){const t=de.lFrame;t.currentTNode=n,t.isParent=e}function Hw(){return de.lFrame.isParent}function zw(){de.lFrame.isParent=!1}function or(){const n=de.lFrame;let e=n.bindingRootIndex;return-1===e&&(e=n.bindingRootIndex=n.tView.bindingStartIndex),e}function Sc(){return de.lFrame.bindingIndex++}function Fs(n){const e=de.lFrame,t=e.bindingIndex;return e.bindingIndex=e.bindingIndex+n,t}function jQ(n,e){const t=de.lFrame;t.bindingIndex=t.bindingRootIndex=n,Gw(e)}function Gw(n){de.lFrame.currentDirectiveIndex=n}function UP(){return de.lFrame.currentQueryIndex}function qw(n){de.lFrame.currentQueryIndex=n}function zQ(n){const e=n[1];return 2===e.type?e.declTNode:1===e.type?n[6]:null}function $P(n,e,t){if(t&te.SkipSelf){let i=e,s=n;for(;!(i=i.parent,null!==i||t&te.Host||(i=zQ(s),null===i||(s=s[15],10&i.type))););if(null===i)return!1;e=i,n=s}const r=de.lFrame=jP();return r.currentTNode=e,r.lView=n,!0}function Kw(n){const e=jP(),t=n[1];de.lFrame=e,e.currentTNode=t.firstChild,e.lView=n,e.tView=t,e.contextLView=n,e.bindingIndex=t.bindingStartIndex,e.inI18n=!1}function jP(){const n=de.lFrame,e=null===n?null:n.child;return null===e?HP(n):e}function HP(n){const e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:n,child:null,inI18n:!1};return null!==n&&(n.child=e),e}function zP(){const n=de.lFrame;return de.lFrame=n.parent,n.currentTNode=null,n.lView=null,n}const GP=zP;function Yw(){const n=zP();n.isParent=!0,n.tView=null,n.selectedIndex=-1,n.contextLView=null,n.elementDepthCount=0,n.currentDirectiveIndex=-1,n.currentNamespace=null,n.bindingRootIndex=-1,n.bindingIndex=-1,n.currentQueryIndex=0}function ar(){return de.lFrame.selectedIndex}function Oo(n){de.lFrame.selectedIndex=n}function Ct(){const n=de.lFrame;return $w(n.tView,n.selectedIndex)}function Ug(n,e){for(let t=e.directiveStart,r=e.directiveEnd;t<r;t++){const s=n.data[t].type.prototype,{ngAfterContentInit:o,ngAfterContentChecked:a,ngAfterViewInit:l,ngAfterViewChecked:c,ngOnDestroy:u}=s;o&&(n.contentHooks||(n.contentHooks=[])).push(-t,o),a&&((n.contentHooks||(n.contentHooks=[])).push(t,a),(n.contentCheckHooks||(n.contentCheckHooks=[])).push(t,a)),l&&(n.viewHooks||(n.viewHooks=[])).push(-t,l),c&&((n.viewHooks||(n.viewHooks=[])).push(t,c),(n.viewCheckHooks||(n.viewCheckHooks=[])).push(t,c)),null!=u&&(n.destroyHooks||(n.destroyHooks=[])).push(t,u)}}function $g(n,e,t){qP(n,e,3,t)}function jg(n,e,t,r){(3&n[2])===t&&qP(n,e,t,r)}function Qw(n,e){let t=n[2];(3&t)===e&&(t&=2047,t+=1,n[2]=t)}function qP(n,e,t,r){const s=r??-1,o=e.length-1;let a=0;for(let l=void 0!==r?65535&n[18]:0;l<o;l++)if("number"==typeof e[l+1]){if(a=e[l],null!=r&&a>=r)break}else e[l]<0&&(n[18]+=65536),(a<s||-1==s)&&(ZQ(n,t,e,l),n[18]=(4294901760&n[18])+l+2),l++}function ZQ(n,e,t,r){const i=t[r]<0,s=t[r+1],a=n[i?-t[r]:t[r]];if(i){if(n[2]>>11<n[18]>>16&&(3&n[2])===e){n[2]+=2048;try{s.call(a)}finally{}}}else try{s.call(a)}finally{}}class Gd{constructor(e,t,r){this.factory=e,this.resolving=!1,this.canSeeViewProviders=t,this.injectImpl=r}}function Hg(n,e,t){let r=0;for(;r<t.length;){const i=t[r];if("number"==typeof i){if(0!==i)break;r++;const s=t[r++],o=t[r++],a=t[r++];n.setAttribute(e,o,a,s)}else{const s=i,o=t[++r];YP(s)?n.setProperty(e,s,o):n.setAttribute(e,s,o),r++}}return r}function KP(n){return 3===n||4===n||6===n}function YP(n){return 64===n.charCodeAt(0)}function zg(n,e){if(null!==e&&0!==e.length)if(null===n||0===n.length)n=e.slice();else{let t=-1;for(let r=0;r<e.length;r++){const i=e[r];"number"==typeof i?t=i:0===t||QP(n,t,i,null,-1===t||2===t?e[++r]:null)}}return n}function QP(n,e,t,r,i){let s=0,o=n.length;if(-1===e)o=-1;else for(;s<n.length;){const a=n[s++];if("number"==typeof a){if(a===e){o=-1;break}if(a>e){o=s-1;break}}}for(;s<n.length;){const a=n[s];if("number"==typeof a)break;if(a===t){if(null===r)return void(null!==i&&(n[s+1]=i));if(r===n[s+1])return void(n[s+2]=i)}s++,null!==r&&s++,null!==i&&s++}-1!==o&&(n.splice(o,0,e),s=o+1),n.splice(s++,0,t),null!==r&&n.splice(s++,0,r),null!==i&&n.splice(s++,0,i)}function XP(n){return-1!==n}function Dc(n){return 32767&n}function Ac(n,e){let t=function r9(n){return n>>16}(n),r=e;for(;t>0;)r=r[15],t--;return r}let Zw=!0;function Gg(n){const e=Zw;return Zw=n,e}let i9=0;const Qi={};function qd(n,e){const t=eC(n,e);if(-1!==t)return t;const r=e[1];r.firstCreatePass&&(n.injectorIndex=e.length,Jw(r.data,n),Jw(e,null),Jw(r.blueprint,null));const i=Wg(n,e),s=n.injectorIndex;if(XP(i)){const o=Dc(i),a=Ac(i,e),l=a[1].data;for(let c=0;c<8;c++)e[s+c]=a[o+c]|l[o+c]}return e[s+8]=i,s}function Jw(n,e){n.push(0,0,0,0,0,0,0,0,e)}function eC(n,e){return-1===n.injectorIndex||n.parent&&n.parent.injectorIndex===n.injectorIndex||null===e[n.injectorIndex+8]?-1:n.injectorIndex}function Wg(n,e){if(n.parent&&-1!==n.parent.injectorIndex)return n.parent.injectorIndex;let t=0,r=null,i=e;for(;null!==i;){if(r=oO(i),null===r)return-1;if(t++,i=i[15],-1!==r.injectorIndex)return r.injectorIndex|t<<16}return-1}function qg(n,e,t){!function s9(n,e,t){let r;"string"==typeof t?r=t.charCodeAt(0)||0:t.hasOwnProperty(Bd)&&(r=t[Bd]),null==r&&(r=t[Bd]=i9++);const i=255&r;e.data[n+(i>>5)]|=1<<i}(n,e,t)}function eO(n,e,t){if(t&te.Optional||void 0!==n)return n;Mg()}function tO(n,e,t,r){if(t&te.Optional&&void 0===r&&(r=null),0==(t&(te.Self|te.Host))){const i=n[9],s=oi(void 0);try{return i?i.get(e,r,t&te.Optional):EP(e,r,t&te.Optional)}finally{oi(s)}}return eO(r,0,t)}function nO(n,e,t,r=te.Default,i){if(null!==n){if(1024&e[2]){const o=function u9(n,e,t,r,i){let s=n,o=e;for(;null!==s&&null!==o&&1024&o[2]&&!(256&o[2]);){const a=rO(s,o,t,r|te.Self,Qi);if(a!==Qi)return a;let l=s.parent;if(!l){const c=o[21];if(c){const u=c.get(t,Qi,r);if(u!==Qi)return u}l=oO(o),o=o[15]}s=l}return i}(n,e,t,r,Qi);if(o!==Qi)return o}const s=rO(n,e,t,r,Qi);if(s!==Qi)return s}return tO(e,t,r,i)}function rO(n,e,t,r,i){const s=function l9(n){if("string"==typeof n)return n.charCodeAt(0)||0;const e=n.hasOwnProperty(Bd)?n[Bd]:void 0;return"number"==typeof e?e>=0?255&e:c9:e}(t);if("function"==typeof s){if(!$P(e,n,r))return r&te.Host?eO(i,0,r):tO(e,t,r,i);try{const o=s(r);if(null!=o||r&te.Optional)return o;Mg()}finally{GP()}}else if("number"==typeof s){let o=null,a=eC(n,e),l=-1,c=r&te.Host?e[16][6]:null;for((-1===a||r&te.SkipSelf)&&(l=-1===a?Wg(n,e):e[a+8],-1!==l&&sO(r,!1)?(o=e[1],a=Dc(l),e=Ac(l,e)):a=-1);-1!==a;){const u=e[1];if(iO(s,a,u.data)){const d=a9(a,e,t,o,r,c);if(d!==Qi)return d}l=e[a+8],-1!==l&&sO(r,e[1].data[a+8]===c)&&iO(s,a,e)?(o=u,a=Dc(l),e=Ac(l,e)):a=-1}}return i}function a9(n,e,t,r,i,s){const o=e[1],a=o.data[n+8],u=Kg(a,o,t,null==r?Fg(a)&&Zw:r!=o&&0!=(3&a.type),i&te.Host&&s===a);return null!==u?Kd(e,o,u,a):Qi}function Kg(n,e,t,r,i){const s=n.providerIndexes,o=e.data,a=1048575&s,l=n.directiveStart,u=s>>20,h=i?a+u:n.directiveEnd;for(let f=r?a:a+u;f<h;f++){const p=o[f];if(f<l&&t===p||f>=l&&p.type===t)return f}if(i){const f=o[l];if(f&&Si(f)&&f.type===t)return l}return null}function Kd(n,e,t,r){let i=n[t];const s=e.data;if(function JQ(n){return n instanceof Gd}(i)){const o=i;o.resolving&&function sQ(n,e){const t=e?`. Dependency path: ${e.join(" > ")} > ${n}`:"";throw new M(-200,`Circular dependency in DI detected for ${n}${t}`)}(function Ge(n){return"function"==typeof n?n.name||n.toString():"object"==typeof n&&null!=n&&"function"==typeof n.type?n.type.name||n.type.toString():pe(n)}(s[t]));const a=Gg(o.canSeeViewProviders);o.resolving=!0;const l=o.injectImpl?oi(o.injectImpl):null;$P(n,r,te.Default);try{i=n[t]=o.factory(void 0,s,n,r),e.firstCreatePass&&t>=r.directiveStart&&function XQ(n,e,t){const{ngOnChanges:r,ngOnInit:i,ngDoCheck:s}=e.type.prototype;if(r){const o=xP(e);(t.preOrderHooks||(t.preOrderHooks=[])).push(n,o),(t.preOrderCheckHooks||(t.preOrderCheckHooks=[])).push(n,o)}i&&(t.preOrderHooks||(t.preOrderHooks=[])).push(0-n,i),s&&((t.preOrderHooks||(t.preOrderHooks=[])).push(n,s),(t.preOrderCheckHooks||(t.preOrderCheckHooks=[])).push(n,s))}(t,s[t],e)}finally{null!==l&&oi(l),Gg(a),o.resolving=!1,GP()}}return i}function iO(n,e,t){return!!(t[e+(n>>5)]&1<<n)}function sO(n,e){return!(n&te.Self||n&te.Host&&e)}class Mc{constructor(e,t){this._tNode=e,this._lView=t}get(e,t,r){return nO(this._tNode,this._lView,e,r,t)}}function c9(){return new Mc(sn(),x())}function Mn(n){return No(()=>{const e=n.prototype.constructor,t=e[Ps]||tC(e),r=Object.prototype;let i=Object.getPrototypeOf(n.prototype).constructor;for(;i&&i!==r;){const s=i[Ps]||tC(i);if(s&&s!==t)return s;i=Object.getPrototypeOf(i)}return s=>new s})}function tC(n){return Mw(n)?()=>{const e=tC(ae(n));return e&&e()}:ja(n)}function oO(n){const e=n[1],t=e.type;return 2===t?e.declTNode:1===t?n[6]:null}function Ha(n){return function o9(n,e){if("class"===e)return n.classes;if("style"===e)return n.styles;const t=n.attrs;if(t){const r=t.length;let i=0;for(;i<r;){const s=t[i];if(KP(s))break;if(0===s)i+=2;else if("number"==typeof s)for(i++;i<r&&"string"==typeof t[i];)i++;else{if(s===e)return t[i+1];i+=2}}}return null}(sn(),n)}const kc="__parameters__";function Nc(n,e,t){return No(()=>{const r=function nC(n){return function(...t){if(n){const r=n(...t);for(const i in r)this[i]=r[i]}}}(e);function i(...s){if(this instanceof i)return r.apply(this,s),this;const o=new i(...s);return a.annotation=o,a;function a(l,c,u){const d=l.hasOwnProperty(kc)?l[kc]:Object.defineProperty(l,kc,{value:[]})[kc];for(;d.length<=u;)d.push(null);return(d[u]=d[u]||[]).push(o),l}}return t&&(i.prototype=Object.create(t.prototype)),i.prototype.ngMetadataName=n,i.annotationCls=i,i})}class P{constructor(e,t){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof t?this.__NG_ELEMENT_ID__=t:void 0!==t&&(this.\u0275prov=F({token:this,providedIn:t.providedIn||"root",factory:t.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function Ur(n,e){void 0===e&&(e=n);for(let t=0;t<n.length;t++){let r=n[t];Array.isArray(r)?(e===n&&(e=n.slice(0,t)),Ur(r,e)):e!==n&&e.push(r)}return e}function Ls(n,e){n.forEach(t=>Array.isArray(t)?Ls(t,e):e(t))}function lO(n,e,t){e>=n.length?n.push(t):n.splice(e,0,t)}function Yg(n,e){return e>=n.length-1?n.pop():n.splice(e,1)[0]}function Xd(n,e){const t=[];for(let r=0;r<n;r++)t.push(e);return t}function $r(n,e,t){let r=Pc(n,e);return r>=0?n[1|r]=t:(r=~r,function p9(n,e,t,r){let i=n.length;if(i==e)n.push(t,r);else if(1===i)n.push(r,n[0]),n[0]=t;else{for(i--,n.push(n[i-1],n[i]);i>e;)n[i]=n[i-2],i--;n[e]=t,n[e+1]=r}}(n,r,e,t)),r}function iC(n,e){const t=Pc(n,e);if(t>=0)return n[1|t]}function Pc(n,e){return function dO(n,e,t){let r=0,i=n.length>>t;for(;i!==r;){const s=r+(i-r>>1),o=n[s<<t];if(e===o)return s<<t;o>e?i=s:r=s+1}return~(i<<t)}(n,e,1)}const Zd={},oC="__NG_DI_FLAG__",Xg="ngTempTokenPath",C9=/\n/gm,hO="__source";let Jd;function Oc(n){const e=Jd;return Jd=n,e}function I9(n,e=te.Default){if(void 0===Jd)throw new M(-203,!1);return null===Jd?EP(n,void 0,e):Jd.get(n,e&te.Optional?null:void 0,e)}function w(n,e=te.Default){return(function pQ(){return kw}()||I9)(ae(n),e)}function yt(n,e=te.Default){return"number"!=typeof e&&(e=0|(e.optional&&8)|(e.host&&1)|(e.self&&2)|(e.skipSelf&&4)),w(n,e)}function aC(n){const e=[];for(let t=0;t<n.length;t++){const r=ae(n[t]);if(Array.isArray(r)){if(0===r.length)throw new M(900,!1);let i,s=te.Default;for(let o=0;o<r.length;o++){const a=r[o],l=T9(a);"number"==typeof l?-1===l?i=a.token:s|=l:i=a}e.push(w(i,s))}else e.push(w(r))}return e}function eh(n,e){return n[oC]=e,n.prototype[oC]=e,n}function T9(n){return n[oC]}const Ce=eh(Nc("Optional"),8),Fc=eh(Nc("SkipSelf"),4);var Cr=(()=>((Cr=Cr||{})[Cr.Important=1]="Important",Cr[Cr.DashCase=2]="DashCase",Cr))();const hC=new Map;let H9=0;const pC="__ngContext__";function Gn(n,e){wr(e)?(n[pC]=e[20],function G9(n){hC.set(n[20],n)}(e)):n[pC]=e}function mC(n,e){return undefined(n,e)}function ih(n){const e=n[3];return Ti(e)?e[3]:e}function _C(n){return NO(n[13])}function yC(n){return NO(n[4])}function NO(n){for(;null!==n&&!Ti(n);)n=n[4];return n}function Vc(n,e,t,r,i){if(null!=r){let s,o=!1;Ti(r)?s=r:wr(r)&&(o=!0,r=r[0]);const a=Yt(r);0===n&&null!==t?null==i?BO(e,t,a):za(e,t,a,i||null,!0):1===n&&null!==t?za(e,t,a,i||null,!0):2===n?function TC(n,e,t){const r=em(n,e);r&&function fX(n,e,t,r){n.removeChild(e,t,r)}(n,r,e,t)}(e,a,o):3===n&&e.destroyNode(a),null!=s&&function mX(n,e,t,r,i){const s=t[7];s!==Yt(t)&&Vc(e,n,r,s,i);for(let a=10;a<t.length;a++){const l=t[a];sh(l[1],l,n,e,r,s)}}(e,n,s,t,i)}}function bC(n,e,t){return n.createElement(e,t)}function OO(n,e){const t=n[9],r=t.indexOf(e),i=e[3];512&e[2]&&(e[2]&=-513,jw(i,-1)),t.splice(r,1)}function wC(n,e){if(n.length<=10)return;const t=10+e,r=n[t];if(r){const i=r[17];null!==i&&i!==n&&OO(i,r),e>0&&(n[t-1][4]=r[4]);const s=Yg(n,10+e);!function sX(n,e){sh(n,e,e[11],2,null,null),e[0]=null,e[6]=null}(r[1],r);const o=s[19];null!==o&&o.detachView(s[1]),r[3]=null,r[4]=null,r[2]&=-65}return r}function FO(n,e){if(!(128&e[2])){const t=e[11];t.destroyNode&&sh(n,e,t,3,null,null),function lX(n){let e=n[13];if(!e)return CC(n[1],n);for(;e;){let t=null;if(wr(e))t=e[13];else{const r=e[10];r&&(t=r)}if(!t){for(;e&&!e[4]&&e!==n;)wr(e)&&CC(e[1],e),e=e[3];null===e&&(e=n),wr(e)&&CC(e[1],e),t=e&&e[4]}e=t}}(e)}}function CC(n,e){if(!(128&e[2])){e[2]&=-65,e[2]|=128,function hX(n,e){let t;if(null!=n&&null!=(t=n.destroyHooks))for(let r=0;r<t.length;r+=2){const i=e[t[r]];if(!(i instanceof Gd)){const s=t[r+1];if(Array.isArray(s))for(let o=0;o<s.length;o+=2){const a=i[s[o]],l=s[o+1];try{l.call(a)}finally{}}else try{s.call(i)}finally{}}}}(n,e),function dX(n,e){const t=n.cleanup,r=e[7];let i=-1;if(null!==t)for(let s=0;s<t.length-1;s+=2)if("string"==typeof t[s]){const o=t[s+1],a="function"==typeof o?o(e):Yt(e[o]),l=r[i=t[s+2]],c=t[s+3];"boolean"==typeof c?a.removeEventListener(t[s],l,c):c>=0?r[i=c]():r[i=-c].unsubscribe(),s+=2}else{const o=r[i=t[s+1]];t[s].call(o)}if(null!==r){for(let s=i+1;s<r.length;s++)(0,r[s])();e[7]=null}}(n,e),1===e[1].type&&e[11].destroy();const t=e[17];if(null!==t&&Ti(e[3])){t!==e[3]&&OO(t,e);const r=e[19];null!==r&&r.detachView(n)}!function W9(n){hC.delete(n[20])}(e)}}function LO(n,e,t){return function VO(n,e,t){let r=e;for(;null!==r&&40&r.type;)r=(e=r).parent;if(null===r)return t[0];if(2&r.flags){const i=n.data[r.directiveStart].encapsulation;if(i===Ei.None||i===Ei.Emulated)return null}return Vr(r,t)}(n,e.parent,t)}function za(n,e,t,r,i){n.insertBefore(e,t,r,i)}function BO(n,e,t){n.appendChild(e,t)}function UO(n,e,t,r,i){null!==r?za(n,e,t,r,i):BO(n,e,t)}function em(n,e){return n.parentNode(e)}function $O(n,e,t){return HO(n,e,t)}let rm,MC,im,HO=function jO(n,e,t){return 40&n.type?Vr(n,t):null};function tm(n,e,t,r){const i=LO(n,r,e),s=e[11],a=$O(r.parent||e[6],r,e);if(null!=i)if(Array.isArray(t))for(let l=0;l<t.length;l++)UO(s,i,t[l],a,!1);else UO(s,i,t,a,!1)}function nm(n,e){if(null!==e){const t=e.type;if(3&t)return Vr(e,n);if(4&t)return IC(-1,n[e.index]);if(8&t){const r=e.child;if(null!==r)return nm(n,r);{const i=n[e.index];return Ti(i)?IC(-1,i):Yt(i)}}if(32&t)return mC(e,n)()||Yt(n[e.index]);{const r=GO(n,e);return null!==r?Array.isArray(r)?r[0]:nm(ih(n[16]),r):nm(n,e.next)}}return null}function GO(n,e){return null!==e?n[16][6].projection[e.projection]:null}function IC(n,e){const t=10+n+1;if(t<e.length){const r=e[t],i=r[1].firstChild;if(null!==i)return nm(r,i)}return e[7]}function SC(n,e,t,r,i,s,o){for(;null!=t;){const a=r[t.index],l=t.type;if(o&&0===e&&(a&&Gn(Yt(a),r),t.flags|=4),64!=(64&t.flags))if(8&l)SC(n,e,t.child,r,i,s,!1),Vc(e,n,i,a,s);else if(32&l){const c=mC(t,r);let u;for(;u=c();)Vc(e,n,i,u,s);Vc(e,n,i,a,s)}else 16&l?WO(n,e,r,t,i,s):Vc(e,n,i,a,s);t=o?t.projectionNext:t.next}}function sh(n,e,t,r,i,s){SC(t,r,n.firstChild,e,i,s,!1)}function WO(n,e,t,r,i,s){const o=t[16],l=o[6].projection[r.projection];if(Array.isArray(l))for(let c=0;c<l.length;c++)Vc(e,n,i,l[c],s);else SC(n,e,l,o[3],i,s,!0)}function qO(n,e,t){n.setAttribute(e,"style",t)}function DC(n,e,t){""===t?n.removeAttribute(e,"class"):n.setAttribute(e,"class",t)}function Ga(n){return function AC(){if(void 0===rm&&(rm=null,ct.trustedTypes))try{rm=ct.trustedTypes.createPolicy("angular",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch{}return rm}()?.createHTML(n)||n}function YO(n){return function xC(){if(void 0===im&&(im=null,ct.trustedTypes))try{im=ct.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch{}return im}()?.createHTML(n)||n}class Wa{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}class CX extends Wa{getTypeName(){return"HTML"}}class EX extends Wa{getTypeName(){return"Style"}}class IX extends Wa{getTypeName(){return"Script"}}class TX extends Wa{getTypeName(){return"URL"}}class SX extends Wa{getTypeName(){return"ResourceURL"}}function jr(n){return n instanceof Wa?n.changingThisBreaksApplicationSecurity:n}function Xi(n,e){const t=function DX(n){return n instanceof Wa&&n.getTypeName()||null}(n);if(null!=t&&t!==e){if("ResourceURL"===t&&"URL"===e)return!0;throw new Error(`Required a safe ${e}, got a ${t} (see https://g.co/ng/security#xss)`)}return t===e}class NX{constructor(e){this.inertDocumentHelper=e}getInertBodyElement(e){e="<body><remove></remove>"+e;try{const t=(new window.DOMParser).parseFromString(Ga(e),"text/html").body;return null===t?this.inertDocumentHelper.getInertBodyElement(e):(t.removeChild(t.firstChild),t)}catch{return null}}}class PX{constructor(e){if(this.defaultDoc=e,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const t=this.inertDocument.createElement("html");this.inertDocument.appendChild(t);const r=this.inertDocument.createElement("body");t.appendChild(r)}}getInertBodyElement(e){const t=this.inertDocument.createElement("template");if("content"in t)return t.innerHTML=Ga(e),t;const r=this.inertDocument.createElement("body");return r.innerHTML=Ga(e),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(r),r}stripCustomNsAttrs(e){const t=e.attributes;for(let i=t.length-1;0<i;i--){const o=t.item(i).name;("xmlns:ns1"===o||0===o.indexOf("ns1:"))&&e.removeAttribute(o)}let r=e.firstChild;for(;r;)r.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(r),r=r.nextSibling}}const FX=/^(?:(?:https?|mailto|data|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi;function sm(n){return(n=String(n)).match(FX)?n:"unsafe:"+n}function Vs(n){const e={};for(const t of n.split(","))e[t]=!0;return e}function oh(...n){const e={};for(const t of n)for(const r in t)t.hasOwnProperty(r)&&(e[r]=!0);return e}const JO=Vs("area,br,col,hr,img,wbr"),eF=Vs("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),tF=Vs("rp,rt"),kC=oh(JO,oh(eF,Vs("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),oh(tF,Vs("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),oh(tF,eF)),RC=Vs("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),nF=oh(RC,Vs("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Vs("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),LX=Vs("script,style,template");class VX{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(e){let t=e.firstChild,r=!0;for(;t;)if(t.nodeType===Node.ELEMENT_NODE?r=this.startElement(t):t.nodeType===Node.TEXT_NODE?this.chars(t.nodeValue):this.sanitizedSomething=!0,r&&t.firstChild)t=t.firstChild;else for(;t;){t.nodeType===Node.ELEMENT_NODE&&this.endElement(t);let i=this.checkClobberedElement(t,t.nextSibling);if(i){t=i;break}t=this.checkClobberedElement(t,t.parentNode)}return this.buf.join("")}startElement(e){const t=e.nodeName.toLowerCase();if(!kC.hasOwnProperty(t))return this.sanitizedSomething=!0,!LX.hasOwnProperty(t);this.buf.push("<"),this.buf.push(t);const r=e.attributes;for(let i=0;i<r.length;i++){const s=r.item(i),o=s.name,a=o.toLowerCase();if(!nF.hasOwnProperty(a)){this.sanitizedSomething=!0;continue}let l=s.value;RC[a]&&(l=sm(l)),this.buf.push(" ",o,'="',rF(l),'"')}return this.buf.push(">"),!0}endElement(e){const t=e.nodeName.toLowerCase();kC.hasOwnProperty(t)&&!JO.hasOwnProperty(t)&&(this.buf.push("</"),this.buf.push(t),this.buf.push(">"))}chars(e){this.buf.push(rF(e))}checkClobberedElement(e,t){if(t&&(e.compareDocumentPosition(t)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${e.outerHTML}`);return t}}const BX=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,UX=/([^\#-~ |!])/g;function rF(n){return n.replace(/&/g,"&amp;").replace(BX,function(e){return"&#"+(1024*(e.charCodeAt(0)-55296)+(e.charCodeAt(1)-56320)+65536)+";"}).replace(UX,function(e){return"&#"+e.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let om;function iF(n,e){let t=null;try{om=om||function ZO(n){const e=new PX(n);return function OX(){try{return!!(new window.DOMParser).parseFromString(Ga(""),"text/html")}catch{return!1}}()?new NX(e):e}(n);let r=e?String(e):"";t=om.getInertBodyElement(r);let i=5,s=r;do{if(0===i)throw new Error("Failed to sanitize html because the input is unstable");i--,r=s,s=t.innerHTML,t=om.getInertBodyElement(r)}while(r!==s);return Ga((new VX).sanitizeChildren(NC(t)||t))}finally{if(t){const r=NC(t)||t;for(;r.firstChild;)r.removeChild(r.firstChild)}}}function NC(n){return"content"in n&&function $X(n){return n.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===n.nodeName}(n)?n.content:null}var qe=(()=>((qe=qe||{})[qe.NONE=0]="NONE",qe[qe.HTML=1]="HTML",qe[qe.STYLE=2]="STYLE",qe[qe.SCRIPT=3]="SCRIPT",qe[qe.URL=4]="URL",qe[qe.RESOURCE_URL=5]="RESOURCE_URL",qe))();function sF(n){const e=ah();return e?YO(e.sanitize(qe.HTML,n)||""):Xi(n,"HTML")?YO(jr(n)):iF(function KO(){return void 0!==MC?MC:typeof document<"u"?document:void 0}(),pe(n))}function qa(n){const e=ah();return e?e.sanitize(qe.URL,n)||"":Xi(n,"URL")?jr(n):sm(pe(n))}function ah(){const n=x();return n&&n[12]}const PC=new P("ENVIRONMENT_INITIALIZER"),aF=new P("INJECTOR",-1),lF=new P("INJECTOR_DEF_TYPES");class cF{get(e,t=Zd){if(t===Zd){const r=new Error(`NullInjectorError: No provider for ${it(e)}!`);throw r.name="NullInjectorError",r}return t}}function KX(...n){return{\u0275providers:uF(0,n)}}function uF(n,...e){const t=[],r=new Set;let i;return Ls(e,s=>{const o=s;OC(o,t,[],r)&&(i||(i=[]),i.push(o))}),void 0!==i&&dF(i,t),t}function dF(n,e){for(let t=0;t<n.length;t++){const{providers:i}=n[t];Ls(i,s=>{e.push(s)})}}function OC(n,e,t,r){if(!(n=ae(n)))return!1;let i=null,s=wP(n);const o=!s&&Je(n);if(s||o){if(o&&!o.standalone)return!1;i=n}else{const l=n.ngModule;if(s=wP(l),!s)return!1;i=l}const a=r.has(i);if(o){if(a)return!1;if(r.add(i),o.dependencies){const l="function"==typeof o.dependencies?o.dependencies():o.dependencies;for(const c of l)OC(c,e,t,r)}}else{if(!s)return!1;{if(null!=s.imports&&!a){let c;r.add(i);try{Ls(s.imports,u=>{OC(u,e,t,r)&&(c||(c=[]),c.push(u))})}finally{}void 0!==c&&dF(c,e)}if(!a){const c=ja(i)||(()=>new i);e.push({provide:i,useFactory:c,deps:We},{provide:lF,useValue:i,multi:!0},{provide:PC,useValue:()=>w(i),multi:!0})}const l=s.providers;null==l||a||Ls(l,u=>{e.push(u)})}}return i!==n&&void 0!==n.providers}const YX=rt({provide:String,useValue:rt});function FC(n){return null!==n&&"object"==typeof n&&YX in n}function Ka(n){return"function"==typeof n}const LC=new P("Set Injector scope."),am={},XX={};let VC;function lm(){return void 0===VC&&(VC=new cF),VC}class Lo{}class pF extends Lo{constructor(e,t,r,i){super(),this.parent=t,this.source=r,this.scopes=i,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,UC(e,o=>this.processProvider(o)),this.records.set(aF,Bc(void 0,this)),i.has("environment")&&this.records.set(Lo,Bc(void 0,this));const s=this.records.get(LC);null!=s&&"string"==typeof s.value&&this.scopes.add(s.value),this.injectorDefTypes=new Set(this.get(lF.multi,We,te.Self))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const e of this._ngOnDestroyHooks)e.ngOnDestroy();for(const e of this._onDestroyHooks)e()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),this._onDestroyHooks.length=0}}onDestroy(e){this._onDestroyHooks.push(e)}runInContext(e){this.assertNotDestroyed();const t=Oc(this),r=oi(void 0);try{return e()}finally{Oc(t),oi(r)}}get(e,t=Zd,r=te.Default){this.assertNotDestroyed();const i=Oc(this),s=oi(void 0);try{if(!(r&te.SkipSelf)){let a=this.records.get(e);if(void 0===a){const l=function nZ(n){return"function"==typeof n||"object"==typeof n&&n instanceof P}(e)&&xg(e);a=l&&this.injectableDefInScope(l)?Bc(BC(e),am):null,this.records.set(e,a)}if(null!=a)return this.hydrate(e,a)}return(r&te.Self?lm():this.parent).get(e,t=r&te.Optional&&t===Zd?null:t)}catch(o){if("NullInjectorError"===o.name){if((o[Xg]=o[Xg]||[]).unshift(it(e)),i)throw o;return function S9(n,e,t,r){const i=n[Xg];throw e[hO]&&i.unshift(e[hO]),n.message=function D9(n,e,t,r=null){n=n&&"\n"===n.charAt(0)&&"\u0275"==n.charAt(1)?n.slice(2):n;let i=it(e);if(Array.isArray(e))i=e.map(it).join(" -> ");else if("object"==typeof e){let s=[];for(let o in e)if(e.hasOwnProperty(o)){let a=e[o];s.push(o+":"+("string"==typeof a?JSON.stringify(a):it(a)))}i=`{${s.join(", ")}}`}return`${t}${r?"("+r+")":""}[${i}]: ${n.replace(C9,"\n  ")}`}("\n"+n.message,i,t,r),n.ngTokenPath=i,n[Xg]=null,n}(o,e,"R3InjectorError",this.source)}throw o}finally{oi(s),Oc(i)}}resolveInjectorInitializers(){const e=Oc(this),t=oi(void 0);try{const r=this.get(PC.multi,We,te.Self);for(const i of r)i()}finally{Oc(e),oi(t)}}toString(){const e=[],t=this.records;for(const r of t.keys())e.push(it(r));return`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new M(205,!1)}processProvider(e){let t=Ka(e=ae(e))?e:ae(e&&e.provide);const r=function JX(n){return FC(n)?Bc(void 0,n.useValue):Bc(gF(n),am)}(e);if(Ka(e)||!0!==e.multi)this.records.get(t);else{let i=this.records.get(t);i||(i=Bc(void 0,am,!0),i.factory=()=>aC(i.multi),this.records.set(t,i)),t=e,i.multi.push(e)}this.records.set(t,r)}hydrate(e,t){return t.value===am&&(t.value=XX,t.value=t.factory()),"object"==typeof t.value&&t.value&&function tZ(n){return null!==n&&"object"==typeof n&&"function"==typeof n.ngOnDestroy}(t.value)&&this._ngOnDestroyHooks.add(t.value),t.value}injectableDefInScope(e){if(!e.providedIn)return!1;const t=ae(e.providedIn);return"string"==typeof t?"any"===t||this.scopes.has(t):this.injectorDefTypes.has(t)}}function BC(n){const e=xg(n),t=null!==e?e.factory:ja(n);if(null!==t)return t;if(n instanceof P)throw new M(204,!1);if(n instanceof Function)return function ZX(n){const e=n.length;if(e>0)throw Xd(e,"?"),new M(204,!1);const t=function dQ(n){const e=n&&(n[kg]||n[CP]);if(e){const t=function hQ(n){if(n.hasOwnProperty("name"))return n.name;const e=(""+n).match(/^function\s*([^\s(]+)/);return null===e?"":e[1]}(n);return console.warn(`DEPRECATED: DI is instantiating a token "${t}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${t}" class.`),e}return null}(n);return null!==t?()=>t.factory(n):()=>new n}(n);throw new M(204,!1)}function gF(n,e,t){let r;if(Ka(n)){const i=ae(n);return ja(i)||BC(i)}if(FC(n))r=()=>ae(n.useValue);else if(function fF(n){return!(!n||!n.useFactory)}(n))r=()=>n.useFactory(...aC(n.deps||[]));else if(function hF(n){return!(!n||!n.useExisting)}(n))r=()=>w(ae(n.useExisting));else{const i=ae(n&&(n.useClass||n.provide));if(!function eZ(n){return!!n.deps}(n))return ja(i)||BC(i);r=()=>new i(...aC(n.deps))}return r}function Bc(n,e,t=!1){return{factory:n,value:e,multi:t?[]:void 0}}function rZ(n){return!!n.\u0275providers}function UC(n,e){for(const t of n)Array.isArray(t)?UC(t,e):rZ(t)?UC(t.\u0275providers,e):e(t)}class mF{}class oZ{resolveComponentFactory(e){throw function sZ(n){const e=Error(`No component factory found for ${it(n)}. Did you add it to @NgModule.entryComponents?`);return e.ngComponent=n,e}(e)}}let Vo=(()=>{class n{}return n.NULL=new oZ,n})();function aZ(){return Uc(sn(),x())}function Uc(n,e){return new et(Vr(n,e))}let et=(()=>{class n{constructor(t){this.nativeElement=t}}return n.__NG_ELEMENT_ID__=aZ,n})();function lZ(n){return n instanceof et?n.nativeElement:n}class lh{}let Di=(()=>{class n{}return n.__NG_ELEMENT_ID__=()=>function cZ(){const n=x(),t=Br(sn().index,n);return(wr(t)?t:n)[11]}(),n})(),uZ=(()=>{class n{}return n.\u0275prov=F({token:n,providedIn:"root",factory:()=>null}),n})();class Bs{constructor(e){this.full=e,this.major=e.split(".")[0],this.minor=e.split(".")[1],this.patch=e.split(".").slice(2).join(".")}}const yF=new Bs("14.2.12"),$C={};function HC(n){return n.ngOriginalError}class Us{constructor(){this._console=console}handleError(e){const t=this._findOriginalError(e);this._console.error("ERROR",e),t&&this._console.error("ORIGINAL ERROR",t)}_findOriginalError(e){let t=e&&HC(e);for(;t&&HC(t);)t=HC(t);return t||null}}function $s(n){return n instanceof Function?n():n}function bF(n,e,t){let r=n.length;for(;;){const i=n.indexOf(e,t);if(-1===i)return i;if(0===i||n.charCodeAt(i-1)<=32){const s=e.length;if(i+s===r||n.charCodeAt(i+s)<=32)return i}t=i+1}}const wF="ng-template";function wZ(n,e,t){let r=0;for(;r<n.length;){let i=n[r++];if(t&&"class"===i){if(i=n[r],-1!==bF(i.toLowerCase(),e,0))return!0}else if(1===i){for(;r<n.length&&"string"==typeof(i=n[r++]);)if(i.toLowerCase()===e)return!0;return!1}}return!1}function CF(n){return 4===n.type&&n.value!==wF}function CZ(n,e,t){return e===(4!==n.type||t?n.value:wF)}function EZ(n,e,t){let r=4;const i=n.attrs||[],s=function SZ(n){for(let e=0;e<n.length;e++)if(KP(n[e]))return e;return n.length}(i);let o=!1;for(let a=0;a<e.length;a++){const l=e[a];if("number"!=typeof l){if(!o)if(4&r){if(r=2|1&r,""!==l&&!CZ(n,l,t)||""===l&&1===e.length){if(Ai(r))return!1;o=!0}}else{const c=8&r?l:e[++a];if(8&r&&null!==n.attrs){if(!wZ(n.attrs,c,t)){if(Ai(r))return!1;o=!0}continue}const d=IZ(8&r?"class":l,i,CF(n),t);if(-1===d){if(Ai(r))return!1;o=!0;continue}if(""!==c){let h;h=d>s?"":i[d+1].toLowerCase();const f=8&r?h:null;if(f&&-1!==bF(f,c,0)||2&r&&c!==h){if(Ai(r))return!1;o=!0}}}}else{if(!o&&!Ai(r)&&!Ai(l))return!1;if(o&&Ai(l))continue;o=!1,r=l|1&r}}return Ai(r)||o}function Ai(n){return 0==(1&n)}function IZ(n,e,t,r){if(null===e)return-1;let i=0;if(r||!t){let s=!1;for(;i<e.length;){const o=e[i];if(o===n)return i;if(3===o||6===o)s=!0;else{if(1===o||2===o){let a=e[++i];for(;"string"==typeof a;)a=e[++i];continue}if(4===o)break;if(0===o){i+=4;continue}}i+=s?1:2}return-1}return function DZ(n,e){let t=n.indexOf(4);if(t>-1)for(t++;t<n.length;){const r=n[t];if("number"==typeof r)return-1;if(r===e)return t;t++}return-1}(e,n)}function EF(n,e,t=!1){for(let r=0;r<e.length;r++)if(EZ(n,e[r],t))return!0;return!1}function AZ(n,e){e:for(let t=0;t<e.length;t++){const r=e[t];if(n.length===r.length){for(let i=0;i<n.length;i++)if(n[i]!==r[i])continue e;return!0}}return!1}function IF(n,e){return n?":not("+e.trim()+")":e}function MZ(n){let e=n[0],t=1,r=2,i="",s=!1;for(;t<n.length;){let o=n[t];if("string"==typeof o)if(2&r){const a=n[++t];i+="["+o+(a.length>0?'="'+a+'"':"")+"]"}else 8&r?i+="."+o:4&r&&(i+=" "+o);else""!==i&&!Ai(o)&&(e+=IF(s,i),i=""),r=o,s=s||!Ai(r);t++}return""!==i&&(e+=IF(s,i)),e}const ge={};function N(n){TF(Le(),x(),ar()+n,!1)}function TF(n,e,t,r){if(!r)if(3==(3&e[2])){const s=n.preOrderCheckHooks;null!==s&&$g(e,s,t)}else{const s=n.preOrderHooks;null!==s&&jg(e,s,0,t)}Oo(t)}function MF(n,e=null,t=null,r){const i=xF(n,e,t,r);return i.resolveInjectorInitializers(),i}function xF(n,e=null,t=null,r,i=new Set){const s=[t||We,KX(n)];return r=r||("object"==typeof n?void 0:it(n)),new pF(s,e||lm(),r||null,i)}let Xe=(()=>{class n{static create(t,r){if(Array.isArray(t))return MF({name:""},r,t,"");{const i=t.name??"";return MF({name:i},t.parent,t.providers,i)}}}return n.THROW_IF_NOT_FOUND=Zd,n.NULL=new cF,n.\u0275prov=F({token:n,providedIn:"any",factory:()=>w(aF)}),n.__NG_ELEMENT_ID__=-1,n})();function b(n,e=te.Default){const t=x();return null===t?w(n,e):nO(sn(),t,ae(n),e)}function KC(){throw new Error("invalid")}function um(n,e){return n<<17|e<<2}function Mi(n){return n>>17&32767}function YC(n){return 2|n}function js(n){return(131068&n)>>2}function QC(n,e){return-131069&n|e<<2}function XC(n){return 1|n}function qF(n,e){const t=n.contentQueries;if(null!==t)for(let r=0;r<t.length;r+=2){const i=t[r],s=t[r+1];if(-1!==s){const o=n.data[s];qw(i),o.contentQueries(2,e[s],s)}}}function fm(n,e,t,r,i,s,o,a,l,c,u){const d=e.blueprint.slice();return d[0]=i,d[2]=76|r,(null!==u||n&&1024&n[2])&&(d[2]|=1024),NP(d),d[3]=d[15]=n,d[8]=t,d[10]=o||n&&n[10],d[11]=a||n&&n[11],d[12]=l||n&&n[12]||null,d[9]=c||n&&n[9]||null,d[6]=s,d[20]=function z9(){return H9++}(),d[21]=u,d[16]=2==e.type?n[16]:d,d}function Hc(n,e,t,r,i){let s=n.data[e];if(null===s)s=function sE(n,e,t,r,i){const s=FP(),o=Hw(),l=n.data[e]=function dJ(n,e,t,r,i,s){return{type:t,index:r,insertBeforeIndex:null,injectorIndex:e?e.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:i,attrs:s,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,o?s:s&&s.parent,t,e,r,i);return null===n.firstChild&&(n.firstChild=l),null!==s&&(o?null==s.child&&null!==l.parent&&(s.child=l):null===s.next&&(s.next=l)),l}(n,e,t,r,i),function $Q(){return de.lFrame.inI18n}()&&(s.flags|=64);else if(64&s.type){s.type=t,s.value=r,s.attrs=i;const o=function zd(){const n=de.lFrame,e=n.currentTNode;return n.isParent?e:e.parent}();s.injectorIndex=null===o?-1:o.injectorIndex}return Yi(s,!0),s}function zc(n,e,t,r){if(0===t)return-1;const i=e.length;for(let s=0;s<t;s++)e.push(r),n.blueprint.push(r),n.data.push(null);return i}function oE(n,e,t){Kw(e);try{const r=n.viewQuery;null!==r&&pE(1,r,t);const i=n.template;null!==i&&KF(n,e,i,1,t),n.firstCreatePass&&(n.firstCreatePass=!1),n.staticContentQueries&&qF(n,e),n.staticViewQueries&&pE(2,n.viewQuery,t);const s=n.components;null!==s&&function lJ(n,e){for(let t=0;t<e.length;t++)DJ(n,e[t])}(e,s)}catch(r){throw n.firstCreatePass&&(n.incompleteFirstPass=!0,n.firstCreatePass=!1),r}finally{e[2]&=-5,Yw()}}function pm(n,e,t,r){const i=e[2];if(128!=(128&i)){Kw(e);try{NP(e),function VP(n){return de.lFrame.bindingIndex=n}(n.bindingStartIndex),null!==t&&KF(n,e,t,2,r);const o=3==(3&i);if(o){const c=n.preOrderCheckHooks;null!==c&&$g(e,c,null)}else{const c=n.preOrderHooks;null!==c&&jg(e,c,0,null),Qw(e,0)}if(function TJ(n){for(let e=_C(n);null!==e;e=yC(e)){if(!e[2])continue;const t=e[9];for(let r=0;r<t.length;r++){const i=t[r],s=i[3];0==(512&i[2])&&jw(s,1),i[2]|=512}}}(e),function IJ(n){for(let e=_C(n);null!==e;e=yC(e))for(let t=10;t<e.length;t++){const r=e[t],i=r[1];Bg(r)&&pm(i,r,i.template,r[8])}}(e),null!==n.contentQueries&&qF(n,e),o){const c=n.contentCheckHooks;null!==c&&$g(e,c)}else{const c=n.contentHooks;null!==c&&jg(e,c,1),Qw(e,1)}!function oJ(n,e){const t=n.hostBindingOpCodes;if(null!==t)try{for(let r=0;r<t.length;r++){const i=t[r];if(i<0)Oo(~i);else{const s=i,o=t[++r],a=t[++r];jQ(o,s),a(2,e[s])}}}finally{Oo(-1)}}(n,e);const a=n.components;null!==a&&function aJ(n,e){for(let t=0;t<e.length;t++)SJ(n,e[t])}(e,a);const l=n.viewQuery;if(null!==l&&pE(2,l,r),o){const c=n.viewCheckHooks;null!==c&&$g(e,c)}else{const c=n.viewHooks;null!==c&&jg(e,c,2),Qw(e,2)}!0===n.firstUpdatePass&&(n.firstUpdatePass=!1),e[2]&=-41,512&e[2]&&(e[2]&=-513,jw(e[3],-1))}finally{Yw()}}}function KF(n,e,t,r,i){const s=ar(),o=2&r;try{Oo(-1),o&&e.length>22&&TF(n,e,22,!1),t(r,i)}finally{Oo(s)}}function YF(n,e,t){if(Fw(e)){const i=e.directiveEnd;for(let s=e.directiveStart;s<i;s++){const o=n.data[s];o.contentQueries&&o.contentQueries(1,t[s],s)}}}function aE(n,e,t){!OP()||(function mJ(n,e,t,r){const i=t.directiveStart,s=t.directiveEnd;n.firstCreatePass||qd(t,e),Gn(r,e);const o=t.initialInputs;for(let a=i;a<s;a++){const l=n.data[a],c=Si(l);c&&wJ(e,t,l);const u=Kd(e,n,a,t);Gn(u,e),null!==o&&CJ(0,a-i,u,l,0,o),c&&(Br(t.index,e)[8]=u)}}(n,e,t,Vr(t,e)),128==(128&t.flags)&&function _J(n,e,t){const r=t.directiveStart,i=t.directiveEnd,s=t.index,o=function HQ(){return de.lFrame.currentDirectiveIndex}();try{Oo(s);for(let a=r;a<i;a++){const l=n.data[a],c=e[a];Gw(a),(null!==l.hostBindings||0!==l.hostVars||null!==l.hostAttrs)&&nL(l,c)}}finally{Oo(-1),Gw(o)}}(n,e,t))}function lE(n,e,t=Vr){const r=e.localNames;if(null!==r){let i=e.index+1;for(let s=0;s<r.length;s+=2){const o=r[s+1],a=-1===o?t(e,n):n[o];n[i++]=a}}}function QF(n){const e=n.tView;return null===e||e.incompleteFirstPass?n.tView=cE(1,null,n.template,n.decls,n.vars,n.directiveDefs,n.pipeDefs,n.viewQuery,n.schemas,n.consts):e}function cE(n,e,t,r,i,s,o,a,l,c){const u=22+r,d=u+i,h=function cJ(n,e){const t=[];for(let r=0;r<e;r++)t.push(r<n?null:ge);return t}(u,d),f="function"==typeof c?c():c;return h[1]={type:n,blueprint:h,template:t,queries:null,viewQuery:a,declTNode:e,data:h.slice().fill(null,u),bindingStartIndex:u,expandoStartIndex:d,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof s?s():s,pipeRegistry:"function"==typeof o?o():o,firstChild:null,schemas:l,consts:f,incompleteFirstPass:!1}}function XF(n,e,t,r){const i=aL(e);null===t?i.push(r):(i.push(t),n.firstCreatePass&&lL(n).push(r,i.length-1))}function ZF(n,e,t){for(let r in n)if(n.hasOwnProperty(r)){const i=n[r];(t=null===t?{}:t).hasOwnProperty(r)?t[r].push(e,i):t[r]=[e,i]}return t}function JF(n,e){const r=e.directiveEnd,i=n.data,s=e.attrs,o=[];let a=null,l=null;for(let c=e.directiveStart;c<r;c++){const u=i[c],d=u.inputs,h=null===s||CF(e)?null:EJ(d,s);o.push(h),a=ZF(d,c,a),l=ZF(u.outputs,c,l)}null!==a&&(a.hasOwnProperty("class")&&(e.flags|=16),a.hasOwnProperty("style")&&(e.flags|=32)),e.initialInputs=o,e.inputs=a,e.outputs=l}function Hr(n,e,t,r,i,s,o,a){const l=Vr(e,t);let u,c=e.inputs;!a&&null!=c&&(u=c[r])?(gE(n,t,u,r,i),Fg(e)&&eL(t,e.index)):3&e.type&&(r=function hJ(n){return"class"===n?"className":"for"===n?"htmlFor":"formaction"===n?"formAction":"innerHtml"===n?"innerHTML":"readonly"===n?"readOnly":"tabindex"===n?"tabIndex":n}(r),i=null!=o?o(i,e.value||"",r):i,s.setProperty(l,r,i))}function eL(n,e){const t=Br(e,n);16&t[2]||(t[2]|=32)}function uE(n,e,t,r){let i=!1;if(OP()){const s=function yJ(n,e,t){const r=n.directiveRegistry;let i=null;if(r)for(let s=0;s<r.length;s++){const o=r[s];EF(t,o.selectors,!1)&&(i||(i=[]),qg(qd(t,e),n,o.type),Si(o)?(rL(n,t),i.unshift(o)):i.push(o))}return i}(n,e,t),o=null===r?null:{"":-1};if(null!==s){i=!0,iL(t,n.data.length,s.length);for(let u=0;u<s.length;u++){const d=s[u];d.providersResolver&&d.providersResolver(d)}let a=!1,l=!1,c=zc(n,e,s.length,null);for(let u=0;u<s.length;u++){const d=s[u];t.mergedAttrs=zg(t.mergedAttrs,d.hostAttrs),sL(n,t,e,c,d),bJ(c,d,o),null!==d.contentQueries&&(t.flags|=8),(null!==d.hostBindings||null!==d.hostAttrs||0!==d.hostVars)&&(t.flags|=128);const h=d.type.prototype;!a&&(h.ngOnChanges||h.ngOnInit||h.ngDoCheck)&&((n.preOrderHooks||(n.preOrderHooks=[])).push(t.index),a=!0),!l&&(h.ngOnChanges||h.ngDoCheck)&&((n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(t.index),l=!0),c++}JF(n,t)}o&&function vJ(n,e,t){if(e){const r=n.localNames=[];for(let i=0;i<e.length;i+=2){const s=t[e[i+1]];if(null==s)throw new M(-301,!1);r.push(e[i],s)}}}(t,r,o)}return t.mergedAttrs=zg(t.mergedAttrs,t.attrs),i}function tL(n,e,t,r,i,s){const o=s.hostBindings;if(o){let a=n.hostBindingOpCodes;null===a&&(a=n.hostBindingOpCodes=[]);const l=~e.index;(function gJ(n){let e=n.length;for(;e>0;){const t=n[--e];if("number"==typeof t&&t<0)return t}return 0})(a)!=l&&a.push(l),a.push(r,i,o)}}function nL(n,e){null!==n.hostBindings&&n.hostBindings(1,e)}function rL(n,e){e.flags|=2,(n.components||(n.components=[])).push(e.index)}function bJ(n,e,t){if(t){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)t[e.exportAs[r]]=n;Si(e)&&(t[""]=n)}}function iL(n,e,t){n.flags|=1,n.directiveStart=e,n.directiveEnd=e+t,n.providerIndexes=e}function sL(n,e,t,r,i){n.data[r]=i;const s=i.factory||(i.factory=ja(i.type)),o=new Gd(s,Si(i),b);n.blueprint[r]=o,t[r]=o,tL(n,e,0,r,zc(n,t,i.hostVars,ge),i)}function wJ(n,e,t){const r=Vr(e,n),i=QF(t),s=n[10],o=gm(n,fm(n,i,null,t.onPush?32:16,r,e,s,s.createRenderer(r,t),null,null,null));n[e.index]=o}function Zi(n,e,t,r,i,s){const o=Vr(n,e);!function dE(n,e,t,r,i,s,o){if(null==s)n.removeAttribute(e,i,t);else{const a=null==o?pe(s):o(s,r||"",i);n.setAttribute(e,i,a,t)}}(e[11],o,s,n.value,t,r,i)}function CJ(n,e,t,r,i,s){const o=s[e];if(null!==o){const a=r.setInput;for(let l=0;l<o.length;){const c=o[l++],u=o[l++],d=o[l++];null!==a?r.setInput(t,d,c,u):t[u]=d}}}function EJ(n,e){let t=null,r=0;for(;r<e.length;){const i=e[r];if(0!==i)if(5!==i){if("number"==typeof i)break;n.hasOwnProperty(i)&&(null===t&&(t=[]),t.push(i,n[i],e[r+1])),r+=2}else r+=2;else r+=4}return t}function oL(n,e,t,r){return new Array(n,!0,!1,e,null,0,r,t,null,null)}function SJ(n,e){const t=Br(e,n);if(Bg(t)){const r=t[1];48&t[2]?pm(r,t,r.template,t[8]):t[5]>0&&hE(t)}}function hE(n){for(let r=_C(n);null!==r;r=yC(r))for(let i=10;i<r.length;i++){const s=r[i];if(Bg(s))if(512&s[2]){const o=s[1];pm(o,s,o.template,s[8])}else s[5]>0&&hE(s)}const t=n[1].components;if(null!==t)for(let r=0;r<t.length;r++){const i=Br(t[r],n);Bg(i)&&i[5]>0&&hE(i)}}function DJ(n,e){const t=Br(e,n),r=t[1];(function AJ(n,e){for(let t=e.length;t<n.blueprint.length;t++)e.push(n.blueprint[t])})(r,t),oE(r,t,t[8])}function gm(n,e){return n[13]?n[14][4]=e:n[13]=e,n[14]=e,e}function fE(n){for(;n;){n[2]|=32;const e=ih(n);if(wQ(n)&&!e)return n;n=e}return null}function mm(n,e,t,r=!0){const i=e[10];i.begin&&i.begin();try{pm(n,e,n.template,t)}catch(o){throw r&&uL(e,o),o}finally{i.end&&i.end()}}function pE(n,e,t){qw(0),e(n,t)}function aL(n){return n[7]||(n[7]=[])}function lL(n){return n.cleanup||(n.cleanup=[])}function uL(n,e){const t=n[9],r=t?t.get(Us,null):null;r&&r.handleError(e)}function gE(n,e,t,r,i){for(let s=0;s<t.length;){const o=t[s++],a=t[s++],l=e[o],c=n.data[o];null!==c.setInput?c.setInput(l,i,r,a):l[a]=i}}function Hs(n,e,t){const r=Vg(e,n);!function PO(n,e,t){n.setValue(e,t)}(n[11],r,t)}function _m(n,e,t){let r=t?n.styles:null,i=t?n.classes:null,s=0;if(null!==e)for(let o=0;o<e.length;o++){const a=e[o];"number"==typeof a?s=a:1==s?i=Aw(i,a):2==s&&(r=Aw(r,a+": "+e[++o]+";"))}t?n.styles=r:n.stylesWithoutHost=r,t?n.classes=i:n.classesWithoutHost=i}function ym(n,e,t,r,i=!1){for(;null!==t;){const s=e[t.index];if(null!==s&&r.push(Yt(s)),Ti(s))for(let a=10;a<s.length;a++){const l=s[a],c=l[1].firstChild;null!==c&&ym(l[1],l,c,r)}const o=t.type;if(8&o)ym(n,e,t.child,r);else if(32&o){const a=mC(t,e);let l;for(;l=a();)r.push(l)}else if(16&o){const a=GO(e,t);if(Array.isArray(a))r.push(...a);else{const l=ih(e[16]);ym(l[1],l,a,r,!0)}}t=i?t.projectionNext:t.next}return r}class ch{constructor(e,t){this._lView=e,this._cdRefInjectingView=t,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const e=this._lView,t=e[1];return ym(t,e,t.firstChild,[])}get context(){return this._lView[8]}set context(e){this._lView[8]=e}get destroyed(){return 128==(128&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const e=this._lView[3];if(Ti(e)){const t=e[8],r=t?t.indexOf(this):-1;r>-1&&(wC(e,r),Yg(t,r))}this._attachedToViewContainer=!1}FO(this._lView[1],this._lView)}onDestroy(e){XF(this._lView[1],this._lView,null,e)}markForCheck(){fE(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-65}reattach(){this._lView[2]|=64}detectChanges(){mm(this._lView[1],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new M(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function aX(n,e){sh(n,e,e[11],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new M(902,!1);this._appRef=e}}class MJ extends ch{constructor(e){super(e),this._view=e}detectChanges(){const e=this._view;mm(e[1],e,e[8],!1)}checkNoChanges(){}get context(){return null}}class mE extends Vo{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){const t=Je(e);return new uh(t,this.ngModule)}}function dL(n){const e=[];for(let t in n)n.hasOwnProperty(t)&&e.push({propName:n[t],templateName:t});return e}class kJ{constructor(e,t){this.injector=e,this.parentInjector=t}get(e,t,r){const i=this.injector.get(e,$C,r);return i!==$C||t===$C?i:this.parentInjector.get(e,t,r)}}class uh extends mF{constructor(e,t){super(),this.componentDef=e,this.ngModule=t,this.componentType=e.type,this.selector=function xZ(n){return n.map(MZ).join(",")}(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!t}get inputs(){return dL(this.componentDef.inputs)}get outputs(){return dL(this.componentDef.outputs)}create(e,t,r,i){let s=(i=i||this.ngModule)instanceof Lo?i:i?.injector;s&&null!==this.componentDef.getStandaloneInjector&&(s=this.componentDef.getStandaloneInjector(s)||s);const o=s?new kJ(e,s):e,a=o.get(lh,null);if(null===a)throw new M(407,!1);const l=o.get(uZ,null),c=a.createRenderer(null,this.componentDef),u=this.componentDef.selectors[0][0]||"div",d=r?function uJ(n,e,t){return n.selectRootElement(e,t===Ei.ShadowDom)}(c,r,this.componentDef.encapsulation):bC(c,u,function xJ(n){const e=n.toLowerCase();return"svg"===e?"svg":"math"===e?"math":null}(u)),h=this.componentDef.onPush?288:272,f=cE(0,null,null,1,0,null,null,null,null,null),p=fm(null,f,null,h,null,null,a,c,l,o,null);let g,m;Kw(p);try{const v=function PJ(n,e,t,r,i,s){const o=t[1];t[22]=n;const l=Hc(o,22,2,"#host",null),c=l.mergedAttrs=e.hostAttrs;null!==c&&(_m(l,c,!0),null!==n&&(Hg(i,n,c),null!==l.classes&&DC(i,n,l.classes),null!==l.styles&&qO(i,n,l.styles)));const u=r.createRenderer(n,e),d=fm(t,QF(e),null,e.onPush?32:16,t[22],l,r,u,s||null,null,null);return o.firstCreatePass&&(qg(qd(l,t),o,e.type),rL(o,l),iL(l,t.length,1)),gm(t,d),t[22]=d}(d,this.componentDef,p,a,c);if(d)if(r)Hg(c,d,["ng-version",yF.full]);else{const{attrs:C,classes:y}=function kZ(n){const e=[],t=[];let r=1,i=2;for(;r<n.length;){let s=n[r];if("string"==typeof s)2===i?""!==s&&e.push(s,n[++r]):8===i&&t.push(s);else{if(!Ai(i))break;i=s}r++}return{attrs:e,classes:t}}(this.componentDef.selectors[0]);C&&Hg(c,d,C),y&&y.length>0&&DC(c,d,y.join(" "))}if(m=$w(f,22),void 0!==t){const C=m.projection=[];for(let y=0;y<this.ngContentSelectors.length;y++){const D=t[y];C.push(null!=D?Array.from(D):null)}}g=function OJ(n,e,t,r){const i=t[1],s=function pJ(n,e,t){const r=sn();n.firstCreatePass&&(t.providersResolver&&t.providersResolver(t),sL(n,r,e,zc(n,e,1,null),t),JF(n,r));const i=Kd(e,n,r.directiveStart,r);Gn(i,e);const s=Vr(r,e);return s&&Gn(s,e),i}(i,t,e);if(n[8]=t[8]=s,null!==r)for(const a of r)a(s,e);if(e.contentQueries){const a=sn();e.contentQueries(1,s,a.directiveStart)}const o=sn();return!i.firstCreatePass||null===e.hostBindings&&null===e.hostAttrs||(Oo(o.index),tL(t[1],o,0,o.directiveStart,o.directiveEnd,e),nL(e,s)),s}(v,this.componentDef,p,[FJ]),oE(f,p,null)}finally{Yw()}return new NJ(this.componentType,g,Uc(m,p),p,m)}}class NJ extends class iZ{}{constructor(e,t,r,i,s){super(),this.location=r,this._rootLView=i,this._tNode=s,this.instance=t,this.hostView=this.changeDetectorRef=new MJ(i),this.componentType=e}setInput(e,t){const r=this._tNode.inputs;let i;if(null!==r&&(i=r[e])){const s=this._rootLView;gE(s[1],s,i,e,t),eL(s,this._tNode.index)}}get injector(){return new Mc(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}}function FJ(){const n=sn();Ug(x()[1],n)}function Ae(n){let e=function hL(n){return Object.getPrototypeOf(n.prototype).constructor}(n.type),t=!0;const r=[n];for(;e;){let i;if(Si(n))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new M(903,!1);i=e.\u0275dir}if(i){if(t){r.push(i);const o=n;o.inputs=_E(n.inputs),o.declaredInputs=_E(n.declaredInputs),o.outputs=_E(n.outputs);const a=i.hostBindings;a&&UJ(n,a);const l=i.viewQuery,c=i.contentQueries;if(l&&VJ(n,l),c&&BJ(n,c),Dw(n.inputs,i.inputs),Dw(n.declaredInputs,i.declaredInputs),Dw(n.outputs,i.outputs),Si(i)&&i.data.animation){const u=n.data;u.animation=(u.animation||[]).concat(i.data.animation)}}const s=i.features;if(s)for(let o=0;o<s.length;o++){const a=s[o];a&&a.ngInherit&&a(n),a===Ae&&(t=!1)}}e=Object.getPrototypeOf(e)}!function LJ(n){let e=0,t=null;for(let r=n.length-1;r>=0;r--){const i=n[r];i.hostVars=e+=i.hostVars,i.hostAttrs=zg(i.hostAttrs,t=zg(t,i.hostAttrs))}}(r)}function _E(n){return n===bc?{}:n===We?[]:n}function VJ(n,e){const t=n.viewQuery;n.viewQuery=t?(r,i)=>{e(r,i),t(r,i)}:e}function BJ(n,e){const t=n.contentQueries;n.contentQueries=t?(r,i,s)=>{e(r,i,s),t(r,i,s)}:e}function UJ(n,e){const t=n.hostBindings;n.hostBindings=t?(r,i)=>{e(r,i),t(r,i)}:e}let vm=null;function Ya(){if(!vm){const n=ct.Symbol;if(n&&n.iterator)vm=n.iterator;else{const e=Object.getOwnPropertyNames(Map.prototype);for(let t=0;t<e.length;++t){const r=e[t];"entries"!==r&&"size"!==r&&Map.prototype[r]===Map.prototype.entries&&(vm=r)}}}return vm}function dh(n){return!!yE(n)&&(Array.isArray(n)||!(n instanceof Map)&&Ya()in n)}function yE(n){return null!==n&&("function"==typeof n||"object"==typeof n)}function Ji(n,e,t){return n[e]=t}function Wn(n,e,t){return!Object.is(n[e],t)&&(n[e]=t,!0)}function Qa(n,e,t,r){const i=Wn(n,e,t);return Wn(n,e+1,r)||i}function Et(n,e,t,r){const i=x();return Wn(i,Sc(),e)&&(Le(),Zi(Ct(),i,n,e,t,r)),Et}function qc(n,e,t,r,i,s){const a=Qa(n,function Os(){return de.lFrame.bindingIndex}(),t,i);return Fs(2),a?e+pe(t)+r+pe(i)+s:ge}function Z(n,e,t,r,i,s,o,a){const l=x(),c=Le(),u=n+22,d=c.firstCreatePass?function KJ(n,e,t,r,i,s,o,a,l){const c=e.consts,u=Hc(e,n,4,o||null,Po(c,a));uE(e,t,u,Po(c,l)),Ug(e,u);const d=u.tViews=cE(2,u,r,i,s,e.directiveRegistry,e.pipeRegistry,null,e.schemas,c);return null!==e.queries&&(e.queries.template(e,u),d.queries=e.queries.embeddedTView(u)),u}(u,c,l,e,t,r,i,s,o):c.data[u];Yi(d,!1);const h=l[11].createComment("");tm(c,l,h,d),Gn(h,l),gm(l,l[u]=oL(h,l,h,d)),Lg(d)&&aE(c,l,d),null!=o&&lE(l,d,a)}function mn(n){return Tc(function UQ(){return de.lFrame.contextLView}(),22+n)}function L(n,e,t){const r=x();return Wn(r,Sc(),e)&&Hr(Le(),Ct(),r,n,e,r[11],t,!1),L}function vE(n,e,t,r,i){const o=i?"class":"style";gE(n,t,e.inputs[o],o,r)}function T(n,e,t,r){const i=x(),s=Le(),o=22+n,a=i[11],l=i[o]=bC(a,e,function QQ(){return de.lFrame.currentNamespace}()),c=s.firstCreatePass?function QJ(n,e,t,r,i,s,o){const a=e.consts,c=Hc(e,n,2,i,Po(a,s));return uE(e,t,c,Po(a,o)),null!==c.attrs&&_m(c,c.attrs,!1),null!==c.mergedAttrs&&_m(c,c.mergedAttrs,!0),null!==e.queries&&e.queries.elementStart(e,c),c}(o,s,i,0,e,t,r):s.data[o];Yi(c,!0);const u=c.mergedAttrs;null!==u&&Hg(a,l,u);const d=c.classes;null!==d&&DC(a,l,d);const h=c.styles;return null!==h&&qO(a,l,h),64!=(64&c.flags)&&tm(s,i,l,c),0===function OQ(){return de.lFrame.elementDepthCount}()&&Gn(l,i),function FQ(){de.lFrame.elementDepthCount++}(),Lg(c)&&(aE(s,i,c),YF(s,c,i)),null!==r&&lE(i,c),T}function A(){let n=sn();Hw()?zw():(n=n.parent,Yi(n,!1));const e=n;!function LQ(){de.lFrame.elementDepthCount--}();const t=Le();return t.firstCreatePass&&(Ug(t,n),Fw(n)&&t.queries.elementEnd(n)),null!=e.classesWithoutHost&&function t9(n){return 0!=(16&n.flags)}(e)&&vE(t,e,x(),e.classesWithoutHost,!0),null!=e.stylesWithoutHost&&function n9(n){return 0!=(32&n.flags)}(e)&&vE(t,e,x(),e.stylesWithoutHost,!1),A}function ye(n,e,t,r){return T(n,e,t,r),A(),ye}function zs(n,e,t){const r=x(),i=Le(),s=n+22,o=i.firstCreatePass?function XJ(n,e,t,r,i){const s=e.consts,o=Po(s,r),a=Hc(e,n,8,"ng-container",o);return null!==o&&_m(a,o,!0),uE(e,t,a,Po(s,i)),null!==e.queries&&e.queries.elementStart(e,a),a}(s,i,r,e,t):i.data[s];Yi(o,!0);const a=r[s]=r[11].createComment("");return tm(i,r,a,o),Gn(a,r),Lg(o)&&(aE(i,r,o),YF(i,o,r)),null!=t&&lE(r,o),zs}function Gs(){let n=sn();const e=Le();return Hw()?zw():(n=n.parent,Yi(n,!1)),e.firstCreatePass&&(Ug(e,n),Fw(n)&&e.queries.elementEnd(n)),Gs}function wm(n,e,t){return zs(n,e,t),Gs(),wm}function es(){return x()}function fh(n){return!!n&&"function"==typeof n.then}function CL(n){return!!n&&"function"==typeof n.subscribe}const bE=CL;function Me(n,e,t,r){const i=x(),s=Le(),o=sn();return function IL(n,e,t,r,i,s,o,a){const l=Lg(r),u=n.firstCreatePass&&lL(n),d=e[8],h=aL(e);let f=!0;if(3&r.type||a){const m=Vr(r,e),v=a?a(m):m,C=h.length,y=a?O=>a(Yt(O[r.index])):r.index;let D=null;if(!a&&l&&(D=function ZJ(n,e,t,r){const i=n.cleanup;if(null!=i)for(let s=0;s<i.length-1;s+=2){const o=i[s];if(o===t&&i[s+1]===r){const a=e[7],l=i[s+2];return a.length>l?a[l]:null}"string"==typeof o&&(s+=2)}return null}(n,e,i,r.index)),null!==D)(D.__ngLastListenerFn__||D).__ngNextListenerFn__=s,D.__ngLastListenerFn__=s,f=!1;else{s=SL(r,e,d,s,!1);const O=t.listen(v,i,s);h.push(s,O),u&&u.push(i,y,C,C+1)}}else s=SL(r,e,d,s,!1);const p=r.outputs;let g;if(f&&null!==p&&(g=p[i])){const m=g.length;if(m)for(let v=0;v<m;v+=2){const B=e[g[v]][g[v+1]].subscribe(s),le=h.length;h.push(s,B),u&&u.push(i,r.index,le,-(le+1))}}}(s,i,i[11],o,n,e,0,r),Me}function TL(n,e,t,r){try{return!1!==t(r)}catch(i){return uL(n,i),!1}}function SL(n,e,t,r,i){return function s(o){if(o===Function)return r;fE(2&n.flags?Br(n.index,e):e);let l=TL(e,0,r,o),c=s.__ngNextListenerFn__;for(;c;)l=TL(e,0,c,o)&&l,c=c.__ngNextListenerFn__;return i&&!1===l&&(o.preventDefault(),o.returnValue=!1),l}}function Q(n=1){return function GQ(n){return(de.lFrame.contextLView=function WQ(n,e){for(;n>0;)e=e[15],n--;return e}(n,de.lFrame.contextLView))[8]}(n)}function JJ(n,e){let t=null;const r=function TZ(n){const e=n.attrs;if(null!=e){const t=e.indexOf(5);if(0==(1&t))return e[t+1]}return null}(n);for(let i=0;i<e.length;i++){const s=e[i];if("*"!==s){if(null===r?EF(n,s,!0):AZ(r,s))return i}else t=i}return t}function $o(n){const e=x()[16][6];if(!e.projection){const r=e.projection=Xd(n?n.length:1,null),i=r.slice();let s=e.child;for(;null!==s;){const o=n?JJ(s,n):0;null!==o&&(i[o]?i[o].projectionNext=s:r[o]=s,i[o]=s),s=s.next}}}function qn(n,e=0,t){const r=x(),i=Le(),s=Hc(i,22+n,16,null,t||null);null===s.projection&&(s.projection=e),zw(),64!=(64&s.flags)&&function gX(n,e,t){WO(e[11],0,e,t,LO(n,t,e),$O(t.parent||e[6],t,e))}(i,r,s)}function FL(n,e,t,r,i){const s=n[t+1],o=null===e;let a=r?Mi(s):js(s),l=!1;for(;0!==a&&(!1===l||o);){const u=n[a+1];nee(n[a],e)&&(l=!0,n[a+1]=r?XC(u):YC(u)),a=r?Mi(u):js(u)}l&&(n[t+1]=r?YC(s):XC(s))}function nee(n,e){return null===n||null==e||(Array.isArray(n)?n[1]:n)===e||!(!Array.isArray(n)||"string"!=typeof e)&&Pc(n,e)>=0}function jo(n,e,t){return xi(n,e,t,!1),jo}function Qt(n,e){return xi(n,e,null,!0),Qt}function xi(n,e,t,r){const i=x(),s=Le(),o=Fs(2);s.firstUpdatePass&&function zL(n,e,t,r){const i=n.data;if(null===i[t+1]){const s=i[ar()],o=function HL(n,e){return e>=n.expandoStartIndex}(n,t);(function KL(n,e){return 0!=(n.flags&(e?16:32))})(s,r)&&null===e&&!o&&(e=!1),e=function dee(n,e,t,r){const i=function Ww(n){const e=de.lFrame.currentDirectiveIndex;return-1===e?null:n[e]}(n);let s=r?e.residualClasses:e.residualStyles;if(null===i)0===(r?e.classBindings:e.styleBindings)&&(t=ph(t=CE(null,n,e,t,r),e.attrs,r),s=null);else{const o=e.directiveStylingLast;if(-1===o||n[o]!==i)if(t=CE(i,n,e,t,r),null===s){let l=function hee(n,e,t){const r=t?e.classBindings:e.styleBindings;if(0!==js(r))return n[Mi(r)]}(n,e,r);void 0!==l&&Array.isArray(l)&&(l=CE(null,n,e,l[1],r),l=ph(l,e.attrs,r),function fee(n,e,t,r){n[Mi(t?e.classBindings:e.styleBindings)]=r}(n,e,r,l))}else s=function pee(n,e,t){let r;const i=e.directiveEnd;for(let s=1+e.directiveStylingLast;s<i;s++)r=ph(r,n[s].hostAttrs,t);return ph(r,e.attrs,t)}(n,e,r)}return void 0!==s&&(r?e.residualClasses=s:e.residualStyles=s),t}(i,s,e,r),function eee(n,e,t,r,i,s){let o=s?e.classBindings:e.styleBindings,a=Mi(o),l=js(o);n[r]=t;let u,c=!1;if(Array.isArray(t)){const d=t;u=d[1],(null===u||Pc(d,u)>0)&&(c=!0)}else u=t;if(i)if(0!==l){const h=Mi(n[a+1]);n[r+1]=um(h,a),0!==h&&(n[h+1]=QC(n[h+1],r)),n[a+1]=function QZ(n,e){return 131071&n|e<<17}(n[a+1],r)}else n[r+1]=um(a,0),0!==a&&(n[a+1]=QC(n[a+1],r)),a=r;else n[r+1]=um(l,0),0===a?a=r:n[l+1]=QC(n[l+1],r),l=r;c&&(n[r+1]=YC(n[r+1])),FL(n,u,r,!0),FL(n,u,r,!1),function tee(n,e,t,r,i){const s=i?n.residualClasses:n.residualStyles;null!=s&&"string"==typeof e&&Pc(s,e)>=0&&(t[r+1]=XC(t[r+1]))}(e,u,n,r,s),o=um(a,l),s?e.classBindings=o:e.styleBindings=o}(i,s,e,t,o,r)}}(s,n,o,r),e!==ge&&Wn(i,o,e)&&function WL(n,e,t,r,i,s,o,a){if(!(3&e.type))return;const l=n.data,c=l[a+1];Cm(function BF(n){return 1==(1&n)}(c)?qL(l,e,t,i,js(c),o):void 0)||(Cm(s)||function VF(n){return 2==(2&n)}(c)&&(s=qL(l,null,t,i,a,o)),function _X(n,e,t,r,i){if(e)i?n.addClass(t,r):n.removeClass(t,r);else{let s=-1===r.indexOf("-")?void 0:Cr.DashCase;null==i?n.removeStyle(t,r,s):("string"==typeof i&&i.endsWith("!important")&&(i=i.slice(0,-10),s|=Cr.Important),n.setStyle(t,r,i,s))}}(r,o,Vg(ar(),t),i,s))}(s,s.data[ar()],i,i[11],n,i[o+1]=function _ee(n,e){return null==n||("string"==typeof e?n+=e:"object"==typeof n&&(n=it(jr(n)))),n}(e,t),r,o)}function CE(n,e,t,r,i){let s=null;const o=t.directiveEnd;let a=t.directiveStylingLast;for(-1===a?a=t.directiveStart:a++;a<o&&(s=e[a],r=ph(r,s.hostAttrs,i),s!==n);)a++;return null!==n&&(t.directiveStylingLast=a),r}function ph(n,e,t){const r=t?1:2;let i=-1;if(null!==e)for(let s=0;s<e.length;s++){const o=e[s];"number"==typeof o?i=o:i===r&&(Array.isArray(n)||(n=void 0===n?[]:["",n]),$r(n,o,!!t||e[++s]))}return void 0===n?null:n}function qL(n,e,t,r,i,s){const o=null===e;let a;for(;i>0;){const l=n[i],c=Array.isArray(l),u=c?l[1]:l,d=null===u;let h=t[i+1];h===ge&&(h=d?We:void 0);let f=d?iC(h,r):u===r?h:void 0;if(c&&!Cm(f)&&(f=iC(l,r)),Cm(f)&&(a=f,o))return a;const p=n[i+1];i=o?Mi(p):js(p)}if(null!==e){let l=s?e.residualClasses:e.residualStyles;null!=l&&(a=iC(l,r))}return a}function Cm(n){return void 0!==n}function S(n,e=""){const t=x(),r=Le(),i=n+22,s=r.firstCreatePass?Hc(r,i,1,e,null):r.data[i],o=t[i]=function vC(n,e){return n.createText(e)}(t[11],e);tm(r,t,o,s),Yi(s,!1)}function cr(n){return Ri("",n,""),cr}function Ri(n,e,t){const r=x(),i=function Wc(n,e,t,r){return Wn(n,Sc(),t)?e+pe(t)+r:ge}(r,n,e,t);return i!==ge&&Hs(r,ar(),i),Ri}function Em(n,e,t,r,i){const s=x(),o=qc(s,n,e,t,r,i);return o!==ge&&Hs(s,ar(),o),Em}function EE(n,e,t){const r=x();return Wn(r,Sc(),e)&&Hr(Le(),Ct(),r,n,e,r[11],t,!0),EE}const Xa=void 0;var Lee=["en",[["a","p"],["AM","PM"],Xa],[["AM","PM"],Xa,Xa],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Xa,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Xa,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Xa,"{1} 'at' {0}",Xa],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function Fee(n){const t=Math.floor(Math.abs(n)),r=n.toString().replace(/^[^.]*\.?/,"").length;return 1===t&&0===r?1:5}];let tu={};function ur(n){const e=function Vee(n){return n.toLowerCase().replace(/_/g,"-")}(n);let t=fV(e);if(t)return t;const r=e.split("-")[0];if(t=fV(r),t)return t;if("en"===r)return Lee;throw new M(701,!1)}function fV(n){return n in tu||(tu[n]=ct.ng&&ct.ng.common&&ct.ng.common.locales&&ct.ng.common.locales[n]),tu[n]}var z=(()=>((z=z||{})[z.LocaleId=0]="LocaleId",z[z.DayPeriodsFormat=1]="DayPeriodsFormat",z[z.DayPeriodsStandalone=2]="DayPeriodsStandalone",z[z.DaysFormat=3]="DaysFormat",z[z.DaysStandalone=4]="DaysStandalone",z[z.MonthsFormat=5]="MonthsFormat",z[z.MonthsStandalone=6]="MonthsStandalone",z[z.Eras=7]="Eras",z[z.FirstDayOfWeek=8]="FirstDayOfWeek",z[z.WeekendRange=9]="WeekendRange",z[z.DateFormat=10]="DateFormat",z[z.TimeFormat=11]="TimeFormat",z[z.DateTimeFormat=12]="DateTimeFormat",z[z.NumberSymbols=13]="NumberSymbols",z[z.NumberFormats=14]="NumberFormats",z[z.CurrencyCode=15]="CurrencyCode",z[z.CurrencySymbol=16]="CurrencySymbol",z[z.CurrencyName=17]="CurrencyName",z[z.Currencies=18]="Currencies",z[z.Directionality=19]="Directionality",z[z.PluralCase=20]="PluralCase",z[z.ExtraData=21]="ExtraData",z))();const nu="en-US";let pV=nu;function SE(n,e,t,r,i){if(n=ae(n),Array.isArray(n))for(let s=0;s<n.length;s++)SE(n[s],e,t,r,i);else{const s=Le(),o=x();let a=Ka(n)?n:ae(n.provide),l=gF(n);const c=sn(),u=1048575&c.providerIndexes,d=c.directiveStart,h=c.providerIndexes>>20;if(Ka(n)||!n.multi){const f=new Gd(l,i,b),p=AE(a,e,i?u:u+h,d);-1===p?(qg(qd(c,o),s,a),DE(s,n,e.length),e.push(a),c.directiveStart++,c.directiveEnd++,i&&(c.providerIndexes+=1048576),t.push(f),o.push(f)):(t[p]=f,o[p]=f)}else{const f=AE(a,e,u+h,d),p=AE(a,e,u,u+h),g=f>=0&&t[f],m=p>=0&&t[p];if(i&&!m||!i&&!g){qg(qd(c,o),s,a);const v=function Ote(n,e,t,r,i){const s=new Gd(n,t,b);return s.multi=[],s.index=e,s.componentProviders=0,BV(s,i,r&&!t),s}(i?Pte:Nte,t.length,i,r,l);!i&&m&&(t[p].providerFactory=v),DE(s,n,e.length,0),e.push(a),c.directiveStart++,c.directiveEnd++,i&&(c.providerIndexes+=1048576),t.push(v),o.push(v)}else DE(s,n,f>-1?f:p,BV(t[i?p:f],l,!i&&r));!i&&r&&m&&t[p].componentProviders++}}}function DE(n,e,t,r){const i=Ka(e),s=function QX(n){return!!n.useClass}(e);if(i||s){const l=(s?ae(e.useClass):e).prototype.ngOnDestroy;if(l){const c=n.destroyHooks||(n.destroyHooks=[]);if(!i&&e.multi){const u=c.indexOf(t);-1===u?c.push(t,[r,l]):c[u+1].push(r,l)}else c.push(t,l)}}}function BV(n,e,t){return t&&n.componentProviders++,n.multi.push(e)-1}function AE(n,e,t,r){for(let i=t;i<r;i++)if(e[i]===n)return i;return-1}function Nte(n,e,t,r){return ME(this.multi,[])}function Pte(n,e,t,r){const i=this.multi;let s;if(this.providerFactory){const o=this.providerFactory.componentProviders,a=Kd(t,t[1],this.providerFactory.index,r);s=a.slice(0,o),ME(i,s);for(let l=o;l<a.length;l++)s.push(a[l])}else s=[],ME(i,s);return s}function ME(n,e){for(let t=0;t<n.length;t++)e.push((0,n[t])());return e}function Ke(n,e=[]){return t=>{t.providersResolver=(r,i)=>function Rte(n,e,t){const r=Le();if(r.firstCreatePass){const i=Si(n);SE(t,r.data,r.blueprint,i,!0),SE(e,r.data,r.blueprint,i,!1)}}(r,i?i(n):n,e)}}class Za{}class UV{}class $V extends Za{constructor(e,t){super(),this._parent=t,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new mE(this);const r=Fr(e);this._bootstrapComponents=$s(r.bootstrap),this._r3Injector=xF(e,t,[{provide:Za,useValue:this},{provide:Vo,useValue:this.componentFactoryResolver}],it(e),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(e)}get injector(){return this._r3Injector}destroy(){const e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(t=>t()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}}class xE extends UV{constructor(e){super(),this.moduleType=e}create(e){return new $V(this.moduleType,e)}}class Lte extends Za{constructor(e,t,r){super(),this.componentFactoryResolver=new mE(this),this.instance=null;const i=new pF([...e,{provide:Za,useValue:this},{provide:Vo,useValue:this.componentFactoryResolver}],t||lm(),r,new Set(["environment"]));this.injector=i,i.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}}function Am(n,e,t=null){return new Lte(n,e,t).injector}let Vte=(()=>{class n{constructor(t){this._injector=t,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(t){if(!t.standalone)return null;if(!this.cachedInjectors.has(t.id)){const r=uF(0,t.type),i=r.length>0?Am([r],this._injector,`Standalone[${t.type.name}]`):null;this.cachedInjectors.set(t.id,i)}return this.cachedInjectors.get(t.id)}ngOnDestroy(){try{for(const t of this.cachedInjectors.values())null!==t&&t.destroy()}finally{this.cachedInjectors.clear()}}}return n.\u0275prov=F({token:n,providedIn:"environment",factory:()=>new n(w(Lo))}),n})();function jV(n){n.getStandaloneInjector=e=>e.get(Vte).getOrCreateStandaloneInjector(n)}function RE(n,e,t,r,i){return XV(x(),or(),n,e,t,r,i)}function bh(n,e){const t=n[e];return t===ge?void 0:t}function XV(n,e,t,r,i,s,o){const a=e+t;return Qa(n,a,i,s)?Ji(n,a+2,o?r.call(o,i,s):r(i,s)):bh(n,a+2)}function Ws(n,e){const t=Le();let r;const i=n+22;t.firstCreatePass?(r=function tne(n,e){if(e)for(let t=e.length-1;t>=0;t--){const r=e[t];if(n===r.name)return r}}(e,t.pipeRegistry),t.data[i]=r,r.onDestroy&&(t.destroyHooks||(t.destroyHooks=[])).push(i,r.onDestroy)):r=t.data[i];const s=r.factory||(r.factory=ja(r.type)),o=oi(b);try{const a=Gg(!1),l=s();return Gg(a),function YJ(n,e,t,r){t>=n.data.length&&(n.data[t]=null,n.blueprint[t]=null),e[t]=r}(t,x(),i,l),l}finally{oi(o)}}function Mm(n,e,t){const r=n+22,i=x(),s=Tc(i,r);return wh(i,r)?function QV(n,e,t,r,i,s){const o=e+t;return Wn(n,o,i)?Ji(n,o+1,s?r.call(s,i):r(i)):bh(n,o+1)}(i,or(),e,s.transform,t,s):s.transform(t)}function ru(n,e,t,r){const i=n+22,s=x(),o=Tc(s,i);return wh(s,i)?XV(s,or(),e,o.transform,t,r,o):o.transform(t,r)}function wh(n,e){return n[1].data[e].pure}function NE(n){return e=>{setTimeout(n,void 0,e)}}const Pe=class sne extends Fe{constructor(e=!1){super(),this.__isAsync=e}emit(e){super.next(e)}subscribe(e,t,r){let i=e,s=t||(()=>null),o=r;if(e&&"object"==typeof e){const l=e;i=l.next?.bind(l),s=l.error?.bind(l),o=l.complete?.bind(l)}this.__isAsync&&(s=NE(s),i&&(i=NE(i)),o&&(o=NE(o)));const a=super.subscribe({next:i,error:s,complete:o});return e instanceof Rt&&e.add(a),a}};function one(){return this._results[Ya()]()}class iu{constructor(e=!1){this._emitDistinctChangesOnly=e,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const t=Ya(),r=iu.prototype;r[t]||(r[t]=one)}get changes(){return this._changes||(this._changes=new Pe)}get(e){return this._results[e]}map(e){return this._results.map(e)}filter(e){return this._results.filter(e)}find(e){return this._results.find(e)}reduce(e,t){return this._results.reduce(e,t)}forEach(e){this._results.forEach(e)}some(e){return this._results.some(e)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(e,t){const r=this;r.dirty=!1;const i=Ur(e);(this._changesDetected=!function h9(n,e,t){if(n.length!==e.length)return!1;for(let r=0;r<n.length;r++){let i=n[r],s=e[r];if(t&&(i=t(i),s=t(s)),s!==i)return!1}return!0}(r._results,i,t))&&(r._results=i,r.length=i.length,r.last=i[this.length-1],r.first=i[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}let ui=(()=>{class n{}return n.__NG_ELEMENT_ID__=cne,n})();const ane=ui,lne=class extends ane{constructor(e,t,r){super(),this._declarationLView=e,this._declarationTContainer=t,this.elementRef=r}createEmbeddedView(e,t){const r=this._declarationTContainer.tViews,i=fm(this._declarationLView,r,e,16,null,r.declTNode,null,null,null,null,t||null);i[17]=this._declarationLView[this._declarationTContainer.index];const o=this._declarationLView[19];return null!==o&&(i[19]=o.createEmbeddedView(r)),oE(r,i,e),new ch(i)}};function cne(){return xm(sn(),x())}function xm(n,e){return 4&n.type?new lne(e,n,Uc(n,e)):null}let zr=(()=>{class n{}return n.__NG_ELEMENT_ID__=une,n})();function une(){return rB(sn(),x())}const dne=zr,tB=class extends dne{constructor(e,t,r){super(),this._lContainer=e,this._hostTNode=t,this._hostLView=r}get element(){return Uc(this._hostTNode,this._hostLView)}get injector(){return new Mc(this._hostTNode,this._hostLView)}get parentInjector(){const e=Wg(this._hostTNode,this._hostLView);if(XP(e)){const t=Ac(e,this._hostLView),r=Dc(e);return new Mc(t[1].data[r+8],t)}return new Mc(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){const t=nB(this._lContainer);return null!==t&&t[e]||null}get length(){return this._lContainer.length-10}createEmbeddedView(e,t,r){let i,s;"number"==typeof r?i=r:null!=r&&(i=r.index,s=r.injector);const o=e.createEmbeddedView(t||{},s);return this.insert(o,i),o}createComponent(e,t,r,i,s){const o=e&&!function Qd(n){return"function"==typeof n}(e);let a;if(o)a=t;else{const d=t||{};a=d.index,r=d.injector,i=d.projectableNodes,s=d.environmentInjector||d.ngModuleRef}const l=o?e:new uh(Je(e)),c=r||this.parentInjector;if(!s&&null==l.ngModule){const h=(o?c:this.parentInjector).get(Lo,null);h&&(s=h)}const u=l.create(c,i,void 0,s);return this.insert(u.hostView,a),u}insert(e,t){const r=e._lView,i=r[1];if(function PQ(n){return Ti(n[3])}(r)){const u=this.indexOf(e);if(-1!==u)this.detach(u);else{const d=r[3],h=new tB(d,d[6],d[3]);h.detach(h.indexOf(e))}}const s=this._adjustIndex(t),o=this._lContainer;!function cX(n,e,t,r){const i=10+r,s=t.length;r>0&&(t[i-1][4]=e),r<s-10?(e[4]=t[i],lO(t,10+r,e)):(t.push(e),e[4]=null),e[3]=t;const o=e[17];null!==o&&t!==o&&function uX(n,e){const t=n[9];e[16]!==e[3][3][16]&&(n[2]=!0),null===t?n[9]=[e]:t.push(e)}(o,e);const a=e[19];null!==a&&a.insertView(n),e[2]|=64}(i,r,o,s);const a=IC(s,o),l=r[11],c=em(l,o[7]);return null!==c&&function oX(n,e,t,r,i,s){r[0]=i,r[6]=e,sh(n,r,t,1,i,s)}(i,o[6],l,r,c,a),e.attachToViewContainerRef(),lO(PE(o),s,e),e}move(e,t){return this.insert(e,t)}indexOf(e){const t=nB(this._lContainer);return null!==t?t.indexOf(e):-1}remove(e){const t=this._adjustIndex(e,-1),r=wC(this._lContainer,t);r&&(Yg(PE(this._lContainer),t),FO(r[1],r))}detach(e){const t=this._adjustIndex(e,-1),r=wC(this._lContainer,t);return r&&null!=Yg(PE(this._lContainer),t)?new ch(r):null}_adjustIndex(e,t=0){return e??this.length+t}};function nB(n){return n[8]}function PE(n){return n[8]||(n[8]=[])}function rB(n,e){let t;const r=e[n.index];if(Ti(r))t=r;else{let i;if(8&n.type)i=Yt(r);else{const s=e[11];i=s.createComment("");const o=Vr(n,e);za(s,em(s,o),i,function pX(n,e){return n.nextSibling(e)}(s,o),!1)}e[n.index]=t=oL(r,e,i,n),gm(e,t)}return new tB(t,n,e)}class OE{constructor(e){this.queryList=e,this.matches=null}clone(){return new OE(this.queryList)}setDirty(){this.queryList.setDirty()}}class FE{constructor(e=[]){this.queries=e}createEmbeddedView(e){const t=e.queries;if(null!==t){const r=null!==e.contentQueries?e.contentQueries[0]:t.length,i=[];for(let s=0;s<r;s++){const o=t.getByIndex(s);i.push(this.queries[o.indexInDeclarationView].clone())}return new FE(i)}return null}insertView(e){this.dirtyQueriesWithMatches(e)}detachView(e){this.dirtyQueriesWithMatches(e)}dirtyQueriesWithMatches(e){for(let t=0;t<this.queries.length;t++)null!==lB(e,t).matches&&this.queries[t].setDirty()}}class iB{constructor(e,t,r=null){this.predicate=e,this.flags=t,this.read=r}}class LE{constructor(e=[]){this.queries=e}elementStart(e,t){for(let r=0;r<this.queries.length;r++)this.queries[r].elementStart(e,t)}elementEnd(e){for(let t=0;t<this.queries.length;t++)this.queries[t].elementEnd(e)}embeddedTView(e){let t=null;for(let r=0;r<this.length;r++){const i=null!==t?t.length:0,s=this.getByIndex(r).embeddedTView(e,i);s&&(s.indexInDeclarationView=r,null!==t?t.push(s):t=[s])}return null!==t?new LE(t):null}template(e,t){for(let r=0;r<this.queries.length;r++)this.queries[r].template(e,t)}getByIndex(e){return this.queries[e]}get length(){return this.queries.length}track(e){this.queries.push(e)}}class VE{constructor(e,t=-1){this.metadata=e,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=t}elementStart(e,t){this.isApplyingToNode(t)&&this.matchTNode(e,t)}elementEnd(e){this._declarationNodeIndex===e.index&&(this._appliesToNextNode=!1)}template(e,t){this.elementStart(e,t)}embeddedTView(e,t){return this.isApplyingToNode(e)?(this.crossesNgTemplate=!0,this.addMatch(-e.index,t),new VE(this.metadata)):null}isApplyingToNode(e){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const t=this._declarationNodeIndex;let r=e.parent;for(;null!==r&&8&r.type&&r.index!==t;)r=r.parent;return t===(null!==r?r.index:-1)}return this._appliesToNextNode}matchTNode(e,t){const r=this.metadata.predicate;if(Array.isArray(r))for(let i=0;i<r.length;i++){const s=r[i];this.matchTNodeWithReadOption(e,t,pne(t,s)),this.matchTNodeWithReadOption(e,t,Kg(t,e,s,!1,!1))}else r===ui?4&t.type&&this.matchTNodeWithReadOption(e,t,-1):this.matchTNodeWithReadOption(e,t,Kg(t,e,r,!1,!1))}matchTNodeWithReadOption(e,t,r){if(null!==r){const i=this.metadata.read;if(null!==i)if(i===et||i===zr||i===ui&&4&t.type)this.addMatch(t.index,-2);else{const s=Kg(t,e,i,!1,!1);null!==s&&this.addMatch(t.index,s)}else this.addMatch(t.index,r)}}addMatch(e,t){null===this.matches?this.matches=[e,t]:this.matches.push(e,t)}}function pne(n,e){const t=n.localNames;if(null!==t)for(let r=0;r<t.length;r+=2)if(t[r]===e)return t[r+1];return null}function mne(n,e,t,r){return-1===t?function gne(n,e){return 11&n.type?Uc(n,e):4&n.type?xm(n,e):null}(e,n):-2===t?function _ne(n,e,t){return t===et?Uc(e,n):t===ui?xm(e,n):t===zr?rB(e,n):void 0}(n,e,r):Kd(n,n[1],t,e)}function sB(n,e,t,r){const i=e[19].queries[r];if(null===i.matches){const s=n.data,o=t.matches,a=[];for(let l=0;l<o.length;l+=2){const c=o[l];a.push(c<0?null:mne(e,s[c],o[l+1],t.metadata.read))}i.matches=a}return i.matches}function BE(n,e,t,r){const i=n.queries.getByIndex(t),s=i.matches;if(null!==s){const o=sB(n,e,i,t);for(let a=0;a<s.length;a+=2){const l=s[a];if(l>0)r.push(o[a/2]);else{const c=s[a+1],u=e[-l];for(let d=10;d<u.length;d++){const h=u[d];h[17]===h[3]&&BE(h[1],h,c,r)}if(null!==u[9]){const d=u[9];for(let h=0;h<d.length;h++){const f=d[h];BE(f[1],f,c,r)}}}}}return r}function It(n){const e=x(),t=Le(),r=UP();qw(r+1);const i=lB(t,r);if(n.dirty&&function NQ(n){return 4==(4&n[2])}(e)===(2==(2&i.metadata.flags))){if(null===i.matches)n.reset([]);else{const s=i.crossesNgTemplate?BE(t,e,r,[]):sB(t,e,i,r);n.reset(s,lZ),n.notifyOnChanges()}return!0}return!1}function Ho(n,e,t){const r=Le();r.firstCreatePass&&(aB(r,new iB(n,e,t),-1),2==(2&e)&&(r.staticViewQueries=!0)),oB(r,x(),e)}function Kn(n,e,t,r){const i=Le();if(i.firstCreatePass){const s=sn();aB(i,new iB(e,t,r),s.index),function vne(n,e){const t=n.contentQueries||(n.contentQueries=[]);e!==(t.length?t[t.length-1]:-1)&&t.push(n.queries.length-1,e)}(i,n),2==(2&t)&&(i.staticContentQueries=!0)}oB(i,x(),t)}function Tt(){return function yne(n,e){return n[19].queries[e].queryList}(x(),UP())}function oB(n,e,t){const r=new iu(4==(4&t));XF(n,e,r,r.destroy),null===e[19]&&(e[19]=new FE),e[19].queries.push(new OE(r))}function aB(n,e,t){null===n.queries&&(n.queries=new LE),n.queries.track(new VE(e,t))}function lB(n,e){return n.queries.getByIndex(e)}function Ch(n,e){return xm(n,e)}function Rm(...n){}const Ja=new P("Application Initializer");let Nm=(()=>{class n{constructor(t){this.appInits=t,this.resolve=Rm,this.reject=Rm,this.initialized=!1,this.done=!1,this.donePromise=new Promise((r,i)=>{this.resolve=r,this.reject=i})}runInitializers(){if(this.initialized)return;const t=[],r=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let i=0;i<this.appInits.length;i++){const s=this.appInits[i]();if(fh(s))t.push(s);else if(bE(s)){const o=new Promise((a,l)=>{s.subscribe({complete:a,error:l})});t.push(o)}}Promise.all(t).then(()=>{r()}).catch(i=>{this.reject(i)}),0===t.length&&r(),this.initialized=!0}}return n.\u0275fac=function(t){return new(t||n)(w(Ja,8))},n.\u0275prov=F({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const Ih=new P("AppId",{providedIn:"root",factory:function DB(){return`${zE()}${zE()}${zE()}`}});function zE(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const AB=new P("Platform Initializer"),qs=new P("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),MB=new P("appBootstrapListener"),au=new P("AnimationModuleType");let Bne=(()=>{class n{log(t){console.log(t)}warn(t){console.warn(t)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=F({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})();const rs=new P("LocaleId",{providedIn:"root",factory:()=>yt(rs,te.Optional|te.SkipSelf)||function Une(){return typeof $localize<"u"&&$localize.locale||nu}()}),$ne=new P("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});class jne{constructor(e,t){this.ngModuleFactory=e,this.componentFactories=t}}let GE=(()=>{class n{compileModuleSync(t){return new xE(t)}compileModuleAsync(t){return Promise.resolve(this.compileModuleSync(t))}compileModuleAndAllComponentsSync(t){const r=this.compileModuleSync(t),s=$s(Fr(t).declarations).reduce((o,a)=>{const l=Je(a);return l&&o.push(new uh(l)),o},[]);return new jne(r,s)}compileModuleAndAllComponentsAsync(t){return Promise.resolve(this.compileModuleAndAllComponentsSync(t))}clearCache(){}clearCacheFor(t){}getModuleId(t){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=F({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const Gne=(()=>Promise.resolve(0))();function WE(n){typeof Zone>"u"?Gne.then(()=>{n&&n.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",n)}class ie{constructor({enableLongStackTrace:e=!1,shouldCoalesceEventChangeDetection:t=!1,shouldCoalesceRunChangeDetection:r=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Pe(!1),this.onMicrotaskEmpty=new Pe(!1),this.onStable=new Pe(!1),this.onError=new Pe(!1),typeof Zone>"u")throw new M(908,!1);Zone.assertZonePatched();const i=this;if(i._nesting=0,i._outer=i._inner=Zone.current,Zone.AsyncStackTaggingZoneSpec){const s=Zone.AsyncStackTaggingZoneSpec;i._inner=i._inner.fork(new s("Angular"))}Zone.TaskTrackingZoneSpec&&(i._inner=i._inner.fork(new Zone.TaskTrackingZoneSpec)),e&&Zone.longStackTraceZoneSpec&&(i._inner=i._inner.fork(Zone.longStackTraceZoneSpec)),i.shouldCoalesceEventChangeDetection=!r&&t,i.shouldCoalesceRunChangeDetection=r,i.lastRequestAnimationFrameId=-1,i.nativeRequestAnimationFrame=function Wne(){let n=ct.requestAnimationFrame,e=ct.cancelAnimationFrame;if(typeof Zone<"u"&&n&&e){const t=n[Zone.__symbol__("OriginalDelegate")];t&&(n=t);const r=e[Zone.__symbol__("OriginalDelegate")];r&&(e=r)}return{nativeRequestAnimationFrame:n,nativeCancelAnimationFrame:e}}().nativeRequestAnimationFrame,function Yne(n){const e=()=>{!function Kne(n){n.isCheckStableRunning||-1!==n.lastRequestAnimationFrameId||(n.lastRequestAnimationFrameId=n.nativeRequestAnimationFrame.call(ct,()=>{n.fakeTopEventTask||(n.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{n.lastRequestAnimationFrameId=-1,KE(n),n.isCheckStableRunning=!0,qE(n),n.isCheckStableRunning=!1},void 0,()=>{},()=>{})),n.fakeTopEventTask.invoke()}),KE(n))}(n)};n._inner=n._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(t,r,i,s,o,a)=>{try{return RB(n),t.invokeTask(i,s,o,a)}finally{(n.shouldCoalesceEventChangeDetection&&"eventTask"===s.type||n.shouldCoalesceRunChangeDetection)&&e(),NB(n)}},onInvoke:(t,r,i,s,o,a,l)=>{try{return RB(n),t.invoke(i,s,o,a,l)}finally{n.shouldCoalesceRunChangeDetection&&e(),NB(n)}},onHasTask:(t,r,i,s)=>{t.hasTask(i,s),r===i&&("microTask"==s.change?(n._hasPendingMicrotasks=s.microTask,KE(n),qE(n)):"macroTask"==s.change&&(n.hasPendingMacrotasks=s.macroTask))},onHandleError:(t,r,i,s)=>(t.handleError(i,s),n.runOutsideAngular(()=>n.onError.emit(s)),!1)})}(i)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!ie.isInAngularZone())throw new M(909,!1)}static assertNotInAngularZone(){if(ie.isInAngularZone())throw new M(909,!1)}run(e,t,r){return this._inner.run(e,t,r)}runTask(e,t,r,i){const s=this._inner,o=s.scheduleEventTask("NgZoneEvent: "+i,e,qne,Rm,Rm);try{return s.runTask(o,t,r)}finally{s.cancelTask(o)}}runGuarded(e,t,r){return this._inner.runGuarded(e,t,r)}runOutsideAngular(e){return this._outer.run(e)}}const qne={};function qE(n){if(0==n._nesting&&!n.hasPendingMicrotasks&&!n.isStable)try{n._nesting++,n.onMicrotaskEmpty.emit(null)}finally{if(n._nesting--,!n.hasPendingMicrotasks)try{n.runOutsideAngular(()=>n.onStable.emit(null))}finally{n.isStable=!0}}}function KE(n){n.hasPendingMicrotasks=!!(n._hasPendingMicrotasks||(n.shouldCoalesceEventChangeDetection||n.shouldCoalesceRunChangeDetection)&&-1!==n.lastRequestAnimationFrameId)}function RB(n){n._nesting++,n.isStable&&(n.isStable=!1,n.onUnstable.emit(null))}function NB(n){n._nesting--,qE(n)}class Qne{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Pe,this.onMicrotaskEmpty=new Pe,this.onStable=new Pe,this.onError=new Pe}run(e,t,r){return e.apply(t,r)}runGuarded(e,t,r){return e.apply(t,r)}runOutsideAngular(e){return e()}runTask(e,t,r,i){return e.apply(t,r)}}const PB=new P(""),Pm=new P("");let XE,YE=(()=>{class n{constructor(t,r,i){this._ngZone=t,this.registry=r,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,XE||(function Xne(n){XE=n}(i),i.addToWindow(r)),this._watchAngularEvents(),t.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{ie.assertNotInAngularZone(),WE(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())WE(()=>{for(;0!==this._callbacks.length;){let t=this._callbacks.pop();clearTimeout(t.timeoutId),t.doneCb(this._didWork)}this._didWork=!1});else{let t=this.getPendingTasks();this._callbacks=this._callbacks.filter(r=>!r.updateCb||!r.updateCb(t)||(clearTimeout(r.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(t=>({source:t.source,creationLocation:t.creationLocation,data:t.data})):[]}addCallback(t,r,i){let s=-1;r&&r>0&&(s=setTimeout(()=>{this._callbacks=this._callbacks.filter(o=>o.timeoutId!==s),t(this._didWork,this.getPendingTasks())},r)),this._callbacks.push({doneCb:t,timeoutId:s,updateCb:i})}whenStable(t,r,i){if(i&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(t,r,i),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(t){this.registry.registerApplication(t,this)}unregisterApplication(t){this.registry.unregisterApplication(t)}findProviders(t,r,i){return[]}}return n.\u0275fac=function(t){return new(t||n)(w(ie),w(QE),w(Pm))},n.\u0275prov=F({token:n,factory:n.\u0275fac}),n})(),QE=(()=>{class n{constructor(){this._applications=new Map}registerApplication(t,r){this._applications.set(t,r)}unregisterApplication(t){this._applications.delete(t)}unregisterAllApplications(){this._applications.clear()}getTestability(t){return this._applications.get(t)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(t,r=!0){return XE?.findTestabilityInTree(this,t,r)??null}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=F({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})(),zo=null;const OB=new P("AllowMultipleToken"),ZE=new P("PlatformDestroyListeners");class FB{constructor(e,t){this.name=e,this.token=t}}function VB(n,e,t=[]){const r=`Platform: ${e}`,i=new P(r);return(s=[])=>{let o=JE();if(!o||o.injector.get(OB,!1)){const a=[...t,...s,{provide:i,useValue:!0}];n?n(a):function ere(n){if(zo&&!zo.get(OB,!1))throw new M(400,!1);zo=n;const e=n.get(UB);(function LB(n){const e=n.get(AB,null);e&&e.forEach(t=>t())})(n)}(function BB(n=[],e){return Xe.create({name:e,providers:[{provide:LC,useValue:"platform"},{provide:ZE,useValue:new Set([()=>zo=null])},...n]})}(a,r))}return function nre(n){const e=JE();if(!e)throw new M(401,!1);return e}()}}function JE(){return zo?.get(UB)??null}let UB=(()=>{class n{constructor(t){this._injector=t,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(t,r){const i=function jB(n,e){let t;return t="noop"===n?new Qne:("zone.js"===n?void 0:n)||new ie(e),t}(r?.ngZone,function $B(n){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!(!n||!n.ngZoneEventCoalescing)||!1,shouldCoalesceRunChangeDetection:!(!n||!n.ngZoneRunCoalescing)||!1}}(r)),s=[{provide:ie,useValue:i}];return i.run(()=>{const o=Xe.create({providers:s,parent:this.injector,name:t.moduleType.name}),a=t.create(o),l=a.injector.get(Us,null);if(!l)throw new M(402,!1);return i.runOutsideAngular(()=>{const c=i.onError.subscribe({next:u=>{l.handleError(u)}});a.onDestroy(()=>{Om(this._modules,a),c.unsubscribe()})}),function HB(n,e,t){try{const r=t();return fh(r)?r.catch(i=>{throw e.runOutsideAngular(()=>n.handleError(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>n.handleError(r)),r}}(l,i,()=>{const c=a.injector.get(Nm);return c.runInitializers(),c.donePromise.then(()=>(function gV(n){Or(n,"Expected localeId to be defined"),"string"==typeof n&&(pV=n.toLowerCase().replace(/_/g,"-"))}(a.injector.get(rs,nu)||nu),this._moduleDoBootstrap(a),a))})})}bootstrapModule(t,r=[]){const i=zB({},r);return function Zne(n,e,t){const r=new xE(t);return Promise.resolve(r)}(0,0,t).then(s=>this.bootstrapModuleFactory(s,i))}_moduleDoBootstrap(t){const r=t.injector.get(el);if(t._bootstrapComponents.length>0)t._bootstrapComponents.forEach(i=>r.bootstrap(i));else{if(!t.instance.ngDoBootstrap)throw new M(403,!1);t.instance.ngDoBootstrap(r)}this._modules.push(t)}onDestroy(t){this._destroyListeners.push(t)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new M(404,!1);this._modules.slice().forEach(r=>r.destroy()),this._destroyListeners.forEach(r=>r());const t=this._injector.get(ZE,null);t&&(t.forEach(r=>r()),t.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return n.\u0275fac=function(t){return new(t||n)(w(Xe))},n.\u0275prov=F({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})();function zB(n,e){return Array.isArray(e)?e.reduce(zB,n):{...n,...e}}let el=(()=>{class n{constructor(t,r,i){this._zone=t,this._injector=r,this._exceptionHandler=i,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this._destroyed=!1,this._destroyListeners=[],this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const s=new je(a=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{a.next(this._stable),a.complete()})}),o=new je(a=>{let l;this._zone.runOutsideAngular(()=>{l=this._zone.onStable.subscribe(()=>{ie.assertNotInAngularZone(),WE(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,a.next(!0))})})});const c=this._zone.onUnstable.subscribe(()=>{ie.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{a.next(!1)}))});return()=>{l.unsubscribe(),c.unsubscribe()}});this.isStable=vc(s,o.pipe(vP()))}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(t,r){const i=t instanceof mF;if(!this._injector.get(Nm).done)throw!i&&function wc(n){const e=Je(n)||rr(n)||ir(n);return null!==e&&e.standalone}(t),new M(405,false);let o;o=i?t:this._injector.get(Vo).resolveComponentFactory(t),this.componentTypes.push(o.componentType);const a=function Jne(n){return n.isBoundToModule}(o)?void 0:this._injector.get(Za),c=o.create(Xe.NULL,[],r||o.selector,a),u=c.location.nativeElement,d=c.injector.get(PB,null);return d?.registerApplication(u),c.onDestroy(()=>{this.detachView(c.hostView),Om(this.components,c),d?.unregisterApplication(u)}),this._loadComponent(c),c}tick(){if(this._runningTick)throw new M(101,!1);try{this._runningTick=!0;for(let t of this._views)t.detectChanges()}catch(t){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(t))}finally{this._runningTick=!1}}attachView(t){const r=t;this._views.push(r),r.attachToAppRef(this)}detachView(t){const r=t;Om(this._views,r),r.detachFromAppRef()}_loadComponent(t){this.attachView(t.hostView),this.tick(),this.components.push(t),this._injector.get(MB,[]).concat(this._bootstrapListeners).forEach(i=>i(t))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(t=>t()),this._views.slice().forEach(t=>t.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(t){return this._destroyListeners.push(t),()=>Om(this._destroyListeners,t)}destroy(){if(this._destroyed)throw new M(406,!1);const t=this._injector;t.destroy&&!t.destroyed&&t.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return n.\u0275fac=function(t){return new(t||n)(w(ie),w(Lo),w(Us))},n.\u0275prov=F({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function Om(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}let WB=!0,qB=!1,Go=(()=>{class n{}return n.__NG_ELEMENT_ID__=ore,n})();function ore(n){return function are(n,e,t){if(Fg(n)&&!t){const r=Br(n.index,e);return new ch(r,r)}return 47&n.type?new ch(e[16],e):null}(sn(),x(),16==(16&n))}class XB{constructor(){}supports(e){return dh(e)}create(e){return new fre(e)}}const hre=(n,e)=>e;class fre{constructor(e){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=e||hre}forEachItem(e){let t;for(t=this._itHead;null!==t;t=t._next)e(t)}forEachOperation(e){let t=this._itHead,r=this._removalsHead,i=0,s=null;for(;t||r;){const o=!r||t&&t.currentIndex<JB(r,i,s)?t:r,a=JB(o,i,s),l=o.currentIndex;if(o===r)i--,r=r._nextRemoved;else if(t=t._next,null==o.previousIndex)i++;else{s||(s=[]);const c=a-i,u=l-i;if(c!=u){for(let h=0;h<c;h++){const f=h<s.length?s[h]:s[h]=0,p=f+h;u<=p&&p<c&&(s[h]=f+1)}s[o.previousIndex]=u-c}}a!==l&&e(o,a,l)}}forEachPreviousItem(e){let t;for(t=this._previousItHead;null!==t;t=t._nextPrevious)e(t)}forEachAddedItem(e){let t;for(t=this._additionsHead;null!==t;t=t._nextAdded)e(t)}forEachMovedItem(e){let t;for(t=this._movesHead;null!==t;t=t._nextMoved)e(t)}forEachRemovedItem(e){let t;for(t=this._removalsHead;null!==t;t=t._nextRemoved)e(t)}forEachIdentityChange(e){let t;for(t=this._identityChangesHead;null!==t;t=t._nextIdentityChange)e(t)}diff(e){if(null==e&&(e=[]),!dh(e))throw new M(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let i,s,o,t=this._itHead,r=!1;if(Array.isArray(e)){this.length=e.length;for(let a=0;a<this.length;a++)s=e[a],o=this._trackByFn(a,s),null!==t&&Object.is(t.trackById,o)?(r&&(t=this._verifyReinsertion(t,s,o,a)),Object.is(t.item,s)||this._addIdentityChange(t,s)):(t=this._mismatch(t,s,o,a),r=!0),t=t._next}else i=0,function GJ(n,e){if(Array.isArray(n))for(let t=0;t<n.length;t++)e(n[t]);else{const t=n[Ya()]();let r;for(;!(r=t.next()).done;)e(r.value)}}(e,a=>{o=this._trackByFn(i,a),null!==t&&Object.is(t.trackById,o)?(r&&(t=this._verifyReinsertion(t,a,o,i)),Object.is(t.item,a)||this._addIdentityChange(t,a)):(t=this._mismatch(t,a,o,i),r=!0),t=t._next,i++}),this.length=i;return this._truncate(t),this.collection=e,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;null!==e;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;null!==e;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,t,r,i){let s;return null===e?s=this._itTail:(s=e._prev,this._remove(e)),null!==(e=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null))?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._reinsertAfter(e,s,i)):null!==(e=null===this._linkedRecords?null:this._linkedRecords.get(r,i))?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._moveAfter(e,s,i)):e=this._addAfter(new pre(t,r),s,i),e}_verifyReinsertion(e,t,r,i){let s=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null);return null!==s?e=this._reinsertAfter(s,e._prev,i):e.currentIndex!=i&&(e.currentIndex=i,this._addToMoves(e,i)),e}_truncate(e){for(;null!==e;){const t=e._next;this._addToRemovals(this._unlink(e)),e=t}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,t,r){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(e);const i=e._prevRemoved,s=e._nextRemoved;return null===i?this._removalsHead=s:i._nextRemoved=s,null===s?this._removalsTail=i:s._prevRemoved=i,this._insertAfter(e,t,r),this._addToMoves(e,r),e}_moveAfter(e,t,r){return this._unlink(e),this._insertAfter(e,t,r),this._addToMoves(e,r),e}_addAfter(e,t,r){return this._insertAfter(e,t,r),this._additionsTail=null===this._additionsTail?this._additionsHead=e:this._additionsTail._nextAdded=e,e}_insertAfter(e,t,r){const i=null===t?this._itHead:t._next;return e._next=i,e._prev=t,null===i?this._itTail=e:i._prev=e,null===t?this._itHead=e:t._next=e,null===this._linkedRecords&&(this._linkedRecords=new ZB),this._linkedRecords.put(e),e.currentIndex=r,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){null!==this._linkedRecords&&this._linkedRecords.remove(e);const t=e._prev,r=e._next;return null===t?this._itHead=r:t._next=r,null===r?this._itTail=t:r._prev=t,e}_addToMoves(e,t){return e.previousIndex===t||(this._movesTail=null===this._movesTail?this._movesHead=e:this._movesTail._nextMoved=e),e}_addToRemovals(e){return null===this._unlinkedRecords&&(this._unlinkedRecords=new ZB),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,t){return e.item=t,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=e:this._identityChangesTail._nextIdentityChange=e,e}}class pre{constructor(e,t){this.item=e,this.trackById=t,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class gre{constructor(){this._head=null,this._tail=null}add(e){null===this._head?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,t){let r;for(r=this._head;null!==r;r=r._nextDup)if((null===t||t<=r.currentIndex)&&Object.is(r.trackById,e))return r;return null}remove(e){const t=e._prevDup,r=e._nextDup;return null===t?this._head=r:t._nextDup=r,null===r?this._tail=t:r._prevDup=t,null===this._head}}class ZB{constructor(){this.map=new Map}put(e){const t=e.trackById;let r=this.map.get(t);r||(r=new gre,this.map.set(t,r)),r.add(e)}get(e,t){const i=this.map.get(e);return i?i.get(e,t):null}remove(e){const t=e.trackById;return this.map.get(t).remove(e)&&this.map.delete(t),e}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function JB(n,e,t){const r=n.previousIndex;if(null===r)return r;let i=0;return t&&r<t.length&&(i=t[r]),r+e+i}class e2{constructor(){}supports(e){return e instanceof Map||yE(e)}create(){return new mre}}class mre{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(e){let t;for(t=this._mapHead;null!==t;t=t._next)e(t)}forEachPreviousItem(e){let t;for(t=this._previousMapHead;null!==t;t=t._nextPrevious)e(t)}forEachChangedItem(e){let t;for(t=this._changesHead;null!==t;t=t._nextChanged)e(t)}forEachAddedItem(e){let t;for(t=this._additionsHead;null!==t;t=t._nextAdded)e(t)}forEachRemovedItem(e){let t;for(t=this._removalsHead;null!==t;t=t._nextRemoved)e(t)}diff(e){if(e){if(!(e instanceof Map||yE(e)))throw new M(900,!1)}else e=new Map;return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let t=this._mapHead;if(this._appendAfter=null,this._forEach(e,(r,i)=>{if(t&&t.key===i)this._maybeAddToChanges(t,r),this._appendAfter=t,t=t._next;else{const s=this._getOrCreateRecordForKey(i,r);t=this._insertBeforeOrAppend(t,s)}}),t){t._prev&&(t._prev._next=null),this._removalsHead=t;for(let r=t;null!==r;r=r._nextRemoved)r===this._mapHead&&(this._mapHead=null),this._records.delete(r.key),r._nextRemoved=r._next,r.previousValue=r.currentValue,r.currentValue=null,r._prev=null,r._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(e,t){if(e){const r=e._prev;return t._next=e,t._prev=r,e._prev=t,r&&(r._next=t),e===this._mapHead&&(this._mapHead=t),this._appendAfter=e,e}return this._appendAfter?(this._appendAfter._next=t,t._prev=this._appendAfter):this._mapHead=t,this._appendAfter=t,null}_getOrCreateRecordForKey(e,t){if(this._records.has(e)){const i=this._records.get(e);this._maybeAddToChanges(i,t);const s=i._prev,o=i._next;return s&&(s._next=o),o&&(o._prev=s),i._next=null,i._prev=null,i}const r=new _re(e);return this._records.set(e,r),r.currentValue=t,this._addToAdditions(r),r}_reset(){if(this.isDirty){let e;for(this._previousMapHead=this._mapHead,e=this._previousMapHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._changesHead;null!==e;e=e._nextChanged)e.previousValue=e.currentValue;for(e=this._additionsHead;null!=e;e=e._nextAdded)e.previousValue=e.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(e,t){Object.is(t,e.currentValue)||(e.previousValue=e.currentValue,e.currentValue=t,this._addToChanges(e))}_addToAdditions(e){null===this._additionsHead?this._additionsHead=this._additionsTail=e:(this._additionsTail._nextAdded=e,this._additionsTail=e)}_addToChanges(e){null===this._changesHead?this._changesHead=this._changesTail=e:(this._changesTail._nextChanged=e,this._changesTail=e)}_forEach(e,t){e instanceof Map?e.forEach(t):Object.keys(e).forEach(r=>t(e[r],r))}}class _re{constructor(e){this.key=e,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function t2(){return new Vm([new XB])}let Vm=(()=>{class n{constructor(t){this.factories=t}static create(t,r){if(null!=r){const i=r.factories.slice();t=t.concat(i)}return new n(t)}static extend(t){return{provide:n,useFactory:r=>n.create(t,r||t2()),deps:[[n,new Fc,new Ce]]}}find(t){const r=this.factories.find(i=>i.supports(t));if(null!=r)return r;throw new M(901,!1)}}return n.\u0275prov=F({token:n,providedIn:"root",factory:t2}),n})();function n2(){return new Th([new e2])}let Th=(()=>{class n{constructor(t){this.factories=t}static create(t,r){if(r){const i=r.factories.slice();t=t.concat(i)}return new n(t)}static extend(t){return{provide:n,useFactory:r=>n.create(t,r||n2()),deps:[[n,new Fc,new Ce]]}}find(t){const r=this.factories.find(i=>i.supports(t));if(r)return r;throw new M(901,!1)}}return n.\u0275prov=F({token:n,providedIn:"root",factory:n2}),n})();const bre=VB(null,"core",[]);let wre=(()=>{class n{constructor(t){}}return n.\u0275fac=function(t){return new(t||n)(w(el))},n.\u0275mod=ue({type:n}),n.\u0275inj=ce({}),n})();function Ys(n){return"boolean"==typeof n?n:null!=n&&"false"!==n}let Bm=null;function is(){return Bm}const Ee=new P("DocumentToken");let s0=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=F({token:n,factory:function(){return function Tre(){return w(r2)}()},providedIn:"platform"}),n})();const Sre=new P("Location Initialized");let r2=(()=>{class n extends s0{constructor(t){super(),this._doc=t,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return is().getBaseHref(this._doc)}onPopState(t){const r=is().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",t,!1),()=>r.removeEventListener("popstate",t)}onHashChange(t){const r=is().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",t,!1),()=>r.removeEventListener("hashchange",t)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(t){this.location.pathname=t}pushState(t,r,i){s2()?this._history.pushState(t,r,i):this.location.hash=i}replaceState(t,r,i){s2()?this._history.replaceState(t,r,i):this.location.hash=i}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}}return n.\u0275fac=function(t){return new(t||n)(w(Ee))},n.\u0275prov=F({token:n,factory:function(){return function Dre(){return new r2(w(Ee))}()},providedIn:"platform"}),n})();function s2(){return!!window.history.pushState}function o0(n,e){if(0==n.length)return e;if(0==e.length)return n;let t=0;return n.endsWith("/")&&t++,e.startsWith("/")&&t++,2==t?n+e.substring(1):1==t?n+e:n+"/"+e}function o2(n){const e=n.match(/#|\?|$/),t=e&&e.index||n.length;return n.slice(0,t-("/"===n[t-1]?1:0))+n.slice(t)}function Qs(n){return n&&"?"!==n[0]?"?"+n:n}let nl=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=F({token:n,factory:function(){return yt(l2)},providedIn:"root"}),n})();const a2=new P("appBaseHref");let l2=(()=>{class n extends nl{constructor(t,r){super(),this._platformLocation=t,this._removeListenerFns=[],this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??yt(Ee).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return o0(this._baseHref,t)}path(t=!1){const r=this._platformLocation.pathname+Qs(this._platformLocation.search),i=this._platformLocation.hash;return i&&t?`${r}${i}`:r}pushState(t,r,i,s){const o=this.prepareExternalUrl(i+Qs(s));this._platformLocation.pushState(t,r,o)}replaceState(t,r,i,s){const o=this.prepareExternalUrl(i+Qs(s));this._platformLocation.replaceState(t,r,o)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}}return n.\u0275fac=function(t){return new(t||n)(w(s0),w(a2,8))},n.\u0275prov=F({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Are=(()=>{class n extends nl{constructor(t,r){super(),this._platformLocation=t,this._baseHref="",this._removeListenerFns=[],null!=r&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}path(t=!1){let r=this._platformLocation.hash;return null==r&&(r="#"),r.length>0?r.substring(1):r}prepareExternalUrl(t){const r=o0(this._baseHref,t);return r.length>0?"#"+r:r}pushState(t,r,i,s){let o=this.prepareExternalUrl(i+Qs(s));0==o.length&&(o=this._platformLocation.pathname),this._platformLocation.pushState(t,r,o)}replaceState(t,r,i,s){let o=this.prepareExternalUrl(i+Qs(s));0==o.length&&(o=this._platformLocation.pathname),this._platformLocation.replaceState(t,r,o)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}}return n.\u0275fac=function(t){return new(t||n)(w(s0),w(a2,8))},n.\u0275prov=F({token:n,factory:n.\u0275fac}),n})(),Um=(()=>{class n{constructor(t){this._subject=new Pe,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=t;const r=this._locationStrategy.getBaseHref();this._baseHref=o2(c2(r)),this._locationStrategy.onPopState(i=>{this._subject.emit({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(t=!1){return this.normalize(this._locationStrategy.path(t))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(t,r=""){return this.path()==this.normalize(t+Qs(r))}normalize(t){return n.stripTrailingSlash(function xre(n,e){return n&&e.startsWith(n)?e.substring(n.length):e}(this._baseHref,c2(t)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._locationStrategy.prepareExternalUrl(t)}go(t,r="",i=null){this._locationStrategy.pushState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+Qs(r)),i)}replaceState(t,r="",i=null){this._locationStrategy.replaceState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+Qs(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(t=0){this._locationStrategy.historyGo?.(t)}onUrlChange(t){return this._urlChangeListeners.push(t),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)})),()=>{const r=this._urlChangeListeners.indexOf(t);this._urlChangeListeners.splice(r,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(t="",r){this._urlChangeListeners.forEach(i=>i(t,r))}subscribe(t,r,i){return this._subject.subscribe({next:t,error:r,complete:i})}}return n.normalizeQueryParams=Qs,n.joinWithSlash=o0,n.stripTrailingSlash=o2,n.\u0275fac=function(t){return new(t||n)(w(nl))},n.\u0275prov=F({token:n,factory:function(){return function Mre(){return new Um(w(nl))}()},providedIn:"root"}),n})();function c2(n){return n.replace(/\/index.html$/,"")}const u2={ADP:[void 0,void 0,0],AFN:[void 0,"\u060b",0],ALL:[void 0,void 0,0],AMD:[void 0,"\u058f",2],AOA:[void 0,"Kz"],ARS:[void 0,"$"],AUD:["A$","$"],AZN:[void 0,"\u20bc"],BAM:[void 0,"KM"],BBD:[void 0,"$"],BDT:[void 0,"\u09f3"],BHD:[void 0,void 0,3],BIF:[void 0,void 0,0],BMD:[void 0,"$"],BND:[void 0,"$"],BOB:[void 0,"Bs"],BRL:["R$"],BSD:[void 0,"$"],BWP:[void 0,"P"],BYN:[void 0,void 0,2],BYR:[void 0,void 0,0],BZD:[void 0,"$"],CAD:["CA$","$",2],CHF:[void 0,void 0,2],CLF:[void 0,void 0,4],CLP:[void 0,"$",0],CNY:["CN\xa5","\xa5"],COP:[void 0,"$",2],CRC:[void 0,"\u20a1",2],CUC:[void 0,"$"],CUP:[void 0,"$"],CZK:[void 0,"K\u010d",2],DJF:[void 0,void 0,0],DKK:[void 0,"kr",2],DOP:[void 0,"$"],EGP:[void 0,"E\xa3"],ESP:[void 0,"\u20a7",0],EUR:["\u20ac"],FJD:[void 0,"$"],FKP:[void 0,"\xa3"],GBP:["\xa3"],GEL:[void 0,"\u20be"],GHS:[void 0,"GH\u20b5"],GIP:[void 0,"\xa3"],GNF:[void 0,"FG",0],GTQ:[void 0,"Q"],GYD:[void 0,"$",2],HKD:["HK$","$"],HNL:[void 0,"L"],HRK:[void 0,"kn"],HUF:[void 0,"Ft",2],IDR:[void 0,"Rp",2],ILS:["\u20aa"],INR:["\u20b9"],IQD:[void 0,void 0,0],IRR:[void 0,void 0,0],ISK:[void 0,"kr",0],ITL:[void 0,void 0,0],JMD:[void 0,"$"],JOD:[void 0,void 0,3],JPY:["\xa5",void 0,0],KHR:[void 0,"\u17db"],KMF:[void 0,"CF",0],KPW:[void 0,"\u20a9",0],KRW:["\u20a9",void 0,0],KWD:[void 0,void 0,3],KYD:[void 0,"$"],KZT:[void 0,"\u20b8"],LAK:[void 0,"\u20ad",0],LBP:[void 0,"L\xa3",0],LKR:[void 0,"Rs"],LRD:[void 0,"$"],LTL:[void 0,"Lt"],LUF:[void 0,void 0,0],LVL:[void 0,"Ls"],LYD:[void 0,void 0,3],MGA:[void 0,"Ar",0],MGF:[void 0,void 0,0],MMK:[void 0,"K",0],MNT:[void 0,"\u20ae",2],MRO:[void 0,void 0,0],MUR:[void 0,"Rs",2],MXN:["MX$","$"],MYR:[void 0,"RM"],NAD:[void 0,"$"],NGN:[void 0,"\u20a6"],NIO:[void 0,"C$"],NOK:[void 0,"kr",2],NPR:[void 0,"Rs"],NZD:["NZ$","$"],OMR:[void 0,void 0,3],PHP:["\u20b1"],PKR:[void 0,"Rs",2],PLN:[void 0,"z\u0142"],PYG:[void 0,"\u20b2",0],RON:[void 0,"lei"],RSD:[void 0,void 0,0],RUB:[void 0,"\u20bd"],RWF:[void 0,"RF",0],SBD:[void 0,"$"],SEK:[void 0,"kr",2],SGD:[void 0,"$"],SHP:[void 0,"\xa3"],SLE:[void 0,void 0,2],SLL:[void 0,void 0,0],SOS:[void 0,void 0,0],SRD:[void 0,"$"],SSP:[void 0,"\xa3"],STD:[void 0,void 0,0],STN:[void 0,"Db"],SYP:[void 0,"\xa3",0],THB:[void 0,"\u0e3f"],TMM:[void 0,void 0,0],TND:[void 0,void 0,3],TOP:[void 0,"T$"],TRL:[void 0,void 0,0],TRY:[void 0,"\u20ba"],TTD:[void 0,"$"],TWD:["NT$","$",2],TZS:[void 0,void 0,2],UAH:[void 0,"\u20b4"],UGX:[void 0,void 0,0],USD:["$"],UYI:[void 0,void 0,0],UYU:[void 0,"$"],UYW:[void 0,void 0,4],UZS:[void 0,void 0,2],VEF:[void 0,"Bs",2],VND:["\u20ab",void 0,0],VUV:[void 0,void 0,0],XAF:["FCFA",void 0,0],XCD:["EC$","$"],XOF:["F\u202fCFA",void 0,0],XPF:["CFPF",void 0,0],XXX:["\xa4"],YER:[void 0,void 0,0],ZAR:[void 0,"R"],ZMK:[void 0,void 0,0],ZMW:[void 0,"ZK"],ZWD:[void 0,void 0,0]};var Er=(()=>((Er=Er||{})[Er.Decimal=0]="Decimal",Er[Er.Percent=1]="Percent",Er[Er.Currency=2]="Currency",Er[Er.Scientific=3]="Scientific",Er))(),J=(()=>((J=J||{})[J.Decimal=0]="Decimal",J[J.Group=1]="Group",J[J.List=2]="List",J[J.PercentSign=3]="PercentSign",J[J.PlusSign=4]="PlusSign",J[J.MinusSign=5]="MinusSign",J[J.Exponential=6]="Exponential",J[J.SuperscriptingExponent=7]="SuperscriptingExponent",J[J.PerMille=8]="PerMille",J[J.Infinity=9]="Infinity",J[J.NaN=10]="NaN",J[J.TimeSeparator=11]="TimeSeparator",J[J.CurrencyDecimal=12]="CurrencyDecimal",J[J.CurrencyGroup=13]="CurrencyGroup",J))();function di(n,e){const t=ur(n),r=t[z.NumberSymbols][e];if(typeof r>"u"){if(e===J.CurrencyDecimal)return t[z.NumberSymbols][J.Decimal];if(e===J.CurrencyGroup)return t[z.NumberSymbols][J.Group]}return r}function a0(n,e){return ur(n)[z.NumberFormats][e]}const nie=/^(\d+)?\.((\d+)(-(\d+))?)?$/;function h0(n,e,t,r,i,s,o=!1){let a="",l=!1;if(isFinite(n)){let c=function uie(n){let r,i,s,o,a,e=Math.abs(n)+"",t=0;for((i=e.indexOf("."))>-1&&(e=e.replace(".","")),(s=e.search(/e/i))>0?(i<0&&(i=s),i+=+e.slice(s+1),e=e.substring(0,s)):i<0&&(i=e.length),s=0;"0"===e.charAt(s);s++);if(s===(a=e.length))r=[0],i=1;else{for(a--;"0"===e.charAt(a);)a--;for(i-=s,r=[],o=0;s<=a;s++,o++)r[o]=Number(e.charAt(s))}return i>22&&(r=r.splice(0,21),t=i-1,i=1),{digits:r,exponent:t,integerLen:i}}(n);o&&(c=function cie(n){if(0===n.digits[0])return n;const e=n.digits.length-n.integerLen;return n.exponent?n.exponent+=2:(0===e?n.digits.push(0,0):1===e&&n.digits.push(0),n.integerLen+=2),n}(c));let u=e.minInt,d=e.minFrac,h=e.maxFrac;if(s){const C=s.match(nie);if(null===C)throw new Error(`${s} is not a valid digit info`);const y=C[1],D=C[3],O=C[5];null!=y&&(u=p0(y)),null!=D&&(d=p0(D)),null!=O?h=p0(O):null!=D&&d>h&&(h=d)}!function die(n,e,t){if(e>t)throw new Error(`The minimum number of digits after fraction (${e}) is higher than the maximum (${t}).`);let r=n.digits,i=r.length-n.integerLen;const s=Math.min(Math.max(e,i),t);let o=s+n.integerLen,a=r[o];if(o>0){r.splice(Math.max(n.integerLen,o));for(let d=o;d<r.length;d++)r[d]=0}else{i=Math.max(0,i),n.integerLen=1,r.length=Math.max(1,o=s+1),r[0]=0;for(let d=1;d<o;d++)r[d]=0}if(a>=5)if(o-1<0){for(let d=0;d>o;d--)r.unshift(0),n.integerLen++;r.unshift(1),n.integerLen++}else r[o-1]++;for(;i<Math.max(0,s);i++)r.push(0);let l=0!==s;const c=e+n.integerLen,u=r.reduceRight(function(d,h,f,p){return p[f]=(h+=d)<10?h:h-10,l&&(0===p[f]&&f>=c?p.pop():l=!1),h>=10?1:0},0);u&&(r.unshift(u),n.integerLen++)}(c,d,h);let f=c.digits,p=c.integerLen;const g=c.exponent;let m=[];for(l=f.every(C=>!C);p<u;p++)f.unshift(0);for(;p<0;p++)f.unshift(0);p>0?m=f.splice(p,f.length):(m=f,f=[0]);const v=[];for(f.length>=e.lgSize&&v.unshift(f.splice(-e.lgSize,f.length).join(""));f.length>e.gSize;)v.unshift(f.splice(-e.gSize,f.length).join(""));f.length&&v.unshift(f.join("")),a=v.join(di(t,r)),m.length&&(a+=di(t,i)+m.join("")),g&&(a+=di(t,J.Exponential)+"+"+g)}else a=di(t,J.Infinity);return a=n<0&&!l?e.negPre+a+e.negSuf:e.posPre+a+e.posSuf,a}function f0(n,e="-"){const t={minInt:1,minFrac:0,maxFrac:0,posPre:"",posSuf:"",negPre:"",negSuf:"",gSize:0,lgSize:0},r=n.split(";"),i=r[0],s=r[1],o=-1!==i.indexOf(".")?i.split("."):[i.substring(0,i.lastIndexOf("0")+1),i.substring(i.lastIndexOf("0")+1)],a=o[0],l=o[1]||"";t.posPre=a.substring(0,a.indexOf("#"));for(let u=0;u<l.length;u++){const d=l.charAt(u);"0"===d?t.minFrac=t.maxFrac=u+1:"#"===d?t.maxFrac=u+1:t.posSuf+=d}const c=a.split(",");if(t.gSize=c[1]?c[1].length:0,t.lgSize=c[2]||c[1]?(c[2]||c[1]).length:0,s){const u=i.length-t.posPre.length-t.posSuf.length,d=s.indexOf("#");t.negPre=s.substring(0,d).replace(/'/g,""),t.negSuf=s.slice(d+u).replace(/'/g,"")}else t.negPre=e+t.posPre,t.negSuf=t.posSuf;return t}function p0(n){const e=parseInt(n);if(isNaN(e))throw new Error("Invalid integer literal when parsing "+n);return e}function y2(n,e){e=encodeURIComponent(e);for(const t of n.split(";")){const r=t.indexOf("="),[i,s]=-1==r?[t,""]:[t.slice(0,r),t.slice(r+1)];if(i.trim()===e)return decodeURIComponent(s)}return null}let m0=(()=>{class n{constructor(t,r,i,s){this._iterableDiffers=t,this._keyValueDiffers=r,this._ngEl=i,this._renderer=s,this._iterableDiffer=null,this._keyValueDiffer=null,this._initialClasses=[],this._rawClass=null}set klass(t){this._removeClasses(this._initialClasses),this._initialClasses="string"==typeof t?t.split(/\s+/):[],this._applyClasses(this._initialClasses),this._applyClasses(this._rawClass)}set ngClass(t){this._removeClasses(this._rawClass),this._applyClasses(this._initialClasses),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof t?t.split(/\s+/):t,this._rawClass&&(dh(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())}ngDoCheck(){if(this._iterableDiffer){const t=this._iterableDiffer.diff(this._rawClass);t&&this._applyIterableChanges(t)}else if(this._keyValueDiffer){const t=this._keyValueDiffer.diff(this._rawClass);t&&this._applyKeyValueChanges(t)}}_applyKeyValueChanges(t){t.forEachAddedItem(r=>this._toggleClass(r.key,r.currentValue)),t.forEachChangedItem(r=>this._toggleClass(r.key,r.currentValue)),t.forEachRemovedItem(r=>{r.previousValue&&this._toggleClass(r.key,!1)})}_applyIterableChanges(t){t.forEachAddedItem(r=>{if("string"!=typeof r.item)throw new Error(`NgClass can only toggle CSS classes expressed as strings, got ${it(r.item)}`);this._toggleClass(r.item,!0)}),t.forEachRemovedItem(r=>this._toggleClass(r.item,!1))}_applyClasses(t){t&&(Array.isArray(t)||t instanceof Set?t.forEach(r=>this._toggleClass(r,!0)):Object.keys(t).forEach(r=>this._toggleClass(r,!!t[r])))}_removeClasses(t){t&&(Array.isArray(t)||t instanceof Set?t.forEach(r=>this._toggleClass(r,!1)):Object.keys(t).forEach(r=>this._toggleClass(r,!1)))}_toggleClass(t,r){(t=t.trim())&&t.split(/\s+/g).forEach(i=>{r?this._renderer.addClass(this._ngEl.nativeElement,i):this._renderer.removeClass(this._ngEl.nativeElement,i)})}}return n.\u0275fac=function(t){return new(t||n)(b(Vm),b(Th),b(et),b(Di))},n.\u0275dir=q({type:n,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"},standalone:!0}),n})();class pie{constructor(e,t,r,i){this.$implicit=e,this.ngForOf=t,this.index=r,this.count=i}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let Ah=(()=>{class n{constructor(t,r,i){this._viewContainer=t,this._template=r,this._differs=i,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const t=this._ngForOf;!this._differ&&t&&(this._differ=this._differs.find(t).create(this.ngForTrackBy))}if(this._differ){const t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){const r=this._viewContainer;t.forEachOperation((i,s,o)=>{if(null==i.previousIndex)r.createEmbeddedView(this._template,new pie(i.item,this._ngForOf,-1,-1),null===o?void 0:o);else if(null==o)r.remove(null===s?void 0:s);else if(null!==s){const a=r.get(s);r.move(a,o),w2(a,i)}});for(let i=0,s=r.length;i<s;i++){const a=r.get(i).context;a.index=i,a.count=s,a.ngForOf=this._ngForOf}t.forEachIdentityChange(i=>{w2(r.get(i.currentIndex),i)})}static ngTemplateContextGuard(t,r){return!0}}return n.\u0275fac=function(t){return new(t||n)(b(zr),b(ui),b(Vm))},n.\u0275dir=q({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0}),n})();function w2(n,e){n.context.$implicit=e.item}let Oi=(()=>{class n{constructor(t,r){this._viewContainer=t,this._context=new mie,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=r}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){C2("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){C2("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,r){return!0}}return n.\u0275fac=function(t){return new(t||n)(b(zr),b(ui))},n.\u0275dir=q({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),n})();class mie{constructor(){this.$implicit=null,this.ngIf=null}}function C2(n,e){if(e&&!e.createEmbeddedView)throw new Error(`${n} must be a TemplateRef, but received '${it(e)}'.`)}class _0{constructor(e,t){this._viewContainerRef=e,this._templateRef=t,this._created=!1}create(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}destroy(){this._created=!1,this._viewContainerRef.clear()}enforceState(e){e&&!this._created?this.create():!e&&this._created&&this.destroy()}}let Mh=(()=>{class n{constructor(){this._defaultUsed=!1,this._caseCount=0,this._lastCaseCheckIndex=0,this._lastCasesMatched=!1}set ngSwitch(t){this._ngSwitch=t,0===this._caseCount&&this._updateDefaultCases(!0)}_addCase(){return this._caseCount++}_addDefault(t){this._defaultViews||(this._defaultViews=[]),this._defaultViews.push(t)}_matchCase(t){const r=t==this._ngSwitch;return this._lastCasesMatched=this._lastCasesMatched||r,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),r}_updateDefaultCases(t){if(this._defaultViews&&t!==this._defaultUsed){this._defaultUsed=t;for(let r=0;r<this._defaultViews.length;r++)this._defaultViews[r].enforceState(t)}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=q({type:n,selectors:[["","ngSwitch",""]],inputs:{ngSwitch:"ngSwitch"},standalone:!0}),n})(),y0=(()=>{class n{constructor(t,r,i){this.ngSwitch=i,i._addCase(),this._view=new _0(t,r)}ngDoCheck(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}}return n.\u0275fac=function(t){return new(t||n)(b(zr),b(ui),b(Mh,9))},n.\u0275dir=q({type:n,selectors:[["","ngSwitchCase",""]],inputs:{ngSwitchCase:"ngSwitchCase"},standalone:!0}),n})(),v0=(()=>{class n{constructor(t,r,i){this._ngEl=t,this._differs=r,this._renderer=i,this._ngStyle=null,this._differ=null}set ngStyle(t){this._ngStyle=t,!this._differ&&t&&(this._differ=this._differs.find(t).create())}ngDoCheck(){if(this._differ){const t=this._differ.diff(this._ngStyle);t&&this._applyChanges(t)}}_setStyle(t,r){const[i,s]=t.split("."),o=-1===i.indexOf("-")?void 0:Cr.DashCase;null!=r?this._renderer.setStyle(this._ngEl.nativeElement,i,s?`${r}${s}`:r,o):this._renderer.removeStyle(this._ngEl.nativeElement,i,o)}_applyChanges(t){t.forEachRemovedItem(r=>this._setStyle(r.key,null)),t.forEachAddedItem(r=>this._setStyle(r.key,r.currentValue)),t.forEachChangedItem(r=>this._setStyle(r.key,r.currentValue))}}return n.\u0275fac=function(t){return new(t||n)(b(et),b(Th),b(Di))},n.\u0275dir=q({type:n,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"},standalone:!0}),n})();function Fi(n,e){return new M(2100,!1)}class bie{createSubscription(e,t){return e.subscribe({next:t,error:r=>{throw r}})}dispose(e){e.unsubscribe()}}class wie{createSubscription(e,t){return e.then(t,r=>{throw r})}dispose(e){}}const Cie=new wie,Eie=new bie;let Qm=(()=>{class n{constructor(t){this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null,this._ref=t}ngOnDestroy(){this._subscription&&this._dispose(),this._ref=null}transform(t){return this._obj?t!==this._obj?(this._dispose(),this.transform(t)):this._latestValue:(t&&this._subscribe(t),this._latestValue)}_subscribe(t){this._obj=t,this._strategy=this._selectStrategy(t),this._subscription=this._strategy.createSubscription(t,r=>this._updateLatestValue(t,r))}_selectStrategy(t){if(fh(t))return Cie;if(CL(t))return Eie;throw Fi()}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(t,r){t===this._obj&&(this._latestValue=r,this._ref.markForCheck())}}return n.\u0275fac=function(t){return new(t||n)(b(Go,16))},n.\u0275pipe=jn({name:"async",type:n,pure:!1,standalone:!0}),n})(),T2=(()=>{class n{constructor(t){this._locale=t}transform(t,r,i){if(!b0(t))return null;i=i||this._locale;try{return function lie(n,e,t){return h0(n,f0(a0(e,Er.Decimal),di(e,J.MinusSign)),e,J.Group,J.Decimal,t)}(w0(t),i,r)}catch(s){throw Fi()}}}return n.\u0275fac=function(t){return new(t||n)(b(rs,16))},n.\u0275pipe=jn({name:"number",type:n,pure:!0,standalone:!0}),n})(),S2=(()=>{class n{constructor(t,r="USD"){this._locale=t,this._defaultCurrencyCode=r}transform(t,r=this._defaultCurrencyCode,i="symbol",s,o){if(!b0(t))return null;o=o||this._locale,"boolean"==typeof i&&(i=i?"symbol":"code");let a=r||this._defaultCurrencyCode;"code"!==i&&(a="symbol"===i||"symbol-narrow"===i?function Ure(n,e,t="en"){const r=function Fre(n){return ur(n)[z.Currencies]}(t)[n]||u2[n]||[],i=r[1];return"narrow"===e&&"string"==typeof i?i:r[0]||n}(a,"symbol"===i?"wide":"narrow",o):i);try{return function oie(n,e,t,r,i){const o=f0(a0(e,Er.Currency),di(e,J.MinusSign));return o.minFrac=function jre(n){let e;const t=u2[n];return t&&(e=t[2]),"number"==typeof e?e:2}(r),o.maxFrac=o.minFrac,h0(n,o,e,J.CurrencyGroup,J.CurrencyDecimal,i).replace("\xa4",t).replace("\xa4","").trim()}(w0(t),o,a,r,s)}catch(l){throw Fi()}}}return n.\u0275fac=function(t){return new(t||n)(b(rs,16),b($ne,16))},n.\u0275pipe=jn({name:"currency",type:n,pure:!0,standalone:!0}),n})();function b0(n){return!(null==n||""===n||n!=n)}function w0(n){if("string"==typeof n&&!isNaN(Number(n)-parseFloat(n)))return Number(n);if("number"!=typeof n)throw new Error(`${n} is not a number`);return n}let Xm=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=ue({type:n}),n.\u0275inj=ce({}),n})();const D2="browser";function C0(n){return n===D2}let jie=(()=>{class n{}return n.\u0275prov=F({token:n,providedIn:"root",factory:()=>new Hie(w(Ee),window)}),n})();class Hie{constructor(e,t){this.document=e,this.window=t,this.offset=()=>[0,0]}setOffset(e){this.offset=Array.isArray(e)?()=>e:e}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(e){this.supportsScrolling()&&this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){if(!this.supportsScrolling())return;const t=function zie(n,e){const t=n.getElementById(e)||n.getElementsByName(e)[0];if(t)return t;if("function"==typeof n.createTreeWalker&&n.body&&(n.body.createShadowRoot||n.body.attachShadow)){const r=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT);let i=r.currentNode;for(;i;){const s=i.shadowRoot;if(s){const o=s.getElementById(e)||s.querySelector(`[name="${e}"]`);if(o)return o}i=r.nextNode()}}return null}(this.document,e);t&&(this.scrollToElement(t),t.focus())}setHistoryScrollRestoration(e){if(this.supportScrollRestoration()){const t=this.window.history;t&&t.scrollRestoration&&(t.scrollRestoration=e)}}scrollToElement(e){const t=e.getBoundingClientRect(),r=t.left+this.window.pageXOffset,i=t.top+this.window.pageYOffset,s=this.offset();this.window.scrollTo(r-s[0],i-s[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const e=A2(this.window.history)||A2(Object.getPrototypeOf(this.window.history));return!(!e||!e.writable&&!e.set)}catch{return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}function A2(n){return Object.getOwnPropertyDescriptor(n,"scrollRestoration")}class M2{}class T0 extends class lse extends class Ire{}{constructor(){super(...arguments),this.supportsDOMEvents=!0}}{static makeCurrent(){!function Ere(n){Bm||(Bm=n)}(new T0)}onAndCancel(e,t,r){return e.addEventListener(t,r,!1),()=>{e.removeEventListener(t,r,!1)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,t){return(t=t||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return"window"===t?window:"document"===t?e:"body"===t?e.body:null}getBaseHref(e){const t=function cse(){return kh=kh||document.querySelector("base"),kh?kh.getAttribute("href"):null}();return null==t?null:function use(n){Jm=Jm||document.createElement("a"),Jm.setAttribute("href",n);const e=Jm.pathname;return"/"===e.charAt(0)?e:`/${e}`}(t)}resetBaseElement(){kh=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return y2(document.cookie,e)}}let Jm,kh=null;const N2=new P("TRANSITION_ID"),hse=[{provide:Ja,useFactory:function dse(n,e,t){return()=>{t.get(Nm).donePromise.then(()=>{const r=is(),i=e.querySelectorAll(`style[ng-transition="${n}"]`);for(let s=0;s<i.length;s++)r.remove(i[s])})}},deps:[N2,Ee,Xe],multi:!0}];let pse=(()=>{class n{build(){return new XMLHttpRequest}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=F({token:n,factory:n.\u0275fac}),n})();const e_=new P("EventManagerPlugins");let t_=(()=>{class n{constructor(t,r){this._zone=r,this._eventNameToPlugin=new Map,t.forEach(i=>i.manager=this),this._plugins=t.slice().reverse()}addEventListener(t,r,i){return this._findPluginFor(r).addEventListener(t,r,i)}addGlobalEventListener(t,r,i){return this._findPluginFor(r).addGlobalEventListener(t,r,i)}getZone(){return this._zone}_findPluginFor(t){const r=this._eventNameToPlugin.get(t);if(r)return r;const i=this._plugins;for(let s=0;s<i.length;s++){const o=i[s];if(o.supports(t))return this._eventNameToPlugin.set(t,o),o}throw new Error(`No event manager plugin found for event ${t}`)}}return n.\u0275fac=function(t){return new(t||n)(w(e_),w(ie))},n.\u0275prov=F({token:n,factory:n.\u0275fac}),n})();class P2{constructor(e){this._doc=e}addGlobalEventListener(e,t,r){const i=is().getGlobalEventTarget(this._doc,e);if(!i)throw new Error(`Unsupported event target ${i} for event ${t}`);return this.addEventListener(i,t,r)}}let O2=(()=>{class n{constructor(){this._stylesSet=new Set}addStyles(t){const r=new Set;t.forEach(i=>{this._stylesSet.has(i)||(this._stylesSet.add(i),r.add(i))}),this.onStylesAdded(r)}onStylesAdded(t){}getAllStyles(){return Array.from(this._stylesSet)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=F({token:n,factory:n.\u0275fac}),n})(),Rh=(()=>{class n extends O2{constructor(t){super(),this._doc=t,this._hostNodes=new Map,this._hostNodes.set(t.head,[])}_addStylesToHost(t,r,i){t.forEach(s=>{const o=this._doc.createElement("style");o.textContent=s,i.push(r.appendChild(o))})}addHost(t){const r=[];this._addStylesToHost(this._stylesSet,t,r),this._hostNodes.set(t,r)}removeHost(t){const r=this._hostNodes.get(t);r&&r.forEach(F2),this._hostNodes.delete(t)}onStylesAdded(t){this._hostNodes.forEach((r,i)=>{this._addStylesToHost(t,i,r)})}ngOnDestroy(){this._hostNodes.forEach(t=>t.forEach(F2))}}return n.\u0275fac=function(t){return new(t||n)(w(Ee))},n.\u0275prov=F({token:n,factory:n.\u0275fac}),n})();function F2(n){is().remove(n)}const S0={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},D0=/%COMP%/g;function n_(n,e,t){for(let r=0;r<e.length;r++){let i=e[r];Array.isArray(i)?n_(n,i,t):(i=i.replace(D0,n),t.push(i))}return t}function B2(n){return e=>{if("__ngUnwrap__"===e)return n;!1===n(e)&&(e.preventDefault(),e.returnValue=!1)}}let r_=(()=>{class n{constructor(t,r,i){this.eventManager=t,this.sharedStylesHost=r,this.appId=i,this.rendererByCompId=new Map,this.defaultRenderer=new A0(t)}createRenderer(t,r){if(!t||!r)return this.defaultRenderer;switch(r.encapsulation){case Ei.Emulated:{let i=this.rendererByCompId.get(r.id);return i||(i=new bse(this.eventManager,this.sharedStylesHost,r,this.appId),this.rendererByCompId.set(r.id,i)),i.applyToHost(t),i}case 1:case Ei.ShadowDom:return new wse(this.eventManager,this.sharedStylesHost,t,r);default:if(!this.rendererByCompId.has(r.id)){const i=n_(r.id,r.styles,[]);this.sharedStylesHost.addStyles(i),this.rendererByCompId.set(r.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return n.\u0275fac=function(t){return new(t||n)(w(t_),w(Rh),w(Ih))},n.\u0275prov=F({token:n,factory:n.\u0275fac}),n})();class A0{constructor(e){this.eventManager=e,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(e,t){return t?document.createElementNS(S0[t]||t,e):document.createElement(e)}createComment(e){return document.createComment(e)}createText(e){return document.createTextNode(e)}appendChild(e,t){($2(e)?e.content:e).appendChild(t)}insertBefore(e,t,r){e&&($2(e)?e.content:e).insertBefore(t,r)}removeChild(e,t){e&&e.removeChild(t)}selectRootElement(e,t){let r="string"==typeof e?document.querySelector(e):e;if(!r)throw new Error(`The selector "${e}" did not match any elements`);return t||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,r,i){if(i){t=i+":"+t;const s=S0[i];s?e.setAttributeNS(s,t,r):e.setAttribute(t,r)}else e.setAttribute(t,r)}removeAttribute(e,t,r){if(r){const i=S0[r];i?e.removeAttributeNS(i,t):e.removeAttribute(`${r}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,r,i){i&(Cr.DashCase|Cr.Important)?e.style.setProperty(t,r,i&Cr.Important?"important":""):e.style[t]=r}removeStyle(e,t,r){r&Cr.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,r){e[t]=r}setValue(e,t){e.nodeValue=t}listen(e,t,r){return"string"==typeof e?this.eventManager.addGlobalEventListener(e,t,B2(r)):this.eventManager.addEventListener(e,t,B2(r))}}function $2(n){return"TEMPLATE"===n.tagName&&void 0!==n.content}class bse extends A0{constructor(e,t,r,i){super(e),this.component=r;const s=n_(i+"-"+r.id,r.styles,[]);t.addStyles(s),this.contentAttr=function _se(n){return"_ngcontent-%COMP%".replace(D0,n)}(i+"-"+r.id),this.hostAttr=function yse(n){return"_nghost-%COMP%".replace(D0,n)}(i+"-"+r.id)}applyToHost(e){super.setAttribute(e,this.hostAttr,"")}createElement(e,t){const r=super.createElement(e,t);return super.setAttribute(r,this.contentAttr,""),r}}class wse extends A0{constructor(e,t,r,i){super(e),this.sharedStylesHost=t,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const s=n_(i.id,i.styles,[]);for(let o=0;o<s.length;o++){const a=document.createElement("style");a.textContent=s[o],this.shadowRoot.appendChild(a)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,r){return super.insertBefore(this.nodeOrShadowRoot(e),t,r)}removeChild(e,t){return super.removeChild(this.nodeOrShadowRoot(e),t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}}let Cse=(()=>{class n extends P2{constructor(t){super(t)}supports(t){return!0}addEventListener(t,r,i){return t.addEventListener(r,i,!1),()=>this.removeEventListener(t,r,i)}removeEventListener(t,r,i){return t.removeEventListener(r,i)}}return n.\u0275fac=function(t){return new(t||n)(w(Ee))},n.\u0275prov=F({token:n,factory:n.\u0275fac}),n})();const j2=["alt","control","meta","shift"],Ese={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Ise={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let Tse=(()=>{class n extends P2{constructor(t){super(t)}supports(t){return null!=n.parseEventName(t)}addEventListener(t,r,i){const s=n.parseEventName(r),o=n.eventCallback(s.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>is().onAndCancel(t,s.domEventName,o))}static parseEventName(t){const r=t.toLowerCase().split("."),i=r.shift();if(0===r.length||"keydown"!==i&&"keyup"!==i)return null;const s=n._normalizeKey(r.pop());let o="",a=r.indexOf("code");if(a>-1&&(r.splice(a,1),o="code."),j2.forEach(c=>{const u=r.indexOf(c);u>-1&&(r.splice(u,1),o+=c+".")}),o+=s,0!=r.length||0===s.length)return null;const l={};return l.domEventName=i,l.fullKey=o,l}static matchEventFullKeyCode(t,r){let i=Ese[t.key]||t.key,s="";return r.indexOf("code.")>-1&&(i=t.code,s="code."),!(null==i||!i)&&(i=i.toLowerCase()," "===i?i="space":"."===i&&(i="dot"),j2.forEach(o=>{o!==i&&(0,Ise[o])(t)&&(s+=o+".")}),s+=i,s===r)}static eventCallback(t,r,i){return s=>{n.matchEventFullKeyCode(s,t)&&i.runGuarded(()=>r(s))}}static _normalizeKey(t){return"esc"===t?"escape":t}}return n.\u0275fac=function(t){return new(t||n)(w(Ee))},n.\u0275prov=F({token:n,factory:n.\u0275fac}),n})();const z2=[{provide:qs,useValue:D2},{provide:AB,useValue:function Sse(){T0.makeCurrent()},multi:!0},{provide:Ee,useFactory:function Ase(){return function wX(n){MC=n}(document),document},deps:[]}],Mse=VB(bre,"browser",z2),G2=new P(""),W2=[{provide:Pm,useClass:class fse{addToWindow(e){ct.getAngularTestability=(r,i=!0)=>{const s=e.findTestabilityInTree(r,i);if(null==s)throw new Error("Could not find testability for element.");return s},ct.getAllAngularTestabilities=()=>e.getAllTestabilities(),ct.getAllAngularRootElements=()=>e.getAllRootElements(),ct.frameworkStabilizers||(ct.frameworkStabilizers=[]),ct.frameworkStabilizers.push(r=>{const i=ct.getAllAngularTestabilities();let s=i.length,o=!1;const a=function(l){o=o||l,s--,0==s&&r(o)};i.forEach(function(l){l.whenStable(a)})})}findTestabilityInTree(e,t,r){return null==t?null:e.getTestability(t)??(r?is().isShadowRoot(t)?this.findTestabilityInTree(e,t.host,!0):this.findTestabilityInTree(e,t.parentElement,!0):null)}},deps:[]},{provide:PB,useClass:YE,deps:[ie,QE,Pm]},{provide:YE,useClass:YE,deps:[ie,QE,Pm]}],q2=[{provide:LC,useValue:"root"},{provide:Us,useFactory:function Dse(){return new Us},deps:[]},{provide:e_,useClass:Cse,multi:!0,deps:[Ee,ie,qs]},{provide:e_,useClass:Tse,multi:!0,deps:[Ee]},{provide:r_,useClass:r_,deps:[t_,Rh,Ih]},{provide:lh,useExisting:r_},{provide:O2,useExisting:Rh},{provide:Rh,useClass:Rh,deps:[Ee]},{provide:t_,useClass:t_,deps:[e_,ie]},{provide:M2,useClass:pse,deps:[]},[]];let K2=(()=>{class n{constructor(t){}static withServerTransition(t){return{ngModule:n,providers:[{provide:Ih,useValue:t.appId},{provide:N2,useExisting:Ih},hse]}}}return n.\u0275fac=function(t){return new(t||n)(w(G2,12))},n.\u0275mod=ue({type:n}),n.\u0275inj=ce({providers:[...q2,...W2],imports:[Xm,wre]}),n})(),x0=(()=>{class n{constructor(t){this._doc=t}getTitle(){return this._doc.title}setTitle(t){this._doc.title=t||""}}return n.\u0275fac=function(t){return new(t||n)(w(Ee))},n.\u0275prov=F({token:n,factory:function(t){let r=null;return r=t?new t:function kse(){return new x0(w(Ee))}(),r},providedIn:"root"}),n})();typeof window<"u"&&window;let R0=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=F({token:n,factory:function(t){let r=null;return r=t?new(t||n):w(X2),r},providedIn:"root"}),n})(),X2=(()=>{class n extends R0{constructor(t){super(),this._doc=t}sanitize(t,r){if(null==r)return null;switch(t){case qe.NONE:return r;case qe.HTML:return Xi(r,"HTML")?jr(r):iF(this._doc,String(r)).toString();case qe.STYLE:return Xi(r,"Style")?jr(r):r;case qe.SCRIPT:if(Xi(r,"Script"))return jr(r);throw new Error("unsafe value used in a script context");case qe.URL:return Xi(r,"URL")?jr(r):sm(String(r));case qe.RESOURCE_URL:if(Xi(r,"ResourceURL"))return jr(r);throw new Error("unsafe value used in a resource URL context (see https://g.co/ng/security#xss)");default:throw new Error(`Unexpected SecurityContext ${t} (see https://g.co/ng/security#xss)`)}}bypassSecurityTrustHtml(t){return function AX(n){return new CX(n)}(t)}bypassSecurityTrustStyle(t){return function MX(n){return new EX(n)}(t)}bypassSecurityTrustScript(t){return function xX(n){return new IX(n)}(t)}bypassSecurityTrustUrl(t){return function kX(n){return new TX(n)}(t)}bypassSecurityTrustResourceUrl(t){return function RX(n){return new SX(n)}(t)}}return n.\u0275fac=function(t){return new(t||n)(w(Ee))},n.\u0275prov=F({token:n,factory:function(t){let r=null;return r=t?new t:function Vse(n){return new X2(n.get(Ee))}(w(Xe)),r},providedIn:"root"}),n})();function G(...n){return at(n,Vd(n))}class fi extends Fe{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){const t=super._subscribe(e);return!t.closed&&e.next(this._value),t}getValue(){const{hasError:e,thrownError:t,_value:r}=this;if(e)throw t;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}}const i_=Fd(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"}),{isArray:Bse}=Array,{getPrototypeOf:Use,prototype:$se,keys:jse}=Object;function Z2(n){if(1===n.length){const e=n[0];if(Bse(e))return{args:e,keys:null};if(function Hse(n){return n&&"object"==typeof n&&Use(n)===$se}(e)){const t=jse(e);return{args:t.map(r=>e[r]),keys:t}}}return{args:n,keys:null}}const{isArray:zse}=Array;function N0(n){return ee(e=>function Gse(n,e){return zse(e)?n(...e):n(e)}(n,e))}function J2(n,e){return n.reduce((t,r,i)=>(t[r]=e[i],t),{})}function eU(...n){const e=Vd(n),t=_P(n),{args:r,keys:i}=Z2(n);if(0===r.length)return at([],e);const s=new je(function Wse(n,e,t=Ro){return r=>{tU(e,()=>{const{length:i}=n,s=new Array(i);let o=i,a=i;for(let l=0;l<i;l++)tU(e,()=>{const c=at(n[l],e);let u=!1;c.subscribe(tt(r,d=>{s[l]=d,u||(u=!0,a--),a||r.next(t(s.slice()))},()=>{--o||r.complete()}))},r)},r)}}(r,e,i?o=>J2(i,o):Ro));return t?s.pipe(N0(t)):s}function tU(n,e,t){n?Rs(t,n,e):e()}function s_(...n){return function qse(){return yc(1)}()(at(n,Vd(n)))}function P0(n){return new je(e=>{An(n()).subscribe(e)})}function lu(n,e){const t=Ue(n)?n:()=>n,r=i=>i.error(t());return new je(e?i=>e.schedule(r,0,i):r)}function O0(){return gt((n,e)=>{let t=null;n._refCount++;const r=tt(e,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount)return void(t=null);const i=n._connection,s=t;t=null,i&&(!s||i===s)&&i.unsubscribe(),e.unsubscribe()});n.subscribe(r),r.closed||(t=n.connect())})}class nU extends je{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,eP(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new Rt;const t=this.getSubject();e.add(this.source.subscribe(tt(t,void 0,()=>{this._teardown(),t.complete()},r=>{this._teardown(),t.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=Rt.EMPTY)}return e}refCount(){return O0()(this)}}function xn(n,e){return gt((t,r)=>{let i=null,s=0,o=!1;const a=()=>o&&!i&&r.complete();t.subscribe(tt(r,l=>{i?.unsubscribe();let c=0;const u=s++;An(n(l,u)).subscribe(i=tt(r,d=>r.next(e?e(l,d,u,c++):d),()=>{i=null,a()}))},()=>{o=!0,a()}))})}function Ir(n){return n<=0?()=>Ki:gt((e,t)=>{let r=0;e.subscribe(tt(t,i=>{++r<=n&&(t.next(i),n<=r&&t.complete())}))})}function qo(...n){const e=Vd(n);return gt((t,r)=>{(e?s_(n,t,e):s_(n,t)).subscribe(r)})}function cn(n,e){return gt((t,r)=>{let i=0;t.subscribe(tt(r,s=>n.call(e,s,i++)&&r.next(s)))})}function o_(n){return gt((e,t)=>{let r=!1;e.subscribe(tt(t,i=>{r=!0,t.next(i)},()=>{r||t.next(n),t.complete()}))})}function rU(n=Kse){return gt((e,t)=>{let r=!1;e.subscribe(tt(t,i=>{r=!0,t.next(i)},()=>r?t.complete():t.error(n())))})}function Kse(){return new i_}function Ko(n,e){const t=arguments.length>=2;return r=>r.pipe(n?cn((i,s)=>n(i,s,r)):Ro,Ir(1),t?o_(e):rU(()=>new i_))}function ss(n,e){return Ue(e)?Kt(n,e,1):Kt(n,1)}function Ot(n,e,t){const r=Ue(n)||e||t?{next:n,error:e,complete:t}:n;return r?gt((i,s)=>{var o;null===(o=r.subscribe)||void 0===o||o.call(r);let a=!0;i.subscribe(tt(s,l=>{var c;null===(c=r.next)||void 0===c||c.call(r,l),s.next(l)},()=>{var l;a=!1,null===(l=r.complete)||void 0===l||l.call(r),s.complete()},l=>{var c;a=!1,null===(c=r.error)||void 0===c||c.call(r,l),s.error(l)},()=>{var l,c;a&&(null===(l=r.unsubscribe)||void 0===l||l.call(r)),null===(c=r.finalize)||void 0===c||c.call(r)}))}):Ro}function Zs(n){return gt((e,t)=>{let s,r=null,i=!1;r=e.subscribe(tt(t,void 0,void 0,o=>{s=An(n(o,Zs(n)(e))),r?(r.unsubscribe(),r=null,s.subscribe(t)):i=!0})),i&&(r.unsubscribe(),r=null,s.subscribe(t))})}function Yse(n,e,t,r,i){return(s,o)=>{let a=t,l=e,c=0;s.subscribe(tt(o,u=>{const d=c++;l=a?n(l,u,d):(a=!0,u),r&&o.next(l)},i&&(()=>{a&&o.next(l),o.complete()})))}}function iU(n,e){return gt(Yse(n,e,arguments.length>=2,!0))}function F0(n){return n<=0?()=>Ki:gt((e,t)=>{let r=[];e.subscribe(tt(t,i=>{r.push(i),n<r.length&&r.shift()},()=>{for(const i of r)t.next(i);t.complete()},void 0,()=>{r=null}))})}function sU(n,e){const t=arguments.length>=2;return r=>r.pipe(n?cn((i,s)=>n(i,s,r)):Ro,F0(1),t?o_(e):rU(()=>new i_))}function oU(n){return ee(()=>n)}function a_(n){return gt((e,t)=>{try{e.subscribe(t)}finally{t.add(n)}})}const Ie="primary",Nh=Symbol("RouteTitle");class Xse{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}}function cu(n){return new Xse(n)}function Zse(n,e,t){const r=t.path.split("/");if(r.length>n.length||"full"===t.pathMatch&&(e.hasChildren()||r.length<n.length))return null;const i={};for(let s=0;s<r.length;s++){const o=r[s],a=n[s];if(o.startsWith(":"))i[o.substring(1)]=a;else if(o!==a.path)return null}return{consumed:n.slice(0,r.length),posParams:i}}function os(n,e){const t=n?Object.keys(n):void 0,r=e?Object.keys(e):void 0;if(!t||!r||t.length!=r.length)return!1;let i;for(let s=0;s<t.length;s++)if(i=t[s],!aU(n[i],e[i]))return!1;return!0}function aU(n,e){if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;const t=[...n].sort(),r=[...e].sort();return t.every((i,s)=>r[s]===i)}return n===e}function lU(n){return Array.prototype.concat.apply([],n)}function cU(n){return n.length>0?n[n.length-1]:null}function kn(n,e){for(const t in n)n.hasOwnProperty(t)&&e(n[t],t)}function Yo(n){return bE(n)?n:fh(n)?at(Promise.resolve(n)):G(n)}const toe={exact:function hU(n,e,t){if(!il(n.segments,e.segments)||!l_(n.segments,e.segments,t)||n.numberOfChildren!==e.numberOfChildren)return!1;for(const r in e.children)if(!n.children[r]||!hU(n.children[r],e.children[r],t))return!1;return!0},subset:fU},uU={exact:function noe(n,e){return os(n,e)},subset:function roe(n,e){return Object.keys(e).length<=Object.keys(n).length&&Object.keys(e).every(t=>aU(n[t],e[t]))},ignored:()=>!0};function dU(n,e,t){return toe[t.paths](n.root,e.root,t.matrixParams)&&uU[t.queryParams](n.queryParams,e.queryParams)&&!("exact"===t.fragment&&n.fragment!==e.fragment)}function fU(n,e,t){return pU(n,e,e.segments,t)}function pU(n,e,t,r){if(n.segments.length>t.length){const i=n.segments.slice(0,t.length);return!(!il(i,t)||e.hasChildren()||!l_(i,t,r))}if(n.segments.length===t.length){if(!il(n.segments,t)||!l_(n.segments,t,r))return!1;for(const i in e.children)if(!n.children[i]||!fU(n.children[i],e.children[i],r))return!1;return!0}{const i=t.slice(0,n.segments.length),s=t.slice(n.segments.length);return!!(il(n.segments,i)&&l_(n.segments,i,r)&&n.children[Ie])&&pU(n.children[Ie],e,s,r)}}function l_(n,e,t){return e.every((r,i)=>uU[t](n[i].parameters,r.parameters))}class rl{constructor(e,t,r){this.root=e,this.queryParams=t,this.fragment=r}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=cu(this.queryParams)),this._queryParamMap}toString(){return ooe.serialize(this)}}class xe{constructor(e,t){this.segments=e,this.children=t,this.parent=null,kn(t,(r,i)=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return c_(this)}}class Ph{constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap||(this._parameterMap=cu(this.parameters)),this._parameterMap}toString(){return yU(this)}}function il(n,e){return n.length===e.length&&n.every((t,r)=>t.path===e[r].path)}let gU=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=F({token:n,factory:function(){return new V0},providedIn:"root"}),n})();class V0{parse(e){const t=new goe(e);return new rl(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){const t=`/${Oh(e.root,!0)}`,r=function coe(n){const e=Object.keys(n).map(t=>{const r=n[t];return Array.isArray(r)?r.map(i=>`${u_(t)}=${u_(i)}`).join("&"):`${u_(t)}=${u_(r)}`}).filter(t=>!!t);return e.length?`?${e.join("&")}`:""}(e.queryParams);return`${t}${r}${"string"==typeof e.fragment?`#${function aoe(n){return encodeURI(n)}(e.fragment)}`:""}`}}const ooe=new V0;function c_(n){return n.segments.map(e=>yU(e)).join("/")}function Oh(n,e){if(!n.hasChildren())return c_(n);if(e){const t=n.children[Ie]?Oh(n.children[Ie],!1):"",r=[];return kn(n.children,(i,s)=>{s!==Ie&&r.push(`${s}:${Oh(i,!1)}`)}),r.length>0?`${t}(${r.join("//")})`:t}{const t=function soe(n,e){let t=[];return kn(n.children,(r,i)=>{i===Ie&&(t=t.concat(e(r,i)))}),kn(n.children,(r,i)=>{i!==Ie&&(t=t.concat(e(r,i)))}),t}(n,(r,i)=>i===Ie?[Oh(n.children[Ie],!1)]:[`${i}:${Oh(r,!1)}`]);return 1===Object.keys(n.children).length&&null!=n.children[Ie]?`${c_(n)}/${t[0]}`:`${c_(n)}/(${t.join("//")})`}}function mU(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function u_(n){return mU(n).replace(/%3B/gi,";")}function B0(n){return mU(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function d_(n){return decodeURIComponent(n)}function _U(n){return d_(n.replace(/\+/g,"%20"))}function yU(n){return`${B0(n.path)}${function loe(n){return Object.keys(n).map(e=>`;${B0(e)}=${B0(n[e])}`).join("")}(n.parameters)}`}const uoe=/^[^\/()?;=#]+/;function h_(n){const e=n.match(uoe);return e?e[0]:""}const doe=/^[^=?&#]+/,foe=/^[^&#]+/;class goe{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new xe([],{}):new xe([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(r[Ie]=new xe(e,t)),r}parseSegment(){const e=h_(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new M(4009,!1);return this.capture(e),new Ph(d_(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const t=h_(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const i=h_(this.remaining);i&&(r=i,this.capture(r))}e[d_(t)]=d_(r)}parseQueryParam(e){const t=function hoe(n){const e=n.match(doe);return e?e[0]:""}(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const o=function poe(n){const e=n.match(foe);return e?e[0]:""}(this.remaining);o&&(r=o,this.capture(r))}const i=_U(t),s=_U(r);if(e.hasOwnProperty(i)){let o=e[i];Array.isArray(o)||(o=[o],e[i]=o),o.push(s)}else e[i]=s}parseParens(e){const t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const r=h_(this.remaining),i=this.remaining[r.length];if("/"!==i&&")"!==i&&";"!==i)throw new M(4010,!1);let s;r.indexOf(":")>-1?(s=r.slice(0,r.indexOf(":")),this.capture(s),this.capture(":")):e&&(s=Ie);const o=this.parseChildren();t[s]=1===Object.keys(o).length?o[Ie]:new xe([],o),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new M(4011,!1)}}function U0(n){return n.segments.length>0?new xe([],{[Ie]:n}):n}function f_(n){const e={};for(const r of Object.keys(n.children)){const s=f_(n.children[r]);(s.segments.length>0||s.hasChildren())&&(e[r]=s)}return function moe(n){if(1===n.numberOfChildren&&n.children[Ie]){const e=n.children[Ie];return new xe(n.segments.concat(e.segments),e.children)}return n}(new xe(n.segments,e))}function sl(n){return n instanceof rl}function voe(n,e,t,r,i){if(0===t.length)return uu(e.root,e.root,e.root,r,i);const s=function wU(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new bU(!0,0,n);let e=0,t=!1;const r=n.reduce((i,s,o)=>{if("object"==typeof s&&null!=s){if(s.outlets){const a={};return kn(s.outlets,(l,c)=>{a[c]="string"==typeof l?l.split("/"):l}),[...i,{outlets:a}]}if(s.segmentPath)return[...i,s.segmentPath]}return"string"!=typeof s?[...i,s]:0===o?(s.split("/").forEach((a,l)=>{0==l&&"."===a||(0==l&&""===a?t=!0:".."===a?e++:""!=a&&i.push(a))}),i):[...i,s]},[]);return new bU(t,e,r)}(t);return s.toRoot()?uu(e.root,e.root,new xe([],{}),r,i):function o(l){const c=function woe(n,e,t,r){if(n.isAbsolute)return new du(e.root,!0,0);if(-1===r)return new du(t,t===e.root,0);return function CU(n,e,t){let r=n,i=e,s=t;for(;s>i;){if(s-=i,r=r.parent,!r)throw new M(4005,!1);i=r.segments.length}return new du(r,!1,i-s)}(t,r+(Fh(n.commands[0])?0:1),n.numberOfDoubleDots)}(s,e,n.snapshot?._urlSegment,l),u=c.processChildren?Vh(c.segmentGroup,c.index,s.commands):j0(c.segmentGroup,c.index,s.commands);return uu(e.root,c.segmentGroup,u,r,i)}(n.snapshot?._lastPathIndex)}function Fh(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function Lh(n){return"object"==typeof n&&null!=n&&n.outlets}function uu(n,e,t,r,i){let o,s={};r&&kn(r,(l,c)=>{s[c]=Array.isArray(l)?l.map(u=>`${u}`):`${l}`}),o=n===e?t:vU(n,e,t);const a=U0(f_(o));return new rl(a,s,i)}function vU(n,e,t){const r={};return kn(n.children,(i,s)=>{r[s]=i===e?t:vU(i,e,t)}),new xe(n.segments,r)}class bU{constructor(e,t,r){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=r,e&&r.length>0&&Fh(r[0]))throw new M(4003,!1);const i=r.find(Lh);if(i&&i!==cU(r))throw new M(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class du{constructor(e,t,r){this.segmentGroup=e,this.processChildren=t,this.index=r}}function j0(n,e,t){if(n||(n=new xe([],{})),0===n.segments.length&&n.hasChildren())return Vh(n,e,t);const r=function Eoe(n,e,t){let r=0,i=e;const s={match:!1,pathIndex:0,commandIndex:0};for(;i<n.segments.length;){if(r>=t.length)return s;const o=n.segments[i],a=t[r];if(Lh(a))break;const l=`${a}`,c=r<t.length-1?t[r+1]:null;if(i>0&&void 0===l)break;if(l&&c&&"object"==typeof c&&void 0===c.outlets){if(!IU(l,c,o))return s;r+=2}else{if(!IU(l,{},o))return s;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(n,e,t),i=t.slice(r.commandIndex);if(r.match&&r.pathIndex<n.segments.length){const s=new xe(n.segments.slice(0,r.pathIndex),{});return s.children[Ie]=new xe(n.segments.slice(r.pathIndex),n.children),Vh(s,0,i)}return r.match&&0===i.length?new xe(n.segments,{}):r.match&&!n.hasChildren()?H0(n,e,t):r.match?Vh(n,0,i):H0(n,e,t)}function Vh(n,e,t){if(0===t.length)return new xe(n.segments,{});{const r=function Coe(n){return Lh(n[0])?n[0].outlets:{[Ie]:n}}(t),i={};return kn(r,(s,o)=>{"string"==typeof s&&(s=[s]),null!==s&&(i[o]=j0(n.children[o],e,s))}),kn(n.children,(s,o)=>{void 0===r[o]&&(i[o]=s)}),new xe(n.segments,i)}}function H0(n,e,t){const r=n.segments.slice(0,e);let i=0;for(;i<t.length;){const s=t[i];if(Lh(s)){const l=Ioe(s.outlets);return new xe(r,l)}if(0===i&&Fh(t[0])){r.push(new Ph(n.segments[e].path,EU(t[0]))),i++;continue}const o=Lh(s)?s.outlets[Ie]:`${s}`,a=i<t.length-1?t[i+1]:null;o&&a&&Fh(a)?(r.push(new Ph(o,EU(a))),i+=2):(r.push(new Ph(o,{})),i++)}return new xe(r,{})}function Ioe(n){const e={};return kn(n,(t,r)=>{"string"==typeof t&&(t=[t]),null!==t&&(e[r]=H0(new xe([],{}),0,t))}),e}function EU(n){const e={};return kn(n,(t,r)=>e[r]=`${t}`),e}function IU(n,e,t){return n==t.path&&os(e,t.parameters)}class Js{constructor(e,t){this.id=e,this.url=t}}class z0 extends Js{constructor(e,t,r="imperative",i=null){super(e,t),this.type=0,this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class ol extends Js{constructor(e,t,r){super(e,t),this.urlAfterRedirects=r,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class p_ extends Js{constructor(e,t,r,i){super(e,t),this.reason=r,this.code=i,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class TU extends Js{constructor(e,t,r,i){super(e,t),this.error=r,this.target=i,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class Toe extends Js{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Soe extends Js{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Doe extends Js{constructor(e,t,r,i,s){super(e,t),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=s,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class Aoe extends Js{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Moe extends Js{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class xoe{constructor(e){this.route=e,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class koe{constructor(e){this.route=e,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class Roe{constructor(e){this.snapshot=e,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Noe{constructor(e){this.snapshot=e,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Poe{constructor(e){this.snapshot=e,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class SU{constructor(e){this.snapshot=e,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class DU{constructor(e,t,r){this.routerEvent=e,this.position=t,this.anchor=r,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class AU{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){const t=G0(e,this._root);return t?t.children.map(r=>r.value):[]}firstChild(e){const t=G0(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){const t=W0(e,this._root);return t.length<2?[]:t[t.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return W0(e,this._root).map(t=>t.value)}}function G0(n,e){if(n===e.value)return e;for(const t of e.children){const r=G0(n,t);if(r)return r}return null}function W0(n,e){if(n===e.value)return[e];for(const t of e.children){const r=W0(n,t);if(r.length)return r.unshift(e),r}return[]}class eo{constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}}function hu(n){const e={};return n&&n.children.forEach(t=>e[t.value.outlet]=t),e}class MU extends AU{constructor(e,t){super(e),this.snapshot=t,q0(this,e)}toString(){return this.snapshot.toString()}}function xU(n,e){const t=function Foe(n,e){const o=new g_([],{},{},"",{},Ie,e,null,n.root,-1,{});return new RU("",new eo(o,[]))}(n,e),r=new fi([new Ph("",{})]),i=new fi({}),s=new fi({}),o=new fi({}),a=new fi(""),l=new al(r,i,o,a,s,Ie,e,t.root);return l.snapshot=t.root,new MU(new eo(l,[]),t)}class al{constructor(e,t,r,i,s,o,a,l){this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=s,this.outlet=o,this.component=a,this.title=this.data?.pipe(ee(c=>c[Nh]))??G(void 0),this._futureSnapshot=l}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(ee(e=>cu(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(ee(e=>cu(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function kU(n,e="emptyOnly"){const t=n.pathFromRoot;let r=0;if("always"!==e)for(r=t.length-1;r>=1;){const i=t[r],s=t[r-1];if(i.routeConfig&&""===i.routeConfig.path)r--;else{if(s.component)break;r--}}return function Loe(n){return n.reduce((e,t)=>({params:{...e.params,...t.params},data:{...e.data,...t.data},resolve:{...t.data,...e.resolve,...t.routeConfig?.data,...t._resolvedData}}),{params:{},data:{},resolve:{}})}(t.slice(r))}class g_{constructor(e,t,r,i,s,o,a,l,c,u,d,h){this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=s,this.outlet=o,this.component=a,this.title=this.data?.[Nh],this.routeConfig=l,this._urlSegment=c,this._lastPathIndex=u,this._correctedLastPathIndex=h??u,this._resolve=d}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=cu(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=cu(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(r=>r.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class RU extends AU{constructor(e,t){super(t),this.url=e,q0(this,t)}toString(){return NU(this._root)}}function q0(n,e){e.value._routerState=n,e.children.forEach(t=>q0(n,t))}function NU(n){const e=n.children.length>0?` { ${n.children.map(NU).join(", ")} } `:"";return`${n.value}${e}`}function K0(n){if(n.snapshot){const e=n.snapshot,t=n._futureSnapshot;n.snapshot=t,os(e.queryParams,t.queryParams)||n.queryParams.next(t.queryParams),e.fragment!==t.fragment&&n.fragment.next(t.fragment),os(e.params,t.params)||n.params.next(t.params),function Jse(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(!os(n[t],e[t]))return!1;return!0}(e.url,t.url)||n.url.next(t.url),os(e.data,t.data)||n.data.next(t.data)}else n.snapshot=n._futureSnapshot,n.data.next(n._futureSnapshot.data)}function Y0(n,e){const t=os(n.params,e.params)&&function ioe(n,e){return il(n,e)&&n.every((t,r)=>os(t.parameters,e[r].parameters))}(n.url,e.url);return t&&!(!n.parent!=!e.parent)&&(!n.parent||Y0(n.parent,e.parent))}function Bh(n,e,t){if(t&&n.shouldReuseRoute(e.value,t.value.snapshot)){const r=t.value;r._futureSnapshot=e.value;const i=function Boe(n,e,t){return e.children.map(r=>{for(const i of t.children)if(n.shouldReuseRoute(r.value,i.value.snapshot))return Bh(n,r,i);return Bh(n,r)})}(n,e,t);return new eo(r,i)}{if(n.shouldAttach(e.value)){const s=n.retrieve(e.value);if(null!==s){const o=s.route;return o.value._futureSnapshot=e.value,o.children=e.children.map(a=>Bh(n,a)),o}}const r=function Uoe(n){return new al(new fi(n.url),new fi(n.params),new fi(n.queryParams),new fi(n.fragment),new fi(n.data),n.outlet,n.component,n)}(e.value),i=e.children.map(s=>Bh(n,s));return new eo(r,i)}}const Q0="ngNavigationCancelingError";function PU(n,e){const{redirectTo:t,navigationBehaviorOptions:r}=sl(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=OU(!1,0,e);return i.url=t,i.navigationBehaviorOptions=r,i}function OU(n,e,t){const r=new Error("NavigationCancelingError: "+(n||""));return r[Q0]=!0,r.cancellationCode=e,t&&(r.url=t),r}function FU(n){return LU(n)&&sl(n.url)}function LU(n){return n&&n[Q0]}class $oe{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.injector=null,this.children=new Uh,this.attachRef=null}}let Uh=(()=>{class n{constructor(){this.contexts=new Map}onChildOutletCreated(t,r){const i=this.getOrCreateContext(t);i.outlet=r,this.contexts.set(t,i)}onChildOutletDestroyed(t){const r=this.getContext(t);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){const t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let r=this.getContext(t);return r||(r=new $oe,this.contexts.set(t,r)),r}getContext(t){return this.contexts.get(t)||null}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=F({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const m_=!1;let X0=(()=>{class n{constructor(t,r,i,s,o){this.parentContexts=t,this.location=r,this.changeDetector=s,this.environmentInjector=o,this.activated=null,this._activatedRoute=null,this.activateEvents=new Pe,this.deactivateEvents=new Pe,this.attachEvents=new Pe,this.detachEvents=new Pe,this.name=i||Ie,t.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.getContext(this.name)?.outlet===this&&this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const t=this.parentContexts.getContext(this.name);t&&t.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.injector))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new M(4012,m_);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new M(4012,m_);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new M(4012,m_);this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,r){this.activated=t,this._activatedRoute=r,this.location.insert(t.hostView),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,r){if(this.isActivated)throw new M(4013,m_);this._activatedRoute=t;const i=this.location,o=t._futureSnapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,l=new joe(t,a,i.injector);if(r&&function Hoe(n){return!!n.resolveComponentFactory}(r)){const c=r.resolveComponentFactory(o);this.activated=i.createComponent(c,i.length,l)}else this.activated=i.createComponent(o,{index:i.length,injector:l,environmentInjector:r??this.environmentInjector});this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return n.\u0275fac=function(t){return new(t||n)(b(Uh),b(zr),Ha("name"),b(Go),b(Lo))},n.\u0275dir=q({type:n,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0}),n})();class joe{constructor(e,t,r){this.route=e,this.childContexts=t,this.parent=r}get(e,t){return e===al?this.route:e===Uh?this.childContexts:this.parent.get(e,t)}}let __=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=Qe({type:n,selectors:[["ng-component"]],standalone:!0,features:[jV],decls:1,vars:0,template:function(t,r){1&t&&ye(0,"router-outlet")},dependencies:[X0],encapsulation:2}),n})();function VU(n,e){return n.providers&&!n._injector&&(n._injector=Am(n.providers,e,`Route: ${n.path}`)),n._injector??e}function J0(n){const e=n.children&&n.children.map(J0),t=e?{...n,children:e}:{...n};return!t.component&&!t.loadComponent&&(e||t.loadChildren)&&t.outlet&&t.outlet!==Ie&&(t.component=__),t}function pi(n){return n.outlet||Ie}function BU(n,e){const t=n.filter(r=>pi(r)===e);return t.push(...n.filter(r=>pi(r)!==e)),t}function $h(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let e=n.parent;e;e=e.parent){const t=e.routeConfig;if(t?._loadedInjector)return t._loadedInjector;if(t?._injector)return t._injector}return null}class Koe{constructor(e,t,r,i){this.routeReuseStrategy=e,this.futureState=t,this.currState=r,this.forwardEvent=i}activate(e){const t=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,r,e),K0(this.futureState.root),this.activateChildRoutes(t,r,e)}deactivateChildRoutes(e,t,r){const i=hu(t);e.children.forEach(s=>{const o=s.value.outlet;this.deactivateRoutes(s,i[o],r),delete i[o]}),kn(i,(s,o)=>{this.deactivateRouteAndItsChildren(s,r)})}deactivateRoutes(e,t,r){const i=e.value,s=t?t.value:null;if(i===s)if(i.component){const o=r.getContext(i.outlet);o&&this.deactivateChildRoutes(e,t,o.children)}else this.deactivateChildRoutes(e,t,r);else s&&this.deactivateRouteAndItsChildren(t,r)}deactivateRouteAndItsChildren(e,t){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){const r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,s=hu(e);for(const o of Object.keys(s))this.deactivateRouteAndItsChildren(s[o],i);if(r&&r.outlet){const o=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:o,route:e,contexts:a})}}deactivateRouteAndOutlet(e,t){const r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,s=hu(e);for(const o of Object.keys(s))this.deactivateRouteAndItsChildren(s[o],i);r&&r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated(),r.attachRef=null,r.resolver=null,r.route=null)}activateChildRoutes(e,t,r){const i=hu(t);e.children.forEach(s=>{this.activateRoutes(s,i[s.value.outlet],r),this.forwardEvent(new SU(s.value.snapshot))}),e.children.length&&this.forwardEvent(new Noe(e.value.snapshot))}activateRoutes(e,t,r){const i=e.value,s=t?t.value:null;if(K0(i),i===s)if(i.component){const o=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,t,o.children)}else this.activateChildRoutes(e,t,r);else if(i.component){const o=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){const a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),o.children.onOutletReAttached(a.contexts),o.attachRef=a.componentRef,o.route=a.route.value,o.outlet&&o.outlet.attach(a.componentRef,a.route.value),K0(a.route.value),this.activateChildRoutes(e,null,o.children)}else{const a=$h(i.snapshot),l=a?.get(Vo)??null;o.attachRef=null,o.route=i,o.resolver=l,o.injector=a,o.outlet&&o.outlet.activateWith(i,o.injector),this.activateChildRoutes(e,null,o.children)}}else this.activateChildRoutes(e,null,r)}}class UU{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class y_{constructor(e,t){this.component=e,this.route=t}}function Yoe(n,e,t){const r=n._root;return jh(r,e?e._root:null,t,[r.value])}function fu(n,e){const t=Symbol(),r=e.get(n,t);return r===t?"function"!=typeof n||function uQ(n){return null!==xg(n)}(n)?e.get(n):n:r}function jh(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const s=hu(e);return n.children.forEach(o=>{(function Xoe(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const s=n.value,o=e?e.value:null,a=t?t.getContext(n.value.outlet):null;if(o&&s.routeConfig===o.routeConfig){const l=function Zoe(n,e,t){if("function"==typeof t)return t(n,e);switch(t){case"pathParamsChange":return!il(n.url,e.url);case"pathParamsOrQueryParamsChange":return!il(n.url,e.url)||!os(n.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Y0(n,e)||!os(n.queryParams,e.queryParams);default:return!Y0(n,e)}}(o,s,s.routeConfig.runGuardsAndResolvers);l?i.canActivateChecks.push(new UU(r)):(s.data=o.data,s._resolvedData=o._resolvedData),jh(n,e,s.component?a?a.children:null:t,r,i),l&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new y_(a.outlet.component,o))}else o&&Hh(e,a,i),i.canActivateChecks.push(new UU(r)),jh(n,null,s.component?a?a.children:null:t,r,i)})(o,s[o.value.outlet],t,r.concat([o.value]),i),delete s[o.value.outlet]}),kn(s,(o,a)=>Hh(o,t.getContext(a),i)),i}function Hh(n,e,t){const r=hu(n),i=n.value;kn(r,(s,o)=>{Hh(s,i.component?e?e.children.getContext(o):null:e,t)}),t.canDeactivateChecks.push(new y_(i.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,i))}function zh(n){return"function"==typeof n}function eI(n){return n instanceof i_||"EmptyError"===n?.name}const v_=Symbol("INITIAL_VALUE");function pu(){return xn(n=>eU(n.map(e=>e.pipe(Ir(1),qo(v_)))).pipe(ee(e=>{for(const t of e)if(!0!==t){if(t===v_)return v_;if(!1===t||t instanceof rl)return t}return!0}),cn(e=>e!==v_),Ir(1)))}function $U(n){return QN(Ot(e=>{if(sl(e))throw PU(0,e)}),ee(e=>!0===e))}const tI={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function jU(n,e,t,r,i){const s=nI(n,e,t);return s.matched?function gae(n,e,t,r){const i=e.canMatch;return i&&0!==i.length?G(i.map(o=>{const a=fu(o,n);return Yo(function iae(n){return n&&zh(n.canMatch)}(a)?a.canMatch(e,t):n.runInContext(()=>a(e,t)))})).pipe(pu(),$U()):G(!0)}(r=VU(e,r),e,t).pipe(ee(o=>!0===o?s:{...tI})):G(s)}function nI(n,e,t){if(""===e.path)return"full"===e.pathMatch&&(n.hasChildren()||t.length>0)?{...tI}:{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};const i=(e.matcher||Zse)(t,n,e);if(!i)return{...tI};const s={};kn(i.posParams,(a,l)=>{s[l]=a.path});const o=i.consumed.length>0?{...s,...i.consumed[i.consumed.length-1].parameters}:s;return{matched:!0,consumedSegments:i.consumed,remainingSegments:t.slice(i.consumed.length),parameters:o,positionalParamSegments:i.posParams??{}}}function b_(n,e,t,r,i="corrected"){if(t.length>0&&function yae(n,e,t){return t.some(r=>w_(n,e,r)&&pi(r)!==Ie)}(n,t,r)){const o=new xe(e,function _ae(n,e,t,r){const i={};i[Ie]=r,r._sourceSegment=n,r._segmentIndexShift=e.length;for(const s of t)if(""===s.path&&pi(s)!==Ie){const o=new xe([],{});o._sourceSegment=n,o._segmentIndexShift=e.length,i[pi(s)]=o}return i}(n,e,r,new xe(t,n.children)));return o._sourceSegment=n,o._segmentIndexShift=e.length,{segmentGroup:o,slicedSegments:[]}}if(0===t.length&&function vae(n,e,t){return t.some(r=>w_(n,e,r))}(n,t,r)){const o=new xe(n.segments,function mae(n,e,t,r,i,s){const o={};for(const a of r)if(w_(n,t,a)&&!i[pi(a)]){const l=new xe([],{});l._sourceSegment=n,l._segmentIndexShift="legacy"===s?n.segments.length:e.length,o[pi(a)]=l}return{...i,...o}}(n,e,t,r,n.children,i));return o._sourceSegment=n,o._segmentIndexShift=e.length,{segmentGroup:o,slicedSegments:t}}const s=new xe(n.segments,n.children);return s._sourceSegment=n,s._segmentIndexShift=e.length,{segmentGroup:s,slicedSegments:t}}function w_(n,e,t){return(!(n.hasChildren()||e.length>0)||"full"!==t.pathMatch)&&""===t.path}function HU(n,e,t,r){return!!(pi(n)===r||r!==Ie&&w_(e,t,n))&&("**"===n.path||nI(e,n,t).matched)}function zU(n,e,t){return 0===e.length&&!n.children[t]}const C_=!1;class E_{constructor(e){this.segmentGroup=e||null}}class GU{constructor(e){this.urlTree=e}}function Gh(n){return lu(new E_(n))}function WU(n){return lu(new GU(n))}class Eae{constructor(e,t,r,i,s){this.injector=e,this.configLoader=t,this.urlSerializer=r,this.urlTree=i,this.config=s,this.allowRedirects=!0}apply(){const e=b_(this.urlTree.root,[],[],this.config).segmentGroup,t=new xe(e.segments,e.children);return this.expandSegmentGroup(this.injector,this.config,t,Ie).pipe(ee(s=>this.createUrlTree(f_(s),this.urlTree.queryParams,this.urlTree.fragment))).pipe(Zs(s=>{if(s instanceof GU)return this.allowRedirects=!1,this.match(s.urlTree);throw s instanceof E_?this.noMatchError(s):s}))}match(e){return this.expandSegmentGroup(this.injector,this.config,e.root,Ie).pipe(ee(i=>this.createUrlTree(f_(i),e.queryParams,e.fragment))).pipe(Zs(i=>{throw i instanceof E_?this.noMatchError(i):i}))}noMatchError(e){return new M(4002,C_)}createUrlTree(e,t,r){const i=U0(e);return new rl(i,t,r)}expandSegmentGroup(e,t,r,i){return 0===r.segments.length&&r.hasChildren()?this.expandChildren(e,t,r).pipe(ee(s=>new xe([],s))):this.expandSegment(e,r,t,r.segments,i,!0)}expandChildren(e,t,r){const i=[];for(const s of Object.keys(r.children))"primary"===s?i.unshift(s):i.push(s);return at(i).pipe(ss(s=>{const o=r.children[s],a=BU(t,s);return this.expandSegmentGroup(e,a,o,s).pipe(ee(l=>({segment:l,outlet:s})))}),iU((s,o)=>(s[o.outlet]=o.segment,s),{}),sU())}expandSegment(e,t,r,i,s,o){return at(r).pipe(ss(a=>this.expandSegmentAgainstRoute(e,t,r,a,i,s,o).pipe(Zs(c=>{if(c instanceof E_)return G(null);throw c}))),Ko(a=>!!a),Zs((a,l)=>{if(eI(a))return zU(t,i,s)?G(new xe([],{})):Gh(t);throw a}))}expandSegmentAgainstRoute(e,t,r,i,s,o,a){return HU(i,t,s,o)?void 0===i.redirectTo?this.matchSegmentAgainstRoute(e,t,i,s,o):a&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,t,r,i,s,o):Gh(t):Gh(t)}expandSegmentAgainstRouteUsingRedirect(e,t,r,i,s,o){return"**"===i.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,r,i,o):this.expandRegularSegmentAgainstRouteUsingRedirect(e,t,r,i,s,o)}expandWildCardWithParamsAgainstRouteUsingRedirect(e,t,r,i){const s=this.applyRedirectCommands([],r.redirectTo,{});return r.redirectTo.startsWith("/")?WU(s):this.lineralizeSegments(r,s).pipe(Kt(o=>{const a=new xe(o,{});return this.expandSegment(e,a,t,o,i,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(e,t,r,i,s,o){const{matched:a,consumedSegments:l,remainingSegments:c,positionalParamSegments:u}=nI(t,i,s);if(!a)return Gh(t);const d=this.applyRedirectCommands(l,i.redirectTo,u);return i.redirectTo.startsWith("/")?WU(d):this.lineralizeSegments(i,d).pipe(Kt(h=>this.expandSegment(e,t,r,h.concat(c),o,!1)))}matchSegmentAgainstRoute(e,t,r,i,s){return"**"===r.path?(e=VU(r,e),r.loadChildren?(r._loadedRoutes?G({routes:r._loadedRoutes,injector:r._loadedInjector}):this.configLoader.loadChildren(e,r)).pipe(ee(a=>(r._loadedRoutes=a.routes,r._loadedInjector=a.injector,new xe(i,{})))):G(new xe(i,{}))):jU(t,r,i,e).pipe(xn(({matched:o,consumedSegments:a,remainingSegments:l})=>o?this.getChildConfig(e=r._injector??e,r,i).pipe(Kt(u=>{const d=u.injector??e,h=u.routes,{segmentGroup:f,slicedSegments:p}=b_(t,a,l,h),g=new xe(f.segments,f.children);if(0===p.length&&g.hasChildren())return this.expandChildren(d,h,g).pipe(ee(y=>new xe(a,y)));if(0===h.length&&0===p.length)return G(new xe(a,{}));const m=pi(r)===s;return this.expandSegment(d,g,h,p,m?Ie:s,!0).pipe(ee(C=>new xe(a.concat(C.segments),C.children)))})):Gh(t)))}getChildConfig(e,t,r){return t.children?G({routes:t.children,injector:e}):t.loadChildren?void 0!==t._loadedRoutes?G({routes:t._loadedRoutes,injector:t._loadedInjector}):function pae(n,e,t,r){const i=e.canLoad;return void 0===i||0===i.length?G(!0):G(i.map(o=>{const a=fu(o,n);return Yo(function eae(n){return n&&zh(n.canLoad)}(a)?a.canLoad(e,t):n.runInContext(()=>a(e,t)))})).pipe(pu(),$U())}(e,t,r).pipe(Kt(i=>i?this.configLoader.loadChildren(e,t).pipe(Ot(s=>{t._loadedRoutes=s.routes,t._loadedInjector=s.injector})):function wae(n){return lu(OU(C_,3))}())):G({routes:[],injector:e})}lineralizeSegments(e,t){let r=[],i=t.root;for(;;){if(r=r.concat(i.segments),0===i.numberOfChildren)return G(r);if(i.numberOfChildren>1||!i.children[Ie])return lu(new M(4e3,C_));i=i.children[Ie]}}applyRedirectCommands(e,t,r){return this.applyRedirectCreateUrlTree(t,this.urlSerializer.parse(t),e,r)}applyRedirectCreateUrlTree(e,t,r,i){const s=this.createSegmentGroup(e,t.root,r,i);return new rl(s,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){const r={};return kn(e,(i,s)=>{if("string"==typeof i&&i.startsWith(":")){const a=i.substring(1);r[s]=t[a]}else r[s]=i}),r}createSegmentGroup(e,t,r,i){const s=this.createSegments(e,t.segments,r,i);let o={};return kn(t.children,(a,l)=>{o[l]=this.createSegmentGroup(e,a,r,i)}),new xe(s,o)}createSegments(e,t,r,i){return t.map(s=>s.path.startsWith(":")?this.findPosParam(e,s,i):this.findOrReturn(s,r))}findPosParam(e,t,r){const i=r[t.path.substring(1)];if(!i)throw new M(4001,C_);return i}findOrReturn(e,t){let r=0;for(const i of t){if(i.path===e.path)return t.splice(r),i;r++}return e}}class Tae{}class Aae{constructor(e,t,r,i,s,o,a,l){this.injector=e,this.rootComponentType=t,this.config=r,this.urlTree=i,this.url=s,this.paramsInheritanceStrategy=o,this.relativeLinkResolution=a,this.urlSerializer=l}recognize(){const e=b_(this.urlTree.root,[],[],this.config.filter(t=>void 0===t.redirectTo),this.relativeLinkResolution).segmentGroup;return this.processSegmentGroup(this.injector,this.config,e,Ie).pipe(ee(t=>{if(null===t)return null;const r=new g_([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},Ie,this.rootComponentType,null,this.urlTree.root,-1,{}),i=new eo(r,t),s=new RU(this.url,i);return this.inheritParamsAndData(s._root),s}))}inheritParamsAndData(e){const t=e.value,r=kU(t,this.paramsInheritanceStrategy);t.params=Object.freeze(r.params),t.data=Object.freeze(r.data),e.children.forEach(i=>this.inheritParamsAndData(i))}processSegmentGroup(e,t,r,i){return 0===r.segments.length&&r.hasChildren()?this.processChildren(e,t,r):this.processSegment(e,t,r,r.segments,i)}processChildren(e,t,r){return at(Object.keys(r.children)).pipe(ss(i=>{const s=r.children[i],o=BU(t,i);return this.processSegmentGroup(e,o,s,i)}),iU((i,s)=>i&&s?(i.push(...s),i):null),function Qse(n,e=!1){return gt((t,r)=>{let i=0;t.subscribe(tt(r,s=>{const o=n(s,i++);(o||e)&&r.next(s),!o&&r.complete()}))})}(i=>null!==i),o_(null),sU(),ee(i=>{if(null===i)return null;const s=qU(i);return function Mae(n){n.sort((e,t)=>e.value.outlet===Ie?-1:t.value.outlet===Ie?1:e.value.outlet.localeCompare(t.value.outlet))}(s),s}))}processSegment(e,t,r,i,s){return at(t).pipe(ss(o=>this.processSegmentAgainstRoute(o._injector??e,o,r,i,s)),Ko(o=>!!o),Zs(o=>{if(eI(o))return zU(r,i,s)?G([]):G(null);throw o}))}processSegmentAgainstRoute(e,t,r,i,s){if(t.redirectTo||!HU(t,r,i,s))return G(null);let o;if("**"===t.path){const a=i.length>0?cU(i).parameters:{},l=YU(r)+i.length;o=G({snapshot:new g_(i,a,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,XU(t),pi(t),t.component??t._loadedComponent??null,t,KU(r),l,ZU(t),l),consumedSegments:[],remainingSegments:[]})}else o=jU(r,t,i,e).pipe(ee(({matched:a,consumedSegments:l,remainingSegments:c,parameters:u})=>{if(!a)return null;const d=YU(r)+l.length;return{snapshot:new g_(l,u,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,XU(t),pi(t),t.component??t._loadedComponent??null,t,KU(r),d,ZU(t),d),consumedSegments:l,remainingSegments:c}}));return o.pipe(xn(a=>{if(null===a)return G(null);const{snapshot:l,consumedSegments:c,remainingSegments:u}=a;e=t._injector??e;const d=t._loadedInjector??e,h=function xae(n){return n.children?n.children:n.loadChildren?n._loadedRoutes:[]}(t),{segmentGroup:f,slicedSegments:p}=b_(r,c,u,h.filter(m=>void 0===m.redirectTo),this.relativeLinkResolution);if(0===p.length&&f.hasChildren())return this.processChildren(d,h,f).pipe(ee(m=>null===m?null:[new eo(l,m)]));if(0===h.length&&0===p.length)return G([new eo(l,[])]);const g=pi(t)===s;return this.processSegment(d,h,f,p,g?Ie:s).pipe(ee(m=>null===m?null:[new eo(l,m)]))}))}}function kae(n){const e=n.value.routeConfig;return e&&""===e.path&&void 0===e.redirectTo}function qU(n){const e=[],t=new Set;for(const r of n){if(!kae(r)){e.push(r);continue}const i=e.find(s=>r.value.routeConfig===s.value.routeConfig);void 0!==i?(i.children.push(...r.children),t.add(i)):e.push(r)}for(const r of t){const i=qU(r.children);e.push(new eo(r.value,i))}return e.filter(r=>!t.has(r))}function KU(n){let e=n;for(;e._sourceSegment;)e=e._sourceSegment;return e}function YU(n){let e=n,t=e._segmentIndexShift??0;for(;e._sourceSegment;)e=e._sourceSegment,t+=e._segmentIndexShift??0;return t-1}function XU(n){return n.data||{}}function ZU(n){return n.resolve||{}}function JU(n){return"string"==typeof n.title||null===n.title}function rI(n){return xn(e=>{const t=n(e);return t?at(t).pipe(ee(()=>e)):G(e)})}let e$=(()=>{class n{buildTitle(t){let r,i=t.root;for(;void 0!==i;)r=this.getResolvedTitleForRoute(i)??r,i=i.children.find(s=>s.outlet===Ie);return r}getResolvedTitleForRoute(t){return t.data[Nh]}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=F({token:n,factory:function(){return yt(t$)},providedIn:"root"}),n})(),t$=(()=>{class n extends e${constructor(t){super(),this.title=t}updateTitle(t){const r=this.buildTitle(t);void 0!==r&&this.title.setTitle(r)}}return n.\u0275fac=function(t){return new(t||n)(w(x0))},n.\u0275prov=F({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class Bae{}class $ae extends class Uae{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}}{}const T_=new P("",{providedIn:"root",factory:()=>({})}),iI=new P("ROUTES");let sI=(()=>{class n{constructor(t,r){this.injector=t,this.compiler=r,this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap}loadComponent(t){if(this.componentLoaders.get(t))return this.componentLoaders.get(t);if(t._loadedComponent)return G(t._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(t);const r=Yo(t.loadComponent()).pipe(Ot(s=>{this.onLoadEndListener&&this.onLoadEndListener(t),t._loadedComponent=s}),a_(()=>{this.componentLoaders.delete(t)})),i=new nU(r,()=>new Fe).pipe(O0());return this.componentLoaders.set(t,i),i}loadChildren(t,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return G({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);const s=this.loadModuleFactoryOrRoutes(r.loadChildren).pipe(ee(a=>{this.onLoadEndListener&&this.onLoadEndListener(r);let l,c,u=!1;Array.isArray(a)?c=a:(l=a.create(t).injector,c=lU(l.get(iI,[],te.Self|te.Optional)));return{routes:c.map(J0),injector:l}}),a_(()=>{this.childrenLoaders.delete(r)})),o=new nU(s,()=>new Fe).pipe(O0());return this.childrenLoaders.set(r,o),o}loadModuleFactoryOrRoutes(t){return Yo(t()).pipe(Kt(r=>r instanceof UV||Array.isArray(r)?G(r):at(this.compiler.compileModuleAsync(r))))}}return n.\u0275fac=function(t){return new(t||n)(w(Xe),w(GE))},n.\u0275prov=F({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class Hae{}class zae{shouldProcessUrl(e){return!0}extract(e){return e}merge(e,t){return e}}function Gae(n){throw n}function Wae(n,e,t){return e.parse("/")}const qae={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},Kae={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};function r$(){const n=yt(gU),e=yt(Uh),t=yt(Um),r=yt(Xe),i=yt(GE),s=yt(iI,{optional:!0})??[],o=yt(T_,{optional:!0})??{},a=yt(t$),l=yt(e$,{optional:!0}),c=yt(Hae,{optional:!0}),u=yt(Bae,{optional:!0}),d=new Ft(null,n,e,t,r,i,lU(s));return c&&(d.urlHandlingStrategy=c),u&&(d.routeReuseStrategy=u),d.titleStrategy=l??a,function Yae(n,e){n.errorHandler&&(e.errorHandler=n.errorHandler),n.malformedUriErrorHandler&&(e.malformedUriErrorHandler=n.malformedUriErrorHandler),n.onSameUrlNavigation&&(e.onSameUrlNavigation=n.onSameUrlNavigation),n.paramsInheritanceStrategy&&(e.paramsInheritanceStrategy=n.paramsInheritanceStrategy),n.relativeLinkResolution&&(e.relativeLinkResolution=n.relativeLinkResolution),n.urlUpdateStrategy&&(e.urlUpdateStrategy=n.urlUpdateStrategy),n.canceledNavigationResolution&&(e.canceledNavigationResolution=n.canceledNavigationResolution)}(o,d),d}let Ft=(()=>{class n{constructor(t,r,i,s,o,a,l){this.rootComponentType=t,this.urlSerializer=r,this.rootContexts=i,this.location=s,this.config=l,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new Fe,this.errorHandler=Gae,this.malformedUriErrorHandler=Wae,this.navigated=!1,this.lastSuccessfulId=-1,this.afterPreactivation=()=>G(void 0),this.urlHandlingStrategy=new zae,this.routeReuseStrategy=new $ae,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.configLoader=o.get(sI),this.configLoader.onLoadEndListener=h=>this.triggerEvent(new koe(h)),this.configLoader.onLoadStartListener=h=>this.triggerEvent(new xoe(h)),this.ngModule=o.get(Za),this.console=o.get(Bne);const d=o.get(ie);this.isNgZoneEnabled=d instanceof ie&&ie.isInAngularZone(),this.resetConfig(l),this.currentUrlTree=function eoe(){return new rl(new xe([],{}),{},null)}(),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=xU(this.currentUrlTree,this.rootComponentType),this.transitions=new fi({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){return this.location.getState()?.\u0275routerPageId}setupNavigations(t){const r=this.events;return t.pipe(cn(i=>0!==i.id),ee(i=>({...i,extractedUrl:this.urlHandlingStrategy.extract(i.rawUrl)})),xn(i=>{let s=!1,o=!1;return G(i).pipe(Ot(a=>{this.currentNavigation={id:a.id,initialUrl:a.rawUrl,extractedUrl:a.extractedUrl,trigger:a.source,extras:a.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),xn(a=>{const l=this.browserUrlTree.toString(),c=!this.navigated||a.extractedUrl.toString()!==l||l!==this.currentUrlTree.toString();if(("reload"===this.onSameUrlNavigation||c)&&this.urlHandlingStrategy.shouldProcessUrl(a.rawUrl))return i$(a.source)&&(this.browserUrlTree=a.extractedUrl),G(a).pipe(xn(d=>{const h=this.transitions.getValue();return r.next(new z0(d.id,this.serializeUrl(d.extractedUrl),d.source,d.restoredState)),h!==this.transitions.getValue()?Ki:Promise.resolve(d)}),function Iae(n,e,t,r){return xn(i=>function Cae(n,e,t,r,i){return new Eae(n,e,t,r,i).apply()}(n,e,t,i.extractedUrl,r).pipe(ee(s=>({...i,urlAfterRedirects:s}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),Ot(d=>{this.currentNavigation={...this.currentNavigation,finalUrl:d.urlAfterRedirects},i.urlAfterRedirects=d.urlAfterRedirects}),function Nae(n,e,t,r,i,s){return Kt(o=>function Dae(n,e,t,r,i,s,o="emptyOnly",a="legacy"){return new Aae(n,e,t,r,i,o,a,s).recognize().pipe(xn(l=>null===l?function Sae(n){return new je(e=>e.error(n))}(new Tae):G(l)))}(n,e,t,o.urlAfterRedirects,r.serialize(o.urlAfterRedirects),r,i,s).pipe(ee(a=>({...o,targetSnapshot:a}))))}(this.ngModule.injector,this.rootComponentType,this.config,this.urlSerializer,this.paramsInheritanceStrategy,this.relativeLinkResolution),Ot(d=>{if(i.targetSnapshot=d.targetSnapshot,"eager"===this.urlUpdateStrategy){if(!d.extras.skipLocationChange){const f=this.urlHandlingStrategy.merge(d.urlAfterRedirects,d.rawUrl);this.setBrowserUrl(f,d)}this.browserUrlTree=d.urlAfterRedirects}const h=new Toe(d.id,this.serializeUrl(d.extractedUrl),this.serializeUrl(d.urlAfterRedirects),d.targetSnapshot);r.next(h)}));if(c&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:h,extractedUrl:f,source:p,restoredState:g,extras:m}=a,v=new z0(h,this.serializeUrl(f),p,g);r.next(v);const C=xU(f,this.rootComponentType).snapshot;return G(i={...a,targetSnapshot:C,urlAfterRedirects:f,extras:{...m,skipLocationChange:!1,replaceUrl:!1}})}return this.rawUrlTree=a.rawUrl,a.resolve(null),Ki}),Ot(a=>{const l=new Soe(a.id,this.serializeUrl(a.extractedUrl),this.serializeUrl(a.urlAfterRedirects),a.targetSnapshot);this.triggerEvent(l)}),ee(a=>i={...a,guards:Yoe(a.targetSnapshot,a.currentSnapshot,this.rootContexts)}),function oae(n,e){return Kt(t=>{const{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:s,canDeactivateChecks:o}}=t;return 0===o.length&&0===s.length?G({...t,guardsResult:!0}):function aae(n,e,t,r){return at(n).pipe(Kt(i=>function fae(n,e,t,r,i){const s=e&&e.routeConfig?e.routeConfig.canDeactivate:null;return s&&0!==s.length?G(s.map(a=>{const l=$h(e)??i,c=fu(a,l);return Yo(function rae(n){return n&&zh(n.canDeactivate)}(c)?c.canDeactivate(n,e,t,r):l.runInContext(()=>c(n,e,t,r))).pipe(Ko())})).pipe(pu()):G(!0)}(i.component,i.route,t,e,r)),Ko(i=>!0!==i,!0))}(o,r,i,n).pipe(Kt(a=>a&&function Joe(n){return"boolean"==typeof n}(a)?function lae(n,e,t,r){return at(e).pipe(ss(i=>s_(function uae(n,e){return null!==n&&e&&e(new Roe(n)),G(!0)}(i.route.parent,r),function cae(n,e){return null!==n&&e&&e(new Poe(n)),G(!0)}(i.route,r),function hae(n,e,t){const r=e[e.length-1],s=e.slice(0,e.length-1).reverse().map(o=>function Qoe(n){const e=n.routeConfig?n.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:n,guards:e}:null}(o)).filter(o=>null!==o).map(o=>P0(()=>G(o.guards.map(l=>{const c=$h(o.node)??t,u=fu(l,c);return Yo(function nae(n){return n&&zh(n.canActivateChild)}(u)?u.canActivateChild(r,n):c.runInContext(()=>u(r,n))).pipe(Ko())})).pipe(pu())));return G(s).pipe(pu())}(n,i.path,t),function dae(n,e,t){const r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||0===r.length)return G(!0);const i=r.map(s=>P0(()=>{const o=$h(e)??t,a=fu(s,o);return Yo(function tae(n){return n&&zh(n.canActivate)}(a)?a.canActivate(e,n):o.runInContext(()=>a(e,n))).pipe(Ko())}));return G(i).pipe(pu())}(n,i.route,t))),Ko(i=>!0!==i,!0))}(r,s,n,e):G(a)),ee(a=>({...t,guardsResult:a})))})}(this.ngModule.injector,a=>this.triggerEvent(a)),Ot(a=>{if(i.guardsResult=a.guardsResult,sl(a.guardsResult))throw PU(0,a.guardsResult);const l=new Doe(a.id,this.serializeUrl(a.extractedUrl),this.serializeUrl(a.urlAfterRedirects),a.targetSnapshot,!!a.guardsResult);this.triggerEvent(l)}),cn(a=>!!a.guardsResult||(this.restoreHistory(a),this.cancelNavigationTransition(a,"",3),!1)),rI(a=>{if(a.guards.canActivateChecks.length)return G(a).pipe(Ot(l=>{const c=new Aoe(l.id,this.serializeUrl(l.extractedUrl),this.serializeUrl(l.urlAfterRedirects),l.targetSnapshot);this.triggerEvent(c)}),xn(l=>{let c=!1;return G(l).pipe(function Pae(n,e){return Kt(t=>{const{targetSnapshot:r,guards:{canActivateChecks:i}}=t;if(!i.length)return G(t);let s=0;return at(i).pipe(ss(o=>function Oae(n,e,t,r){const i=n.routeConfig,s=n._resolve;return void 0!==i?.title&&!JU(i)&&(s[Nh]=i.title),function Fae(n,e,t,r){const i=function Lae(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}(n);if(0===i.length)return G({});const s={};return at(i).pipe(Kt(o=>function Vae(n,e,t,r){const i=$h(e)??r,s=fu(n,i);return Yo(s.resolve?s.resolve(e,t):i.runInContext(()=>s(e,t)))}(n[o],e,t,r).pipe(Ko(),Ot(a=>{s[o]=a}))),F0(1),oU(s),Zs(o=>eI(o)?Ki:lu(o)))}(s,n,e,r).pipe(ee(o=>(n._resolvedData=o,n.data=kU(n,t).resolve,i&&JU(i)&&(n.data[Nh]=i.title),null)))}(o.route,r,n,e)),Ot(()=>s++),F0(1),Kt(o=>s===i.length?G(t):Ki))})}(this.paramsInheritanceStrategy,this.ngModule.injector),Ot({next:()=>c=!0,complete:()=>{c||(this.restoreHistory(l),this.cancelNavigationTransition(l,"",2))}}))}),Ot(l=>{const c=new Moe(l.id,this.serializeUrl(l.extractedUrl),this.serializeUrl(l.urlAfterRedirects),l.targetSnapshot);this.triggerEvent(c)}))}),rI(a=>{const l=c=>{const u=[];c.routeConfig?.loadComponent&&!c.routeConfig._loadedComponent&&u.push(this.configLoader.loadComponent(c.routeConfig).pipe(Ot(d=>{c.component=d}),ee(()=>{})));for(const d of c.children)u.push(...l(d));return u};return eU(l(a.targetSnapshot.root)).pipe(o_(),Ir(1))}),rI(()=>this.afterPreactivation()),ee(a=>{const l=function Voe(n,e,t){const r=Bh(n,e._root,t?t._root:void 0);return new MU(r,e)}(this.routeReuseStrategy,a.targetSnapshot,a.currentRouterState);return i={...a,targetRouterState:l}}),Ot(a=>{this.currentUrlTree=a.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(a.urlAfterRedirects,a.rawUrl),this.routerState=a.targetRouterState,"deferred"===this.urlUpdateStrategy&&(a.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,a),this.browserUrlTree=a.urlAfterRedirects)}),((n,e,t)=>ee(r=>(new Koe(e,r.targetRouterState,r.currentRouterState,t).activate(n),r)))(this.rootContexts,this.routeReuseStrategy,a=>this.triggerEvent(a)),Ot({next(){s=!0},complete(){s=!0}}),a_(()=>{s||o||this.cancelNavigationTransition(i,"",1),this.currentNavigation?.id===i.id&&(this.currentNavigation=null)}),Zs(a=>{if(o=!0,LU(a)){FU(a)||(this.navigated=!0,this.restoreHistory(i,!0));const l=new p_(i.id,this.serializeUrl(i.extractedUrl),a.message,a.cancellationCode);if(r.next(l),FU(a)){const c=this.urlHandlingStrategy.merge(a.url,this.rawUrlTree),u={skipLocationChange:i.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||i$(i.source)};this.scheduleNavigation(c,"imperative",null,u,{resolve:i.resolve,reject:i.reject,promise:i.promise})}else i.resolve(!1)}else{this.restoreHistory(i,!0);const l=new TU(i.id,this.serializeUrl(i.extractedUrl),a,i.targetSnapshot??void 0);r.next(l);try{i.resolve(this.errorHandler(a))}catch(c){i.reject(c)}}return Ki}))}))}resetRootComponentType(t){this.rootComponentType=t,this.routerState.root.component=this.rootComponentType}setTransition(t){this.transitions.next({...this.transitions.value,...t})}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(t=>{const r="popstate"===t.type?"popstate":"hashchange";"popstate"===r&&setTimeout(()=>{const i={replaceUrl:!0},s=t.state?.navigationId?t.state:null;if(s){const a={...s};delete a.navigationId,delete a.\u0275routerPageId,0!==Object.keys(a).length&&(i.state=a)}const o=this.parseUrl(t.url);this.scheduleNavigation(o,r,s,i)},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(t){this.events.next(t)}resetConfig(t){this.config=t.map(J0),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(t,r={}){const{relativeTo:i,queryParams:s,fragment:o,queryParamsHandling:a,preserveFragment:l}=r,c=i||this.routerState.root,u=l?this.currentUrlTree.fragment:o;let d=null;switch(a){case"merge":d={...this.currentUrlTree.queryParams,...s};break;case"preserve":d=this.currentUrlTree.queryParams;break;default:d=s||null}return null!==d&&(d=this.removeEmptyProps(d)),voe(c,this.currentUrlTree,t,d,u??null)}navigateByUrl(t,r={skipLocationChange:!1}){const i=sl(t)?t:this.parseUrl(t),s=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(s,"imperative",null,r)}navigate(t,r={skipLocationChange:!1}){return function Qae(n){for(let e=0;e<n.length;e++){if(null==n[e])throw new M(4008,false)}}(t),this.navigateByUrl(this.createUrlTree(t,r),r)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){let r;try{r=this.urlSerializer.parse(t)}catch(i){r=this.malformedUriErrorHandler(i,this.urlSerializer,t)}return r}isActive(t,r){let i;if(i=!0===r?{...qae}:!1===r?{...Kae}:r,sl(t))return dU(this.currentUrlTree,t,i);const s=this.parseUrl(t);return dU(this.currentUrlTree,s,i)}removeEmptyProps(t){return Object.keys(t).reduce((r,i)=>{const s=t[i];return null!=s&&(r[i]=s),r},{})}processNavigations(){this.navigations.subscribe(t=>{this.navigated=!0,this.lastSuccessfulId=t.id,this.currentPageId=t.targetPageId,this.events.next(new ol(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,this.titleStrategy?.updateTitle(this.routerState.snapshot),t.resolve(!0)},t=>{this.console.warn(`Unhandled Navigation Error: ${t}`)})}scheduleNavigation(t,r,i,s,o){if(this.disposed)return Promise.resolve(!1);let a,l,c;o?(a=o.resolve,l=o.reject,c=o.promise):c=new Promise((h,f)=>{a=h,l=f});const u=++this.navigationId;let d;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(i=this.location.getState()),d=i&&i.\u0275routerPageId?i.\u0275routerPageId:s.replaceUrl||s.skipLocationChange?this.browserPageId??0:(this.browserPageId??0)+1):d=0,this.setTransition({id:u,targetPageId:d,source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:t,extras:s,resolve:a,reject:l,promise:c,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),c.catch(h=>Promise.reject(h))}setBrowserUrl(t,r){const i=this.urlSerializer.serialize(t),s={...r.extras.state,...this.generateNgRouterState(r.id,r.targetPageId)};this.location.isCurrentPathEqualTo(i)||r.extras.replaceUrl?this.location.replaceState(i,"",s):this.location.go(i,"",s)}restoreHistory(t,r=!1){if("computed"===this.canceledNavigationResolution){const i=this.currentPageId-t.targetPageId;"popstate"!==t.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==this.currentNavigation?.finalUrl||0===i?this.currentUrlTree===this.currentNavigation?.finalUrl&&0===i&&(this.resetState(t),this.browserUrlTree=t.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(i)}else"replace"===this.canceledNavigationResolution&&(r&&this.resetState(t),this.resetUrlToCurrentUrlTree())}resetState(t){this.routerState=t.currentRouterState,this.currentUrlTree=t.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(t,r,i){const s=new p_(t.id,this.serializeUrl(t.extractedUrl),r,i);this.triggerEvent(s),t.resolve(!1)}generateNgRouterState(t,r){return"computed"===this.canceledNavigationResolution?{navigationId:t,\u0275routerPageId:r}:{navigationId:t}}}return n.\u0275fac=function(t){KC()},n.\u0275prov=F({token:n,factory:function(){return r$()},providedIn:"root"}),n})();function i$(n){return"imperative"!==n}let Wh=(()=>{class n{constructor(t,r,i,s,o){this.router=t,this.route=r,this.tabIndexAttribute=i,this.renderer=s,this.el=o,this._preserveFragment=!1,this._skipLocationChange=!1,this._replaceUrl=!1,this.commands=null,this.onChanges=new Fe,this.setTabIndexIfNotOnNativeEl("0")}set preserveFragment(t){this._preserveFragment=Ys(t)}get preserveFragment(){return this._preserveFragment}set skipLocationChange(t){this._skipLocationChange=Ys(t)}get skipLocationChange(){return this._skipLocationChange}set replaceUrl(t){this._replaceUrl=Ys(t)}get replaceUrl(){return this._replaceUrl}setTabIndexIfNotOnNativeEl(t){if(null!=this.tabIndexAttribute)return;const r=this.renderer,i=this.el.nativeElement;null!==t?r.setAttribute(i,"tabindex",t):r.removeAttribute(i,"tabindex")}ngOnChanges(t){this.onChanges.next(this)}set routerLink(t){null!=t?(this.commands=Array.isArray(t)?t:[t],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(){return null===this.urlTree||this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!0}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}}return n.\u0275fac=function(t){return new(t||n)(b(Ft),b(al),Ha("tabindex"),b(Di),b(et))},n.\u0275dir=q({type:n,selectors:[["","routerLink","",5,"a",5,"area"]],hostBindings:function(t,r){1&t&&Me("click",function(){return r.onClick()})},inputs:{queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",routerLink:"routerLink"},standalone:!0,features:[sr]}),n})();class s${}let Jae=(()=>{class n{constructor(t,r,i,s,o){this.router=t,this.injector=i,this.preloadingStrategy=s,this.loader=o}setUpPreloading(){this.subscription=this.router.events.pipe(cn(t=>t instanceof ol),ss(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,r){const i=[];for(const s of r){s.providers&&!s._injector&&(s._injector=Am(s.providers,t,`Route: ${s.path}`));const o=s._injector??t,a=s._loadedInjector??o;s.loadChildren&&!s._loadedRoutes&&void 0===s.canLoad||s.loadComponent&&!s._loadedComponent?i.push(this.preloadConfig(o,s)):(s.children||s._loadedRoutes)&&i.push(this.processRoutes(a,s.children??s._loadedRoutes))}return at(i).pipe(yc())}preloadConfig(t,r){return this.preloadingStrategy.preload(r,()=>{let i;i=r.loadChildren&&void 0===r.canLoad?this.loader.loadChildren(t,r):G(null);const s=i.pipe(Kt(o=>null===o?G(void 0):(r._loadedRoutes=o.routes,r._loadedInjector=o.injector,this.processRoutes(o.injector??t,o.routes))));return r.loadComponent&&!r._loadedComponent?at([s,this.loader.loadComponent(r)]).pipe(yc()):s})}}return n.\u0275fac=function(t){return new(t||n)(w(Ft),w(GE),w(Lo),w(s$),w(sI))},n.\u0275prov=F({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const aI=new P("");let o$=(()=>{class n{constructor(t,r,i={}){this.router=t,this.viewportScroller=r,this.options=i,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},i.scrollPositionRestoration=i.scrollPositionRestoration||"disabled",i.anchorScrolling=i.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(t=>{t instanceof z0?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof ol&&(this.lastId=t.id,this.scheduleScrollEvent(t,this.router.parseUrl(t.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(t=>{t instanceof DU&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,r){this.router.triggerEvent(new DU(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,r))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return n.\u0275fac=function(t){KC()},n.\u0275prov=F({token:n,factory:n.\u0275fac}),n})();function gu(n,e){return{\u0275kind:n,\u0275providers:e}}function lI(n){return[{provide:iI,multi:!0,useValue:n}]}function l$(){const n=yt(Xe);return e=>{const t=n.get(el);if(e!==t.components[0])return;const r=n.get(Ft),i=n.get(c$);1===n.get(cI)&&r.initialNavigation(),n.get(u$,null,te.Optional)?.setUpPreloading(),n.get(aI,null,te.Optional)?.init(),r.resetRootComponentType(t.componentTypes[0]),i.closed||(i.next(),i.unsubscribe())}}const c$=new P("",{factory:()=>new Fe}),cI=new P("",{providedIn:"root",factory:()=>1});const u$=new P("");function rle(n){return gu(0,[{provide:u$,useExisting:Jae},{provide:s$,useExisting:n}])}const d$=new P("ROUTER_FORROOT_GUARD"),ile=[Um,{provide:gU,useClass:V0},{provide:Ft,useFactory:r$},Uh,{provide:al,useFactory:function a$(n){return n.routerState.root},deps:[Ft]},sI];function sle(){return new FB("Router",Ft)}let h$=(()=>{class n{constructor(t){}static forRoot(t,r){return{ngModule:n,providers:[ile,[],lI(t),{provide:d$,useFactory:cle,deps:[[Ft,new Ce,new Fc]]},{provide:T_,useValue:r||{}},r?.useHash?{provide:nl,useClass:Are}:{provide:nl,useClass:l2},{provide:aI,useFactory:()=>{const n=yt(Ft),e=yt(jie),t=yt(T_);return t.scrollOffset&&e.setOffset(t.scrollOffset),new o$(n,e,t)}},r?.preloadingStrategy?rle(r.preloadingStrategy).\u0275providers:[],{provide:FB,multi:!0,useFactory:sle},r?.initialNavigation?ule(r):[],[{provide:f$,useFactory:l$},{provide:MB,multi:!0,useExisting:f$}]]}}static forChild(t){return{ngModule:n,providers:[lI(t)]}}}return n.\u0275fac=function(t){return new(t||n)(w(d$,8))},n.\u0275mod=ue({type:n}),n.\u0275inj=ce({imports:[__]}),n})();function cle(n){return"guarded"}function ule(n){return["disabled"===n.initialNavigation?gu(3,[{provide:Ja,multi:!0,useFactory:()=>{const e=yt(Ft);return()=>{e.setUpLocationChangeListener()}}},{provide:cI,useValue:2}]).\u0275providers:[],"enabledBlocking"===n.initialNavigation?gu(2,[{provide:cI,useValue:0},{provide:Ja,multi:!0,deps:[Xe],useFactory:e=>{const t=e.get(Sre,Promise.resolve());let r=!1;return()=>t.then(()=>new Promise(s=>{const o=e.get(Ft),a=e.get(c$);(function i(s){e.get(Ft).events.pipe(cn(a=>a instanceof ol||a instanceof p_||a instanceof TU),ee(a=>a instanceof ol||a instanceof p_&&(0===a.code||1===a.code)&&null),cn(a=>null!==a),Ir(1)).subscribe(()=>{s()})})(()=>{s(!0),r=!0}),o.afterPreactivation=()=>(s(!0),r||a.closed?G(void 0):a),o.initialNavigation()}))}}]).\u0275providers:[]]}const f$=new P("");class p${}class g${}class to{constructor(e){this.normalizedNames=new Map,this.lazyUpdate=null,e?this.lazyInit="string"==typeof e?()=>{this.headers=new Map,e.split("\n").forEach(t=>{const r=t.indexOf(":");if(r>0){const i=t.slice(0,r),s=i.toLowerCase(),o=t.slice(r+1).trim();this.maybeSetNormalizedName(i,s),this.headers.has(s)?this.headers.get(s).push(o):this.headers.set(s,[o])}})}:()=>{this.headers=new Map,Object.keys(e).forEach(t=>{let r=e[t];const i=t.toLowerCase();"string"==typeof r&&(r=[r]),r.length>0&&(this.headers.set(i,r),this.maybeSetNormalizedName(t,i))})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();const t=this.headers.get(e.toLowerCase());return t&&t.length>0?t[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,t){return this.clone({name:e,value:t,op:"a"})}set(e,t){return this.clone({name:e,value:t,op:"s"})}delete(e,t){return this.clone({name:e,value:t,op:"d"})}maybeSetNormalizedName(e,t){this.normalizedNames.has(t)||this.normalizedNames.set(t,e)}init(){this.lazyInit&&(this.lazyInit instanceof to?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(t=>{this.headers.set(t,e.headers.get(t)),this.normalizedNames.set(t,e.normalizedNames.get(t))})}clone(e){const t=new to;return t.lazyInit=this.lazyInit&&this.lazyInit instanceof to?this.lazyInit:this,t.lazyUpdate=(this.lazyUpdate||[]).concat([e]),t}applyUpdate(e){const t=e.name.toLowerCase();switch(e.op){case"a":case"s":let r=e.value;if("string"==typeof r&&(r=[r]),0===r.length)return;this.maybeSetNormalizedName(e.name,t);const i=("a"===e.op?this.headers.get(t):void 0)||[];i.push(...r),this.headers.set(t,i);break;case"d":const s=e.value;if(s){let o=this.headers.get(t);if(!o)return;o=o.filter(a=>-1===s.indexOf(a)),0===o.length?(this.headers.delete(t),this.normalizedNames.delete(t)):this.headers.set(t,o)}else this.headers.delete(t),this.normalizedNames.delete(t)}}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(t=>e(this.normalizedNames.get(t),this.headers.get(t)))}}class hle{encodeKey(e){return m$(e)}encodeValue(e){return m$(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}}const ple=/%(\d[a-f0-9])/gi,gle={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function m$(n){return encodeURIComponent(n).replace(ple,(e,t)=>gle[t]??e)}function M_(n){return`${n}`}class Qo{constructor(e={}){if(this.updates=null,this.cloneFrom=null,this.encoder=e.encoder||new hle,e.fromString){if(e.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function fle(n,e){const t=new Map;return n.length>0&&n.replace(/^\?/,"").split("&").forEach(i=>{const s=i.indexOf("="),[o,a]=-1==s?[e.decodeKey(i),""]:[e.decodeKey(i.slice(0,s)),e.decodeValue(i.slice(s+1))],l=t.get(o)||[];l.push(a),t.set(o,l)}),t}(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(t=>{const r=e.fromObject[t],i=Array.isArray(r)?r.map(M_):[M_(r)];this.map.set(t,i)})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();const t=this.map.get(e);return t?t[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,t){return this.clone({param:e,value:t,op:"a"})}appendAll(e){const t=[];return Object.keys(e).forEach(r=>{const i=e[r];Array.isArray(i)?i.forEach(s=>{t.push({param:r,value:s,op:"a"})}):t.push({param:r,value:i,op:"a"})}),this.clone(t)}set(e,t){return this.clone({param:e,value:t,op:"s"})}delete(e,t){return this.clone({param:e,value:t,op:"d"})}toString(){return this.init(),this.keys().map(e=>{const t=this.encoder.encodeKey(e);return this.map.get(e).map(r=>t+"="+this.encoder.encodeValue(r)).join("&")}).filter(e=>""!==e).join("&")}clone(e){const t=new Qo({encoder:this.encoder});return t.cloneFrom=this.cloneFrom||this,t.updates=(this.updates||[]).concat(e),t}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":const t=("a"===e.op?this.map.get(e.param):void 0)||[];t.push(M_(e.value)),this.map.set(e.param,t);break;case"d":if(void 0===e.value){this.map.delete(e.param);break}{let r=this.map.get(e.param)||[];const i=r.indexOf(M_(e.value));-1!==i&&r.splice(i,1),r.length>0?this.map.set(e.param,r):this.map.delete(e.param)}}}),this.cloneFrom=this.updates=null)}}class mle{constructor(){this.map=new Map}set(e,t){return this.map.set(e,t),this}get(e){return this.map.has(e)||this.map.set(e,e.defaultValue()),this.map.get(e)}delete(e){return this.map.delete(e),this}has(e){return this.map.has(e)}keys(){return this.map.keys()}}function _$(n){return typeof ArrayBuffer<"u"&&n instanceof ArrayBuffer}function y$(n){return typeof Blob<"u"&&n instanceof Blob}function v$(n){return typeof FormData<"u"&&n instanceof FormData}class qh{constructor(e,t,r,i){let s;if(this.url=t,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=e.toUpperCase(),function _le(n){switch(n){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||i?(this.body=void 0!==r?r:null,s=i):s=r,s&&(this.reportProgress=!!s.reportProgress,this.withCredentials=!!s.withCredentials,s.responseType&&(this.responseType=s.responseType),s.headers&&(this.headers=s.headers),s.context&&(this.context=s.context),s.params&&(this.params=s.params)),this.headers||(this.headers=new to),this.context||(this.context=new mle),this.params){const o=this.params.toString();if(0===o.length)this.urlWithParams=t;else{const a=t.indexOf("?");this.urlWithParams=t+(-1===a?"?":a<t.length-1?"&":"")+o}}else this.params=new Qo,this.urlWithParams=t}serializeBody(){return null===this.body?null:_$(this.body)||y$(this.body)||v$(this.body)||function yle(n){return typeof URLSearchParams<"u"&&n instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof Qo?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||v$(this.body)?null:y$(this.body)?this.body.type||null:_$(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof Qo?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(e={}){const t=e.method||this.method,r=e.url||this.url,i=e.responseType||this.responseType,s=void 0!==e.body?e.body:this.body,o=void 0!==e.withCredentials?e.withCredentials:this.withCredentials,a=void 0!==e.reportProgress?e.reportProgress:this.reportProgress;let l=e.headers||this.headers,c=e.params||this.params;const u=e.context??this.context;return void 0!==e.setHeaders&&(l=Object.keys(e.setHeaders).reduce((d,h)=>d.set(h,e.setHeaders[h]),l)),e.setParams&&(c=Object.keys(e.setParams).reduce((d,h)=>d.set(h,e.setParams[h]),c)),new qh(t,r,s,{params:c,headers:l,context:u,reportProgress:a,responseType:i,withCredentials:o})}}var Jt=(()=>((Jt=Jt||{})[Jt.Sent=0]="Sent",Jt[Jt.UploadProgress=1]="UploadProgress",Jt[Jt.ResponseHeader=2]="ResponseHeader",Jt[Jt.DownloadProgress=3]="DownloadProgress",Jt[Jt.Response=4]="Response",Jt[Jt.User=5]="User",Jt))();class uI{constructor(e,t=200,r="OK"){this.headers=e.headers||new to,this.status=void 0!==e.status?e.status:t,this.statusText=e.statusText||r,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}}class dI extends uI{constructor(e={}){super(e),this.type=Jt.ResponseHeader}clone(e={}){return new dI({headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}class x_ extends uI{constructor(e={}){super(e),this.type=Jt.Response,this.body=void 0!==e.body?e.body:null}clone(e={}){return new x_({body:void 0!==e.body?e.body:this.body,headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}class b$ extends uI{constructor(e){super(e,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${e.url||"(unknown url)"}`:`Http failure response for ${e.url||"(unknown url)"}: ${e.status} ${e.statusText}`,this.error=e.error||null}}function hI(n,e){return{body:e,headers:n.headers,context:n.context,observe:n.observe,params:n.params,reportProgress:n.reportProgress,responseType:n.responseType,withCredentials:n.withCredentials}}let k_=(()=>{class n{constructor(t){this.handler=t}request(t,r,i={}){let s;if(t instanceof qh)s=t;else{let l,c;l=i.headers instanceof to?i.headers:new to(i.headers),i.params&&(c=i.params instanceof Qo?i.params:new Qo({fromObject:i.params})),s=new qh(t,r,void 0!==i.body?i.body:null,{headers:l,context:i.context,params:c,reportProgress:i.reportProgress,responseType:i.responseType||"json",withCredentials:i.withCredentials})}const o=G(s).pipe(ss(l=>this.handler.handle(l)));if(t instanceof qh||"events"===i.observe)return o;const a=o.pipe(cn(l=>l instanceof x_));switch(i.observe||"body"){case"body":switch(s.responseType){case"arraybuffer":return a.pipe(ee(l=>{if(null!==l.body&&!(l.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return l.body}));case"blob":return a.pipe(ee(l=>{if(null!==l.body&&!(l.body instanceof Blob))throw new Error("Response is not a Blob.");return l.body}));case"text":return a.pipe(ee(l=>{if(null!==l.body&&"string"!=typeof l.body)throw new Error("Response is not a string.");return l.body}));default:return a.pipe(ee(l=>l.body))}case"response":return a;default:throw new Error(`Unreachable: unhandled observe type ${i.observe}}`)}}delete(t,r={}){return this.request("DELETE",t,r)}get(t,r={}){return this.request("GET",t,r)}head(t,r={}){return this.request("HEAD",t,r)}jsonp(t,r){return this.request("JSONP",t,{params:(new Qo).append(r,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(t,r={}){return this.request("OPTIONS",t,r)}patch(t,r,i={}){return this.request("PATCH",t,hI(i,r))}post(t,r,i={}){return this.request("POST",t,hI(i,r))}put(t,r,i={}){return this.request("PUT",t,hI(i,r))}}return n.\u0275fac=function(t){return new(t||n)(w(p$))},n.\u0275prov=F({token:n,factory:n.\u0275fac}),n})();class w${constructor(e,t){this.next=e,this.interceptor=t}handle(e){return this.interceptor.intercept(e,this.next)}}const C$=new P("HTTP_INTERCEPTORS");let vle=(()=>{class n{intercept(t,r){return r.handle(t)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=F({token:n,factory:n.\u0275fac}),n})();const ble=/^\)\]\}',?\n/;let E$=(()=>{class n{constructor(t){this.xhrFactory=t}handle(t){if("JSONP"===t.method)throw new Error("Attempted to construct Jsonp request without HttpClientJsonpModule installed.");return new je(r=>{const i=this.xhrFactory.build();if(i.open(t.method,t.urlWithParams),t.withCredentials&&(i.withCredentials=!0),t.headers.forEach((f,p)=>i.setRequestHeader(f,p.join(","))),t.headers.has("Accept")||i.setRequestHeader("Accept","application/json, text/plain, */*"),!t.headers.has("Content-Type")){const f=t.detectContentTypeHeader();null!==f&&i.setRequestHeader("Content-Type",f)}if(t.responseType){const f=t.responseType.toLowerCase();i.responseType="json"!==f?f:"text"}const s=t.serializeBody();let o=null;const a=()=>{if(null!==o)return o;const f=i.statusText||"OK",p=new to(i.getAllResponseHeaders()),g=function wle(n){return"responseURL"in n&&n.responseURL?n.responseURL:/^X-Request-URL:/m.test(n.getAllResponseHeaders())?n.getResponseHeader("X-Request-URL"):null}(i)||t.url;return o=new dI({headers:p,status:i.status,statusText:f,url:g}),o},l=()=>{let{headers:f,status:p,statusText:g,url:m}=a(),v=null;204!==p&&(v=typeof i.response>"u"?i.responseText:i.response),0===p&&(p=v?200:0);let C=p>=200&&p<300;if("json"===t.responseType&&"string"==typeof v){const y=v;v=v.replace(ble,"");try{v=""!==v?JSON.parse(v):null}catch(D){v=y,C&&(C=!1,v={error:D,text:v})}}C?(r.next(new x_({body:v,headers:f,status:p,statusText:g,url:m||void 0})),r.complete()):r.error(new b$({error:v,headers:f,status:p,statusText:g,url:m||void 0}))},c=f=>{const{url:p}=a(),g=new b$({error:f,status:i.status||0,statusText:i.statusText||"Unknown Error",url:p||void 0});r.error(g)};let u=!1;const d=f=>{u||(r.next(a()),u=!0);let p={type:Jt.DownloadProgress,loaded:f.loaded};f.lengthComputable&&(p.total=f.total),"text"===t.responseType&&!!i.responseText&&(p.partialText=i.responseText),r.next(p)},h=f=>{let p={type:Jt.UploadProgress,loaded:f.loaded};f.lengthComputable&&(p.total=f.total),r.next(p)};return i.addEventListener("load",l),i.addEventListener("error",c),i.addEventListener("timeout",c),i.addEventListener("abort",c),t.reportProgress&&(i.addEventListener("progress",d),null!==s&&i.upload&&i.upload.addEventListener("progress",h)),i.send(s),r.next({type:Jt.Sent}),()=>{i.removeEventListener("error",c),i.removeEventListener("abort",c),i.removeEventListener("load",l),i.removeEventListener("timeout",c),t.reportProgress&&(i.removeEventListener("progress",d),null!==s&&i.upload&&i.upload.removeEventListener("progress",h)),i.readyState!==i.DONE&&i.abort()}})}}return n.\u0275fac=function(t){return new(t||n)(w(M2))},n.\u0275prov=F({token:n,factory:n.\u0275fac}),n})();const fI=new P("XSRF_COOKIE_NAME"),pI=new P("XSRF_HEADER_NAME");class I${}let Cle=(()=>{class n{constructor(t,r,i){this.doc=t,this.platform=r,this.cookieName=i,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const t=this.doc.cookie||"";return t!==this.lastCookieString&&(this.parseCount++,this.lastToken=y2(t,this.cookieName),this.lastCookieString=t),this.lastToken}}return n.\u0275fac=function(t){return new(t||n)(w(Ee),w(qs),w(fI))},n.\u0275prov=F({token:n,factory:n.\u0275fac}),n})(),gI=(()=>{class n{constructor(t,r){this.tokenService=t,this.headerName=r}intercept(t,r){const i=t.url.toLowerCase();if("GET"===t.method||"HEAD"===t.method||i.startsWith("http://")||i.startsWith("https://"))return r.handle(t);const s=this.tokenService.getToken();return null!==s&&!t.headers.has(this.headerName)&&(t=t.clone({headers:t.headers.set(this.headerName,s)})),r.handle(t)}}return n.\u0275fac=function(t){return new(t||n)(w(I$),w(pI))},n.\u0275prov=F({token:n,factory:n.\u0275fac}),n})(),Ele=(()=>{class n{constructor(t,r){this.backend=t,this.injector=r,this.chain=null}handle(t){if(null===this.chain){const r=this.injector.get(C$,[]);this.chain=r.reduceRight((i,s)=>new w$(i,s),this.backend)}return this.chain.handle(t)}}return n.\u0275fac=function(t){return new(t||n)(w(g$),w(Xe))},n.\u0275prov=F({token:n,factory:n.\u0275fac}),n})(),Ile=(()=>{class n{static disable(){return{ngModule:n,providers:[{provide:gI,useClass:vle}]}}static withOptions(t={}){return{ngModule:n,providers:[t.cookieName?{provide:fI,useValue:t.cookieName}:[],t.headerName?{provide:pI,useValue:t.headerName}:[]]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=ue({type:n}),n.\u0275inj=ce({providers:[gI,{provide:C$,useExisting:gI,multi:!0},{provide:I$,useClass:Cle},{provide:fI,useValue:"XSRF-TOKEN"},{provide:pI,useValue:"X-XSRF-TOKEN"}]}),n})(),Tle=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=ue({type:n}),n.\u0275inj=ce({providers:[k_,{provide:p$,useClass:Ele},E$,{provide:g$,useExisting:E$}],imports:[Ile.withOptions({cookieName:"XSRF-TOKEN",headerName:"X-XSRF-TOKEN"})]}),n})(),R_=(()=>{class n{constructor(t){this.http=t,this.drugs=[],this.forCart=[],this.forCartSumm=0,this.randomDrugs=[],this.http.get("assets/drugs.json").subscribe(r=>{this.drugs=r,this.drugCounter=this.drugs.length,console.log(this.drugCounter)})}ngOnInit(){}FavoriteDrugs(){let t=Math.floor(26*Math.random()),r=t+5;for(let i=t;i<r;i++)this.randomDrugs.push(this.drugs[i]);return this.randomDrugs}getSum(){let t=0;for(let r=0;r<this.forCart.length;r++)t+=this.forCart[r].count;return t}addDrug(t){this.forCart.push({id:t.id,drug:t,count:1})}removeDrug(t){let r=this.forCart.filter(i=>{});console.log(r)}}return n.\u0275fac=function(t){return new(t||n)(w(k_))},n.\u0275prov=F({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function Sle(n,e){if(1&n&&(T(0,"div")(1,"div",1),ye(2,"img",2),S(3),A()()),2&n){const t=e.$implicit;N(2),L("src",t.drug.imgURL,qa)("alt",t.drug.name),N(1),Em(" ",t.drug.id," ",t.drug.name," ")}}let Dle=(()=>{class n{constructor(t){this.drugService=t}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)(b(R_))},n.\u0275cmp=Qe({type:n,selectors:[["app-cart"]],decls:1,vars:1,consts:[[4,"ngFor","ngForOf"],[1,"store-card"],[3,"src","alt"]],template:function(t,r){1&t&&Z(0,Sle,4,4,"div",0),2&t&&L("ngForOf",r.drugService.forCart)},dependencies:[Ah],styles:[".store-card[_ngcontent-%COMP%]{width:500px;height:100px;border-radius:5px;background-color:#f0f8ff;margin:5px}.store-card[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:80px;height:80px}"]}),n})();function T$(n,e,t,r,i,s,o){try{var a=n[s](o),l=a.value}catch(c){return void t(c)}a.done?e(l):Promise.resolve(l).then(r,i)}function _(n){return function(){var e=this,t=arguments;return new Promise(function(r,i){var s=n.apply(e,t);function o(l){T$(s,r,i,o,a,"next",l)}function a(l){T$(s,r,i,o,a,"throw",l)}o(void 0)})}}const $=function(n,e){if(!n)throw mu(e)},mu=function(n){return new Error("Firebase Database (${JSCORE_VERSION}) INTERNAL ASSERT FAILED: "+n)},S$=function(n){const e=[];let t=0;for(let r=0;r<n.length;r++){let i=n.charCodeAt(r);i<128?e[t++]=i:i<2048?(e[t++]=i>>6|192,e[t++]=63&i|128):55296==(64512&i)&&r+1<n.length&&56320==(64512&n.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&n.charCodeAt(++r)),e[t++]=i>>18|240,e[t++]=i>>12&63|128,e[t++]=i>>6&63|128,e[t++]=63&i|128):(e[t++]=i>>12|224,e[t++]=i>>6&63|128,e[t++]=63&i|128)}return e},N_={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<n.length;i+=3){const s=n[i],o=i+1<n.length,a=o?n[i+1]:0,l=i+2<n.length,c=l?n[i+2]:0;let h=(15&a)<<2|c>>6,f=63&c;l||(f=64,o||(h=64)),r.push(t[s>>2],t[(3&s)<<4|a>>4],t[h],t[f])}return r.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(S$(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):function(n){const e=[];let t=0,r=0;for(;t<n.length;){const i=n[t++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=n[t++];e[r++]=String.fromCharCode((31&i)<<6|63&s)}else if(i>239&&i<365){const l=((7&i)<<18|(63&n[t++])<<12|(63&n[t++])<<6|63&n[t++])-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(1023&l))}else{const s=n[t++],o=n[t++];e[r++]=String.fromCharCode((15&i)<<12|(63&s)<<6|63&o)}}return e.join("")}(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<n.length;){const s=t[n.charAt(i++)],a=i<n.length?t[n.charAt(i)]:0;++i;const c=i<n.length?t[n.charAt(i)]:64;++i;const d=i<n.length?t[n.charAt(i)]:64;if(++i,null==s||null==a||null==c||null==d)throw Error();r.push(s<<2|a>>4),64!==c&&(r.push(a<<4&240|c>>2),64!==d&&r.push(c<<6&192|d))}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}},D$=function(n){const e=S$(n);return N_.encodeByteArray(e,!0)},P_=function(n){return D$(n).replace(/\./g,"")},O_=function(n){try{return N_.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function Mle(n){return A$(void 0,n)}function A$(n,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:return new Date(e.getTime());case Object:void 0===n&&(n={});break;case Array:n=[];break;default:return e}for(const t in e)!e.hasOwnProperty(t)||!xle(t)||(n[t]=A$(n[t],e[t]));return n}function xle(n){return"__proto__"!==n}function _n(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function _I(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(_n())}function yI(){const n="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof n&&void 0!==n.id}function x$(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function Xo(){return"object"==typeof indexedDB}function _u(){return new Promise((n,e)=>{try{let t=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),t||self.indexedDB.deleteDatabase(r),n(!0)},i.onupgradeneeded=()=>{t=!1},i.onerror=()=>{var s;e((null===(s=i.error)||void 0===s?void 0:s.message)||"")}}catch(t){e(t)}})}function F_(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}const vI=()=>{try{return function Rle(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const n=process.env.__FIREBASE_DEFAULTS__;return n?JSON.parse(n):void 0})()||(()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=n&&O_(n[1]);return e&&JSON.parse(e)})()}catch(n){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`)}},k$=n=>{var e,t;return null===(t=null===(e=vI())||void 0===e?void 0:e.emulatorHosts)||void 0===t?void 0:t[n]},L_=n=>{const e=k$(n);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(t+1),10);return"["===e[0]?[e.substring(1,t-1),r]:[e.substring(0,t),r]},R$=n=>{var e;return null===(e=vI())||void 0===e?void 0:e[`_${n}`]};class yu{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,r)=>{t?this.reject(t):this.resolve(r),"function"==typeof e&&(this.promise.catch(()=>{}),1===e.length?e(t):e(t,r))}}}function bI(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const r=e||"demo-project",i=n.iat||0,s=n.sub||n.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},n);return[P_(JSON.stringify({alg:"none",type:"JWT"})),P_(JSON.stringify(o)),""].join(".")}class Gr extends Error{constructor(e,t,r){super(t),this.code=e,this.customData=r,this.name="FirebaseError",Object.setPrototypeOf(this,Gr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Li.prototype.create)}}class Li{constructor(e,t,r){this.service=e,this.serviceName=t,this.errors=r}create(e,...t){const r=t[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?function Vle(n,e){return n.replace(Ble,(t,r)=>{const i=e[r];return null!=i?String(i):`<${r}?>`})}(s,r):"Error";return new Gr(i,`${this.serviceName}: ${o} (${i}).`,r)}}const Ble=/\{\$([^}]+)}/g;function Kh(n){return JSON.parse(n)}function Rn(n){return JSON.stringify(n)}const V_=function(n){let e={},t={},r={},i="";try{const s=n.split(".");e=Kh(O_(s[0])||""),t=Kh(O_(s[1])||""),i=s[2],r=t.d||{},delete t.d}catch{}return{header:e,claims:t,data:r,signature:i}};function ro(n,e){return Object.prototype.hasOwnProperty.call(n,e)}function vu(n,e){if(Object.prototype.hasOwnProperty.call(n,e))return n[e]}function wI(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function B_(n,e,t){const r={};for(const i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=e.call(t,n[i],i,n));return r}function Yh(n,e){if(n===e)return!0;const t=Object.keys(n),r=Object.keys(e);for(const i of t){if(!r.includes(i))return!1;const s=n[i],o=e[i];if(N$(s)&&N$(o)){if(!Yh(s,o))return!1}else if(s!==o)return!1}for(const i of r)if(!t.includes(i))return!1;return!0}function N$(n){return null!==n&&"object"==typeof n}function Qh(n){const e=[];for(const[t,r]of Object.entries(n))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Xh(n){const e={};return n.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,s]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(s)}}),e}function Zh(n){const e=n.indexOf("?");if(!e)return"";const t=n.indexOf("#",e);return n.substring(e,t>0?t:void 0)}class jle{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(let e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(e,t){t||(t=0);const r=this.W_;if("string"==typeof e)for(let d=0;d<16;d++)r[d]=e.charCodeAt(t)<<24|e.charCodeAt(t+1)<<16|e.charCodeAt(t+2)<<8|e.charCodeAt(t+3),t+=4;else for(let d=0;d<16;d++)r[d]=e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3],t+=4;for(let d=16;d<80;d++){const h=r[d-3]^r[d-8]^r[d-14]^r[d-16];r[d]=4294967295&(h<<1|h>>>31)}let c,u,i=this.chain_[0],s=this.chain_[1],o=this.chain_[2],a=this.chain_[3],l=this.chain_[4];for(let d=0;d<80;d++){d<40?d<20?(c=a^s&(o^a),u=1518500249):(c=s^o^a,u=1859775393):d<60?(c=s&o|a&(s|o),u=2400959708):(c=s^o^a,u=3395469782);const h=(i<<5|i>>>27)+c+l+u+r[d]&4294967295;l=a,a=o,o=4294967295&(s<<30|s>>>2),s=i,i=h}this.chain_[0]=this.chain_[0]+i&4294967295,this.chain_[1]=this.chain_[1]+s&4294967295,this.chain_[2]=this.chain_[2]+o&4294967295,this.chain_[3]=this.chain_[3]+a&4294967295,this.chain_[4]=this.chain_[4]+l&4294967295}update(e,t){if(null==e)return;void 0===t&&(t=e.length);const r=t-this.blockSize;let i=0;const s=this.buf_;let o=this.inbuf_;for(;i<t;){if(0===o)for(;i<=r;)this.compress_(e,i),i+=this.blockSize;if("string"==typeof e){for(;i<t;)if(s[o]=e.charCodeAt(i),++o,++i,o===this.blockSize){this.compress_(s),o=0;break}}else for(;i<t;)if(s[o]=e[i],++o,++i,o===this.blockSize){this.compress_(s),o=0;break}}this.inbuf_=o,this.total_+=t}digest(){const e=[];let t=8*this.total_;this.update(this.pad_,this.inbuf_<56?56-this.inbuf_:this.blockSize-(this.inbuf_-56));for(let i=this.blockSize-1;i>=56;i--)this.buf_[i]=255&t,t/=256;this.compress_(this.buf_);let r=0;for(let i=0;i<5;i++)for(let s=24;s>=0;s-=8)e[r]=this.chain_[i]>>s&255,++r;return e}}class zle{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,r){let i;if(void 0===e&&void 0===t&&void 0===r)throw new Error("Missing Observer.");i=function Gle(n,e){if("object"!=typeof n||null===n)return!1;for(const t of e)if(t in n&&"function"==typeof n[t])return!0;return!1}(e,["next","error","complete"])?e:{next:e,error:t,complete:r},void 0===i.next&&(i.next=CI),void 0===i.error&&(i.error=CI),void 0===i.complete&&(i.complete=CI);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){void 0===this.observers||void 0===this.observers[e]||(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[e])try{t(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function CI(){}const $_=function(n){let e=0;for(let t=0;t<n.length;t++){const r=n.charCodeAt(t);r<128?e++:r<2048?e+=2:r>=55296&&r<=56319?(e+=4,t++):e+=3}return e};function EI(n,e=1e3,t=2){const r=e*Math.pow(t,n),i=Math.round(.5*r*(Math.random()-.5)*2);return Math.min(144e5,r+i)}function He(n){return n&&n._delegate?n._delegate:n}class en{constructor(e,t,r){this.name=e,this.instanceFactory=t,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const ll="[DEFAULT]";class Zle{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const r=new yu;if(this.instancesDeferred.set(t,r),this.isInitialized(t)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:t});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const r=this.normalizeInstanceIdentifier(e?.identifier),i=null!==(t=e?.optional)&&void 0!==t&&t;if(!this.isInitialized(r)&&!this.shouldAutoInitialize()){if(i)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,this.shouldAutoInitialize()){if(function ece(n){return"EAGER"===n.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:ll})}catch{}for(const[t,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(t);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=ll){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}delete(){var e=this;return _(function*(){const t=Array.from(e.instances.values());yield Promise.all([...t.filter(r=>"INTERNAL"in r).map(r=>r.INTERNAL.delete()),...t.filter(r=>"_delete"in r).map(r=>r._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(e=ll){return this.instances.has(e)}getOptions(e=ll){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:t});for(const[s,o]of this.instancesDeferred.entries())r===this.normalizeInstanceIdentifier(s)&&o.resolve(i);return i}onInit(e,t){var r;const i=this.normalizeInstanceIdentifier(t),s=null!==(r=this.onInitCallbacks.get(i))&&void 0!==r?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);const o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,t){const r=this.onInitCallbacks.get(t);if(r)for(const i of r)try{i(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:(n=e,n===ll?void 0:n),options:t}),this.instances.set(e,r),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}var n;return r||null}normalizeInstanceIdentifier(e=ll){return this.component?this.component.multipleInstances?e:ll:e}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class tce{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new Zle(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}const II=[];var Ne=(()=>{return(n=Ne||(Ne={}))[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT",Ne;var n})();const P$={debug:Ne.DEBUG,verbose:Ne.VERBOSE,info:Ne.INFO,warn:Ne.WARN,error:Ne.ERROR,silent:Ne.SILENT},nce=Ne.INFO,rce={[Ne.DEBUG]:"log",[Ne.VERBOSE]:"log",[Ne.INFO]:"info",[Ne.WARN]:"warn",[Ne.ERROR]:"error"},ice=(n,e,...t)=>{if(e<n.logLevel)return;const r=(new Date).toISOString(),i=rce[e];if(!i)throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`);console[i](`[${r}]  ${n.name}:`,...t)};class Zo{constructor(e){this.name=e,this._logLevel=nce,this._logHandler=ice,this._userLogHandler=null,II.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ne))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel="string"==typeof e?P$[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if("function"!=typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ne.DEBUG,...e),this._logHandler(this,Ne.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ne.VERBOSE,...e),this._logHandler(this,Ne.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ne.INFO,...e),this._logHandler(this,Ne.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ne.WARN,...e),this._logHandler(this,Ne.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ne.ERROR,...e),this._logHandler(this,Ne.ERROR,...e)}}let O$,F$;const L$=new WeakMap,TI=new WeakMap,V$=new WeakMap,SI=new WeakMap,DI=new WeakMap;let AI={get(n,e,t){if(n instanceof IDBTransaction){if("done"===e)return TI.get(n);if("objectStoreNames"===e)return n.objectStoreNames||V$.get(n);if("store"===e)return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return io(n[e])},set:(n,e,t)=>(n[e]=t,!0),has:(n,e)=>n instanceof IDBTransaction&&("done"===e||"store"===e)||e in n};function hce(n){return"function"==typeof n?function dce(n){return n!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function ace(){return F$||(F$=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(n)?function(...e){return n.apply(MI(this),e),io(L$.get(this))}:function(...e){return io(n.apply(MI(this),e))}:function(e,...t){const r=n.call(MI(this),e,...t);return V$.set(r,e.sort?e.sort():[e]),io(r)}}(n):(n instanceof IDBTransaction&&function cce(n){if(TI.has(n))return;const e=new Promise((t,r)=>{const i=()=>{n.removeEventListener("complete",s),n.removeEventListener("error",o),n.removeEventListener("abort",o)},s=()=>{t(),i()},o=()=>{r(n.error||new DOMException("AbortError","AbortError")),i()};n.addEventListener("complete",s),n.addEventListener("error",o),n.addEventListener("abort",o)});TI.set(n,e)}(n),((n,e)=>e.some(t=>n instanceof t))(n,function oce(){return O$||(O$=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(n,AI):n)}function io(n){if(n instanceof IDBRequest)return function lce(n){const e=new Promise((t,r)=>{const i=()=>{n.removeEventListener("success",s),n.removeEventListener("error",o)},s=()=>{t(io(n.result)),i()},o=()=>{r(n.error),i()};n.addEventListener("success",s),n.addEventListener("error",o)});return e.then(t=>{t instanceof IDBCursor&&L$.set(t,n)}).catch(()=>{}),DI.set(e,n),e}(n);if(SI.has(n))return SI.get(n);const e=hce(n);return e!==n&&(SI.set(n,e),DI.set(e,n)),e}const MI=n=>DI.get(n);function j_(n,e,{blocked:t,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(n,e),a=io(o);return r&&o.addEventListener("upgradeneeded",l=>{r(io(o.result),l.oldVersion,l.newVersion,io(o.transaction))}),t&&o.addEventListener("blocked",()=>t()),a.then(l=>{s&&l.addEventListener("close",()=>s()),i&&l.addEventListener("versionchange",()=>i())}).catch(()=>{}),a}function xI(n,{blocked:e}={}){const t=indexedDB.deleteDatabase(n);return e&&t.addEventListener("blocked",()=>e()),io(t).then(()=>{})}const fce=["get","getKey","getAll","getAllKeys","count"],pce=["put","add","delete","clear"],kI=new Map;function B$(n,e){if(!(n instanceof IDBDatabase)||e in n||"string"!=typeof e)return;if(kI.get(e))return kI.get(e);const t=e.replace(/FromIndex$/,""),r=e!==t,i=pce.includes(t);if(!(t in(r?IDBIndex:IDBObjectStore).prototype)||!i&&!fce.includes(t))return;const s=function(){var o=_(function*(a,...l){const c=this.transaction(a,i?"readwrite":"readonly");let u=c.store;return r&&(u=u.index(l.shift())),(yield Promise.all([u[t](...l),i&&c.done]))[0]});return function(l){return o.apply(this,arguments)}}();return kI.set(e,s),s}!function uce(n){AI=n(AI)}(n=>({...n,get:(e,t,r)=>B$(e,t)||n.get(e,t,r),has:(e,t)=>!!B$(e,t)||n.has(e,t)}));class gce{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(function mce(n){return"VERSION"===n.getComponent()?.type}(t)){const r=t.getImmediate();return`${r.library}/${r.version}`}return null}).filter(t=>t).join(" ")}}const RI="@firebase/app",cl=new Zo("@firebase/app"),H_="[DEFAULT]",jce={[RI]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},ul=new Map,z_=new Map;function Hce(n,e){try{n.container.addComponent(e)}catch(t){cl.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function un(n){const e=n.name;if(z_.has(e))return cl.debug(`There were multiple attempts to register component ${e}.`),!1;z_.set(e,n);for(const t of ul.values())Hce(t,n);return!0}function Tr(n,e){const t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}const so=new Li("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class Gce{constructor(e,t,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new en("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw so.create("app-deleted",{appName:this._name})}}const Jo="9.14.0";function $$(n,e={}){let t=n;"object"!=typeof e&&(e={name:e});const r=Object.assign({name:H_,automaticDataCollectionEnabled:!1},e),i=r.name;if("string"!=typeof i||!i)throw so.create("bad-app-name",{appName:String(i)});if(t||(t=(()=>{var n;return null===(n=vI())||void 0===n?void 0:n.config})()),!t)throw so.create("no-options");const s=ul.get(i);if(s){if(Yh(t,s.options)&&Yh(r,s.config))return s;throw so.create("duplicate-app",{appName:i})}const o=new tce(i);for(const l of z_.values())o.addComponent(l);const a=new Gce(t,r,o);return ul.set(i,a),a}function as(n=H_){const e=ul.get(n);if(!e&&n===H_)return $$();if(!e)throw so.create("no-app",{appName:n});return e}function j$(){return Array.from(ul.values())}function Te(n,e,t){var r;let i=null!==(r=jce[n])&&void 0!==r?r:n;t&&(i+=`-${t}`);const s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){const a=[`Unable to register library "${i}" with version "${e}":`];return s&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),void cl.warn(a.join(" "))}un(new en(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}const Jh="firebase-heartbeat-store";let PI=null;function H$(){return PI||(PI=j_("firebase-heartbeat-database",1,{upgrade:(n,e)=>{0===e&&n.createObjectStore(Jh)}}).catch(n=>{throw so.create("idb-open",{originalErrorMessage:n.message})})),PI}function OI(){return(OI=_(function*(n){var e;try{return(yield H$()).transaction(Jh).objectStore(Jh).get(G$(n))}catch(t){if(t instanceof Gr)cl.warn(t.message);else{const r=so.create("idb-get",{originalErrorMessage:null===(e=t)||void 0===e?void 0:e.message});cl.warn(r.message)}}})).apply(this,arguments)}function z$(n,e){return FI.apply(this,arguments)}function FI(){return(FI=_(function*(n,e){var t;try{const i=(yield H$()).transaction(Jh,"readwrite");return yield i.objectStore(Jh).put(e,G$(n)),i.done}catch(r){if(r instanceof Gr)cl.warn(r.message);else{const i=so.create("idb-set",{originalErrorMessage:null===(t=r)||void 0===t?void 0:t.message});cl.warn(i.message)}}})).apply(this,arguments)}function G$(n){return`${n.name}!${n.options.appId}`}class Xce{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new Jce(t),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}triggerHeartbeat(){var e=this;return _(function*(){const r=e.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=W$();if(null===e._heartbeatsCache&&(e._heartbeatsCache=yield e._heartbeatsCachePromise),e._heartbeatsCache.lastSentHeartbeatDate!==i&&!e._heartbeatsCache.heartbeats.some(s=>s.date===i))return e._heartbeatsCache.heartbeats.push({date:i,agent:r}),e._heartbeatsCache.heartbeats=e._heartbeatsCache.heartbeats.filter(s=>{const o=new Date(s.date).valueOf();return Date.now()-o<=2592e6}),e._storage.overwrite(e._heartbeatsCache)})()}getHeartbeatsHeader(){var e=this;return _(function*(){if(null===e._heartbeatsCache&&(yield e._heartbeatsCachePromise),null===e._heartbeatsCache||0===e._heartbeatsCache.heartbeats.length)return"";const t=W$(),{heartbeatsToSend:r,unsentEntries:i}=function Zce(n,e=1024){const t=[];let r=n.slice();for(const i of n){const s=t.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),q$(t)>e){s.dates.pop();break}}else if(t.push({agent:i.agent,dates:[i.date]}),q$(t)>e){t.pop();break}r=r.slice(1)}return{heartbeatsToSend:t,unsentEntries:r}}(e._heartbeatsCache.heartbeats),s=P_(JSON.stringify({version:2,heartbeats:r}));return e._heartbeatsCache.lastSentHeartbeatDate=t,i.length>0?(e._heartbeatsCache.heartbeats=i,yield e._storage.overwrite(e._heartbeatsCache)):(e._heartbeatsCache.heartbeats=[],e._storage.overwrite(e._heartbeatsCache)),s})()}}function W$(){return(new Date).toISOString().substring(0,10)}class Jce{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return _(function*(){return!!Xo()&&_u().then(()=>!0).catch(()=>!1)})()}read(){var e=this;return _(function*(){return(yield e._canUseIndexedDBPromise)&&(yield function Kce(n){return OI.apply(this,arguments)}(e.app))||{heartbeats:[]}})()}overwrite(e){var t=this;return _(function*(){var r;if(yield t._canUseIndexedDBPromise){const s=yield t.read();return z$(t.app,{lastSentHeartbeatDate:null!==(r=e.lastSentHeartbeatDate)&&void 0!==r?r:s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}})()}add(e){var t=this;return _(function*(){var r;if(yield t._canUseIndexedDBPromise){const s=yield t.read();return z$(t.app,{lastSentHeartbeatDate:null!==(r=e.lastSentHeartbeatDate)&&void 0!==r?r:s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}})()}}function q$(n){return P_(JSON.stringify({version:2,heartbeats:n})).length}!function eue(n){un(new en("platform-logger",e=>new gce(e),"PRIVATE")),un(new en("heartbeat",e=>new Xce(e),"PRIVATE")),Te(RI,"0.8.4",n),Te(RI,"0.8.4","esm2017"),Te("fire-js","")}(""),Te("firebase","9.14.0","app");const K$="@firebase/installations",LI="0.5.16",Q$=`w:${LI}`,X$="FIS_v2",oo=new Li("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function Z$(n){return n instanceof Gr&&n.code.includes("request-failed")}function VI({projectId:n}){return`https://firebaseinstallations.googleapis.com/v1/projects/${n}/installations`}function J$(n){return{token:n.token,requestStatus:2,expiresIn:lue(n.expiresIn),creationTime:Date.now()}}function BI(n,e){return UI.apply(this,arguments)}function UI(){return(UI=_(function*(n,e){const r=(yield e.json()).error;return oo.create("request-failed",{requestName:n,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})})).apply(this,arguments)}function ej({apiKey:n}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":n})}function tj(n,{refreshToken:e}){const t=ej(n);return t.append("Authorization",function cue(n){return`${X$} ${n}`}(e)),t}function $I(n){return jI.apply(this,arguments)}function jI(){return(jI=_(function*(n){const e=yield n();return e.status>=500&&e.status<600?n():e})).apply(this,arguments)}function lue(n){return Number(n.replace("s","000"))}function uue(n,e){return HI.apply(this,arguments)}function HI(){return(HI=_(function*({appConfig:n,heartbeatServiceProvider:e},{fid:t}){const r=VI(n),i=ej(n),s=e.getImmediate({optional:!0});if(s){const c=yield s.getHeartbeatsHeader();c&&i.append("x-firebase-client",c)}const a={method:"POST",headers:i,body:JSON.stringify({fid:t,authVersion:X$,appId:n.appId,sdkVersion:Q$})},l=yield $I(()=>fetch(r,a));if(l.ok){const c=yield l.json();return{fid:c.fid||t,registrationStatus:2,refreshToken:c.refreshToken,authToken:J$(c.authToken)}}throw yield BI("Create Installation",l)})).apply(this,arguments)}function nj(n){return new Promise(e=>{setTimeout(e,n)})}const hue=/^[cdef][\w-]{21}$/;function fue(){try{const n=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(n),n[0]=112+n[0]%16;const t=function pue(n){return function due(n){return btoa(String.fromCharCode(...n)).replace(/\+/g,"-").replace(/\//g,"_")}(n).substr(0,22)}(n);return hue.test(t)?t:""}catch{return""}}function bu(n){return`${n.appName}!${n.appId}`}const wu=new Map;function rj(n,e){const t=bu(n);ij(t,e),function _ue(n,e){const t=function sj(){return!dl&&"BroadcastChannel"in self&&(dl=new BroadcastChannel("[Firebase] FID Change"),dl.onmessage=n=>{ij(n.data.key,n.data.fid)}),dl}();t&&t.postMessage({key:n,fid:e}),function oj(){0===wu.size&&dl&&(dl.close(),dl=null)}()}(t,e)}function ij(n,e){const t=wu.get(n);if(t)for(const r of t)r(e)}let dl=null;const hl="firebase-installations-store";let GI=null;function WI(){return GI||(GI=j_("firebase-installations-database",1,{upgrade:(n,e)=>{0===e&&n.createObjectStore(hl)}})),GI}function G_(n,e){return qI.apply(this,arguments)}function qI(){return(qI=_(function*(n,e){const t=bu(n),i=(yield WI()).transaction(hl,"readwrite"),s=i.objectStore(hl),o=yield s.get(t);return yield s.put(e,t),yield i.done,(!o||o.fid!==e.fid)&&rj(n,e.fid),e})).apply(this,arguments)}function KI(n){return YI.apply(this,arguments)}function YI(){return(YI=_(function*(n){const e=bu(n),r=(yield WI()).transaction(hl,"readwrite");yield r.objectStore(hl).delete(e),yield r.done})).apply(this,arguments)}function ef(n,e){return QI.apply(this,arguments)}function QI(){return(QI=_(function*(n,e){const t=bu(n),i=(yield WI()).transaction(hl,"readwrite"),s=i.objectStore(hl),o=yield s.get(t),a=e(o);return void 0===a?yield s.delete(t):yield s.put(a,t),yield i.done,a&&(!o||o.fid!==a.fid)&&rj(n,a.fid),a})).apply(this,arguments)}function XI(n){return ZI.apply(this,arguments)}function ZI(){return(ZI=_(function*(n){let e;const t=yield ef(n.appConfig,r=>{const i=bue(r),s=wue(n,i);return e=s.registrationPromise,s.installationEntry});return""===t.fid?{installationEntry:yield e}:{installationEntry:t,registrationPromise:e}})).apply(this,arguments)}function bue(n){return lj(n||{fid:fue(),registrationStatus:0})}function wue(n,e){if(0===e.registrationStatus){if(!navigator.onLine)return{installationEntry:e,registrationPromise:Promise.reject(oo.create("app-offline"))};const t={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},r=function Cue(n,e){return JI.apply(this,arguments)}(n,t);return{installationEntry:t,registrationPromise:r}}return 1===e.registrationStatus?{installationEntry:e,registrationPromise:Eue(n)}:{installationEntry:e}}function JI(){return(JI=_(function*(n,e){try{const t=yield uue(n,e);return G_(n.appConfig,t)}catch(t){throw Z$(t)&&409===t.customData.serverCode?yield KI(n.appConfig):yield G_(n.appConfig,{fid:e.fid,registrationStatus:0}),t}})).apply(this,arguments)}function Eue(n){return eT.apply(this,arguments)}function eT(){return(eT=_(function*(n){let e=yield aj(n.appConfig);for(;1===e.registrationStatus;)yield nj(100),e=yield aj(n.appConfig);if(0===e.registrationStatus){const{installationEntry:t,registrationPromise:r}=yield XI(n);return r||t}return e})).apply(this,arguments)}function aj(n){return ef(n,e=>{if(!e)throw oo.create("installation-not-found");return lj(e)})}function lj(n){return function Iue(n){return 1===n.registrationStatus&&n.registrationTime+1e4<Date.now()}(n)?{fid:n.fid,registrationStatus:0}:n}function Tue(n,e){return tT.apply(this,arguments)}function tT(){return(tT=_(function*({appConfig:n,heartbeatServiceProvider:e},t){const r=Sue(n,t),i=tj(n,t),s=e.getImmediate({optional:!0});if(s){const c=yield s.getHeartbeatsHeader();c&&i.append("x-firebase-client",c)}const a={method:"POST",headers:i,body:JSON.stringify({installation:{sdkVersion:Q$,appId:n.appId}})},l=yield $I(()=>fetch(r,a));if(l.ok)return J$(yield l.json());throw yield BI("Generate Auth Token",l)})).apply(this,arguments)}function Sue(n,{fid:e}){return`${VI(n)}/${e}/authTokens:generate`}function nT(n){return rT.apply(this,arguments)}function rT(){return(rT=_(function*(n,e=!1){let t;const r=yield ef(n.appConfig,s=>{if(!uj(s))throw oo.create("not-registered");const o=s.authToken;if(!e&&Mue(o))return s;if(1===o.requestStatus)return t=Due(n,e),s;{if(!navigator.onLine)throw oo.create("app-offline");const a=kue(s);return t=Aue(n,a),a}});return t?yield t:r.authToken})).apply(this,arguments)}function Due(n,e){return iT.apply(this,arguments)}function iT(){return(iT=_(function*(n,e){let t=yield cj(n.appConfig);for(;1===t.authToken.requestStatus;)yield nj(100),t=yield cj(n.appConfig);const r=t.authToken;return 0===r.requestStatus?nT(n,e):r})).apply(this,arguments)}function cj(n){return ef(n,e=>{if(!uj(e))throw oo.create("not-registered");return function Rue(n){return 1===n.requestStatus&&n.requestTime+1e4<Date.now()}(e.authToken)?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e})}function Aue(n,e){return sT.apply(this,arguments)}function sT(){return(sT=_(function*(n,e){try{const t=yield Tue(n,e),r=Object.assign(Object.assign({},e),{authToken:t});return yield G_(n.appConfig,r),t}catch(t){if(!Z$(t)||401!==t.customData.serverCode&&404!==t.customData.serverCode){const r=Object.assign(Object.assign({},e),{authToken:{requestStatus:0}});yield G_(n.appConfig,r)}else yield KI(n.appConfig);throw t}})).apply(this,arguments)}function uj(n){return void 0!==n&&2===n.registrationStatus}function Mue(n){return 2===n.requestStatus&&!function xue(n){const e=Date.now();return e<n.creationTime||n.creationTime+n.expiresIn<e+36e5}(n)}function kue(n){const e={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},n),{authToken:e})}function oT(){return(oT=_(function*(n){const e=n,{installationEntry:t,registrationPromise:r}=yield XI(e);return r?r.catch(console.error):nT(e).catch(console.error),t.fid})).apply(this,arguments)}function aT(){return(aT=_(function*(n,e=!1){const t=n;return yield Oue(t),(yield nT(t,e)).token})).apply(this,arguments)}function Oue(n){return lT.apply(this,arguments)}function lT(){return(lT=_(function*(n){const{registrationPromise:e}=yield XI(n);e&&(yield e)})).apply(this,arguments)}function dT(n){return oo.create("missing-app-config-values",{valueName:n})}const dj="installations",Uue=n=>{const e=n.getProvider("app").getImmediate(),t=function Vue(n){if(!n||!n.options)throw dT("App Configuration");if(!n.name)throw dT("App Name");const e=["projectId","apiKey","appId"];for(const t of e)if(!n.options[t])throw dT(t);return{appName:n.name,projectId:n.options.projectId,apiKey:n.options.apiKey,appId:n.options.appId}}(e);return{app:e,appConfig:t,heartbeatServiceProvider:Tr(e,"heartbeat"),_delete:()=>Promise.resolve()}},$ue=n=>{const t=Tr(n.getProvider("app").getImmediate(),dj).getImmediate();return{getId:()=>function Nue(n){return oT.apply(this,arguments)}(t),getToken:i=>function Pue(n){return aT.apply(this,arguments)}(t,i)}};(function jue(){un(new en(dj,Uue,"PUBLIC")),un(new en("installations-internal",$ue,"PRIVATE"))})(),Te(K$,LI),Te(K$,LI,"esm2017");const hT="@firebase/remote-config",fj="remote-config",Sr=new Li("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});function Yue(n=as()){return Tr(n=He(n),fj).getImmediate()}class ede{constructor(e,t,r,i){this.client=e,this.storage=t,this.storageCache=r,this.logger=i}isCachedDataFresh(e,t){if(!t)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const r=Date.now()-t,i=r<=e;return this.logger.debug(`Config fetch cache check. Cache age millis: ${r}. Cache max age millis (minimumFetchIntervalMillis setting): ${e}. Is cache hit: ${i}.`),i}fetch(e){var t=this;return _(function*(){const[r,i]=yield Promise.all([t.storage.getLastSuccessfulFetchTimestampMillis(),t.storage.getLastSuccessfulFetchResponse()]);if(i&&t.isCachedDataFresh(e.cacheMaxAgeMillis,r))return i;e.eTag=i&&i.eTag;const s=yield t.client.fetch(e),o=[t.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===s.status&&o.push(t.storage.setLastSuccessfulFetchResponse(s)),yield Promise.all(o),s})()}}function tde(n=navigator){return n.languages&&n.languages[0]||n.language}class nde{constructor(e,t,r,i,s,o){this.firebaseInstallations=e,this.sdkVersion=t,this.namespace=r,this.projectId=i,this.apiKey=s,this.appId=o}fetch(e){var t=this;return _(function*(){var r,i,s;const[o,a]=yield Promise.all([t.firebaseInstallations.getId(),t.firebaseInstallations.getToken()]),c=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${t.projectId}/namespaces/${t.namespace}:fetch?key=${t.apiKey}`,u={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":e.eTag||"*"},d={sdk_version:t.sdkVersion,app_instance_id:o,app_instance_id_token:a,app_id:t.appId,language_code:tde()},h={method:"POST",headers:u,body:JSON.stringify(d)},f=fetch(c,h),p=new Promise((D,O)=>{e.signal.addEventListener(()=>{const B=new Error("The operation was aborted.");B.name="AbortError",O(B)})});let g;try{yield Promise.race([f,p]),g=yield f}catch(D){let O="fetch-client-network";throw"AbortError"===(null===(r=D)||void 0===r?void 0:r.name)&&(O="fetch-timeout"),Sr.create(O,{originalErrorMessage:null===(i=D)||void 0===i?void 0:i.message})}let m=g.status;const v=g.headers.get("ETag")||void 0;let C,y;if(200===g.status){let D;try{D=yield g.json()}catch(O){throw Sr.create("fetch-client-parse",{originalErrorMessage:null===(s=O)||void 0===s?void 0:s.message})}C=D.entries,y=D.state}if("INSTANCE_STATE_UNSPECIFIED"===y?m=500:"NO_CHANGE"===y?m=304:("NO_TEMPLATE"===y||"EMPTY_CONFIG"===y)&&(C={}),304!==m&&200!==m)throw Sr.create("fetch-status",{httpStatus:m});return{status:m,eTag:v,config:C}})()}}class sde{constructor(e,t){this.client=e,this.storage=t}fetch(e){var t=this;return _(function*(){const r=(yield t.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return t.attemptFetch(e,r)})()}attemptFetch(e,{throttleEndTimeMillis:t,backoffCount:r}){var i=this;return _(function*(){yield function rde(n,e){return new Promise((t,r)=>{const i=Math.max(e-Date.now(),0),s=setTimeout(t,i);n.addEventListener(()=>{clearTimeout(s),r(Sr.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}(e.signal,t);try{const s=yield i.client.fetch(e);return yield i.storage.deleteThrottleMetadata(),s}catch(s){if(!function ide(n){if(!(n instanceof Gr&&n.customData))return!1;const e=Number(n.customData.httpStatus);return 429===e||500===e||503===e||504===e}(s))throw s;const o={throttleEndTimeMillis:Date.now()+EI(r),backoffCount:r+1};return yield i.storage.setThrottleMetadata(o),i.attemptFetch(e,o)}})()}}class lde{constructor(e,t,r,i,s){this.app=e,this._client=t,this._storageCache=r,this._storage=i,this._logger=s,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function q_(n,e){var t;const r=n.target.error||void 0;return Sr.create(e,{originalErrorMessage:r&&(null===(t=r)||void 0===t?void 0:t.message)})}const fl="app_namespace_store";class hde{constructor(e,t,r,i=function dde(){return new Promise((n,e)=>{var t;try{const r=indexedDB.open("firebase_remote_config",1);r.onerror=i=>{e(q_(i,"storage-open"))},r.onsuccess=i=>{n(i.target.result)},r.onupgradeneeded=i=>{0===i.oldVersion&&i.target.result.createObjectStore(fl,{keyPath:"compositeKey"})}}catch(r){e(Sr.create("storage-open",{originalErrorMessage:null===(t=r)||void 0===t?void 0:t.message}))}})}()){this.appId=e,this.appName=t,this.namespace=r,this.openDbPromise=i}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(e){return this.set("last_fetch_status",e)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(e){return this.set("last_successful_fetch_timestamp_millis",e)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(e){return this.set("last_successful_fetch_response",e)}getActiveConfig(){return this.get("active_config")}setActiveConfig(e){return this.set("active_config",e)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(e){return this.set("active_config_etag",e)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(e){return this.set("throttle_metadata",e)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(e){var t=this;return _(function*(){const r=yield t.openDbPromise;return new Promise((i,s)=>{var o;const l=r.transaction([fl],"readonly").objectStore(fl),c=t.createCompositeKey(e);try{const u=l.get(c);u.onerror=d=>{s(q_(d,"storage-get"))},u.onsuccess=d=>{const h=d.target.result;i(h?h.value:void 0)}}catch(u){s(Sr.create("storage-get",{originalErrorMessage:null===(o=u)||void 0===o?void 0:o.message}))}})})()}set(e,t){var r=this;return _(function*(){const i=yield r.openDbPromise;return new Promise((s,o)=>{var a;const c=i.transaction([fl],"readwrite").objectStore(fl),u=r.createCompositeKey(e);try{const d=c.put({compositeKey:u,value:t});d.onerror=h=>{o(q_(h,"storage-set"))},d.onsuccess=()=>{s()}}catch(d){o(Sr.create("storage-set",{originalErrorMessage:null===(a=d)||void 0===a?void 0:a.message}))}})})()}delete(e){var t=this;return _(function*(){const r=yield t.openDbPromise;return new Promise((i,s)=>{var o;const l=r.transaction([fl],"readwrite").objectStore(fl),c=t.createCompositeKey(e);try{const u=l.delete(c);u.onerror=d=>{s(q_(d,"storage-delete"))},u.onsuccess=()=>{i()}}catch(u){s(Sr.create("storage-delete",{originalErrorMessage:null===(o=u)||void 0===o?void 0:o.message}))}})})()}createCompositeKey(e){return[this.appId,this.appName,this.namespace,e].join()}}class fde{constructor(e){this.storage=e}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var e=this;return _(function*(){const t=e.storage.getLastFetchStatus(),r=e.storage.getLastSuccessfulFetchTimestampMillis(),i=e.storage.getActiveConfig(),s=yield t;s&&(e.lastFetchStatus=s);const o=yield r;o&&(e.lastSuccessfulFetchTimestampMillis=o);const a=yield i;a&&(e.activeConfig=a)})()}setLastFetchStatus(e){return this.lastFetchStatus=e,this.storage.setLastFetchStatus(e)}setLastSuccessfulFetchTimestampMillis(e){return this.lastSuccessfulFetchTimestampMillis=e,this.storage.setLastSuccessfulFetchTimestampMillis(e)}setActiveConfig(e){return this.activeConfig=e,this.storage.setActiveConfig(e)}}function gde(){return _T.apply(this,arguments)}function _T(){return(_T=_(function*(){if(!Xo())return!1;try{return yield _u()}catch{return!1}})).apply(this,arguments)}!function pde(){un(new en(fj,function n(e,{instanceIdentifier:t}){const r=e.getProvider("app").getImmediate(),i=e.getProvider("installations-internal").getImmediate();if(typeof window>"u")throw Sr.create("registration-window");if(!Xo())throw Sr.create("indexed-db-unavailable");const{projectId:s,apiKey:o,appId:a}=r.options;if(!s)throw Sr.create("registration-project-id");if(!o)throw Sr.create("registration-api-key");if(!a)throw Sr.create("registration-app-id");const l=new hde(a,r.name,t=t||"firebase"),c=new fde(l),u=new Zo(hT);u.logLevel=Ne.ERROR;const d=new nde(i,Jo,t,s,o,a),h=new sde(d,l),f=new ede(h,l,c,u),p=new lde(r,f,c,l,u);return function Xue(n){const e=He(n);e._initializePromise||(e._initializePromise=e._storageCache.loadFromStorage().then(()=>{e._isInitializationComplete=!0}))}(p),p},"PUBLIC").setMultipleInstances(!0)),Te(hT,"0.3.15"),Te(hT,"0.3.15","esm2017")}();const mde="/firebase-messaging-sw.js",_de="/firebase-cloud-messaging-push-scope",gj="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",mj="google.c.a.c_id",vde="google.c.a.c_l",bde="google.c.a.ts",wde="google.c.a.e";var Cu=(()=>{return(n=Cu||(Cu={})).PUSH_RECEIVED="push-received",n.NOTIFICATION_CLICKED="notification-clicked",Cu;var n})();function ao(n){const e=new Uint8Array(n);return btoa(String.fromCharCode(...e)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function Cde(n){const t=(n+"=".repeat((4-n.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),r=atob(t),i=new Uint8Array(r.length);for(let s=0;s<r.length;++s)i[s]=r.charCodeAt(s);return i}const yT="fcm_token_details_db",_j="fcm_token_object_Store";function Ide(n){return vT.apply(this,arguments)}function vT(){return vT=_(function*(n){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(s=>s.name).includes(yT))return null;let e=null;return(yield j_(yT,5,{upgrade:(r=_(function*(i,s,o,a){var l;if(s<2||!i.objectStoreNames.contains(_j))return;const c=a.objectStore(_j),u=yield c.index("fcmSenderId").get(n);if(yield c.clear(),u)if(2===s){const d=u;if(!d.auth||!d.p256dh||!d.endpoint)return;e={token:d.fcmToken,createTime:null!==(l=d.createTime)&&void 0!==l?l:Date.now(),subscriptionOptions:{auth:d.auth,p256dh:d.p256dh,endpoint:d.endpoint,swScope:d.swScope,vapidKey:"string"==typeof d.vapidKey?d.vapidKey:ao(d.vapidKey)}}}else if(3===s){const d=u;e={token:d.fcmToken,createTime:d.createTime,subscriptionOptions:{auth:ao(d.auth),p256dh:ao(d.p256dh),endpoint:d.endpoint,swScope:d.swScope,vapidKey:ao(d.vapidKey)}}}else if(4===s){const d=u;e={token:d.fcmToken,createTime:d.createTime,subscriptionOptions:{auth:ao(d.auth),p256dh:ao(d.p256dh),endpoint:d.endpoint,swScope:d.swScope,vapidKey:ao(d.vapidKey)}}}}),function(s,o,a,l){return r.apply(this,arguments)})})).close(),yield xI(yT),yield xI("fcm_vapid_details_db"),yield xI("undefined"),Tde(e)?e:null;var r}),vT.apply(this,arguments)}function Tde(n){if(!n||!n.subscriptionOptions)return!1;const{subscriptionOptions:e}=n;return"number"==typeof n.createTime&&n.createTime>0&&"string"==typeof n.token&&n.token.length>0&&"string"==typeof e.auth&&e.auth.length>0&&"string"==typeof e.p256dh&&e.p256dh.length>0&&"string"==typeof e.endpoint&&e.endpoint.length>0&&"string"==typeof e.swScope&&e.swScope.length>0&&"string"==typeof e.vapidKey&&e.vapidKey.length>0}const pl="firebase-messaging-store";let bT=null;function wT(){return bT||(bT=j_("firebase-messaging-database",1,{upgrade:(n,e)=>{0===e&&n.createObjectStore(pl)}})),bT}function yj(n){return CT.apply(this,arguments)}function CT(){return(CT=_(function*(n){const e=ST(n),r=yield(yield wT()).transaction(pl).objectStore(pl).get(e);if(r)return r;{const i=yield Ide(n.appConfig.senderId);if(i)return yield ET(n,i),i}})).apply(this,arguments)}function ET(n,e){return IT.apply(this,arguments)}function IT(){return(IT=_(function*(n,e){const t=ST(n),i=(yield wT()).transaction(pl,"readwrite");return yield i.objectStore(pl).put(e,t),yield i.done,e})).apply(this,arguments)}function Ade(n){return TT.apply(this,arguments)}function TT(){return(TT=_(function*(n){const e=ST(n),r=(yield wT()).transaction(pl,"readwrite");yield r.objectStore(pl).delete(e),yield r.done})).apply(this,arguments)}function ST({appConfig:n}){return n.appId}const Nn=new Li("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function xde(n,e){return DT.apply(this,arguments)}function DT(){return(DT=_(function*(n,e){var t;const r=yield kT(n),i=bj(e),s={method:"POST",headers:r,body:JSON.stringify(i)};let o;try{o=yield(yield fetch(xT(n.appConfig),s)).json()}catch(a){throw Nn.create("token-subscribe-failed",{errorInfo:null===(t=a)||void 0===t?void 0:t.toString()})}if(o.error)throw Nn.create("token-subscribe-failed",{errorInfo:o.error.message});if(!o.token)throw Nn.create("token-subscribe-no-token");return o.token})).apply(this,arguments)}function kde(n,e){return AT.apply(this,arguments)}function AT(){return(AT=_(function*(n,e){var t;const r=yield kT(n),i=bj(e.subscriptionOptions),s={method:"PATCH",headers:r,body:JSON.stringify(i)};let o;try{o=yield(yield fetch(`${xT(n.appConfig)}/${e.token}`,s)).json()}catch(a){throw Nn.create("token-update-failed",{errorInfo:null===(t=a)||void 0===t?void 0:t.toString()})}if(o.error)throw Nn.create("token-update-failed",{errorInfo:o.error.message});if(!o.token)throw Nn.create("token-update-no-token");return o.token})).apply(this,arguments)}function vj(n,e){return MT.apply(this,arguments)}function MT(){return(MT=_(function*(n,e){var t;const i={method:"DELETE",headers:yield kT(n)};try{const o=yield(yield fetch(`${xT(n.appConfig)}/${e}`,i)).json();if(o.error)throw Nn.create("token-unsubscribe-failed",{errorInfo:o.error.message})}catch(s){throw Nn.create("token-unsubscribe-failed",{errorInfo:null===(t=s)||void 0===t?void 0:t.toString()})}})).apply(this,arguments)}function xT({projectId:n}){return`https://fcmregistrations.googleapis.com/v1/projects/${n}/registrations`}function kT(n){return RT.apply(this,arguments)}function RT(){return(RT=_(function*({appConfig:n,installations:e}){const t=yield e.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":n.apiKey,"x-goog-firebase-installations-auth":`FIS ${t}`})})).apply(this,arguments)}function bj({p256dh:n,auth:e,endpoint:t,vapidKey:r}){const i={web:{endpoint:t,auth:e,p256dh:n}};return r!==gj&&(i.web.applicationPubKey=r),i}function Nde(n){return NT.apply(this,arguments)}function NT(){return(NT=_(function*(n){const e=yield Ode(n.swRegistration,n.vapidKey),t={vapidKey:n.vapidKey,swScope:n.swRegistration.scope,endpoint:e.endpoint,auth:ao(e.getKey("auth")),p256dh:ao(e.getKey("p256dh"))},r=yield yj(n.firebaseDependencies);if(r){if(Fde(r.subscriptionOptions,t))return Date.now()>=r.createTime+6048e5?Pde(n,{token:r.token,createTime:Date.now(),subscriptionOptions:t}):r.token;try{yield vj(n.firebaseDependencies,r.token)}catch(i){console.warn(i)}return Cj(n.firebaseDependencies,t)}return Cj(n.firebaseDependencies,t)})).apply(this,arguments)}function wj(n){return PT.apply(this,arguments)}function PT(){return(PT=_(function*(n){const e=yield yj(n.firebaseDependencies);e&&(yield vj(n.firebaseDependencies,e.token),yield Ade(n.firebaseDependencies));const t=yield n.swRegistration.pushManager.getSubscription();return!t||t.unsubscribe()})).apply(this,arguments)}function Pde(n,e){return OT.apply(this,arguments)}function OT(){return(OT=_(function*(n,e){try{const t=yield kde(n.firebaseDependencies,e),r=Object.assign(Object.assign({},e),{token:t,createTime:Date.now()});return yield ET(n.firebaseDependencies,r),t}catch(t){throw yield wj(n),t}})).apply(this,arguments)}function Cj(n,e){return FT.apply(this,arguments)}function FT(){return(FT=_(function*(n,e){const r={token:yield xde(n,e),createTime:Date.now(),subscriptionOptions:e};return yield ET(n,r),r.token})).apply(this,arguments)}function Ode(n,e){return LT.apply(this,arguments)}function LT(){return(LT=_(function*(n,e){return(yield n.pushManager.getSubscription())||n.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:Cde(e)})})).apply(this,arguments)}function Fde(n,e){return e.vapidKey===n.vapidKey&&e.endpoint===n.endpoint&&e.auth===n.auth&&e.p256dh===n.p256dh}function Ej(n){const e={from:n.from,collapseKey:n.collapse_key,messageId:n.fcmMessageId};return function Lde(n,e){if(!e.notification)return;n.notification={};const t=e.notification.title;t&&(n.notification.title=t);const r=e.notification.body;r&&(n.notification.body=r);const i=e.notification.image;i&&(n.notification.image=i);const s=e.notification.icon;s&&(n.notification.icon=s)}(e,n),function Vde(n,e){!e.data||(n.data=e.data)}(e,n),function Bde(n,e){var t,r,i,s,o;if(!(e.fcmOptions||null!==(t=e.notification)&&void 0!==t&&t.click_action))return;n.fcmOptions={};const a=null!==(i=null===(r=e.fcmOptions)||void 0===r?void 0:r.link)&&void 0!==i?i:null===(s=e.notification)||void 0===s?void 0:s.click_action;a&&(n.fcmOptions.link=a);const l=null===(o=e.fcmOptions)||void 0===o?void 0:o.analytics_label;l&&(n.fcmOptions.analyticsLabel=l)}(e,n),e}function Ude(n){return"object"==typeof n&&!!n&&mj in n}function Ij(n,e){const t=[];for(let r=0;r<n.length;r++)t.push(n.charAt(r)),r<e.length&&t.push(e.charAt(r));return t.join("")}function VT(n){return Nn.create("missing-app-config-values",{valueName:n})}Ij("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),Ij("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class jde{constructor(e,t,r){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const i=function $de(n){if(!n||!n.options)throw VT("App Configuration Object");if(!n.name)throw VT("App Name");const e=["projectId","apiKey","appId","messagingSenderId"],{options:t}=n;for(const r of e)if(!t[r])throw VT(r);return{appName:n.name,projectId:t.projectId,apiKey:t.apiKey,appId:t.appId,senderId:t.messagingSenderId}}(e);this.firebaseDependencies={app:e,appConfig:i,installations:t,analyticsProvider:r}}_delete(){return Promise.resolve()}}function Tj(n){return BT.apply(this,arguments)}function BT(){return(BT=_(function*(n){var e;try{n.swRegistration=yield navigator.serviceWorker.register(mde,{scope:_de}),n.swRegistration.update().catch(()=>{})}catch(t){throw Nn.create("failed-service-worker-registration",{browserErrorMessage:null===(e=t)||void 0===e?void 0:e.message})}})).apply(this,arguments)}function Hde(n,e){return UT.apply(this,arguments)}function UT(){return(UT=_(function*(n,e){if(!e&&!n.swRegistration&&(yield Tj(n)),e||!n.swRegistration){if(!(e instanceof ServiceWorkerRegistration))throw Nn.create("invalid-sw-registration");n.swRegistration=e}})).apply(this,arguments)}function zde(n,e){return $T.apply(this,arguments)}function $T(){return($T=_(function*(n,e){e?n.vapidKey=e:n.vapidKey||(n.vapidKey=gj)})).apply(this,arguments)}function jT(){return(jT=_(function*(n,e){if(!navigator)throw Nn.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw Nn.create("permission-blocked");return yield zde(n,e?.vapidKey),yield Hde(n,e?.serviceWorkerRegistration),Nde(n)})).apply(this,arguments)}function Gde(n,e,t){return HT.apply(this,arguments)}function HT(){return(HT=_(function*(n,e,t){const r=Wde(e);(yield n.firebaseDependencies.analyticsProvider.get()).logEvent(r,{message_id:t[mj],message_name:t[vde],message_time:t[bde],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function Wde(n){switch(n){case Cu.NOTIFICATION_CLICKED:return"notification_open";case Cu.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}function zT(){return(zT=_(function*(n,e){const t=e.data;if(!t.isFirebaseMessaging)return;n.onMessageHandler&&t.messageType===Cu.PUSH_RECEIVED&&("function"==typeof n.onMessageHandler?n.onMessageHandler(Ej(t)):n.onMessageHandler.next(Ej(t)));const r=t.data;Ude(r)&&"1"===r[wde]&&(yield Gde(n,t.messageType,r))})).apply(this,arguments)}const Dj="@firebase/messaging",Kde=n=>{const e=new jde(n.getProvider("app").getImmediate(),n.getProvider("installations-internal").getImmediate(),n.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",t=>function qde(n,e){return zT.apply(this,arguments)}(e,t)),e},Yde=n=>{const e=n.getProvider("messaging").getImmediate();return{getToken:r=>function Sj(n,e){return jT.apply(this,arguments)}(e,r)}};function Mj(){return GT.apply(this,arguments)}function GT(){return(GT=_(function*(){try{yield _u()}catch{return!1}return typeof window<"u"&&Xo()&&F_()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}function Jde(n=as()){return Mj().then(e=>{if(!e)throw Nn.create("unsupported-browser")},e=>{throw Nn.create("indexed-db-unsupported")}),Tr(He(n),"messaging").getImmediate()}!function Qde(){un(new en("messaging",Kde,"PUBLIC")),un(new en("messaging-internal",Yde,"PRIVATE")),Te(Dj,"0.11.0"),Te(Dj,"0.11.0","esm2017")}();const K_="analytics",ehe="firebase_id",rhe="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",xj="https://www.googletagmanager.com/gtag/js",Pn=new Zo("@firebase/analytics");function kj(n){return Promise.all(n.map(e=>e.catch(t=>t)))}function ihe(n,e){const t=document.createElement("script");t.src=`${xj}?l=${n}&id=${e}`,t.async=!0,document.head.appendChild(t)}function ohe(n,e,t,r,i,s){return KT.apply(this,arguments)}function KT(){return(KT=_(function*(n,e,t,r,i,s){const o=r[i];try{if(o)yield e[o];else{const l=(yield kj(t)).find(c=>c.measurementId===i);l&&(yield e[l.appId])}}catch(a){Pn.error(a)}n("config",i,s)})).apply(this,arguments)}function ahe(n,e,t,r,i){return YT.apply(this,arguments)}function YT(){return(YT=_(function*(n,e,t,r,i){try{let s=[];if(i&&i.send_to){let o=i.send_to;Array.isArray(o)||(o=[o]);const a=yield kj(t);for(const l of o){const c=a.find(d=>d.measurementId===l),u=c&&e[c.appId];if(!u){s=[];break}s.push(u)}}0===s.length&&(s=Object.values(e)),yield Promise.all(s),n("event",r,i||{})}catch(s){Pn.error(s)}})).apply(this,arguments)}function uhe(n){const e=window.document.getElementsByTagName("script");for(const t of Object.values(e))if(t.src&&t.src.includes(xj)&&t.src.includes(n))return t;return null}const Wr=new Li("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.'}),Rj=new class phe{constructor(e={},t=1e3){this.throttleMetadata=e,this.intervalMillis=t}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,t){this.throttleMetadata[e]=t}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}};function ghe(n){return new Headers({Accept:"application/json","x-goog-api-key":n})}function mhe(n){return QT.apply(this,arguments)}function QT(){return(QT=_(function*(n){var e;const{appId:t,apiKey:r}=n,i={method:"GET",headers:ghe(r)},s=rhe.replace("{app-id}",t),o=yield fetch(s,i);if(200!==o.status&&304!==o.status){let a="";try{const l=yield o.json();null!==(e=l.error)&&void 0!==e&&e.message&&(a=l.error.message)}catch{}throw Wr.create("config-fetch-failed",{httpStatus:o.status,responseMessage:a})}return o.json()})).apply(this,arguments)}function _he(n){return XT.apply(this,arguments)}function XT(){return(XT=_(function*(n,e=Rj,t){const{appId:r,apiKey:i,measurementId:s}=n.options;if(!r)throw Wr.create("no-app-id");if(!i){if(s)return{measurementId:s,appId:r};throw Wr.create("no-api-key")}const o=e.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},a=new bhe;return setTimeout(_(function*(){a.abort()}),void 0!==t?t:6e4),Nj({appId:r,apiKey:i,measurementId:s},o,a,e)})).apply(this,arguments)}function Nj(n,e,t){return ZT.apply(this,arguments)}function ZT(){return(ZT=_(function*(n,{throttleEndTimeMillis:e,backoffCount:t},r,i=Rj){var s,o;const{appId:a,measurementId:l}=n;try{yield yhe(r,e)}catch(c){if(l)return Pn.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${l} provided in the "measurementId" field in the local Firebase config. [${null===(s=c)||void 0===s?void 0:s.message}]`),{appId:a,measurementId:l};throw c}try{const c=yield mhe(n);return i.deleteThrottleMetadata(a),c}catch(c){const u=c;if(!vhe(u)){if(i.deleteThrottleMetadata(a),l)return Pn.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${l} provided in the "measurementId" field in the local Firebase config. [${u?.message}]`),{appId:a,measurementId:l};throw c}const d=503===Number(null===(o=u?.customData)||void 0===o?void 0:o.httpStatus)?EI(t,i.intervalMillis,30):EI(t,i.intervalMillis),h={throttleEndTimeMillis:Date.now()+d,backoffCount:t+1};return i.setThrottleMetadata(a,h),Pn.debug(`Calling attemptFetch again in ${d} millis`),Nj(n,h,r,i)}})).apply(this,arguments)}function yhe(n,e){return new Promise((t,r)=>{const i=Math.max(e-Date.now(),0),s=setTimeout(t,i);n.addEventListener(()=>{clearTimeout(s),r(Wr.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function vhe(n){if(!(n instanceof Gr&&n.customData))return!1;const e=Number(n.customData.httpStatus);return 429===e||500===e||503===e||504===e}class bhe{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}let JT,sS;function eS(){return(eS=_(function*(n,e,t,r,i){if(i&&i.global)n("event",t,r);else{const s=yield e;n("event",t,Object.assign(Object.assign({},r),{send_to:s}))}})).apply(this,arguments)}function nS(){return(nS=_(function*(n,e,t,r){if(r&&r.global)return n("set",{user_id:t}),Promise.resolve();n("config",yield e,{update:!0,user_id:t})})).apply(this,arguments)}function Pj(n){sS=n}function Oj(n){JT=n}function She(){return oS.apply(this,arguments)}function oS(){return(oS=_(function*(){var n;if(!Xo())return Pn.warn(Wr.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield _u()}catch(e){return Pn.warn(Wr.create("indexeddb-unavailable",{errorInfo:null===(n=e)||void 0===n?void 0:n.toString()}).message),!1}return!0})).apply(this,arguments)}function aS(){return(aS=_(function*(n,e,t,r,i,s,o){var a;const l=_he(n);l.then(f=>{t[f.measurementId]=f.appId,n.options.measurementId&&f.measurementId!==n.options.measurementId&&Pn.warn(`The measurement ID in the local Firebase config (${n.options.measurementId}) does not match the measurement ID fetched from the server (${f.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(f=>Pn.error(f)),e.push(l);const c=She().then(f=>{if(f)return r.getId()}),[u,d]=yield Promise.all([l,c]);uhe(s)||ihe(s,u.measurementId),sS&&(i("consent","default",sS),Pj(void 0)),i("js",new Date);const h=null!==(a=o?.config)&&void 0!==a?a:{};return h.origin="firebase",h.update=!0,null!=d&&(h[ehe]=d),i("config",u.measurementId,h),JT&&(i("set",JT),Oj(void 0)),u.measurementId})).apply(this,arguments)}class Ahe{constructor(e){this.app=e}_delete(){return delete lo[this.app.options.appId],Promise.resolve()}}let lo={},Fj=[];const Lj={};let Bj,co,Y_="dataLayer",lS=!1;function xhe(n,e,t){!function Mhe(){const n=[];if(yI()&&n.push("This is a browser extension environment."),F_()||n.push("Cookies are not available."),n.length>0){const e=n.map((r,i)=>`(${i+1}) ${r}`).join(" "),t=Wr.create("invalid-analytics-context",{errorInfo:e});Pn.warn(t.message)}}();const r=n.options.appId;if(!r)throw Wr.create("no-app-id");if(!n.options.apiKey){if(!n.options.measurementId)throw Wr.create("no-api-key");Pn.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${n.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=lo[r])throw Wr.create("already-exists",{id:r});if(!lS){!function she(n){let e=[];Array.isArray(window[n])?e=window[n]:window[n]=e}(Y_);const{wrappedGtag:s,gtagCore:o}=function che(n,e,t,r,i){let s=function(...o){window[r].push(arguments)};return window[i]&&"function"==typeof window[i]&&(s=window[i]),window[i]=function lhe(n,e,t,r){function s(){return(s=_(function*(o,a,l){try{"event"===o?yield ahe(n,e,t,a,l):"config"===o?yield ohe(n,e,t,r,a,l):"consent"===o?n("consent","update",l):n("set",a)}catch(c){Pn.error(c)}})).apply(this,arguments)}return function i(o,a,l){return s.apply(this,arguments)}}(s,n,e,t),{gtagCore:s,wrappedGtag:window[i]}}(lo,Fj,Lj,Y_,"gtag");co=s,Bj=o,lS=!0}return lo[r]=function Dhe(n,e,t,r,i,s,o){return aS.apply(this,arguments)}(n,Fj,Lj,e,Bj,Y_,t),new Ahe(n)}function khe(n=as()){const e=Tr(n=He(n),K_);return e.isInitialized()?e.getImmediate():function Rhe(n,e={}){const t=Tr(n,K_);if(t.isInitialized()){const i=t.getImmediate();if(Yh(e,t.getOptions()))return i;throw Wr.create("already-initialized")}return t.initialize({options:e})}(n)}function Nhe(){return cS.apply(this,arguments)}function cS(){return(cS=_(function*(){if(yI()||!F_()||!Xo())return!1;try{return yield _u()}catch{return!1}})).apply(this,arguments)}function Phe(n,e,t){n=He(n),function Ehe(n,e,t,r){return nS.apply(this,arguments)}(co,lo[n.app.options.appId],e,t).catch(r=>Pn.error(r))}function Uj(n,e,t,r){n=He(n),function whe(n,e,t,r,i){return eS.apply(this,arguments)}(co,lo[n.app.options.appId],e,t,r).catch(i=>Pn.error(i))}const $j="@firebase/analytics";!function Ohe(){un(new en(K_,(e,{options:t})=>xhe(e.getProvider("app").getImmediate(),e.getProvider("installations-internal").getImmediate(),t),"PUBLIC")),un(new en("analytics-internal",function n(e){try{const t=e.getProvider(K_).getImmediate();return{logEvent:(r,i,s)=>Uj(t,r,i,s)}}catch(t){throw Wr.create("interop-component-reg-failed",{reason:t})}},"PRIVATE")),Te($j,"0.8.4"),Te($j,"0.8.4","esm2017")}();class Fhe extends Rt{constructor(e,t){super()}schedule(e,t=0){return this}}const Q_={setInterval(n,e,...t){const{delegate:r}=Q_;return r?.setInterval?r.setInterval(n,e,...t):setInterval(n,e,...t)},clearInterval(n){const{delegate:e}=Q_;return(e?.clearInterval||clearInterval)(n)},delegate:void 0};class X_ extends Fhe{constructor(e,t){super(e,t),this.scheduler=e,this.work=t,this.pending=!1}schedule(e,t=0){var r;if(this.closed)return this;this.state=e;const i=this.id,s=this.scheduler;return null!=i&&(this.id=this.recycleAsyncId(s,i,t)),this.pending=!0,this.delay=t,this.id=null!==(r=this.id)&&void 0!==r?r:this.requestAsyncId(s,this.id,t),this}requestAsyncId(e,t,r=0){return Q_.setInterval(e.flush.bind(e,this),r)}recycleAsyncId(e,t,r=0){if(null!=r&&this.delay===r&&!1===this.pending)return t;null!=t&&Q_.clearInterval(t)}execute(e,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const r=this._execute(e,t);if(r)return r;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,t){let i,r=!1;try{this.work(e)}catch(s){r=!0,i=s||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){const{id:e,scheduler:t}=this,{actions:r}=t;this.work=this.state=this.scheduler=null,this.pending=!1,_c(r,this),null!=e&&(this.id=this.recycleAsyncId(t,e,null)),this.delay=null,super.unsubscribe()}}}const Hj={now:()=>(Hj.delegate||Date).now(),delegate:void 0};class tf{constructor(e,t=tf.now){this.schedulerActionCtor=e,this.now=t}schedule(e,t=0,r){return new this.schedulerActionCtor(this,e).schedule(r,t)}}tf.now=Hj.now;class Z_ extends tf{constructor(e,t=tf.now){super(e,t),this.actions=[],this._active=!1}flush(e){const{actions:t}=this;if(this._active)return void t.push(e);let r;this._active=!0;do{if(r=e.execute(e.state,e.delay))break}while(e=t.shift());if(this._active=!1,r){for(;e=t.shift();)e.unsubscribe();throw r}}}const Bhe=new class Vhe extends Z_{}(class Lhe extends X_{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}schedule(e,t=0){return t>0?super.schedule(e,t):(this.delay=t,this.state=e,this.scheduler.flush(this),this)}execute(e,t){return t>0||this.closed?super.execute(e,t):this._execute(e,t)}requestAsyncId(e,t,r=0){return null!=r&&r>0||null==r&&this.delay>0?super.requestAsyncId(e,t,r):(e.flush(this),0)}}),nf=new Z_(X_),Uhe=nf,qr=new Bs("7.5.0"),uS="__angularfire_symbol__analyticsIsSupportedValue",dS="__angularfire_symbol__analyticsIsSupported",hS="__angularfire_symbol__remoteConfigIsSupportedValue",fS="__angularfire_symbol__remoteConfigIsSupported",pS="__angularfire_symbol__messagingIsSupportedValue",gS="__angularfire_symbol__messagingIsSupported";globalThis[dS]||(globalThis[dS]=Nhe().then(n=>globalThis[uS]=n).catch(()=>globalThis[uS]=!1)),globalThis[gS]||(globalThis[gS]=Mj().then(n=>globalThis[pS]=n).catch(()=>globalThis[pS]=!1)),globalThis[fS]||(globalThis[fS]=gde().then(n=>globalThis[hS]=n).catch(()=>globalThis[hS]=!1));const mS=n=>`The APP_INITIALIZER that is "making" isSupported() sync for the sake of convenient DI has not resolved in this\ncontext. Rather than injecting ${n} in the constructor, first ensure that ${n} is supported by calling\n\`await isSupported()\`, then retrieve the instance from the injector manually \`injector.get(${n})\`.`,J_={async:()=>globalThis[gS],sync:()=>{const n=globalThis[pS];if(void 0===n)throw new Error(mS("Messaging"));return n}},ey={async:()=>globalThis[fS],sync:()=>{const n=globalThis[hS];if(void 0===n)throw new Error(mS("RemoteConfig"));return n}},ty={async:()=>globalThis[dS],sync:()=>{const n=globalThis[uS];if(void 0===n)throw new Error(mS("Analytics"));return n}};function ls(n,e,t){if(e){if(1===e.length)return e[0];const s=e.filter(o=>o.app===t);if(1===s.length)return s[0]}return t.container.getProvider(n).getImmediate({optional:!0})}const cs=(n,e)=>{const t=e?[e]:j$(),r=[];return t.forEach(i=>{i.container.getProvider(n).instances.forEach(o=>{r.includes(o)||r.push(o)})}),r};function Eu(){}class zj{constructor(e,t=Bhe){this.zone=e,this.delegate=t}now(){return this.delegate.now()}schedule(e,t,r){const i=this.zone;return this.delegate.schedule(function(o){i.runGuarded(()=>{e.apply(this,[o])})},t,r)}}class $he{constructor(e){this.zone=e,this.task=null}call(e,t){const r=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Eu,{},Eu,Eu)),t.pipe(Ot({next:r,complete:r,error:r})).subscribe(e).add(r)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let us=(()=>{class n{constructor(t){this.ngZone=t,this.outsideAngular=t.runOutsideAngular(()=>new zj(Zone.current)),this.insideAngular=t.run(()=>new zj(Zone.current,nf)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return n.\u0275fac=function(t){return new(t||n)(w(ie))},n.\u0275prov=F({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function gl(){const n=globalThis.\u0275AngularFireScheduler;if(!n)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return n}function jhe(n){return gl().ngZone.runOutsideAngular(()=>n())}function ml(n){return gl().ngZone.run(()=>n())}function Hhe(n){return gl(),function zhe(n){return function(t){return(t=t.lift(new $he(n.ngZone))).pipe(Dg(n.outsideAngular),Sg(n.insideAngular))}}(gl())(n)}const Ghe=(n,e)=>function(){const r=arguments;return e&&setTimeout(()=>{"scheduled"===e.state&&e.invoke()},10),ml(()=>n.apply(void 0,r))},Dt=(n,e)=>function(){let t;const r=arguments;for(let s=0;s<arguments.length;s++)"function"==typeof r[s]&&(e&&(t||(t=ml(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Eu,{},Eu,Eu)))),r[s]=Ghe(r[s],t));const i=jhe(()=>n.apply(this,r));if(!e){if(i instanceof je){const s=gl();return i.pipe(Dg(s.outsideAngular),Sg(s.insideAngular))}return ml(()=>i)}return i instanceof je?i.pipe(Hhe):i instanceof Promise?ml(()=>new Promise((s,o)=>i.then(a=>ml(()=>s(a)),a=>ml(()=>o(a))))):"function"==typeof i&&t?function(){return setTimeout(()=>{t&&"scheduled"===t.state&&t.invoke()},10),i.apply(this,arguments)}:ml(()=>i)};class Kr{constructor(e){return e}}class ds{constructor(){return j$()}}const _S=new P("angularfire2._apps"),qhe={provide:Kr,useFactory:function Whe(n){return n&&1===n.length?n[0]:new Kr(as())},deps:[[new Ce,_S]]},Khe={provide:ds,deps:[[new Ce,_S]]};function Yhe(n){return(e,t)=>{const r=e.runOutsideAngular(()=>n(t));return new Kr(r)}}let Qhe=(()=>{class n{constructor(t){Te("angularfire",qr.full,"core"),Te("angularfire",qr.full,"app"),Te("angular",yF.full,t.toString())}}return n.\u0275fac=function(t){return new(t||n)(w(qs))},n.\u0275mod=ue({type:n}),n.\u0275inj=ce({providers:[qhe,Khe]}),n})();function Xhe(n,...e){return{ngModule:Qhe,providers:[{provide:_S,useFactory:Yhe(n),multi:!0,deps:[ie,Xe,us,...e]}]}}const Zhe=Dt($$,!0),yS=new Map,Gj={activated:!1,tokenObservers:[]},Jhe={initialized:!1,enabled:!1};function On(n){return yS.get(n)||Object.assign({},Gj)}function ny(){return Jhe}class sfe{constructor(e,t,r,i,s){if(this.operation=e,this.retryPolicy=t,this.getWaitDuration=r,this.lowerBound=i,this.upperBound=s,this.pending=null,this.nextErrorWaitInterval=i,i>s)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){var t=this;return _(function*(){t.stop();try{t.pending=new yu,yield function ofe(n){return new Promise(e=>{setTimeout(e,n)})}(t.getNextRun(e)),t.pending.resolve(),yield t.pending.promise,t.pending=new yu,yield t.operation(),t.pending.resolve(),yield t.pending.promise,t.process(!0).catch(()=>{})}catch(r){t.retryPolicy(r)?t.process(!1).catch(()=>{}):t.stop()}})()}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const t=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),t}}}const hr=new Li("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function qj(n){if(!On(n).activated)throw hr.create("use-before-activation",{appName:n.name})}function wS(n,e){return CS.apply(this,arguments)}function CS(){return(CS=_(function*({url:n,body:e},t){var r,i;const s={"Content-Type":"application/json"},o=t.getImmediate({optional:!0});if(o){const f=yield o.getHeartbeatsHeader();f&&(s["X-Firebase-Client"]=f)}const a={method:"POST",body:JSON.stringify(e),headers:s};let l,c;try{l=yield fetch(n,a)}catch(f){throw hr.create("fetch-network-error",{originalErrorMessage:null===(r=f)||void 0===r?void 0:r.message})}if(200!==l.status)throw hr.create("fetch-status-error",{httpStatus:l.status});try{c=yield l.json()}catch(f){throw hr.create("fetch-parse-error",{originalErrorMessage:null===(i=f)||void 0===i?void 0:i.message})}const u=c.ttl.match(/^([\d.]+)(s)$/);if(!u||!u[2]||isNaN(Number(u[1])))throw hr.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${c.ttl}`});const d=1e3*Number(u[1]),h=Date.now();return{token:c.token,expireTimeMillis:h+d,issuedAtTimeMillis:h}})).apply(this,arguments)}function ufe(n,e){const{projectId:t,appId:r,apiKey:i}=n.options;return{url:`https://content-firebaseappcheck.googleapis.com/v1/projects/${t}/apps/${r}:exchangeDebugToken?key=${i}`,body:{debug_token:e}}}const rf="firebase-app-check-store";let sy=null;function Yj(){return sy||(sy=new Promise((n,e)=>{var t;try{const r=indexedDB.open("firebase-app-check-database",1);r.onsuccess=i=>{n(i.target.result)},r.onerror=i=>{var s;e(hr.create("storage-open",{originalErrorMessage:null===(s=i.target.error)||void 0===s?void 0:s.message}))},r.onupgradeneeded=i=>{0===i.oldVersion&&i.target.result.createObjectStore(rf,{keyPath:"compositeKey"})}}catch(r){e(hr.create("storage-open",{originalErrorMessage:null===(t=r)||void 0===t?void 0:t.message}))}}),sy)}function ES(){return(ES=_(function*(n,e){const r=(yield Yj()).transaction(rf,"readwrite"),s=r.objectStore(rf).put({compositeKey:n,value:e});return new Promise((o,a)=>{s.onsuccess=l=>{o()},r.onerror=l=>{var c;a(hr.create("storage-set",{originalErrorMessage:null===(c=l.target.error)||void 0===c?void 0:c.message}))}})})).apply(this,arguments)}const sf=new Zo("@firebase/app-check");function SS(n,e){return Xo()?function pfe(n,e){return function Qj(n,e){return ES.apply(this,arguments)}(function Zj(n){return`${n.options.appId}-${n.name}`}(n),e)}(n,e).catch(t=>{sf.warn(`Failed to write token to IndexedDB. Error: ${t}`)}):Promise.resolve()}function Jj(){return ny().enabled}function eH(){return AS.apply(this,arguments)}function AS(){return(AS=_(function*(){const n=ny();if(n.enabled&&n.token)return n.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")})).apply(this,arguments)}const bfe={error:"UNKNOWN_ERROR"};function wfe(n){return N_.encodeString(JSON.stringify(n),!1)}function oy(n){return MS.apply(this,arguments)}function MS(){return(MS=_(function*(n,e=!1){const t=n.app;qj(t);const r=On(t);let s,i=r.token;if(i&&!Iu(i)&&(r.token=void 0,i=void 0),!i){const l=yield r.cachedTokenPromise;l&&(Iu(l)?i=l:yield SS(t,void 0))}if(!e&&i&&Iu(i))return{token:i.token};let a,o=!1;if(Jj()){r.exchangeTokenPromise||(r.exchangeTokenPromise=wS(ufe(t,yield eH()),n.heartbeatServiceProvider).finally(()=>{r.exchangeTokenPromise=void 0}),o=!0);const l=yield r.exchangeTokenPromise;return yield SS(t,l),r.token=l,{token:l.token}}try{r.exchangeTokenPromise||(r.exchangeTokenPromise=r.provider.getToken().finally(()=>{r.exchangeTokenPromise=void 0}),o=!0),i=yield On(t).exchangeTokenPromise}catch(l){"appCheck/throttled"===l.code?sf.warn(l.message):sf.error(l),s=l}return i?s?a=Iu(i)?{token:i.token,internalError:s}:rH(s):(a={token:i.token},r.token=i,yield SS(t,i)):a=rH(s),o&&nH(t,a),a})).apply(this,arguments)}function kS(n,e){const t=On(n),r=t.tokenObservers.filter(i=>i.next!==e);0===r.length&&t.tokenRefresher&&t.tokenRefresher.isRunning()&&t.tokenRefresher.stop(),t.tokenObservers=r}function tH(n){const{app:e}=n,t=On(e);let r=t.tokenRefresher;r||(r=function Cfe(n){const{app:e}=n;return new sfe(_(function*(){let r;if(r=On(e).token?yield oy(n,!0):yield oy(n),r.error)throw r.error;if(r.internalError)throw r.internalError}),()=>!0,()=>{const t=On(e);if(t.token){let r=t.token.issuedAtTimeMillis+.5*(t.token.expireTimeMillis-t.token.issuedAtTimeMillis)+3e5;return r=Math.min(r,t.token.expireTimeMillis-3e5),Math.max(0,r-Date.now())}return 0},3e4,96e4)}(n),t.tokenRefresher=r),!r.isRunning()&&t.isTokenAutoRefreshEnabled&&r.start()}function nH(n,e){const t=On(n).tokenObservers;for(const r of t)try{"EXTERNAL"===r.type&&null!=e.error?r.error(e.error):r.next(e)}catch{}}function Iu(n){return n.expireTimeMillis-Date.now()>0}function rH(n){return{token:wfe(bfe),error:n}}class Efe{constructor(e,t){this.app=e,this.heartbeatServiceProvider=t}_delete(){const{tokenObservers:e}=On(this.app);for(const t of e)kS(this.app,t.next);return Promise.resolve()}}const dH="app-check-internal";!function Lfe(){un(new en("app-check",n=>function Ife(n,e){return new Efe(n,e)}(n.getProvider("app").getImmediate(),n.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((n,e,t)=>{n.getProvider(dH).initialize()})),un(new en(dH,n=>function Tfe(n){return{getToken:e=>oy(n,e),addTokenListener:e=>function xS(n,e,t,r){const{app:i}=n,s=On(i);if(s.tokenObservers=[...s.tokenObservers,{next:t,error:r,type:e}],s.token&&Iu(s.token)){const a=s.token;Promise.resolve().then(()=>{t({token:a.token}),tH(n)}).catch(()=>{})}s.cachedTokenPromise.then(()=>tH(n))}(n,"INTERNAL",e),removeTokenListener:e=>kS(n.app,e)}}(n.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),Te("@firebase/app-check","0.5.17")}();class Tu{constructor(){return cs("app-check")}}typeof window<"u"&&window;const jfe=function fH(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},pH=new Li("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),gH=new Zo("@firebase/auth");function ly(n,...e){gH.logLevel<=Ne.ERROR&&gH.error(`Auth (${Jo}): ${n}`,...e)}function Dr(n,...e){throw FS(n,...e)}function hs(n,...e){return FS(n,...e)}function mH(n,e,t){const r=Object.assign(Object.assign({},jfe()),{[e]:t});return new Li("auth","Firebase",r).create(e,{appName:n.name})}function FS(n,...e){if("string"!=typeof n){const t=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=n.name),n._errorFactory.create(t,...r)}return pH.create(n,...e)}function V(n,e,...t){if(!n)throw FS(e,...t)}function fs(n){const e="INTERNAL ASSERTION FAILED: "+n;throw ly(e),new Error(e)}function ea(n,e){n||fs(e)}const _H=new Map;function uo(n){ea(n instanceof Function,"Expected a class definition");let e=_H.get(n);return e?(ea(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,_H.set(n,e),e)}function af(){var n;return typeof self<"u"&&(null===(n=self.location)||void 0===n?void 0:n.href)||""}function yH(){var n;return typeof self<"u"&&(null===(n=self.location)||void 0===n?void 0:n.protocol)||null}class lf{constructor(e,t){this.shortDelay=e,this.longDelay=t,ea(t>e,"Short delay should be less than long delay!"),this.isMobile=_I()||x$()}get(){return function Gfe(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(function LS(){return"http:"===yH()||"https:"===yH()}()||yI()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function VS(n,e){ea(n.emulator,"Emulator should always be set here");const{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}class vH{static initialize(e,t,r){this.fetchImpl=e,t&&(this.headersImpl=t),r&&(this.responseImpl=r)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:void fs("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:void fs("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:void fs("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const qfe={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"},Kfe=new lf(3e4,6e4);function dn(n,e){return n.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:n.tenantId}):e}function yn(n,e,t,r){return BS.apply(this,arguments)}function BS(){return(BS=_(function*(n,e,t,r,i={}){return bH(n,i,_(function*(){let s={},o={};r&&("GET"===e?o=r:s={body:JSON.stringify(r)});const a=Qh(Object.assign({key:n.config.apiKey},o)).slice(1),l=yield n._getAdditionalHeaders();return l["Content-Type"]="application/json",n.languageCode&&(l["X-Firebase-Locale"]=n.languageCode),vH.fetch()(wH(n,n.config.apiHost,t,a),Object.assign({method:e,headers:l,referrerPolicy:"no-referrer"},s))}))})).apply(this,arguments)}function bH(n,e,t){return US.apply(this,arguments)}function US(){return(US=_(function*(n,e,t){n._canInitEmulator=!1;const r=Object.assign(Object.assign({},qfe),e);try{const i=new Yfe(n),s=yield Promise.race([t(),i.promise]);i.clearNetworkTimeout();const o=yield s.json();if("needConfirmation"in o)throw cf(n,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{const a=s.ok?o.errorMessage:o.error.message,[l,c]=a.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===l)throw cf(n,"credential-already-in-use",o);if("EMAIL_EXISTS"===l)throw cf(n,"email-already-in-use",o);if("USER_DISABLED"===l)throw cf(n,"user-disabled",o);const u=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(c)throw mH(n,u,c);Dr(n,u)}}catch(i){if(i instanceof Gr)throw i;Dr(n,"network-request-failed")}})).apply(this,arguments)}function ho(n,e,t,r){return $S.apply(this,arguments)}function $S(){return($S=_(function*(n,e,t,r,i={}){const s=yield yn(n,e,t,r,i);return"mfaPendingCredential"in s&&Dr(n,"multi-factor-auth-required",{_serverResponse:s}),s})).apply(this,arguments)}function wH(n,e,t,r){const i=`${e}${t}?${r}`;return n.config.emulator?VS(n.config,i):`${n.config.apiScheme}://${i}`}class Yfe{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,r)=>{this.timer=setTimeout(()=>r(hs(this.auth,"network-request-failed")),Kfe.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function cf(n,e,t){const r={appName:n.name};t.email&&(r.email=t.email),t.phoneNumber&&(r.phoneNumber=t.phoneNumber);const i=hs(n,e,r);return i.customData._tokenResponse=t,i}function jS(){return(jS=_(function*(n,e){return yn(n,"POST","/v1/accounts:delete",e)})).apply(this,arguments)}function Zfe(n,e){return zS.apply(this,arguments)}function zS(){return(zS=_(function*(n,e){return yn(n,"POST","/v1/accounts:lookup",e)})).apply(this,arguments)}function uf(n){if(n)try{const e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}function GS(){return(GS=_(function*(n,e=!1){const t=He(n),r=yield t.getIdToken(e),i=cy(r);V(i&&i.exp&&i.auth_time&&i.iat,t.auth,"internal-error");const s="object"==typeof i.firebase?i.firebase:void 0,o=s?.sign_in_provider;return{claims:i,token:r,authTime:uf(WS(i.auth_time)),issuedAtTime:uf(WS(i.iat)),expirationTime:uf(WS(i.exp)),signInProvider:o||null,signInSecondFactor:s?.sign_in_second_factor||null}})).apply(this,arguments)}function WS(n){return 1e3*Number(n)}function cy(n){var e;const[t,r,i]=n.split(".");if(void 0===t||void 0===r||void 0===i)return ly("JWT malformed, contained fewer than 3 sections"),null;try{const s=O_(r);return s?JSON.parse(s):(ly("Failed to decode base64 JWT payload"),null)}catch(s){return ly("Caught error parsing JWT payload as JSON",null===(e=s)||void 0===e?void 0:e.toString()),null}}function fo(n,e){return qS.apply(this,arguments)}function qS(){return(qS=_(function*(n,e,t=!1){if(t)return e;try{return yield e}catch(r){throw r instanceof Gr&&tpe(r)&&n.auth.currentUser===n&&(yield n.auth.signOut()),r}})).apply(this,arguments)}function tpe({code:n}){return"auth/user-disabled"===n||"auth/user-token-expired"===n}class npe{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){!this.isRunning||(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),r}{this.errorBackoff=3e4;const i=(null!==(t=this.user.stsTokenManager.expirationTime)&&void 0!==t?t:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){var t=this;if(!this.isRunning)return;const r=this.getInterval(e);this.timerId=setTimeout(_(function*(){yield t.iteration()}),r)}iteration(){var e=this;return _(function*(){var t;try{yield e.user.getIdToken(!0)}catch(r){return void("auth/network-request-failed"===(null===(t=r)||void 0===t?void 0:t.code)&&e.schedule(!0))}e.schedule()})()}}class CH{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=uf(this.lastLoginAt),this.creationTime=uf(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function df(n){return KS.apply(this,arguments)}function KS(){return(KS=_(function*(n){var e;const t=n.auth,r=yield n.getIdToken(),i=yield fo(n,Zfe(t,{idToken:r}));V(i?.users.length,t,"internal-error");const s=i.users[0];n._notifyReloadListener(s);const o=null!==(e=s.providerUserInfo)&&void 0!==e&&e.length?spe(s.providerUserInfo):[],a=ipe(n.providerData,o),u=!!n.isAnonymous&&!(n.email&&s.passwordHash||a?.length),d={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new CH(s.createdAt,s.lastLoginAt),isAnonymous:u};Object.assign(n,d)})).apply(this,arguments)}function YS(){return(YS=_(function*(n){const e=He(n);yield df(e),yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)})).apply(this,arguments)}function ipe(n,e){return[...n.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function spe(n){return n.map(e=>{var{providerId:t}=e,r=rP(e,["providerId"]);return{providerId:t,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}function QS(){return(QS=_(function*(n,e){const t=yield bH(n,{},_(function*(){const r=Qh({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=n.config,o=wH(n,i,"/v1/token",`key=${s}`),a=yield n._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",vH.fetch()(o,{method:"POST",headers:a,body:r})}));return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}})).apply(this,arguments)}class hf{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){V(e.idToken,"internal-error"),V(typeof e.idToken<"u","internal-error"),V(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):function epe(n){const e=cy(n);return V(e,"internal-error"),V(typeof e.exp<"u","internal-error"),V(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}getToken(e,t=!1){var r=this;return _(function*(){return V(!r.accessToken||r.refreshToken,e,"user-token-expired"),t||!r.accessToken||r.isExpired?r.refreshToken?(yield r.refresh(e,r.refreshToken),r.accessToken):null:r.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(e,t){var r=this;return _(function*(){const{accessToken:i,refreshToken:s,expiresIn:o}=yield function ope(n,e){return QS.apply(this,arguments)}(e,t);r.updateTokensAndExpiration(i,s,Number(o))})()}updateTokensAndExpiration(e,t,r){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*r}static fromJSON(e,t){const{refreshToken:r,accessToken:i,expirationTime:s}=t,o=new hf;return r&&(V("string"==typeof r,"internal-error",{appName:e}),o.refreshToken=r),i&&(V("string"==typeof i,"internal-error",{appName:e}),o.accessToken=i),s&&(V("number"==typeof s,"internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new hf,this.toJSON())}_performRefresh(){return fs("not implemented")}}function ta(n,e){V("string"==typeof n||typeof n>"u","internal-error",{appName:e})}class _l{constructor(e){var{uid:t,auth:r,stsTokenManager:i}=e,s=rP(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new npe(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new CH(s.createdAt||void 0,s.lastLoginAt||void 0)}getIdToken(e){var t=this;return _(function*(){const r=yield fo(t,t.stsTokenManager.getToken(t.auth,e));return V(r,t.auth,"internal-error"),t.accessToken!==r&&(t.accessToken=r,yield t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)),r})()}getIdTokenResult(e){return function Jfe(n){return GS.apply(this,arguments)}(this,e)}reload(){return function rpe(n){return YS.apply(this,arguments)}(this)}_assign(e){this!==e&&(V(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){return new _l(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(e){V(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(e,t=!1){var r=this;return _(function*(){let i=!1;e.idToken&&e.idToken!==r.stsTokenManager.accessToken&&(r.stsTokenManager.updateFromServerResponse(e),i=!0),t&&(yield df(r)),yield r.auth._persistUserIfCurrent(r),i&&r.auth._notifyListenersIfCurrent(r)})()}delete(){var e=this;return _(function*(){const t=yield e.getIdToken();return yield fo(e,function Qfe(n,e){return jS.apply(this,arguments)}(e.auth,{idToken:t})),e.stsTokenManager.clearRefreshToken(),e.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var r,i,s,o,a,l,c,u;const d=null!==(r=t.displayName)&&void 0!==r?r:void 0,h=null!==(i=t.email)&&void 0!==i?i:void 0,f=null!==(s=t.phoneNumber)&&void 0!==s?s:void 0,p=null!==(o=t.photoURL)&&void 0!==o?o:void 0,g=null!==(a=t.tenantId)&&void 0!==a?a:void 0,m=null!==(l=t._redirectEventId)&&void 0!==l?l:void 0,v=null!==(c=t.createdAt)&&void 0!==c?c:void 0,C=null!==(u=t.lastLoginAt)&&void 0!==u?u:void 0,{uid:y,emailVerified:D,isAnonymous:O,providerData:B,stsTokenManager:le}=t;V(y&&le,e,"internal-error");const ot=hf.fromJSON(this.name,le);V("string"==typeof y,e,"internal-error"),ta(d,e.name),ta(h,e.name),V("boolean"==typeof D,e,"internal-error"),V("boolean"==typeof O,e,"internal-error"),ta(f,e.name),ta(p,e.name),ta(g,e.name),ta(m,e.name),ta(v,e.name),ta(C,e.name);const qt=new _l({uid:y,auth:e,email:h,emailVerified:D,displayName:d,isAnonymous:O,photoURL:p,phoneNumber:f,tenantId:g,stsTokenManager:ot,createdAt:v,lastLoginAt:C});return B&&Array.isArray(B)&&(qt.providerData=B.map(br=>Object.assign({},br))),m&&(qt._redirectEventId=m),qt}static _fromIdTokenResponse(e,t,r=!1){return _(function*(){const i=new hf;i.updateFromServerResponse(t);const s=new _l({uid:t.localId,auth:e,stsTokenManager:i,isAnonymous:r});return yield df(s),s})()}}const EH=(()=>{class n{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return _(function*(){return!0})()}_set(t,r){var i=this;return _(function*(){i.storage[t]=r})()}_get(t){var r=this;return _(function*(){const i=r.storage[t];return void 0===i?null:i})()}_remove(t){var r=this;return _(function*(){delete r.storage[t]})()}_addListener(t,r){}_removeListener(t,r){}}return n.type="NONE",n})();function uy(n,e,t){return`firebase:${n}:${e}:${t}`}class Du{constructor(e,t,r){this.persistence=e,this.auth=t,this.userKey=r;const{config:i,name:s}=this.auth;this.fullUserKey=uy(this.userKey,i.apiKey,s),this.fullPersistenceKey=uy("persistence",i.apiKey,s),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}getCurrentUser(){var e=this;return _(function*(){const t=yield e.persistence._get(e.fullUserKey);return t?_l._fromJSON(e.auth,t):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(e){var t=this;return _(function*(){if(t.persistence===e)return;const r=yield t.getCurrentUser();return yield t.removeCurrentUser(),t.persistence=e,r?t.setCurrentUser(r):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(e,t,r="authUser"){return _(function*(){if(!t.length)return new Du(uo(EH),e,r);const i=(yield Promise.all(t.map(function(){var c=_(function*(u){if(yield u._isAvailable())return u});return function(u){return c.apply(this,arguments)}}()))).filter(c=>c);let s=i[0]||uo(EH);const o=uy(r,e.config.apiKey,e.name);let a=null;for(const c of t)try{const u=yield c._get(o);if(u){const d=_l._fromJSON(e,u);c!==s&&(a=d),s=c;break}}catch{}const l=i.filter(c=>c._shouldAllowMigration);return s._shouldAllowMigration&&l.length?(s=l[0],a&&(yield s._set(o,a.toJSON())),yield Promise.all(t.map(function(){var c=_(function*(u){if(u!==s)try{yield u._remove(o)}catch{}});return function(u){return c.apply(this,arguments)}}())),new Du(s,e,r)):new Du(s,e,r)})()}}function IH(n){const e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(DH(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(TH(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(MH(e))return"Blackberry";if(xH(e))return"Webos";if(XS(e))return"Safari";if((e.includes("chrome/")||SH(e))&&!e.includes("edge/"))return"Chrome";if(AH(e))return"Android";{const r=n.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===r?.length)return r[1]}return"Other"}function TH(n=_n()){return/firefox\//i.test(n)}function XS(n=_n()){const e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function SH(n=_n()){return/crios\//i.test(n)}function DH(n=_n()){return/iemobile/i.test(n)}function AH(n=_n()){return/android/i.test(n)}function MH(n=_n()){return/blackberry/i.test(n)}function xH(n=_n()){return/webos/i.test(n)}function dy(n=_n()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function kH(n=_n()){return dy(n)||AH(n)||xH(n)||MH(n)||/windows phone/i.test(n)||DH(n)}function RH(n,e=[]){let t;switch(n){case"Browser":t=IH(_n());break;case"Worker":t=`${IH(_n())}-${n}`;break;default:t=n}const r=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${Jo}/${r}`}class upe{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const r=s=>new Promise((o,a)=>{try{o(e(s))}catch(l){a(l)}});r.onAbort=t,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}runMiddleware(e){var t=this;return _(function*(){var r;if(t.auth.currentUser===e)return;const i=[];try{for(const s of t.queue)yield s(e),s.onAbort&&i.push(s.onAbort)}catch(s){i.reverse();for(const o of i)try{o()}catch{}throw t.auth._errorFactory.create("login-blocked",{originalMessage:null===(r=s)||void 0===r?void 0:r.message})}})()}}class dpe{constructor(e,t,r){this.app=e,this.heartbeatServiceProvider=t,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new NH(this),this.idTokenSubscription=new NH(this),this.beforeStateQueue=new upe(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=pH,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=r.sdkClientVersion}_initializeWithPersistence(e,t){var r=this;return t&&(this._popupRedirectResolver=uo(t)),this._initializationPromise=this.queue(_(function*(){var i,s;if(!r._deleted&&(r.persistenceManager=yield Du.create(r,e),!r._deleted)){if(null!==(i=r._popupRedirectResolver)&&void 0!==i&&i._shouldInitProactively)try{yield r._popupRedirectResolver._initialize(r)}catch{}yield r.initializeCurrentUser(t),r.lastNotifiedUid=(null===(s=r.currentUser)||void 0===s?void 0:s.uid)||null,!r._deleted&&(r._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var e=this;return _(function*(){if(e._deleted)return;const t=yield e.assertedPersistence.getCurrentUser();if(e.currentUser||t){if(e.currentUser&&t&&e.currentUser.uid===t.uid)return e._currentUser._assign(t),void(yield e.currentUser.getIdToken());yield e._updateCurrentUser(t,!0)}})()}initializeCurrentUser(e){var t=this;return _(function*(){var r;const i=yield t.assertedPersistence.getCurrentUser();let s=i,o=!1;if(e&&t.config.authDomain){yield t.getOrInitRedirectPersistenceManager();const a=null===(r=t.redirectUser)||void 0===r?void 0:r._redirectEventId,l=s?._redirectEventId,c=yield t.tryRedirectSignIn(e);(!a||a===l)&&c?.user&&(s=c.user,o=!0)}if(!s)return t.directlySetCurrentUser(null);if(!s._redirectEventId){if(o)try{yield t.beforeStateQueue.runMiddleware(s)}catch(a){s=i,t._popupRedirectResolver._overrideRedirectResult(t,()=>Promise.reject(a))}return s?t.reloadAndSetCurrentUserOrClear(s):t.directlySetCurrentUser(null)}return V(t._popupRedirectResolver,t,"argument-error"),yield t.getOrInitRedirectPersistenceManager(),t.redirectUser&&t.redirectUser._redirectEventId===s._redirectEventId?t.directlySetCurrentUser(s):t.reloadAndSetCurrentUserOrClear(s)})()}tryRedirectSignIn(e){var t=this;return _(function*(){let r=null;try{r=yield t._popupRedirectResolver._completeRedirectFn(t,e,!0)}catch{yield t._setRedirectUser(null)}return r})()}reloadAndSetCurrentUserOrClear(e){var t=this;return _(function*(){var r;try{yield df(e)}catch(i){if("auth/network-request-failed"!==(null===(r=i)||void 0===r?void 0:r.code))return t.directlySetCurrentUser(null)}return t.directlySetCurrentUser(e)})()}useDeviceLanguage(){this.languageCode=function Wfe(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}()}_delete(){var e=this;return _(function*(){e._deleted=!0})()}updateCurrentUser(e){var t=this;return _(function*(){const r=e?He(e):null;return r&&V(r.auth.config.apiKey===t.config.apiKey,t,"invalid-user-token"),t._updateCurrentUser(r&&r._clone(t))})()}_updateCurrentUser(e,t=!1){var r=this;return _(function*(){if(!r._deleted)return e&&V(r.tenantId===e.tenantId,r,"tenant-id-mismatch"),t||(yield r.beforeStateQueue.runMiddleware(e)),r.queue(_(function*(){yield r.directlySetCurrentUser(e),r.notifyAuthListeners()}))})()}signOut(){var e=this;return _(function*(){return yield e.beforeStateQueue.runMiddleware(null),(e.redirectPersistenceManager||e._popupRedirectResolver)&&(yield e._setRedirectUser(null)),e._updateCurrentUser(null,!0)})()}setPersistence(e){var t=this;return this.queue(_(function*(){yield t.assertedPersistence.setPersistence(uo(e))}))}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Li("auth","Firebase",e())}onAuthStateChanged(e,t,r){return this.registerStateListener(this.authStateSubscription,e,t,r)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,r){return this.registerStateListener(this.idTokenSubscription,e,t,r)}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}_setRedirectUser(e,t){var r=this;return _(function*(){const i=yield r.getOrInitRedirectPersistenceManager(t);return null===e?i.removeCurrentUser():i.setCurrentUser(e)})()}getOrInitRedirectPersistenceManager(e){var t=this;return _(function*(){if(!t.redirectPersistenceManager){const r=e&&uo(e)||t._popupRedirectResolver;V(r,t,"argument-error"),t.redirectPersistenceManager=yield Du.create(t,[uo(r._redirectPersistence)],"redirectUser"),t.redirectUser=yield t.redirectPersistenceManager.getCurrentUser()}return t.redirectPersistenceManager})()}_redirectUserForId(e){var t=this;return _(function*(){var r,i;return t._isInitialized&&(yield t.queue(_(function*(){}))),(null===(r=t._currentUser)||void 0===r?void 0:r._redirectEventId)===e?t._currentUser:(null===(i=t.redirectUser)||void 0===i?void 0:i._redirectEventId)===e?t.redirectUser:null})()}_persistUserIfCurrent(e){var t=this;return _(function*(){if(e===t.currentUser)return t.queue(_(function*(){return t.directlySetCurrentUser(e)}))})()}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=null!==(t=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==t?t:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,r,i){if(this._deleted)return()=>{};const s="function"==typeof t?t:t.next.bind(t),o=this._isInitialized?Promise.resolve():this._initializationPromise;return V(o,this,"internal-error"),o.then(()=>s(this.currentUser)),"function"==typeof t?e.addObserver(t,r,i):e.addObserver(t)}directlySetCurrentUser(e){var t=this;return _(function*(){t.currentUser&&t.currentUser!==e&&t._currentUser._stopProactiveRefresh(),e&&t.isProactiveRefreshEnabled&&e._startProactiveRefresh(),t.currentUser=e,e?yield t.assertedPersistence.setCurrentUser(e):yield t.assertedPersistence.removeCurrentUser()})()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return V(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=RH(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var e=this;return _(function*(){var t;const r={"X-Client-Version":e.clientVersion};e.app.options.appId&&(r["X-Firebase-gmpid"]=e.app.options.appId);const i=yield null===(t=e.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===t?void 0:t.getHeartbeatsHeader();return i&&(r["X-Firebase-Client"]=i),r})()}}function Ar(n){return He(n)}class NH{constructor(e){this.auth=e,this.observer=null,this.addObserver=function Hle(n,e){const t=new zle(n,e);return t.subscribe.bind(t)}(t=>this.observer=t)}get next(){return V(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function PH(n){const e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function OH(n){if(!n)return null;const e=Number(n);return isNaN(e)?null:e}class FH{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return fs("not implemented")}_getIdTokenResponse(e){return fs("not implemented")}_linkToIdToken(e,t){return fs("not implemented")}_getReauthenticationResolver(e){return fs("not implemented")}}function JS(){return(JS=_(function*(n,e){return yn(n,"POST","/v1/accounts:update",e)})).apply(this,arguments)}function tD(){return(tD=_(function*(n,e){return ho(n,"POST","/v1/accounts:signInWithPassword",dn(n,e))})).apply(this,arguments)}function aD(){return(aD=_(function*(n,e){return ho(n,"POST","/v1/accounts:signInWithEmailLink",dn(n,e))})).apply(this,arguments)}function lD(){return(lD=_(function*(n,e){return ho(n,"POST","/v1/accounts:signInWithEmailLink",dn(n,e))})).apply(this,arguments)}class ff extends FH{constructor(e,t,r,i=null){super("password",r),this._email=e,this._password=t,this._tenantId=i}static _fromEmailAndPassword(e,t){return new ff(e,t,"password")}static _fromEmailAndCode(e,t,r=null){return new ff(e,t,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t="string"==typeof e?JSON.parse(e):e;if(t?.email&&t?.password){if("password"===t.signInMethod)return this._fromEmailAndPassword(t.email,t.password);if("emailLink"===t.signInMethod)return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}_getIdTokenResponse(e){var t=this;return _(function*(){switch(t.signInMethod){case"password":return function mpe(n,e){return tD.apply(this,arguments)}(e,{returnSecureToken:!0,email:t._email,password:t._password});case"emailLink":return function wpe(n,e){return aD.apply(this,arguments)}(e,{email:t._email,oobCode:t._password});default:Dr(e,"internal-error")}})()}_linkToIdToken(e,t){var r=this;return _(function*(){switch(r.signInMethod){case"password":return function VH(n,e){return JS.apply(this,arguments)}(e,{idToken:t,returnSecureToken:!0,email:r._email,password:r._password});case"emailLink":return function Cpe(n,e){return lD.apply(this,arguments)}(e,{idToken:t,email:r._email,oobCode:r._password});default:Dr(e,"internal-error")}})()}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}function po(n,e){return cD.apply(this,arguments)}function cD(){return(cD=_(function*(n,e){return ho(n,"POST","/v1/accounts:signInWithIdp",dn(n,e))})).apply(this,arguments)}class mf{constructor(e){var t,r,i,s,o,a;const l=Xh(Zh(e)),c=null!==(t=l.apiKey)&&void 0!==t?t:null,u=null!==(r=l.oobCode)&&void 0!==r?r:null,d=function Mpe(n){switch(n){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(i=l.mode)&&void 0!==i?i:null);V(c&&u&&d,"argument-error"),this.apiKey=c,this.operation=d,this.code=u,this.continueUrl=null!==(s=l.continueUrl)&&void 0!==s?s:null,this.languageCode=null!==(o=l.languageCode)&&void 0!==o?o:null,this.tenantId=null!==(a=l.tenantId)&&void 0!==a?a:null}static parseLink(e){const t=function xpe(n){const e=Xh(Zh(n)).link,t=e?Xh(Zh(e)).deep_link_id:null,r=Xh(Zh(n)).deep_link_id;return(r?Xh(Zh(r)).link:null)||r||t||e||n}(e);try{return new mf(t)}catch{return null}}}let BH=(()=>{class n{constructor(){this.providerId=n.PROVIDER_ID}static credential(t,r){return ff._fromEmailAndPassword(t,r)}static credentialWithLink(t,r){const i=mf.parseLink(r);return V(i,"argument-error"),ff._fromEmailAndCode(t,i.code,i.tenantId)}}return n.PROVIDER_ID="password",n.EMAIL_PASSWORD_SIGN_IN_METHOD="password",n.EMAIL_LINK_SIGN_IN_METHOD="emailLink",n})();class na{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class kpe extends na{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}function UH(n,e){return gD.apply(this,arguments)}function gD(){return(gD=_(function*(n,e){return ho(n,"POST","/v1/accounts:signUp",dn(n,e))})).apply(this,arguments)}class gi{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static _fromIdTokenResponse(e,t,r,i=!1){return _(function*(){const s=yield _l._fromIdTokenResponse(e,r,i),o=$H(r);return new gi({user:s,providerId:o,_tokenResponse:r,operationType:t})})()}static _forOperation(e,t,r){return _(function*(){yield e._updateTokensIfNecessary(r,!0);const i=$H(r);return new gi({user:e,providerId:i,_tokenResponse:r,operationType:t})})()}}function $H(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}class py extends Gr{constructor(e,t,r,i){var s;super(t.code,t.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,py.prototype),this.customData={appName:e.name,tenantId:null!==(s=e.tenantId)&&void 0!==s?s:void 0,_serverResponse:t.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,t,r,i){return new py(e,t,r,i)}}function jH(n,e,t,r){return("reauthenticate"===e?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(s=>{throw"auth/multi-factor-auth-required"===s.code?py._fromErrorAndOperation(n,s,e,r):s})}function yD(n,e){return vD.apply(this,arguments)}function vD(){return(vD=_(function*(n,e,t=!1){const r=yield fo(n,e._linkToIdToken(n.auth,yield n.getIdToken()),t);return gi._forOperation(n,"link",r)})).apply(this,arguments)}function wD(){return(wD=_(function*(n,e,t=!1){var r;const{auth:i}=n,s="reauthenticate";try{const o=yield fo(n,jH(i,s,e,n),t);V(o.idToken,i,"internal-error");const a=cy(o.idToken);V(a,i,"internal-error");const{sub:l}=a;return V(n.uid===l,i,"user-mismatch"),gi._forOperation(n,s,o)}catch(o){throw"auth/user-not-found"===(null===(r=o)||void 0===r?void 0:r.code)&&Dr(i,"user-mismatch"),o}})).apply(this,arguments)}function GH(n,e){return CD.apply(this,arguments)}function CD(){return(CD=_(function*(n,e,t=!1){const r="signIn",i=yield jH(n,r,e),s=yield gi._fromIdTokenResponse(n,r,i);return t||(yield n._updateCurrentUser(s.user)),s})).apply(this,arguments)}function ID(){return(ID=_(function*(n,e){return GH(Ar(n),e)})).apply(this,arguments)}function Vpe(n,e,t){return FD.apply(this,arguments)}function FD(){return(FD=_(function*(n,e,t){const r=Ar(n),i=yield UH(r,{returnSecureToken:!0,email:e,password:t}),s=yield gi._fromIdTokenResponse(r,"signIn",i);return yield r._updateCurrentUser(s.user),s})).apply(this,arguments)}function $pe(n,e){return HD.apply(this,arguments)}function HD(){return(HD=_(function*(n,e){return yn(n,"POST","/v1/accounts:update",e)})).apply(this,arguments)}function jpe(n,e){return zD.apply(this,arguments)}function zD(){return(zD=_(function*(n,{displayName:e,photoURL:t}){if(void 0===e&&void 0===t)return;const r=He(n),s={idToken:yield r.getIdToken(),displayName:e,photoUrl:t,returnSecureToken:!0},o=yield fo(r,$pe(r.auth,s));r.displayName=o.displayName||null,r.photoURL=o.photoUrl||null;const a=r.providerData.find(({providerId:l})=>"password"===l);a&&(a.displayName=r.displayName,a.photoURL=r.photoURL),yield r._updateTokensIfNecessary(o)})).apply(this,arguments)}function qH(n,e,t,r){return He(n).onIdTokenChanged(e,t,r)}const _y="__sak";class KH{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(_y,"1"),this.storage.removeItem(_y),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const nge=(()=>{class n extends KH{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,r)=>this.onStorageEvent(t,r),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function Jpe(){const n=_n();return XS(n)||dy(n)}()&&function cpe(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=kH(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const r of Object.keys(this.listeners)){const i=this.storage.getItem(r),s=this.localCache[r];i!==s&&t(r,s,i)}}onStorageEvent(t,r=!1){if(!t.key)return void this.forAllChangedKeys((a,l,c)=>{this.notifyListeners(a,c)});const i=t.key;if(r?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const a=this.storage.getItem(i);if(t.newValue!==a)null!==t.newValue?this.storage.setItem(i,t.newValue):this.storage.removeItem(i);else if(this.localCache[i]===t.newValue&&!r)return}const s=()=>{const a=this.storage.getItem(i);!r&&this.localCache[i]===a||this.notifyListeners(i,a)},o=this.storage.getItem(i);!function lpe(){return function kle(){const n=_n();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}()&&10===document.documentMode}()||o===t.newValue||t.newValue===t.oldValue?s():setTimeout(s,10)}notifyListeners(t,r){this.localCache[t]=r;const i=this.listeners[t];if(i)for(const s of Array.from(i))s(r&&JSON.parse(r))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,r,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:r,newValue:i}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,r){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(r)}_removeListener(t,r){this.listeners[t]&&(this.listeners[t].delete(r),0===this.listeners[t].size&&delete this.listeners[t]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(t,r){var i=()=>super._set,s=this;return _(function*(){yield i().call(s,t,r),s.localCache[t]=JSON.stringify(r)})()}_get(t){var r=()=>super._get,i=this;return _(function*(){const s=yield r().call(i,t);return i.localCache[t]=JSON.stringify(s),s})()}_remove(t){var r=()=>super._remove,i=this;return _(function*(){yield r().call(i,t),delete i.localCache[t]})()}}return n.type="LOCAL",n})(),YH=(()=>{class n extends KH{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,r){}_removeListener(t,r){}}return n.type="SESSION",n})();let ige=(()=>{class n{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const r=this.receivers.find(s=>s.isListeningto(t));if(r)return r;const i=new n(t);return this.receivers.push(i),i}isListeningto(t){return this.eventTarget===t}handleEvent(t){var r=this;return _(function*(){const i=t,{eventId:s,eventType:o,data:a}=i.data,l=r.handlersMap[o];if(!l?.size)return;i.ports[0].postMessage({status:"ack",eventId:s,eventType:o});const c=Array.from(l).map(function(){var d=_(function*(h){return h(i.origin,a)});return function(h){return d.apply(this,arguments)}}()),u=yield function rge(n){return Promise.all(n.map(function(){var e=_(function*(t){try{return{fulfilled:!0,value:yield t}}catch(r){return{fulfilled:!1,reason:r}}});return function(t){return e.apply(this,arguments)}}()))}(c);i.ports[0].postMessage({status:"done",eventId:s,eventType:o,response:u})})()}_subscribe(t,r){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(r)}_unsubscribe(t,r){this.handlersMap[t]&&r&&this.handlersMap[t].delete(r),(!r||0===this.handlersMap[t].size)&&delete this.handlersMap[t],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return n.receivers=[],n})();function XD(n="",e=10){let t="";for(let r=0;r<e;r++)t+=Math.floor(10*Math.random());return n+t}class sge{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}_send(e,t,r=50){var i=this;return _(function*(){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let o,a;return new Promise((l,c)=>{const u=XD("",20);s.port1.start();const d=setTimeout(()=>{c(new Error("unsupported_event"))},r);a={messageChannel:s,onMessage(h){const f=h;if(f.data.eventId===u)switch(f.data.status){case"ack":clearTimeout(d),o=setTimeout(()=>{c(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),l(f.data.response);break;default:clearTimeout(d),clearTimeout(o),c(new Error("invalid_response"))}}},i.handlers.add(a),s.port1.addEventListener("message",a.onMessage),i.target.postMessage({eventType:e,eventId:u,data:t},[s.port2])}).finally(()=>{a&&i.removeMessageHandler(a)})})()}}function hn(){return window}function ZD(){return typeof hn().WorkerGlobalScope<"u"&&"function"==typeof hn().importScripts}function JD(){return(JD=_(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const QH="firebaseLocalStorageDb",yy="firebaseLocalStorage",XH="fbase_key";class yf{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function vy(n,e){return n.transaction([yy],e?"readwrite":"readonly").objectStore(yy)}function eA(){const n=indexedDB.open(QH,1);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{const r=n.result;try{r.createObjectStore(yy,{keyPath:XH})}catch(i){t(i)}}),n.addEventListener("success",_(function*(){const r=n.result;r.objectStoreNames.contains(yy)?e(r):(r.close(),yield function dge(){const n=indexedDB.deleteDatabase(QH);return new yf(n).toPromise()}(),e(yield eA()))}))})}function ZH(n,e,t){return tA.apply(this,arguments)}function tA(){return(tA=_(function*(n,e,t){const r=vy(n,!0).put({[XH]:e,value:t});return new yf(r).toPromise()})).apply(this,arguments)}function nA(){return(nA=_(function*(n,e){const t=vy(n,!1).get(e),r=yield new yf(t).toPromise();return void 0===r?null:r.value})).apply(this,arguments)}function JH(n,e){const t=vy(n,!0).delete(e);return new yf(t).toPromise()}const gge=(()=>{class n{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var t=this;return _(function*(){return t.db||(t.db=yield eA()),t.db})()}_withRetries(t){var r=this;return _(function*(){let i=0;for(;;)try{const s=yield r._openDb();return yield t(s)}catch(s){if(i++>3)throw s;r.db&&(r.db.close(),r.db=void 0)}})()}initializeServiceWorkerMessaging(){var t=this;return _(function*(){return ZD()?t.initializeReceiver():t.initializeSender()})()}initializeReceiver(){var t=this;return _(function*(){t.receiver=ige._getInstance(function cge(){return ZD()?self:null}()),t.receiver._subscribe("keyChanged",function(){var r=_(function*(i,s){return{keyProcessed:(yield t._poll()).includes(s.key)}});return function(i,s){return r.apply(this,arguments)}}()),t.receiver._subscribe("ping",function(){var r=_(function*(i,s){return["keyChanged"]});return function(i,s){return r.apply(this,arguments)}}())})()}initializeSender(){var t=this;return _(function*(){var r,i;if(t.activeServiceWorker=yield function age(){return JD.apply(this,arguments)}(),!t.activeServiceWorker)return;t.sender=new sge(t.activeServiceWorker);const s=yield t.sender._send("ping",{},800);!s||(null===(r=s[0])||void 0===r?void 0:r.fulfilled)&&(null===(i=s[0])||void 0===i?void 0:i.value.includes("keyChanged"))&&(t.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(t){var r=this;return _(function*(){if(r.sender&&r.activeServiceWorker&&function lge(){var n;return(null===(n=navigator?.serviceWorker)||void 0===n?void 0:n.controller)||null}()===r.activeServiceWorker)try{yield r.sender._send("keyChanged",{key:t},r.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return _(function*(){try{if(!indexedDB)return!1;const t=yield eA();return yield ZH(t,_y,"1"),yield JH(t,_y),!0}catch{}return!1})()}_withPendingWrite(t){var r=this;return _(function*(){r.pendingWrites++;try{yield t()}finally{r.pendingWrites--}})()}_set(t,r){var i=this;return _(function*(){return i._withPendingWrite(_(function*(){return yield i._withRetries(s=>ZH(s,t,r)),i.localCache[t]=r,i.notifyServiceWorker(t)}))})()}_get(t){var r=this;return _(function*(){const i=yield r._withRetries(s=>function hge(n,e){return nA.apply(this,arguments)}(s,t));return r.localCache[t]=i,i})()}_remove(t){var r=this;return _(function*(){return r._withPendingWrite(_(function*(){return yield r._withRetries(i=>JH(i,t)),delete r.localCache[t],r.notifyServiceWorker(t)}))})()}_poll(){var t=this;return _(function*(){const r=yield t._withRetries(o=>{const a=vy(o,!1).getAll();return new yf(a).toPromise()});if(!r)return[];if(0!==t.pendingWrites)return[];const i=[],s=new Set;for(const{fbase_key:o,value:a}of r)s.add(o),JSON.stringify(t.localCache[o])!==JSON.stringify(a)&&(t.notifyListeners(o,a),i.push(o));for(const o of Object.keys(t.localCache))t.localCache[o]&&!s.has(o)&&(t.notifyListeners(o,null),i.push(o));return i})()}notifyListeners(t,r){this.localCache[t]=r;const i=this.listeners[t];if(i)for(const s of Array.from(i))s(r)}startPolling(){var t=this;this.stopPolling(),this.pollTimer=setInterval(_(function*(){return t._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,r){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(r)}_removeListener(t,r){this.listeners[t]&&(this.listeners[t].delete(r),0===this.listeners[t].size&&delete this.listeners[t]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return n.type="LOCAL",n})();function t4(n){return`__${n}${Math.floor(1e6*Math.random())}`}function vl(n,e){return e?uo(e):(V(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}t4("rcb"),new lf(3e4,6e4);class hA extends FH{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return po(e,this._buildIdpRequest())}_linkToIdToken(e,t){return po(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return po(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function Rge(n){return GH(n.auth,new hA(n),n.bypassAuthState)}function Nge(n){const{auth:e,user:t}=n;return V(t,e,"internal-error"),function zH(n,e){return wD.apply(this,arguments)}(t,new hA(n),n.bypassAuthState)}function Pge(n){return fA.apply(this,arguments)}function fA(){return(fA=_(function*(n){const{auth:e,user:t}=n;return V(t,e,"internal-error"),yD(t,new hA(n),n.bypassAuthState)})).apply(this,arguments)}new lf(2e3,1e4);const vf=new Map;class Lge extends class Oge{constructor(e,t,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){var e=this;return new Promise(function(){var t=_(function*(r,i){e.pendingPromise={resolve:r,reject:i};try{e.eventManager=yield e.resolver._initialize(e.auth),yield e.onExecution(),e.eventManager.registerConsumer(e)}catch(s){e.reject(s)}});return function(r,i){return t.apply(this,arguments)}}())}onAuthEvent(e){var t=this;return _(function*(){const{urlResponse:r,sessionId:i,postBody:s,tenantId:o,error:a,type:l}=e;if(a)return void t.reject(a);const c={auth:t.auth,requestUri:r,sessionId:i,tenantId:o||void 0,postBody:s||void 0,user:t.user,bypassAuthState:t.bypassAuthState};try{t.resolve(yield t.getIdpTask(l)(c))}catch(u){t.reject(u)}})()}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return Rge;case"linkViaPopup":case"linkViaRedirect":return Pge;case"reauthViaPopup":case"reauthViaRedirect":return Nge;default:Dr(this.auth,"internal-error")}}resolve(e){ea(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){ea(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}{constructor(e,t,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,r),this.eventId=null}execute(){var e=()=>super.execute,t=this;return _(function*(){let r=vf.get(t.auth._key());if(!r){try{const s=(yield function Vge(n,e){return yA.apply(this,arguments)}(t.resolver,t.auth))?yield e().call(t):null;r=()=>Promise.resolve(s)}catch(i){r=()=>Promise.reject(i)}vf.set(t.auth._key(),r)}return t.bypassAuthState||vf.set(t.auth._key(),()=>Promise.resolve(null)),r()})()}onAuthEvent(e){var t=()=>super.onAuthEvent,r=this;return _(function*(){if("signInViaRedirect"===e.type)return t().call(r,e);if("unknown"!==e.type){if(e.eventId){const i=yield r.auth._redirectUserForId(e.eventId);if(i)return r.user=i,t().call(r,e);r.resolve(null)}}else r.resolve(null)})()}onExecution(){return _(function*(){})()}cleanUp(){}}function yA(){return(yA=_(function*(n,e){const t=i4(e),r=r4(n);if(!(yield r._isAvailable()))return!1;const i="true"===(yield r._get(t));return yield r._remove(t),i})).apply(this,arguments)}function Bge(n,e){vf.set(n._key(),e)}function r4(n){return uo(n._redirectPersistence)}function i4(n){return uy("pendingRedirect",n.config.apiKey,n.name)}function s4(n,e){return TA.apply(this,arguments)}function TA(){return(TA=_(function*(n,e,t=!1){const r=Ar(n),i=vl(r,e),o=yield new Lge(r,i,t).execute();return o&&!t&&(delete o.user._redirectEventId,yield r._persistUserIfCurrent(o.user),yield r._setRedirectUser(null,e)),o})).apply(this,arguments)}class zge{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(t=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!function Gge(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return l4(n);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var r;if(e.error&&!l4(e)){const i=(null===(r=e.error.code)||void 0===r?void 0:r.split("auth/")[1])||"internal-error";t.onError(hs(this.auth,i))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const r=null===t.eventId||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(a4(e))}saveEventToCache(e){this.cachedEventUids.add(a4(e)),this.lastProcessedEventTime=Date.now()}}function a4(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function l4({type:n,error:e}){return"unknown"===n&&"auth/no-auth-event"===e?.code}function Wge(n){return DA.apply(this,arguments)}function DA(){return(DA=_(function*(n,e={}){return yn(n,"GET","/v1/projects",e)})).apply(this,arguments)}const qge=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Kge=/^https?/;function AA(){return(AA=_(function*(n){if(n.config.emulator)return;const{authorizedDomains:e}=yield Wge(n);for(const t of e)try{if(Qge(t))return}catch{}Dr(n,"unauthorized-domain")})).apply(this,arguments)}function Qge(n){const e=af(),{protocol:t,hostname:r}=new URL(e);if(n.startsWith("chrome-extension://")){const o=new URL(n);return""===o.hostname&&""===r?"chrome-extension:"===t&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):"chrome-extension:"===t&&o.hostname===r}if(!Kge.test(t))return!1;if(qge.test(n))return r===n;const i=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}const Xge=new lf(3e4,6e4);function c4(){const n=hn().___jsl;if(n?.H)for(const e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}let wy=null;function Jge(n){return wy=wy||function Zge(n){return new Promise((e,t)=>{var r,i,s;function o(){c4(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{c4(),t(hs(n,"network-request-failed"))},timeout:Xge.get()})}if(null!==(i=null===(r=hn().gapi)||void 0===r?void 0:r.iframes)&&void 0!==i&&i.Iframe)e(gapi.iframes.getContext());else{if(null===(s=hn().gapi)||void 0===s||!s.load){const a=t4("iframefcb");return hn()[a]=()=>{gapi.load?o():t(hs(n,"network-request-failed"))},function e4(n){return new Promise((e,t)=>{const r=document.createElement("script");r.setAttribute("src",n),r.onload=e,r.onerror=i=>{const s=hs("internal-error");s.customData=i,t(s)},r.type="text/javascript",r.charset="UTF-8",function vge(){var n,e;return null!==(e=null===(n=document.getElementsByTagName("head"))||void 0===n?void 0:n[0])&&void 0!==e?e:document}().appendChild(r)})}(`https://apis.google.com/js/api.js?onload=${a}`).catch(l=>t(l))}o()}}).catch(e=>{throw wy=null,e})}(n),wy}const eme=new lf(5e3,15e3),rme={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},ime=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function sme(n){const e=n.config;V(e.authDomain,n,"auth-domain-config-required");const t=e.emulator?VS(e,"emulator/auth/iframe"):`https://${n.config.authDomain}/__/auth/iframe`,r={apiKey:e.apiKey,appName:n.name,v:Jo},i=ime.get(n.config.apiHost);i&&(r.eid=i);const s=n._getFrameworks();return s.length&&(r.fw=s.join(",")),`${t}?${Qh(r).slice(1)}`}function MA(){return MA=_(function*(n){const e=yield Jge(n),t=hn().gapi;return V(t,n,"internal-error"),e.open({where:document.body,url:sme(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:rme,dontclear:!0},r=>new Promise(function(){var i=_(function*(s,o){yield r.restyle({setHideOnLeave:!1});const a=hs(n,"network-request-failed"),l=hn().setTimeout(()=>{o(a)},eme.get());function c(){hn().clearTimeout(l),s(r)}r.ping(c).then(c,()=>{o(a)})});return function(s,o){return i.apply(this,arguments)}}()))}),MA.apply(this,arguments)}const ame={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class u4{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function d4(n,e,t,r,i,s){V(n.config.authDomain,n,"auth-domain-config-required"),V(n.config.apiKey,n,"invalid-api-key");const o={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:r,v:Jo,eventId:i};if(e instanceof na){e.setDefaultLanguage(n.languageCode),o.providerId=e.providerId||"",wI(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[l,c]of Object.entries(s||{}))o[l]=c}if(e instanceof kpe){const l=e.getScopes().filter(c=>""!==c);l.length>0&&(o.scopes=l.join(","))}n.tenantId&&(o.tid=n.tenantId);const a=o;for(const l of Object.keys(a))void 0===a[l]&&delete a[l];return`${function mme({config:n}){return n.emulator?VS(n,"emulator/auth/handler"):`https://${n.authDomain}/__/auth/handler`}(n)}?${Qh(a).slice(1)}`}const xA="webStorageSupport",yme=class _me{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=YH,this._completeRedirectFn=s4,this._overrideRedirectResult=Bge}_openPopup(e,t,r,i){var s=this;return _(function*(){var o;ea(null===(o=s.eventManagers[e._key()])||void 0===o?void 0:o.manager,"_initialize() not called before _openPopup()");const a=d4(e,t,r,af(),i);return function hme(n,e,t,r=500,i=600){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const l=Object.assign(Object.assign({},ame),{width:r.toString(),height:i.toString(),top:s,left:o}),c=_n().toLowerCase();t&&(a=SH(c)?"_blank":t),TH(c)&&(e=e||"http://localhost",l.scrollbars="yes");const u=Object.entries(l).reduce((h,[f,p])=>`${h}${f}=${p},`,"");if(function ape(n=_n()){var e;return dy(n)&&!(null===(e=window.navigator)||void 0===e||!e.standalone)}(c)&&"_self"!==a)return function fme(n,e){const t=document.createElement("a");t.href=n,t.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(r)}(e||"",a),new u4(null);const d=window.open(e||"",a,u);V(d,n,"popup-blocked");try{d.focus()}catch{}return new u4(d)}(e,a,XD())})()}_openRedirect(e,t,r,i){var s=this;return _(function*(){return yield s._originValidation(e),function oge(n){hn().location.href=n}(d4(e,t,r,af(),i)),new Promise(()=>{})})()}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:i,promise:s}=this.eventManagers[t];return i?Promise.resolve(i):(ea(s,"If manager is not set, promise should be"),s)}const r=this.initAndGetManager(e);return this.eventManagers[t]={promise:r},r.catch(()=>{delete this.eventManagers[t]}),r}initAndGetManager(e){var t=this;return _(function*(){const r=yield function ome(n){return MA.apply(this,arguments)}(e),i=new zge(e);return r.register("authEvent",s=>(V(s?.authEvent,e,"invalid-auth-event"),{status:i.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),t.eventManagers[e._key()]={manager:i},t.iframes[e._key()]=r,i})()}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(xA,{type:xA},i=>{var s;const o=null===(s=i?.[0])||void 0===s?void 0:s[xA];void 0!==o&&t(!!o),Dr(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=function Yge(n){return AA.apply(this,arguments)}(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return kH()||XS()||dy()}};var f4="@firebase/auth",p4="0.20.11";class vme{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}getToken(e){var t=this;return _(function*(){return t.assertAuthConfigured(),yield t.auth._initializationPromise,t.auth.currentUser?{accessToken:yield t.auth.currentUser.getIdToken(e)}:null})()}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(r=>{var i;e((null===(i=r)||void 0===i?void 0:i.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);!t||(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){V(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}const Eme=R$("authIdTokenMaxAge")||300;let g4=null;const Ime=n=>function(){var e=_(function*(t){const r=t&&(yield t.getIdTokenResult()),i=r&&((new Date).getTime()-Date.parse(r.issuedAtTime))/1e3;if(i&&i>Eme)return;const s=r?.token;g4!==s&&(g4=s,yield fetch(n,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))});return function(t){return e.apply(this,arguments)}}();function Tme(n=as()){const e=Tr(n,"auth");if(e.isInitialized())return e.getImmediate();const t=function Hfe(n,e){const t=Tr(n,"auth");if(t.isInitialized()){const i=t.getImmediate();if(Yh(t.getOptions(),e??{}))return i;Dr(i,"already-initialized")}return t.initialize({options:e})}(n,{popupRedirectResolver:yme,persistence:[gge,nge,YH]}),r=R$("authTokenSyncURL");if(r){const s=Ime(r);(function Kpe(n,e,t){He(n).beforeAuthStateChanged(e,t)})(t,s,()=>s(t.currentUser)),qH(t,o=>s(o))}const i=k$("auth");return i&&function hpe(n,e,t){const r=Ar(n);V(r._canInitEmulator,r,"emulator-config-failed"),V(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!!t?.disableWarnings,s=PH(e),{host:o,port:a}=function fpe(n){const e=PH(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};const r=t[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const s=i[1];return{host:s,port:OH(r.substr(s.length+1))}}{const[s,o]=r.split(":");return{host:s,port:OH(o)}}}(e);r.config.emulator={url:`${s}//${o}${null===a?"":`:${a}`}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:o,port:a,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||function ppe(){function n(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",n):n())}()}(t,`http://${i}`),t}function Sme(n){return new je(function(e){var t=function Ype(n,e,t,r){return He(n).onAuthStateChanged(e,t,r)}(n,e.next.bind(e),e.error.bind(e),e.complete.bind(e));return{unsubscribe:t}})}function m4(n){return new je(function(e){return{unsubscribe:qH(n,e.next.bind(e),e.error.bind(e),e.complete.bind(e))}})}!function wme(n){un(new en("auth",(e,{options:t})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),{apiKey:s,authDomain:o}=r.options;return((a,l)=>{V(s&&!s.includes(":"),"invalid-api-key",{appName:a.name}),V(!o?.includes(":"),"argument-error",{appName:a.name});const c={apiKey:s,authDomain:o,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:RH(n)},u=new dpe(a,l,c);return function zfe(n,e){const t=e?.persistence||[],r=(Array.isArray(t)?t:[t]).map(uo);e?.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(r,e?.popupRedirectResolver)}(u,t),u})(r,i)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,r)=>{e.getProvider("auth-internal").initialize()})),un(new en("auth-internal",e=>{const t=Ar(e.getProvider("auth").getImmediate());return new vme(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),Te(f4,p4,function bme(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(n)),Te(f4,p4,"esm2017")}("Browser");class Au{constructor(e){return e}}class bf{constructor(){return cs("auth")}}const kA=new P("angularfire2.auth-instances");function Ame(n){return(e,t)=>{const r=e.runOutsideAngular(()=>n(t));return new Au(r)}}const Mme={provide:bf,deps:[[new Ce,kA]]},xme={provide:Au,useFactory:function Dme(n,e){const t=ls("auth",n,e);return t&&new Au(t)},deps:[[new Ce,kA],Kr]};let kme=(()=>{class n{constructor(){Te("angularfire",qr.full,"auth")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=ue({type:n}),n.\u0275inj=ce({providers:[xme,Mme]}),n})();function Rme(n,...e){return{ngModule:kme,providers:[{provide:kA,useFactory:Ame(n),multi:!0,deps:[ie,Xe,us,ds,[new Ce,Tu],...e]}]}}const y4=Dt(Sme,!0),Nme=Dt(m4,!0),Pme=Dt(Vpe,!0),Ome=Dt(Tme,!0),Fme=Dt(jpe,!0);let Mu=(()=>{class n{constructor(t){this.auth=t,this.currentUser$=y4(this.auth)}signUp(t,r){return at(Pme(this.auth,t,r))}login(t,r){return at(function Bpe(n,e,t){return function ED(n,e){return ID.apply(this,arguments)}(He(n),BH.credential(e,t))}(this.auth,t,r))}updateProfileData(t){return G(this.auth.currentUser).pipe(ss(i=>{if(!i)throw new Error("\u041d\u0435\u0442 \u0430\u0432\u0442\u043e\u0440\u0438\u0437\u0430\u0446\u0438\u0438");return Fme(i,t)}))}logout(){return at(this.auth.signOut())}}return n.\u0275fac=function(t){return new(t||n)(w(Au))},n.\u0275prov=F({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();var Y,Lme=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},go={},RA=RA||{},he=Lme||self;function Cy(){}function Ey(n){var e=typeof n;return"array"==(e="object"!=e?e:n?Array.isArray(n)?"array":e:"null")||"object"==e&&"number"==typeof n.length}function wf(n){var e=typeof n;return"object"==e&&null!=n||"function"==e}var NA="closure_uid_"+(1e9*Math.random()>>>0),Bme=0;function Ume(n,e,t){return n.call.apply(n.bind,arguments)}function $me(n,e,t){if(!n)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),n.apply(e,i)}}return function(){return n.apply(e,arguments)}}function Qn(n,e,t){return(Qn=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?Ume:$me).apply(null,arguments)}function Iy(n,e){var t=Array.prototype.slice.call(arguments,1);return function(){var r=t.slice();return r.push.apply(r,arguments),n.apply(this,r)}}function Fn(n,e){function t(){}t.prototype=e.prototype,n.X=e.prototype,n.prototype=new t,n.prototype.constructor=n,n.Wb=function(r,i,s){for(var o=Array(arguments.length-2),a=2;a<arguments.length;a++)o[a-2]=arguments[a];return e.prototype[i].apply(r,o)}}function ra(){this.s=this.s,this.o=this.o}ra.prototype.s=!1,ra.prototype.na=function(){!this.s&&(this.s=!0,this.M(),0)&&function Vme(n){Object.prototype.hasOwnProperty.call(n,NA)&&n[NA]||(n[NA]=++Bme)}(this)},ra.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const v4=Array.prototype.indexOf?function(n,e){return Array.prototype.indexOf.call(n,e,void 0)}:function(n,e){if("string"==typeof n)return"string"!=typeof e||1!=e.length?-1:n.indexOf(e,0);for(let t=0;t<n.length;t++)if(t in n&&n[t]===e)return t;return-1};function PA(n){const e=n.length;if(0<e){const t=Array(e);for(let r=0;r<e;r++)t[r]=n[r];return t}return[]}function b4(n,e){for(let t=1;t<arguments.length;t++){const r=arguments[t];if(Ey(r)){const i=n.length||0,s=r.length||0;n.length=i+s;for(let o=0;o<s;o++)n[i+o]=r[o]}else n.push(r)}}function Xn(n,e){this.type=n,this.g=this.target=e,this.defaultPrevented=!1}Xn.prototype.h=function(){this.defaultPrevented=!0};var Hme=function(){if(!he.addEventListener||!Object.defineProperty)return!1;var n=!1,e=Object.defineProperty({},"passive",{get:function(){n=!0}});try{he.addEventListener("test",Cy,e),he.removeEventListener("test",Cy,e)}catch{}return n}();function Ty(n){return/^[\s\xa0]*$/.test(n)}var w4=String.prototype.trim?function(n){return n.trim()}:function(n){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(n)[1]};function OA(n,e){return n<e?-1:n>e?1:0}function Sy(){var n=he.navigator;return n&&(n=n.userAgent)?n:""}function ps(n){return-1!=Sy().indexOf(n)}function FA(n){return FA[" "](n),n}FA[" "]=Cy;var Dy,n,Gme=ps("Opera"),xu=ps("Trident")||ps("MSIE"),C4=ps("Edge"),LA=C4||xu,E4=ps("Gecko")&&!(-1!=Sy().toLowerCase().indexOf("webkit")&&!ps("Edge"))&&!(ps("Trident")||ps("MSIE"))&&!ps("Edge"),Wme=-1!=Sy().toLowerCase().indexOf("webkit")&&!ps("Edge");function I4(){var n=he.document;return n?n.documentMode:void 0}e:{var VA="",BA=(n=Sy(),E4?/rv:([^\);]+)(\)|;)/.exec(n):C4?/Edge\/([\d\.]+)/.exec(n):xu?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(n):Wme?/WebKit\/(\S+)/.exec(n):Gme?/(?:Version)[ \/]?(\S+)/.exec(n):void 0);if(BA&&(VA=BA?BA[1]:""),xu){var UA=I4();if(null!=UA&&UA>parseFloat(VA)){Dy=String(UA);break e}}Dy=VA}var qme={};var Yme=he.document&&xu&&(I4()||parseInt(Dy,10))||void 0;function Cf(n,e){if(Xn.call(this,n?n.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,n){var t=this.type=n.type,r=n.changedTouches&&n.changedTouches.length?n.changedTouches[0]:null;if(this.target=n.target||n.srcElement,this.g=e,e=n.relatedTarget){if(E4){e:{try{FA(e.nodeName);var i=!0;break e}catch{}i=!1}i||(e=null)}}else"mouseover"==t?e=n.fromElement:"mouseout"==t&&(e=n.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==n.clientX?n.clientX:n.pageX,this.clientY=void 0!==n.clientY?n.clientY:n.pageY,this.screenX=n.screenX||0,this.screenY=n.screenY||0),this.button=n.button,this.key=n.key||"",this.ctrlKey=n.ctrlKey,this.altKey=n.altKey,this.shiftKey=n.shiftKey,this.metaKey=n.metaKey,this.pointerId=n.pointerId||0,this.pointerType="string"==typeof n.pointerType?n.pointerType:Qme[n.pointerType]||"",this.state=n.state,this.i=n,n.defaultPrevented&&Cf.X.h.call(this)}}Fn(Cf,Xn);var Qme={2:"touch",3:"pen",4:"mouse"};Cf.prototype.h=function(){Cf.X.h.call(this);var n=this.i;n.preventDefault?n.preventDefault():n.returnValue=!1};var Ef="closure_listenable_"+(1e6*Math.random()|0),Xme=0;function Zme(n,e,t,r,i){this.listener=n,this.proxy=null,this.src=e,this.type=t,this.capture=!!r,this.ha=i,this.key=++Xme,this.ba=this.ea=!1}function Ay(n){n.ba=!0,n.listener=null,n.proxy=null,n.src=null,n.ha=null}function jA(n,e,t){for(const r in n)e.call(t,n[r],r,n)}function S4(n){const e={};for(const t in n)e[t]=n[t];return e}const D4="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function A4(n,e){let t,r;for(let i=1;i<arguments.length;i++){for(t in r=arguments[i],r)n[t]=r[t];for(let s=0;s<D4.length;s++)t=D4[s],Object.prototype.hasOwnProperty.call(r,t)&&(n[t]=r[t])}}function My(n){this.src=n,this.g={},this.h=0}function HA(n,e){var t=e.type;if(t in n.g){var s,r=n.g[t],i=v4(r,e);(s=0<=i)&&Array.prototype.splice.call(r,i,1),s&&(Ay(e),0==n.g[t].length&&(delete n.g[t],n.h--))}}function zA(n,e,t,r){for(var i=0;i<n.length;++i){var s=n[i];if(!s.ba&&s.listener==e&&s.capture==!!t&&s.ha==r)return i}return-1}My.prototype.add=function(n,e,t,r,i){var s=n.toString();(n=this.g[s])||(n=this.g[s]=[],this.h++);var o=zA(n,e,r,i);return-1<o?(e=n[o],t||(e.ea=!1)):((e=new Zme(e,this.src,s,!!r,i)).ea=t,n.push(e)),e};var GA="closure_lm_"+(1e6*Math.random()|0),WA={};function M4(n,e,t,r,i){if(r&&r.once)return k4(n,e,t,r,i);if(Array.isArray(e)){for(var s=0;s<e.length;s++)M4(n,e[s],t,r,i);return null}return t=QA(t),n&&n[Ef]?n.N(e,t,wf(r)?!!r.capture:!!r,i):x4(n,e,t,!1,r,i)}function x4(n,e,t,r,i,s){if(!e)throw Error("Invalid event type");var o=wf(i)?!!i.capture:!!i,a=KA(n);if(a||(n[GA]=a=new My(n)),(t=a.add(e,t,r,o,s)).proxy)return t;if(r=function Jme(){const e=e_e;return function n(t){return e.call(n.src,n.listener,t)}}(),t.proxy=r,r.src=n,r.listener=t,n.addEventListener)Hme||(i=o),void 0===i&&(i=!1),n.addEventListener(e.toString(),r,i);else if(n.attachEvent)n.attachEvent(N4(e.toString()),r);else{if(!n.addListener||!n.removeListener)throw Error("addEventListener and attachEvent are unavailable.");n.addListener(r)}return t}function k4(n,e,t,r,i){if(Array.isArray(e)){for(var s=0;s<e.length;s++)k4(n,e[s],t,r,i);return null}return t=QA(t),n&&n[Ef]?n.O(e,t,wf(r)?!!r.capture:!!r,i):x4(n,e,t,!0,r,i)}function R4(n,e,t,r,i){if(Array.isArray(e))for(var s=0;s<e.length;s++)R4(n,e[s],t,r,i);else r=wf(r)?!!r.capture:!!r,t=QA(t),n&&n[Ef]?(n=n.i,(e=String(e).toString())in n.g&&-1<(t=zA(s=n.g[e],t,r,i))&&(Ay(s[t]),Array.prototype.splice.call(s,t,1),0==s.length&&(delete n.g[e],n.h--))):n&&(n=KA(n))&&(e=n.g[e.toString()],n=-1,e&&(n=zA(e,t,r,i)),(t=-1<n?e[n]:null)&&qA(t))}function qA(n){if("number"!=typeof n&&n&&!n.ba){var e=n.src;if(e&&e[Ef])HA(e.i,n);else{var t=n.type,r=n.proxy;e.removeEventListener?e.removeEventListener(t,r,n.capture):e.detachEvent?e.detachEvent(N4(t),r):e.addListener&&e.removeListener&&e.removeListener(r),(t=KA(e))?(HA(t,n),0==t.h&&(t.src=null,e[GA]=null)):Ay(n)}}}function N4(n){return n in WA?WA[n]:WA[n]="on"+n}function e_e(n,e){if(n.ba)n=!0;else{e=new Cf(e,this);var t=n.listener,r=n.ha||n.src;n.ea&&qA(n),n=t.call(r,e)}return n}function KA(n){return(n=n[GA])instanceof My?n:null}var YA="__closure_events_fn_"+(1e9*Math.random()>>>0);function QA(n){return"function"==typeof n?n:(n[YA]||(n[YA]=function(e){return n.handleEvent(e)}),n[YA])}function vn(){ra.call(this),this.i=new My(this),this.P=this,this.I=null}function Ln(n,e){var t,r=n.I;if(r)for(t=[];r;r=r.I)t.push(r);if(n=n.P,r=e.type||e,"string"==typeof e)e=new Xn(e,n);else if(e instanceof Xn)e.target=e.target||n;else{var i=e;A4(e=new Xn(r,n),i)}if(i=!0,t)for(var s=t.length-1;0<=s;s--){var o=e.g=t[s];i=xy(o,r,!0,e)&&i}if(i=xy(o=e.g=n,r,!0,e)&&i,i=xy(o,r,!1,e)&&i,t)for(s=0;s<t.length;s++)i=xy(o=e.g=t[s],r,!1,e)&&i}function xy(n,e,t,r){if(!(e=n.i.g[String(e)]))return!0;e=e.concat();for(var i=!0,s=0;s<e.length;++s){var o=e[s];if(o&&!o.ba&&o.capture==t){var a=o.listener,l=o.ha||o.src;o.ea&&HA(n.i,o),i=!1!==a.call(l,r)&&i}}return i&&!r.defaultPrevented}Fn(vn,ra),vn.prototype[Ef]=!0,vn.prototype.removeEventListener=function(n,e,t,r){R4(this,n,e,t,r)},vn.prototype.M=function(){if(vn.X.M.call(this),this.i){var e,n=this.i;for(e in n.g){for(var t=n.g[e],r=0;r<t.length;r++)Ay(t[r]);delete n.g[e],n.h--}}this.I=null},vn.prototype.N=function(n,e,t,r){return this.i.add(String(n),e,!1,t,r)},vn.prototype.O=function(n,e,t,r){return this.i.add(String(n),e,!0,t,r)};var XA=he.JSON.stringify;function t_e(){var n=F4;let e=null;return n.g&&(e=n.g,n.g=n.g.next,n.g||(n.h=null),e.next=null),e}var ZA,P4=new class{constructor(n,e){this.i=n,this.j=e,this.h=0,this.g=null}get(){let n;return 0<this.h?(this.h--,n=this.g,this.g=n.next,n.next=null):n=this.i(),n}}(()=>new r_e,n=>n.reset());class r_e{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function i_e(n){he.setTimeout(()=>{throw n},0)}function O4(n,e){ZA||function s_e(){var n=he.Promise.resolve(void 0);ZA=function(){n.then(o_e)}}(),JA||(ZA(),JA=!0),F4.add(n,e)}var JA=!1,F4=new class n_e{constructor(){this.h=this.g=null}add(e,t){const r=P4.get();r.set(e,t),this.h?this.h.next=r:this.g=r,this.h=r}};function o_e(){for(var n;n=t_e();){try{n.h.call(n.g)}catch(t){i_e(t)}var e=P4;e.j(n),100>e.h&&(e.h++,n.next=e.g,e.g=n)}JA=!1}function ky(n,e){vn.call(this),this.h=n||1,this.g=e||he,this.j=Qn(this.lb,this),this.l=Date.now()}function eM(n){n.ca=!1,n.R&&(n.g.clearTimeout(n.R),n.R=null)}function tM(n,e,t){if("function"==typeof n)t&&(n=Qn(n,t));else{if(!n||"function"!=typeof n.handleEvent)throw Error("Invalid listener argument");n=Qn(n.handleEvent,n)}return 2147483647<Number(e)?-1:he.setTimeout(n,e||0)}function L4(n){n.g=tM(()=>{n.g=null,n.i&&(n.i=!1,L4(n))},n.j);const e=n.h;n.h=null,n.m.apply(null,e)}Fn(ky,vn),(Y=ky.prototype).ca=!1,Y.R=null,Y.lb=function(){if(this.ca){var n=Date.now()-this.l;0<n&&n<.8*this.h?this.R=this.g.setTimeout(this.j,this.h-n):(this.R&&(this.g.clearTimeout(this.R),this.R=null),Ln(this,"tick"),this.ca&&(eM(this),this.start()))}},Y.start=function(){this.ca=!0,this.R||(this.R=this.g.setTimeout(this.j,this.h),this.l=Date.now())},Y.M=function(){ky.X.M.call(this),eM(this),delete this.g};class a_e extends ra{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:L4(this)}M(){super.M(),this.g&&(he.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function If(n){ra.call(this),this.h=n,this.g={}}Fn(If,ra);var V4=[];function B4(n,e,t,r){Array.isArray(t)||(t&&(V4[0]=t.toString()),t=V4);for(var i=0;i<t.length;i++){var s=M4(e,t[i],r||n.handleEvent,!1,n.h||n);if(!s)break;n.g[s.key]=s}}function U4(n){jA(n.g,function(e,t){this.g.hasOwnProperty(t)&&qA(e)},n),n.g={}}function Ry(){this.g=!0}function ku(n,e,t,r){n.info(function(){return"XMLHTTP TEXT ("+e+"): "+function d_e(n,e){if(!n.g)return e;if(!e)return null;try{var t=JSON.parse(e);if(t)for(n=0;n<t.length;n++)if(Array.isArray(t[n])){var r=t[n];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var s=i[0];if("noop"!=s&&"stop"!=s&&"close"!=s)for(var o=1;o<i.length;o++)i[o]=""}}}return XA(t)}catch{return e}}(n,t)+(r?" "+r:"")})}If.prototype.M=function(){If.X.M.call(this),U4(this)},If.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Ry.prototype.Aa=function(){this.g=!1},Ry.prototype.info=function(){};var bl={},$4=null;function Ny(){return $4=$4||new vn}function j4(n){Xn.call(this,bl.Pa,n)}function Tf(n){const e=Ny();Ln(e,new j4(e))}function H4(n,e){Xn.call(this,bl.STAT_EVENT,n),this.stat=e}function fr(n){const e=Ny();Ln(e,new H4(e,n))}function z4(n,e){Xn.call(this,bl.Qa,n),this.size=e}function Sf(n,e){if("function"!=typeof n)throw Error("Fn must not be null and must be a function");return he.setTimeout(function(){n()},e)}bl.Pa="serverreachability",Fn(j4,Xn),bl.STAT_EVENT="statevent",Fn(H4,Xn),bl.Qa="timingevent",Fn(z4,Xn);var Py={NO_ERROR:0,mb:1,zb:2,yb:3,tb:4,xb:5,Ab:6,Ma:7,TIMEOUT:8,Db:9},G4={rb:"complete",Nb:"success",Na:"error",Ma:"abort",Fb:"ready",Gb:"readystatechange",TIMEOUT:"timeout",Bb:"incrementaldata",Eb:"progress",ub:"downloadprogress",Vb:"uploadprogress"};function nM(){}function q4(){}nM.prototype.h=null;var sM,Df={OPEN:"a",qb:"b",Na:"c",Cb:"d"};function rM(){Xn.call(this,"d")}function iM(){Xn.call(this,"c")}function Oy(){}function Af(n,e,t,r){this.l=n,this.j=e,this.m=t,this.U=r||1,this.S=new If(this),this.O=h_e,this.T=new ky(n=LA?125:void 0),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.V=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.Y=-1,this.I=!1,this.N=0,this.L=null,this.$=this.J=this.Z=this.P=!1,this.h=new K4}function K4(){this.i=null,this.g="",this.h=!1}Fn(rM,Xn),Fn(iM,Xn),Fn(Oy,nM),Oy.prototype.g=function(){return new XMLHttpRequest},Oy.prototype.i=function(){return{}},sM=new Oy;var h_e=45e3,oM={},Fy={};function aM(n,e,t){n.K=1,n.v=Uy(mo(e)),n.s=t,n.P=!0,Y4(n,null)}function Y4(n,e){n.F=Date.now(),Mf(n),n.A=mo(n.v);var t=n.A,r=n.U;Array.isArray(r)||(r=[String(r)]),sz(t.i,"t",r),n.C=0,t=n.l.H,n.h=new K4,n.g=Mz(n.l,t?e:null,!n.s),0<n.N&&(n.L=new a_e(Qn(n.La,n,n.g),n.N)),B4(n.S,n.g,"readystatechange",n.ib),e=n.H?S4(n.H):{},n.s?(n.u||(n.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",n.g.da(n.A,n.u,n.s,e)):(n.u="GET",n.g.da(n.A,n.u,null,e)),Tf(),function l_e(n,e,t,r,i,s){n.info(function(){if(n.g)if(s)for(var o="",a=s.split("&"),l=0;l<a.length;l++){var c=a[l].split("=");if(1<c.length){var u=c[0];c=c[1];var d=u.split("_");o=2<=d.length&&"type"==d[1]?o+(u+"=")+c+"&":o+(u+"=redacted&")}}else o=null;else o=s;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+"\n"+t+"\n"+o})}(n.j,n.u,n.A,n.m,n.U,n.s)}function Q4(n){return!!n.g&&"GET"==n.u&&2!=n.K&&n.l.Da}function X4(n,e,t){let i,r=!0;for(;!n.I&&n.C<t.length;){if(i=f_e(n,t),i==Fy){4==e&&(n.o=4,fr(14),r=!1),ku(n.j,n.m,null,"[Incomplete Response]");break}if(i==oM){n.o=4,fr(15),ku(n.j,n.m,t,"[Invalid Chunk]"),r=!1;break}ku(n.j,n.m,i,null),lM(n,i)}Q4(n)&&i!=Fy&&i!=oM&&(n.h.g="",n.C=0),4!=e||0!=t.length||n.h.h||(n.o=1,fr(16),r=!1),n.i=n.i&&r,r?0<t.length&&!n.$&&(n.$=!0,(e=n.l).g==n&&e.$&&!e.K&&(e.j.info("Great, no buffering proxy detected. Bytes received: "+t.length),mM(e),e.K=!0,fr(11))):(ku(n.j,n.m,t,"[Invalid Chunked Response]"),wl(n),xf(n))}function f_e(n,e){var t=n.C,r=e.indexOf("\n",t);return-1==r?Fy:(t=Number(e.substring(t,r)),isNaN(t)?oM:(r+=1)+t>e.length?Fy:(e=e.substr(r,t),n.C=r+t,e))}function Mf(n){n.V=Date.now()+n.O,Z4(n,n.O)}function Z4(n,e){if(null!=n.B)throw Error("WatchDog timer not null");n.B=Sf(Qn(n.gb,n),e)}function Ly(n){n.B&&(he.clearTimeout(n.B),n.B=null)}function xf(n){0==n.l.G||n.I||Tz(n.l,n)}function wl(n){Ly(n);var e=n.L;e&&"function"==typeof e.na&&e.na(),n.L=null,eM(n.T),U4(n.S),n.g&&(e=n.g,n.g=null,e.abort(),e.na())}function lM(n,e){try{var t=n.l;if(0!=t.G&&(t.g==n||cM(t.h,n)))if(!n.J&&cM(t.h,n)&&3==t.G){try{var r=t.Fa.g.parse(e)}catch{r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!t.u){if(t.g){if(!(t.g.F+3e3<n.F))break e;Wy(t),zy(t)}gM(t),fr(18)}}else t.Ba=i[1],0<t.Ba-t.T&&37500>i[2]&&t.L&&0==t.A&&!t.v&&(t.v=Sf(Qn(t.cb,t),6e3));if(1>=lz(t.h)&&t.ja){try{t.ja()}catch{}t.ja=void 0}}else El(t,11)}else if((n.J||t.g==n)&&Wy(t),!Ty(e))for(i=t.Fa.g.parse(e),e=0;e<i.length;e++){let c=i[e];if(t.T=c[0],c=c[1],2==t.G)if("c"==c[0]){t.I=c[1],t.ka=c[2];const u=c[3];null!=u&&(t.ma=u,t.j.info("VER="+t.ma));const d=c[4];null!=d&&(t.Ca=d,t.j.info("SVER="+t.Ca));const h=c[5];null!=h&&"number"==typeof h&&0<h&&(t.J=r=1.5*h,t.j.info("backChannelRequestTimeoutMs_="+r)),r=t;const f=n.g;if(f){const p=f.g?f.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(p){var s=r.h;s.g||-1==p.indexOf("spdy")&&-1==p.indexOf("quic")&&-1==p.indexOf("h2")||(s.j=s.l,s.g=new Set,s.h&&(uM(s,s.h),s.h=null))}if(r.D){const g=f.g?f.g.getResponseHeader("X-HTTP-Session-Id"):null;g&&(r.za=g,vt(r.F,r.D,g))}}t.G=3,t.l&&t.l.xa(),t.$&&(t.P=Date.now()-n.F,t.j.info("Handshake RTT: "+t.P+"ms"));var o=n;if((r=t).sa=Az(r,r.H?r.ka:null,r.V),o.J){cz(r.h,o);var a=o,l=r.J;l&&a.setTimeout(l),a.B&&(Ly(a),Mf(a)),r.g=o}else Ez(r);0<t.i.length&&Gy(t)}else"stop"!=c[0]&&"close"!=c[0]||El(t,7);else 3==t.G&&("stop"==c[0]||"close"==c[0]?"stop"==c[0]?El(t,7):pM(t):"noop"!=c[0]&&t.l&&t.l.wa(c),t.A=0)}Tf()}catch{}}function J4(n,e){if(n.forEach&&"function"==typeof n.forEach)n.forEach(e,void 0);else if(Ey(n)||"string"==typeof n)Array.prototype.forEach.call(n,e,void 0);else for(var t=function g_e(n){if(n.oa&&"function"==typeof n.oa)return n.oa();if(!n.W||"function"!=typeof n.W){if(typeof Map<"u"&&n instanceof Map)return Array.from(n.keys());if(!(typeof Set<"u"&&n instanceof Set)){if(Ey(n)||"string"==typeof n){var e=[];n=n.length;for(var t=0;t<n;t++)e.push(t);return e}e=[],t=0;for(const r in n)e[t++]=r;return e}}}(n),r=function p_e(n){if(n.W&&"function"==typeof n.W)return n.W();if(typeof Map<"u"&&n instanceof Map||typeof Set<"u"&&n instanceof Set)return Array.from(n.values());if("string"==typeof n)return n.split("");if(Ey(n)){for(var e=[],t=n.length,r=0;r<t;r++)e.push(n[r]);return e}for(r in e=[],t=0,n)e[t++]=n[r];return e}(n),i=r.length,s=0;s<i;s++)e.call(void 0,r[s],t&&t[s],n)}(Y=Af.prototype).setTimeout=function(n){this.O=n},Y.ib=function(n){n=n.target;const e=this.L;e&&3==_o(n)?e.l():this.La(n)},Y.La=function(n){try{if(n==this.g)e:{const u=_o(this.g);var e=this.g.Ea();if(this.g.aa(),!(3>u)&&(3!=u||LA||this.g&&(this.h.h||this.g.fa()||_z(this.g)))){this.I||4!=u||7==e||Tf(),Ly(this);var t=this.g.aa();this.Y=t;t:if(Q4(this)){var r=_z(this.g);n="";var i=r.length,s=4==_o(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){wl(this),xf(this);var o="";break t}this.h.i=new he.TextDecoder}for(e=0;e<i;e++)this.h.h=!0,n+=this.h.i.decode(r[e],{stream:s&&e==i-1});r.splice(0,i),this.h.g+=n,this.C=0,o=this.h.g}else o=this.g.fa();if(this.i=200==t,function c_e(n,e,t,r,i,s,o){n.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+"\n"+t+"\n"+s+" "+o})}(this.j,this.u,this.A,this.m,this.U,u,t),this.i){if(this.Z&&!this.J){t:{if(this.g){var a,l=this.g;if((a=l.g?l.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Ty(a)){var c=a;break t}}c=null}if(!(t=c)){this.i=!1,this.o=3,fr(12),wl(this),xf(this);break e}ku(this.j,this.m,t,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,lM(this,t)}this.P?(X4(this,u,o),LA&&this.i&&3==u&&(B4(this.S,this.T,"tick",this.hb),this.T.start())):(ku(this.j,this.m,o,null),lM(this,o)),4==u&&wl(this),this.i&&!this.I&&(4==u?Tz(this.l,this):(this.i=!1,Mf(this)))}else 400==t&&0<o.indexOf("Unknown SID")?(this.o=3,fr(12)):(this.o=0,fr(13)),wl(this),xf(this)}}}catch{}},Y.hb=function(){if(this.g){var n=_o(this.g),e=this.g.fa();this.C<e.length&&(Ly(this),X4(this,n,e),this.i&&4!=n&&Mf(this))}},Y.cancel=function(){this.I=!0,wl(this)},Y.gb=function(){this.B=null;const n=Date.now();0<=n-this.V?(function u_e(n,e){n.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.K&&(Tf(),fr(17)),wl(this),this.o=2,xf(this)):Z4(this,this.V-n)};var ez=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Cl(n,e){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,n instanceof Cl){this.h=void 0!==e?e:n.h,Vy(this,n.j),this.s=n.s,this.g=n.g,By(this,n.m),this.l=n.l,e=n.i;var t=new Nf;t.i=e.i,e.g&&(t.g=new Map(e.g),t.h=e.h),tz(this,t),this.o=n.o}else n&&(t=String(n).match(ez))?(this.h=!!e,Vy(this,t[1]||"",!0),this.s=kf(t[2]||""),this.g=kf(t[3]||"",!0),By(this,t[4]),this.l=kf(t[5]||"",!0),tz(this,t[6]||"",!0),this.o=kf(t[7]||"")):(this.h=!!e,this.i=new Nf(null,this.h))}function mo(n){return new Cl(n)}function Vy(n,e,t){n.j=t?kf(e,!0):e,n.j&&(n.j=n.j.replace(/:$/,""))}function By(n,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);n.m=e}else n.m=null}function tz(n,e,t){e instanceof Nf?(n.i=e,function C_e(n,e){e&&!n.j&&(ia(n),n.i=null,n.g.forEach(function(t,r){var i=r.toLowerCase();r!=i&&(rz(this,r),sz(this,i,t))},n)),n.j=e}(n.i,n.h)):(t||(e=Rf(e,b_e)),n.i=new Nf(e,n.h))}function vt(n,e,t){n.i.set(e,t)}function Uy(n){return vt(n,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),n}function kf(n,e){return n?e?decodeURI(n.replace(/%25/g,"%2525")):decodeURIComponent(n):""}function Rf(n,e,t){return"string"==typeof n?(n=encodeURI(n).replace(e,__e),t&&(n=n.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n):null}function __e(n){return"%"+((n=n.charCodeAt(0))>>4&15).toString(16)+(15&n).toString(16)}Cl.prototype.toString=function(){var n=[],e=this.j;e&&n.push(Rf(e,nz,!0),":");var t=this.g;return(t||"file"==e)&&(n.push("//"),(e=this.s)&&n.push(Rf(e,nz,!0),"@"),n.push(encodeURIComponent(String(t)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(t=this.m)&&n.push(":",String(t))),(t=this.l)&&(this.g&&"/"!=t.charAt(0)&&n.push("/"),n.push(Rf(t,"/"==t.charAt(0)?v_e:y_e,!0))),(t=this.i.toString())&&n.push("?",t),(t=this.o)&&n.push("#",Rf(t,w_e)),n.join("")};var nz=/[#\/\?@]/g,y_e=/[#\?:]/g,v_e=/[#\?]/g,b_e=/[#\?@]/g,w_e=/#/g;function Nf(n,e){this.h=this.g=null,this.i=n||null,this.j=!!e}function ia(n){n.g||(n.g=new Map,n.h=0,n.i&&function m_e(n,e){if(n){n=n.split("&");for(var t=0;t<n.length;t++){var r=n[t].indexOf("="),i=null;if(0<=r){var s=n[t].substring(0,r);i=n[t].substring(r+1)}else s=n[t];e(s,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(n.i,function(e,t){n.add(decodeURIComponent(e.replace(/\+/g," ")),t)}))}function rz(n,e){ia(n),e=Ru(n,e),n.g.has(e)&&(n.i=null,n.h-=n.g.get(e).length,n.g.delete(e))}function iz(n,e){return ia(n),e=Ru(n,e),n.g.has(e)}function sz(n,e,t){rz(n,e),0<t.length&&(n.i=null,n.g.set(Ru(n,e),PA(t)),n.h+=t.length)}function Ru(n,e){return e=String(e),n.j&&(e=e.toLowerCase()),e}function oz(n){this.l=n||I_e,n=he.PerformanceNavigationTiming?0<(n=he.performance.getEntriesByType("navigation")).length&&("hq"==n[0].nextHopProtocol||"h2"==n[0].nextHopProtocol):!!(he.g&&he.g.Ga&&he.g.Ga()&&he.g.Ga().$b),this.j=n?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(Y=Nf.prototype).add=function(n,e){ia(this),this.i=null,n=Ru(this,n);var t=this.g.get(n);return t||this.g.set(n,t=[]),t.push(e),this.h+=1,this},Y.forEach=function(n,e){ia(this),this.g.forEach(function(t,r){t.forEach(function(i){n.call(e,i,r,this)},this)},this)},Y.oa=function(){ia(this);const n=Array.from(this.g.values()),e=Array.from(this.g.keys()),t=[];for(let r=0;r<e.length;r++){const i=n[r];for(let s=0;s<i.length;s++)t.push(e[r])}return t},Y.W=function(n){ia(this);let e=[];if("string"==typeof n)iz(this,n)&&(e=e.concat(this.g.get(Ru(this,n))));else{n=Array.from(this.g.values());for(let t=0;t<n.length;t++)e=e.concat(n[t])}return e},Y.set=function(n,e){return ia(this),this.i=null,iz(this,n=Ru(this,n))&&(this.h-=this.g.get(n).length),this.g.set(n,[e]),this.h+=1,this},Y.get=function(n,e){return n&&0<(n=this.W(n)).length?String(n[0]):e},Y.toString=function(){if(this.i)return this.i;if(!this.g)return"";const n=[],e=Array.from(this.g.keys());for(var t=0;t<e.length;t++){var r=e[t];const s=encodeURIComponent(String(r)),o=this.W(r);for(r=0;r<o.length;r++){var i=s;""!==o[r]&&(i+="="+encodeURIComponent(String(o[r]))),n.push(i)}}return this.i=n.join("&")};var I_e=10;function az(n){return!!n.h||!!n.g&&n.g.size>=n.j}function lz(n){return n.h?1:n.g?n.g.size:0}function cM(n,e){return n.h?n.h==e:!!n.g&&n.g.has(e)}function uM(n,e){n.g?n.g.add(e):n.h=e}function cz(n,e){n.h&&n.h==e?n.h=null:n.g&&n.g.has(e)&&n.g.delete(e)}function uz(n){if(null!=n.h)return n.i.concat(n.h.D);if(null!=n.g&&0!==n.g.size){let e=n.i;for(const t of n.g.values())e=e.concat(t.D);return e}return PA(n.i)}function dM(){}function T_e(){this.g=new dM}function S_e(n,e,t){const r=t||"";try{J4(n,function(i,s){let o=i;wf(i)&&(o=XA(i)),e.push(r+s+"="+encodeURIComponent(o))})}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function $y(n,e,t,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch{}}function Pf(n){this.l=n.ac||null,this.j=n.jb||!1}function jy(n,e){vn.call(this),this.D=n,this.u=e,this.m=void 0,this.readyState=hM,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}oz.prototype.cancel=function(){if(this.i=uz(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const n of this.g.values())n.cancel();this.g.clear()}},dM.prototype.stringify=function(n){return he.JSON.stringify(n,void 0)},dM.prototype.parse=function(n){return he.JSON.parse(n,void 0)},Fn(Pf,nM),Pf.prototype.g=function(){return new jy(this.l,this.j)},Pf.prototype.i=function(n){return function(){return n}}({}),Fn(jy,vn);var hM=0;function dz(n){n.j.read().then(n.Ta.bind(n)).catch(n.ga.bind(n))}function Of(n){n.readyState=4,n.l=null,n.j=null,n.A=null,Ff(n)}function Ff(n){n.onreadystatechange&&n.onreadystatechange.call(n)}(Y=jy.prototype).open=function(n,e){if(this.readyState!=hM)throw this.abort(),Error("Error reopening a connection");this.C=n,this.B=e,this.readyState=1,Ff(this)},Y.send=function(n){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};n&&(e.body=n),(this.D||he).fetch(new Request(this.B,e)).then(this.Wa.bind(this),this.ga.bind(this))},Y.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Of(this)),this.readyState=hM},Y.Wa=function(n){if(this.g&&(this.l=n,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=n.headers,this.readyState=2,Ff(this)),this.g&&(this.readyState=3,Ff(this),this.g)))if("arraybuffer"===this.responseType)n.arrayBuffer().then(this.Ua.bind(this),this.ga.bind(this));else if(typeof he.ReadableStream<"u"&&"body"in n){if(this.j=n.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;dz(this)}else n.text().then(this.Va.bind(this),this.ga.bind(this))},Y.Ta=function(n){if(this.g){if(this.u&&n.value)this.response.push(n.value);else if(!this.u){var e=n.value?n.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!n.done}))&&(this.response=this.responseText+=e)}n.done?Of(this):Ff(this),3==this.readyState&&dz(this)}},Y.Va=function(n){this.g&&(this.response=this.responseText=n,Of(this))},Y.Ua=function(n){this.g&&(this.response=n,Of(this))},Y.ga=function(){this.g&&Of(this)},Y.setRequestHeader=function(n,e){this.v.append(n,e)},Y.getResponseHeader=function(n){return this.h&&this.h.get(n.toLowerCase())||""},Y.getAllResponseHeaders=function(){if(!this.h)return"";const n=[],e=this.h.entries();for(var t=e.next();!t.done;)n.push((t=t.value)[0]+": "+t[1]),t=e.next();return n.join("\r\n")},Object.defineProperty(jy.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(n){this.m=n?"include":"same-origin"}});var A_e=he.JSON.parse;function Lt(n){vn.call(this),this.headers=new Map,this.u=n||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=hz,this.K=this.L=!1}Fn(Lt,vn);var hz="",M_e=/^https?$/i,x_e=["POST","PUT"];function fz(n,e){n.h=!1,n.g&&(n.l=!0,n.g.abort(),n.l=!1),n.j=e,n.m=5,pz(n),Hy(n)}function pz(n){n.D||(n.D=!0,Ln(n,"complete"),Ln(n,"error"))}function gz(n){if(n.h&&typeof RA<"u"&&(!n.C[1]||4!=_o(n)||2!=n.aa()))if(n.v&&4==_o(n))tM(n.Ha,0,n);else if(Ln(n,"readystatechange"),4==_o(n)){n.h=!1;try{const a=n.aa();e:switch(a){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var t;if(!(t=e)){var r;if(r=0===a){var i=String(n.H).match(ez)[1]||null;if(!i&&he.self&&he.self.location){var s=he.self.location.protocol;i=s.substr(0,s.length-1)}r=!M_e.test(i?i.toLowerCase():"")}t=r}if(t)Ln(n,"complete"),Ln(n,"success");else{n.m=6;try{var o=2<_o(n)?n.g.statusText:""}catch{o=""}n.j=o+" ["+n.aa()+"]",pz(n)}}finally{Hy(n)}}}function Hy(n,e){if(n.g){mz(n);const t=n.g,r=n.C[0]?Cy:null;n.g=null,n.C=null,e||Ln(n,"ready");try{t.onreadystatechange=r}catch{}}}function mz(n){n.g&&n.K&&(n.g.ontimeout=null),n.A&&(he.clearTimeout(n.A),n.A=null)}function _o(n){return n.g?n.g.readyState:0}function _z(n){try{if(!n.g)return null;if("response"in n.g)return n.g.response;switch(n.J){case hz:case"text":return n.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in n.g)return n.g.mozResponseArrayBuffer}return null}catch{return null}}function yz(n){let e="";return jA(n,function(t,r){e+=r,e+=":",e+=t,e+="\r\n"}),e}function fM(n,e,t){e:{for(r in t){var r=!1;break e}r=!0}r||(t=yz(t),"string"==typeof n?null!=t&&encodeURIComponent(String(t)):vt(n,e,t))}function Lf(n,e,t){return t&&t.internalChannelParams&&t.internalChannelParams[n]||e}function vz(n){this.Ca=0,this.i=[],this.j=new Ry,this.ka=this.sa=this.F=this.V=this.g=this.za=this.D=this.ia=this.o=this.S=this.s=null,this.ab=this.U=0,this.Za=Lf("failFast",!1,n),this.L=this.v=this.u=this.m=this.l=null,this.Y=!0,this.pa=this.Ba=this.T=-1,this.Z=this.A=this.C=0,this.Xa=Lf("baseRetryDelayMs",5e3,n),this.bb=Lf("retryDelaySeedMs",1e4,n),this.$a=Lf("forwardChannelMaxRetries",2,n),this.ta=Lf("forwardChannelRequestTimeoutMs",2e4,n),this.ra=n&&n.xmlHttpFactory||void 0,this.Da=n&&n.Zb||!1,this.J=void 0,this.H=n&&n.supportsCrossDomainXhr||!1,this.I="",this.h=new oz(n&&n.concurrentRequestLimit),this.Fa=new T_e,this.O=n&&n.fastHandshake||!1,this.N=n&&n.encodeInitMessageHeaders||!1,this.O&&this.N&&(this.N=!1),this.Ya=n&&n.Xb||!1,n&&n.Aa&&this.j.Aa(),n&&n.forceLongPolling&&(this.Y=!1),this.$=!this.O&&this.Y&&n&&n.detectBufferingProxy||!1,this.ja=void 0,this.P=0,this.K=!1,this.la=this.B=null}function pM(n){if(bz(n),3==n.G){var e=n.U++,t=mo(n.F);vt(t,"SID",n.I),vt(t,"RID",e),vt(t,"TYPE","terminate"),Vf(n,t),(e=new Af(n,n.j,e,void 0)).K=2,e.v=Uy(mo(t)),t=!1,he.navigator&&he.navigator.sendBeacon&&(t=he.navigator.sendBeacon(e.v.toString(),"")),!t&&he.Image&&((new Image).src=e.v,t=!0),t||(e.g=Mz(e.l,null),e.g.da(e.v)),e.F=Date.now(),Mf(e)}Dz(n)}function zy(n){n.g&&(mM(n),n.g.cancel(),n.g=null)}function bz(n){zy(n),n.u&&(he.clearTimeout(n.u),n.u=null),Wy(n),n.h.cancel(),n.m&&("number"==typeof n.m&&he.clearTimeout(n.m),n.m=null)}function Gy(n){az(n.h)||n.m||(n.m=!0,O4(n.Ja,n),n.C=0)}function wz(n,e){var t;t=e?e.m:n.U++;const r=mo(n.F);vt(r,"SID",n.I),vt(r,"RID",t),vt(r,"AID",n.T),Vf(n,r),n.o&&n.s&&fM(r,n.o,n.s),t=new Af(n,n.j,t,n.C+1),null===n.o&&(t.H=n.s),e&&(n.i=e.D.concat(n.i)),e=Cz(n,t,1e3),t.setTimeout(Math.round(.5*n.ta)+Math.round(.5*n.ta*Math.random())),uM(n.h,t),aM(t,r,e)}function Vf(n,e){n.ia&&jA(n.ia,function(t,r){vt(e,r,t)}),n.l&&J4({},function(t,r){vt(e,r,t)})}function Cz(n,e,t){t=Math.min(n.i.length,t);var r=n.l?Qn(n.l.Ra,n.l,n):null;e:{var i=n.i;let s=-1;for(;;){const o=["count="+t];-1==s?0<t?(s=i[0].h,o.push("ofs="+s)):s=0:o.push("ofs="+s);let a=!0;for(let l=0;l<t;l++){let c=i[l].h;const u=i[l].g;if(c-=s,0>c)s=Math.max(0,i[l].h-100),a=!1;else try{S_e(u,o,"req"+c+"_")}catch{r&&r(u)}}if(a){r=o.join("&");break e}}}return n=n.i.splice(0,t),e.D=n,r}function Ez(n){n.g||n.u||(n.Z=1,O4(n.Ia,n),n.A=0)}function gM(n){return!(n.g||n.u||3<=n.A||(n.Z++,n.u=Sf(Qn(n.Ia,n),Sz(n,n.A)),n.A++,0))}function mM(n){null!=n.B&&(he.clearTimeout(n.B),n.B=null)}function Iz(n){n.g=new Af(n,n.j,"rpc",n.Z),null===n.o&&(n.g.H=n.s),n.g.N=0;var e=mo(n.sa);vt(e,"RID","rpc"),vt(e,"SID",n.I),vt(e,"CI",n.L?"0":"1"),vt(e,"AID",n.T),vt(e,"TYPE","xmlhttp"),Vf(n,e),n.o&&n.s&&fM(e,n.o,n.s),n.J&&n.g.setTimeout(n.J);var t=n.g;n=n.ka,t.K=1,t.v=Uy(mo(e)),t.s=null,t.P=!0,Y4(t,n)}function Wy(n){null!=n.v&&(he.clearTimeout(n.v),n.v=null)}function Tz(n,e){var t=null;if(n.g==e){Wy(n),mM(n),n.g=null;var r=2}else{if(!cM(n.h,e))return;t=e.D,cz(n.h,e),r=1}if(0!=n.G)if(n.pa=e.Y,e.i)if(1==r){t=e.s?e.s.length:0,e=Date.now()-e.F;var i=n.C;Ln(r=Ny(),new z4(r,t)),Gy(n)}else Ez(n);else if(3==(i=e.o)||0==i&&0<n.pa||!(1==r&&function R_e(n,e){return!(lz(n.h)>=n.h.j-(n.m?1:0)||(n.m?(n.i=e.D.concat(n.i),0):1==n.G||2==n.G||n.C>=(n.Za?0:n.$a)||(n.m=Sf(Qn(n.Ja,n,e),Sz(n,n.C)),n.C++,0)))}(n,e)||2==r&&gM(n)))switch(t&&0<t.length&&(e=n.h,e.i=e.i.concat(t)),i){case 1:El(n,5);break;case 4:El(n,10);break;case 3:El(n,6);break;default:El(n,2)}}function Sz(n,e){let t=n.Xa+Math.floor(Math.random()*n.bb);return n.l||(t*=2),t*e}function El(n,e){if(n.j.info("Error code "+e),2==e){var t=null;n.l&&(t=null);var r=Qn(n.kb,n);t||(t=new Cl("//www.google.com/images/cleardot.gif"),he.location&&"http"==he.location.protocol||Vy(t,"https"),Uy(t)),function D_e(n,e){const t=new Ry;if(he.Image){const r=new Image;r.onload=Iy($y,t,r,"TestLoadImage: loaded",!0,e),r.onerror=Iy($y,t,r,"TestLoadImage: error",!1,e),r.onabort=Iy($y,t,r,"TestLoadImage: abort",!1,e),r.ontimeout=Iy($y,t,r,"TestLoadImage: timeout",!1,e),he.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=n}else e(!1)}(t.toString(),r)}else fr(2);n.G=0,n.l&&n.l.va(e),Dz(n),bz(n)}function Dz(n){if(n.G=0,n.la=[],n.l){const e=uz(n.h);(0!=e.length||0!=n.i.length)&&(b4(n.la,e),b4(n.la,n.i),n.h.i.length=0,PA(n.i),n.i.length=0),n.l.ua()}}function Az(n,e,t){var r=t instanceof Cl?mo(t):new Cl(t,void 0);if(""!=r.g)e&&(r.g=e+"."+r.g),By(r,r.m);else{var i=he.location;r=i.protocol,e=e?e+"."+i.hostname:i.hostname,i=+i.port;var s=new Cl(null,void 0);r&&Vy(s,r),e&&(s.g=e),i&&By(s,i),t&&(s.l=t),r=s}return e=n.za,(t=n.D)&&e&&vt(r,t,e),vt(r,"VER",n.ma),Vf(n,r),r}function Mz(n,e,t){if(e&&!n.H)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new Lt(t&&n.Da&&!n.ra?new Pf({jb:!0}):n.ra)).Ka(n.H),e}function xz(){}function qy(){if(xu&&!(10<=Number(Yme)))throw Error("Environmental error: no available transport.")}function Yr(n,e){vn.call(this),this.g=new vz(e),this.l=n,this.h=e&&e.messageUrlParams||null,n=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(n?n["X-Client-Protocol"]="webchannel":n={"X-Client-Protocol":"webchannel"}),this.g.s=n,n=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(n?n["X-WebChannel-Content-Type"]=e.messageContentType:n={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.ya&&(n?n["X-WebChannel-Client-Profile"]=e.ya:n={"X-WebChannel-Client-Profile":e.ya}),this.g.S=n,(n=e&&e.Yb)&&!Ty(n)&&(this.g.o=n),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!Ty(e)&&(this.g.D=e,null!==(n=this.h)&&e in n&&e in(n=this.h)&&delete n[e]),this.j=new Nu(this)}function kz(n){rM.call(this);var e=n.__sm__;if(e){e:{for(const t in e){n=t;break e}n=void 0}(this.i=n)&&(n=this.i,e=null!==e&&n in e?e[n]:void 0),this.data=e}else this.data=n}function Rz(){iM.call(this),this.status=1}function Nu(n){this.g=n}(Y=Lt.prototype).Ka=function(n){this.L=n},Y.da=function(n,e,t,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+n);e=e?e.toUpperCase():"GET",this.H=n,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():sM.g(),this.C=function W4(n){return n.h||(n.h=n.i())}(this.u?this.u:sM),this.g.onreadystatechange=Qn(this.Ha,this);try{this.F=!0,this.g.open(e,String(n),!0),this.F=!1}catch(s){return void fz(this,s)}if(n=t||"",t=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)t.set(i,r[i]);else{if("function"!=typeof r.keys||"function"!=typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));for(const s of r.keys())t.set(s,r.get(s))}r=Array.from(t.keys()).find(s=>"content-type"==s.toLowerCase()),i=he.FormData&&n instanceof he.FormData,!(0<=v4(x_e,e))||r||i||t.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[s,o]of t)this.g.setRequestHeader(s,o);this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{mz(this),0<this.B&&((this.K=function k_e(n){return xu&&function Kme(){return function zme(n){var e=qme;return Object.prototype.hasOwnProperty.call(e,9)?e[9]:e[9]=n(9)}(function(){let n=0;const e=w4(String(Dy)).split("."),t=w4("9").split("."),r=Math.max(e.length,t.length);for(let o=0;0==n&&o<r;o++){var i=e[o]||"",s=t[o]||"";do{if(i=/(\d*)(\D*)(.*)/.exec(i)||["","","",""],s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],0==i[0].length&&0==s[0].length)break;n=OA(0==i[1].length?0:parseInt(i[1],10),0==s[1].length?0:parseInt(s[1],10))||OA(0==i[2].length,0==s[2].length)||OA(i[2],s[2]),i=i[3],s=s[3]}while(0==n)}return 0<=n})}()&&"number"==typeof n.timeout&&void 0!==n.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Qn(this.qa,this)):this.A=tM(this.qa,this.B,this)),this.v=!0,this.g.send(n),this.v=!1}catch(s){fz(this,s)}},Y.qa=function(){typeof RA<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Ln(this,"timeout"),this.abort(8))},Y.abort=function(n){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=n||7,Ln(this,"complete"),Ln(this,"abort"),Hy(this))},Y.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Hy(this,!0)),Lt.X.M.call(this)},Y.Ha=function(){this.s||(this.F||this.v||this.l?gz(this):this.fb())},Y.fb=function(){gz(this)},Y.aa=function(){try{return 2<_o(this)?this.g.status:-1}catch{return-1}},Y.fa=function(){try{return this.g?this.g.responseText:""}catch{return""}},Y.Sa=function(n){if(this.g){var e=this.g.responseText;return n&&0==e.indexOf(n)&&(e=e.substring(n.length)),A_e(e)}},Y.Ea=function(){return this.m},Y.Oa=function(){return"string"==typeof this.j?this.j:String(this.j)},(Y=vz.prototype).ma=8,Y.G=1,Y.Ja=function(n){if(this.m)if(this.m=null,1==this.G){if(!n){this.U=Math.floor(1e5*Math.random()),n=this.U++;const i=new Af(this,this.j,n,void 0);let s=this.s;if(this.S&&(s?(s=S4(s),A4(s,this.S)):s=this.S),null!==this.o||this.N||(i.H=s,s=null),this.O)e:{for(var e=0,t=0;t<this.i.length;t++){var r=this.i[t];if(void 0===(r="__data__"in r.g&&"string"==typeof(r=r.g.__data__)?r.length:void 0))break;if(4096<(e+=r)){e=t;break e}if(4096===e||t===this.i.length-1){e=t+1;break e}}e=1e3}else e=1e3;e=Cz(this,i,e),vt(t=mo(this.F),"RID",n),vt(t,"CVER",22),this.D&&vt(t,"X-HTTP-Session-Id",this.D),Vf(this,t),s&&(this.N?e="headers="+encodeURIComponent(String(yz(s)))+"&"+e:this.o&&fM(t,this.o,s)),uM(this.h,i),this.Ya&&vt(t,"TYPE","init"),this.O?(vt(t,"$req",e),vt(t,"SID","null"),i.Z=!0,aM(i,t,null)):aM(i,t,e),this.G=2}}else 3==this.G&&(n?wz(this,n):0==this.i.length||az(this.h)||wz(this))},Y.Ia=function(){if(this.u=null,Iz(this),this.$&&!(this.K||null==this.g||0>=this.P)){var n=2*this.P;this.j.info("BP detection timer enabled: "+n),this.B=Sf(Qn(this.eb,this),n)}},Y.eb=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.L=!1,this.K=!0,fr(10),zy(this),Iz(this))},Y.cb=function(){null!=this.v&&(this.v=null,zy(this),gM(this),fr(19))},Y.kb=function(n){n?(this.j.info("Successfully pinged google.com"),fr(2)):(this.j.info("Failed to ping google.com"),fr(1))},(Y=xz.prototype).xa=function(){},Y.wa=function(){},Y.va=function(){},Y.ua=function(){},Y.Ra=function(){},qy.prototype.g=function(n,e){return new Yr(n,e)},Fn(Yr,vn),Yr.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.H=!0);var n=this.g,e=this.l,t=this.h||void 0;fr(0),n.V=e,n.ia=t||{},n.L=n.Y,n.F=Az(n,null,n.V),Gy(n)},Yr.prototype.close=function(){pM(this.g)},Yr.prototype.u=function(n){var e=this.g;if("string"==typeof n){var t={};t.__data__=n,n=t}else this.v&&((t={}).__data__=XA(n),n=t);e.i.push(new class{constructor(n,e){this.h=n,this.g=e}}(e.ab++,n)),3==e.G&&Gy(e)},Yr.prototype.M=function(){this.g.l=null,delete this.j,pM(this.g),delete this.g,Yr.X.M.call(this)},Fn(kz,rM),Fn(Rz,iM),Fn(Nu,xz),Nu.prototype.xa=function(){Ln(this.g,"a")},Nu.prototype.wa=function(n){Ln(this.g,new kz(n))},Nu.prototype.va=function(n){Ln(this.g,new Rz)},Nu.prototype.ua=function(){Ln(this.g,"b")},qy.prototype.createWebChannel=qy.prototype.g,Yr.prototype.send=Yr.prototype.u,Yr.prototype.open=Yr.prototype.m,Yr.prototype.close=Yr.prototype.close,Py.NO_ERROR=0,Py.TIMEOUT=8,Py.HTTP_ERROR=6,G4.COMPLETE="complete",q4.EventType=Df,Df.OPEN="a",Df.CLOSE="b",Df.ERROR="c",Df.MESSAGE="d",vn.prototype.listen=vn.prototype.N,Lt.prototype.listenOnce=Lt.prototype.O,Lt.prototype.getLastError=Lt.prototype.Oa,Lt.prototype.getLastErrorCode=Lt.prototype.Ea,Lt.prototype.getStatus=Lt.prototype.aa,Lt.prototype.getResponseJson=Lt.prototype.Sa,Lt.prototype.getResponseText=Lt.prototype.fa,Lt.prototype.send=Lt.prototype.da,Lt.prototype.setWithCredentials=Lt.prototype.Ka;var N_e=go.createWebChannelTransport=function(){return new qy},P_e=go.getStatEventTarget=function(){return Ny()},_M=go.ErrorCode=Py,O_e=go.EventType=G4,F_e=go.Event=bl,Nz=go.Stat={sb:0,vb:1,wb:2,Pb:3,Ub:4,Rb:5,Sb:6,Qb:7,Ob:8,Tb:9,PROXY:10,NOPROXY:11,Mb:12,Ib:13,Jb:14,Hb:15,Kb:16,Lb:17,ob:18,nb:19,pb:20},L_e=go.FetchXmlHttpFactory=Pf,Ky=go.WebChannel=q4,V_e=go.XhrIo=Lt;const Pz="@firebase/firestore";class bn{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}bn.UNAUTHENTICATED=new bn(null),bn.GOOGLE_CREDENTIALS=new bn("google-credentials-uid"),bn.FIRST_PARTY=new bn("first-party-uid"),bn.MOCK_USER=new bn("mock-user");let Pu="9.14.0";const sa=new Zo("@firebase/firestore");function yM(){return sa.logLevel}function R(n,...e){if(sa.logLevel<=Ne.DEBUG){const t=e.map(vM);sa.debug(`Firestore (${Pu}): ${n}`,...t)}}function Ht(n,...e){if(sa.logLevel<=Ne.ERROR){const t=e.map(vM);sa.error(`Firestore (${Pu}): ${n}`,...t)}}function Ou(n,...e){if(sa.logLevel<=Ne.WARN){const t=e.map(vM);sa.warn(`Firestore (${Pu}): ${n}`,...t)}}function vM(n){if("string"==typeof n)return n;try{return JSON.stringify(n)}catch{return n}}function K(n="Unexpected state"){const e=`FIRESTORE (${Pu}) INTERNAL ASSERTION FAILED: `+n;throw Ht(e),new Error(e)}function ne(n,e){n||K()}function j(n,e){return n}const I={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class k extends Gr{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class fn{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class Oz{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class B_e{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(bn.UNAUTHENTICATED))}shutdown(){}}class U_e{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class $_e{constructor(e){this.t=e,this.currentUser=bn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){var r=this;let i=this.i;const s=c=>this.i!==i?(i=this.i,t(c)):Promise.resolve();let o=new fn;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new fn,e.enqueueRetryable(()=>s(this.currentUser))};const a=()=>{const c=o;e.enqueueRetryable(_(function*(){yield c.promise,yield s(r.currentUser)}))},l=c=>{R("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=c,this.auth.addAuthTokenListener(this.o),a()};this.t.onInit(c=>l(c)),setTimeout(()=>{if(!this.auth){const c=this.t.getImmediate({optional:!0});c?l(c):(R("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new fn)}},0),a()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(r=>this.i!==e?(R("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(ne("string"==typeof r.accessToken),new Oz(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return ne(null===e||"string"==typeof e),new bn(e)}}class j_e{constructor(e,t,r,i){this.h=e,this.l=t,this.m=r,this.g=i,this.type="FirstParty",this.user=bn.FIRST_PARTY,this.p=new Map}I(){return this.g?this.g():(ne(!("object"!=typeof this.h||null===this.h||!this.h.auth||!this.h.auth.getAuthHeaderValueForFirstParty)),this.h.auth.getAuthHeaderValueForFirstParty([]))}get headers(){this.p.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.p.set("Authorization",e),this.m&&this.p.set("X-Goog-Iam-Authorization-Token",this.m),this.p}}class H_e{constructor(e,t,r,i){this.h=e,this.l=t,this.m=r,this.g=i}getToken(){return Promise.resolve(new j_e(this.h,this.l,this.m,this.g))}start(e,t){e.enqueueRetryable(()=>t(bn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Fz{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class z_e{constructor(e){this.T=e,this.forceRefresh=!1,this.appCheck=null,this.A=null}start(e,t){const r=s=>{null!=s.error&&R("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const o=s.token!==this.A;return this.A=s.token,R("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?t(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};const i=s=>{R("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.appCheck.addTokenListener(this.o)};this.T.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.T.getImmediate({optional:!0});s?i(s):R("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(ne("string"==typeof t.token),this.A=t.token,new Fz(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function G_e(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}class Lz{static R(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=G_e(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<t&&(r+=e.charAt(i[s]%e.length))}return r}}function fe(n,e){return n<e?-1:n>e?1:0}function Fu(n,e,t){return n.length===e.length&&n.every((r,i)=>t(r,e[i]))}class At{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new k(I.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new k(I.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new k(I.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new k(I.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return At.fromMillis(Date.now())}static fromDate(e){return At.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*t));return new At(t,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?fe(this.nanoseconds,e.nanoseconds):fe(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class re{constructor(e){this.timestamp=e}static fromTimestamp(e){return new re(e)}static min(){return new re(new At(0,0))}static max(){return new re(new At(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class Bf{constructor(e,t,r){void 0===t?t=0:t>e.length&&K(),void 0===r?r=e.length-t:r>e.length-t&&K(),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return 0===Bf.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Bf?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const r=Math.min(e.length,t.length);for(let i=0;i<r;i++){const s=e.get(i),o=t.get(i);if(s<o)return-1;if(s>o)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class Ve extends Bf{construct(e,t,r){return new Ve(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const t=[];for(const r of e){if(r.indexOf("//")>=0)throw new k(I.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(i=>i.length>0))}return new Ve(t)}static emptyPath(){return new Ve([])}}const W_e=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class zt extends Bf{construct(e,t,r){return new zt(e,t,r)}static isValidIdentifier(e){return W_e.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),zt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new zt(["__name__"])}static fromServerFormat(e){const t=[];let r="",i=0;const s=()=>{if(0===r.length)throw new k(I.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""};let o=!1;for(;i<e.length;){const a=e[i];if("\\"===a){if(i+1===e.length)throw new k(I.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[i+1];if("\\"!==l&&"."!==l&&"`"!==l)throw new k(I.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=l,i+=2}else"`"===a?(o=!o,i++):"."!==a||o?(r+=a,i++):(s(),i++)}if(s(),o)throw new k(I.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new zt(t)}static emptyPath(){return new zt([])}}class U{constructor(e){this.path=e}static fromPath(e){return new U(Ve.fromString(e))}static fromName(e){return new U(Ve.fromString(e).popFirst(5))}static empty(){return new U(Ve.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===Ve.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return Ve.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new U(new Ve(e.slice()))}}function Uz(n){return new Qr(n.readTime,n.key,-1)}class Qr{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new Qr(re.min(),U.empty(),-1)}static max(){return new Qr(re.max(),U.empty(),-1)}}function wM(n,e){let t=n.readTime.compareTo(e.readTime);return 0!==t?t:(t=U.comparator(n.documentKey,e.documentKey),0!==t?t:fe(n.largestBatchId,e.largestBatchId))}const $z="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";function oa(n){return CM.apply(this,arguments)}function CM(){return CM=_(function*(n){if(n.code!==I.FAILED_PRECONDITION||n.message!==$z)throw n;R("LocalStore","Unexpectedly lost primary lease")}),CM.apply(this,arguments)}class E{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&K(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new E((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(t,s).next(r,i)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof E?t:E.resolve(t)}catch(t){return E.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):E.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):E.reject(t)}static resolve(e){return new E((t,r)=>{t(e)})}static reject(e){return new E((t,r)=>{r(e)})}static waitFor(e){return new E((t,r)=>{let i=0,s=0,o=!1;e.forEach(a=>{++i,a.next(()=>{++s,o&&s===i&&t()},l=>r(l))}),o=!0,s===i&&t()})}static or(e){let t=E.resolve(!1);for(const r of e)t=t.next(i=>i?E.resolve(i):r());return t}static forEach(e,t){const r=[];return e.forEach((i,s)=>{r.push(t.call(this,i,s))}),this.waitFor(r)}static mapArray(e,t){return new E((r,i)=>{const s=e.length,o=new Array(s);let a=0;for(let l=0;l<s;l++){const c=l;t(e[c]).next(u=>{o[c]=u,++a,a===s&&r(o)},u=>i(u))}})}static doWhile(e,t){return new E((r,i)=>{const s=()=>{!0===e()?t().next(()=>{s()},i):r()};s()})}}function aa(n){return"IndexedDbTransactionError"===n.name}class Mr{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=r=>this.ut(r),this.ct=r=>t.writeSequenceNumber(r))}ut(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ct&&this.ct(e),e}}function Hz(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function Sl(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function zz(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}Mr.at=-1;class Vt{constructor(e,t){this.comparator=e,this.root=t||Vn.EMPTY}insert(e,t){return new Vt(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Vn.BLACK,null,null))}remove(e){return new Vt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Vn.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const r=this.comparator(e,t.key);if(0===r)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(0===i)return t+r.left.size;i<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){const e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Zy(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Zy(this.root,e,this.comparator,!1)}getReverseIterator(){return new Zy(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Zy(this.root,e,this.comparator,!0)}}class Zy{constructor(e,t,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=t?r(e.key,t):1,t&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(0===s){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Vn{constructor(e,t,r,i,s){this.key=e,this.value=t,this.color=r??Vn.RED,this.left=i??Vn.EMPTY,this.right=s??Vn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,i,s){return new Vn(e??this.key,t??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,t,r),null):0===s?i.copy(null,t,null,null,null):i.copy(null,null,null,null,i.right.insert(e,t,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Vn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,i=this;if(t(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,t),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===t(e,i.key)){if(i.right.isEmpty())return Vn.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,t))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Vn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Vn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw K();const e=this.left.check();if(e!==this.right.check())throw K();return e+(this.isRed()?0:1)}}Vn.EMPTY=null,Vn.RED=!0,Vn.BLACK=!1,Vn.EMPTY=new class{constructor(){this.size=0}get key(){throw K()}get value(){throw K()}get color(){throw K()}get left(){throw K()}get right(){throw K()}copy(n,e,t,r,i){return this}insert(n,e,t){return new Vn(n,e)}remove(n,e){return this}isEmpty(){return!0}inorderTraversal(n){return!1}reverseTraversal(n){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class nt{constructor(e){this.comparator=e,this.data=new Vt(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;t(i.key)}}forEachWhile(e,t){let r;for(r=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new Gz(this.data.getIterator())}getIteratorFrom(e){return new Gz(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof nt)||this.size!==e.size)return!1;const t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){const i=t.getNext().key,s=r.getNext().key;if(0!==this.comparator(i,s))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new nt(this.comparator);return t.data=e,t}}class Gz{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class Xr{constructor(e){this.fields=e,e.sort(zt.comparator)}static empty(){return new Xr([])}unionWith(e){let t=new nt(zt.comparator);for(const r of this.fields)t=t.add(r);for(const r of e)t=t.add(r);return new Xr(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Fu(this.fields,e.fields,(t,r)=>t.isEqual(r))}}class pn{constructor(e){this.binaryString=e}static fromBase64String(e){const t=atob(e);return new pn(t)}static fromUint8Array(e){const t=function(r){let i="";for(let s=0;s<r.length;++s)i+=String.fromCharCode(r[s]);return i}(e);return new pn(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let r=0;r<e.length;r++)t[r]=e.charCodeAt(r);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return fe(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}pn.EMPTY_BYTE_STRING=new pn("");const eye=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function la(n){if(ne(!!n),"string"==typeof n){let e=0;const t=eye.exec(n);if(ne(!!t),t[1]){let i=t[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Bt(n.seconds),nanos:Bt(n.nanos)}}function Bt(n){return"number"==typeof n?n:"string"==typeof n?Number(n):0}function Dl(n){return"string"==typeof n?pn.fromBase64String(n):pn.fromUint8Array(n)}function IM(n){var e,t;return"server_timestamp"===(null===(t=((null===(e=n?.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===t?void 0:t.stringValue)}function Wz(n){const e=n.mapValue.fields.__previous_value__;return IM(e)?Wz(e):e}function jf(n){const e=la(n.mapValue.fields.__local_write_time__.timestampValue);return new At(e.seconds,e.nanos)}class tye{constructor(e,t,r,i,s,o,a,l){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.useFetchStreams=l}}class Al{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new Al("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof Al&&e.projectId===this.projectId&&e.database===this.database}}function Hf(n){return null==n}function zf(n){return 0===n&&1/n==-1/0}const ca_mapValue={fields:{__type__:{stringValue:"__max__"}}};function Ml(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?IM(n)?4:Xz(n)?9007199254740991:10:K()}function gs(n,e){if(n===e)return!0;const t=Ml(n);if(t!==Ml(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return jf(n).isEqual(jf(e));case 3:return function(r,i){if("string"==typeof r.timestampValue&&"string"==typeof i.timestampValue&&r.timestampValue.length===i.timestampValue.length)return r.timestampValue===i.timestampValue;const s=la(r.timestampValue),o=la(i.timestampValue);return s.seconds===o.seconds&&s.nanos===o.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return i=e,Dl(n.bytesValue).isEqual(Dl(i.bytesValue));case 7:return n.referenceValue===e.referenceValue;case 8:return function(r,i){return Bt(r.geoPointValue.latitude)===Bt(i.geoPointValue.latitude)&&Bt(r.geoPointValue.longitude)===Bt(i.geoPointValue.longitude)}(n,e);case 2:return function(r,i){if("integerValue"in r&&"integerValue"in i)return Bt(r.integerValue)===Bt(i.integerValue);if("doubleValue"in r&&"doubleValue"in i){const s=Bt(r.doubleValue),o=Bt(i.doubleValue);return s===o?zf(s)===zf(o):isNaN(s)&&isNaN(o)}return!1}(n,e);case 9:return Fu(n.arrayValue.values||[],e.arrayValue.values||[],gs);case 10:return function(r,i){const s=r.mapValue.fields||{},o=i.mapValue.fields||{};if(Hz(s)!==Hz(o))return!1;for(const a in s)if(s.hasOwnProperty(a)&&(void 0===o[a]||!gs(s[a],o[a])))return!1;return!0}(n,e);default:return K()}var i}function Gf(n,e){return void 0!==(n.values||[]).find(t=>gs(t,e))}function ua(n,e){if(n===e)return 0;const t=Ml(n),r=Ml(e);if(t!==r)return fe(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return fe(n.booleanValue,e.booleanValue);case 2:return function(i,s){const o=Bt(i.integerValue||i.doubleValue),a=Bt(s.integerValue||s.doubleValue);return o<a?-1:o>a?1:o===a?0:isNaN(o)?isNaN(a)?0:-1:1}(n,e);case 3:return Kz(n.timestampValue,e.timestampValue);case 4:return Kz(jf(n),jf(e));case 5:return fe(n.stringValue,e.stringValue);case 6:return function(i,s){const o=Dl(i),a=Dl(s);return o.compareTo(a)}(n.bytesValue,e.bytesValue);case 7:return function(i,s){const o=i.split("/"),a=s.split("/");for(let l=0;l<o.length&&l<a.length;l++){const c=fe(o[l],a[l]);if(0!==c)return c}return fe(o.length,a.length)}(n.referenceValue,e.referenceValue);case 8:return function(i,s){const o=fe(Bt(i.latitude),Bt(s.latitude));return 0!==o?o:fe(Bt(i.longitude),Bt(s.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return function(i,s){const o=i.values||[],a=s.values||[];for(let l=0;l<o.length&&l<a.length;++l){const c=ua(o[l],a[l]);if(c)return c}return fe(o.length,a.length)}(n.arrayValue,e.arrayValue);case 10:return function(i,s){if(i===ca_mapValue&&s===ca_mapValue)return 0;if(i===ca_mapValue)return 1;if(s===ca_mapValue)return-1;const o=i.fields||{},a=Object.keys(o),l=s.fields||{},c=Object.keys(l);a.sort(),c.sort();for(let u=0;u<a.length&&u<c.length;++u){const d=fe(a[u],c[u]);if(0!==d)return d;const h=ua(o[a[u]],l[c[u]]);if(0!==h)return h}return fe(a.length,c.length)}(n.mapValue,e.mapValue);default:throw K()}}function Kz(n,e){if("string"==typeof n&&"string"==typeof e&&n.length===e.length)return fe(n,e);const t=la(n),r=la(e),i=fe(t.seconds,r.seconds);return 0!==i?i:fe(t.nanos,r.nanos)}function Vu(n){return TM(n)}function TM(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(r){const i=la(r);return`time(${i.seconds},${i.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?Dl(n.bytesValue).toBase64():"referenceValue"in n?U.fromName(n.referenceValue).toString():"geoPointValue"in n?`geo(${(e=n.geoPointValue).latitude},${e.longitude})`:"arrayValue"in n?function(r){let i="[",s=!0;for(const o of r.values||[])s?s=!1:i+=",",i+=TM(o);return i+"]"}(n.arrayValue):"mapValue"in n?function(r){const i=Object.keys(r.fields||{}).sort();let s="{",o=!0;for(const a of i)o?o=!1:s+=",",s+=`${a}:${TM(r.fields[a])}`;return s+"}"}(n.mapValue):K();var e}function SM(n){return!!n&&"integerValue"in n}function Wf(n){return!!n&&"arrayValue"in n}function Yz(n){return!!n&&"nullValue"in n}function Qz(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function ev(n){return!!n&&"mapValue"in n}function qf(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&"object"==typeof n.timestampValue)return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return Sl(n.mapValue.fields,(t,r)=>e.mapValue.fields[t]=qf(r)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=qf(n.arrayValue.values[t]);return e}return Object.assign({},n)}function Xz(n){return"__max__"===(((n.mapValue||{}).fields||{}).__type__||{}).stringValue}class Bn{constructor(e){this.value=e}static empty(){return new Bn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!ev(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=qf(t)}setAll(e){let t=zt.emptyPath(),r={},i=[];e.forEach((o,a)=>{if(!t.isImmediateParentOf(a)){const l=this.getFieldsMap(t);this.applyChanges(l,r,i),r={},i=[],t=a.popLast()}o?r[a.lastSegment()]=qf(o):i.push(a.lastSegment())});const s=this.getFieldsMap(t);this.applyChanges(s,r,i)}delete(e){const t=this.field(e.popLast());ev(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return gs(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=t.mapValue.fields[e.get(r)];ev(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=i),t=i}return t.mapValue.fields}applyChanges(e,t,r){Sl(t,(i,s)=>e[i]=s);for(const i of r)delete e[i]}clone(){return new Bn(qf(this.value))}}function e3(n){const e=[];return Sl(n.fields,(t,r)=>{const i=new zt([t]);if(ev(r)){const s=e3(r.mapValue).fields;if(0===s.length)e.push(i);else for(const o of s)e.push(i.child(o))}else e.push(i)}),new Xr(e)}class ht{constructor(e,t,r,i,s,o){this.key=e,this.documentType=t,this.version=r,this.readTime=i,this.data=s,this.documentState=o}static newInvalidDocument(e){return new ht(e,0,re.min(),re.min(),Bn.empty(),0)}static newFoundDocument(e,t,r){return new ht(e,1,t,re.min(),r,0)}static newNoDocument(e,t){return new ht(e,2,t,re.min(),Bn.empty(),0)}static newUnknownDocument(e,t){return new ht(e,3,t,re.min(),Bn.empty(),2)}convertToFoundDocument(e,t){return this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Bn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Bn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=re.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof ht&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new ht(this.key,this.documentType,this.version,this.readTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class iye{constructor(e,t=null,r=[],i=[],s=null,o=null,a=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=a,this.ht=null}}function t3(n,e=null,t=[],r=[],i=null,s=null,o=null){return new iye(n,e,t,r,i,s,o)}function kl(n){const e=j(n);if(null===e.ht){let t=e.path.canonicalString();null!==e.collectionGroup&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(r=>{return(i=r).field.canonicalString()+i.op.toString()+Vu(i.value);var i}).join(","),t+="|ob:",t+=e.orderBy.map(r=>{return(i=r).field.canonicalString()+i.dir;var i}).join(","),Hf(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>Vu(r)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>Vu(r)).join(",")),e.ht=t}return e.ht}function Kf(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let i=0;i<n.orderBy.length;i++)if(!fye(n.orderBy[i],e.orderBy[i]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let i=0;i<n.filters.length;i++)if((t=n.filters[i]).op!==(r=e.filters[i]).op||!t.field.isEqual(r.field)||!gs(t.value,r.value))return!1;var t,r;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!a3(n.startAt,e.startAt)&&a3(n.endAt,e.endAt)}function tv(n){return U.isDocumentKey(n.path)&&null===n.collectionGroup&&0===n.filters.length}class Un extends class{}{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?"in"===t||"not-in"===t?this.lt(e,t,r):new oye(e,t,r):"array-contains"===t?new cye(e,r):"in"===t?new uye(e,r):"not-in"===t?new dye(e,r):"array-contains-any"===t?new hye(e,r):new Un(e,t,r)}static lt(e,t,r){return"in"===t?new aye(e,r):new lye(e,r)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.ft(ua(t,this.value)):null!==t&&Ml(this.value)===Ml(t)&&this.ft(ua(t,this.value))}ft(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return K()}}dt(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}}class oye extends Un{constructor(e,t,r){super(e,t,r),this.key=U.fromName(r.referenceValue)}matches(e){const t=U.comparator(e.key,this.key);return this.ft(t)}}class aye extends Un{constructor(e,t){super(e,"in",t),this.keys=s3(0,t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class lye extends Un{constructor(e,t){super(e,"not-in",t),this.keys=s3(0,t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function s3(n,e){var t;return((null===(t=e.arrayValue)||void 0===t?void 0:t.values)||[]).map(r=>U.fromName(r.referenceValue))}class cye extends Un{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Wf(t)&&Gf(t.arrayValue,this.value)}}class uye extends Un{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&Gf(this.value.arrayValue,t)}}class dye extends Un{constructor(e,t){super(e,"not-in",t)}matches(e){if(Gf(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!Gf(this.value.arrayValue,t)}}class hye extends Un{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Wf(t)||!t.arrayValue.values)&&t.arrayValue.values.some(r=>Gf(this.value.arrayValue,r))}}class da{constructor(e,t){this.position=e,this.inclusive=t}}class Bu{constructor(e,t="asc"){this.field=e,this.dir=t}}function fye(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}function o3(n,e,t){let r=0;for(let i=0;i<n.position.length;i++){const s=e[i],o=n.position[i];if(r=s.field.isKeyField()?U.comparator(U.fromName(o.referenceValue),t.key):ua(o,t.data.field(s.field)),"desc"===s.dir&&(r*=-1),0!==r)break}return r}function a3(n,e){if(null===n)return null===e;if(null===e||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!gs(n.position[t],e.position[t]))return!1;return!0}class yo{constructor(e,t=null,r=[],i=[],s=null,o="F",a=null,l=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=a,this.endAt=l,this._t=null,this.wt=null}}function Uu(n){return new yo(n)}function c3(n){return 0===n.filters.length&&null===n.limit&&null==n.startAt&&null==n.endAt&&(0===n.explicitOrderBy.length||1===n.explicitOrderBy.length&&n.explicitOrderBy[0].field.isKeyField())}function $u(n){const e=j(n);if(null===e._t){e._t=[];const t=function AM(n){for(const e of n.filters)if(e.dt())return e.field;return null}(e),r=function DM(n){return n.explicitOrderBy.length>0?n.explicitOrderBy[0].field:null}(e);if(null!==t&&null===r)t.isKeyField()||e._t.push(new Bu(t)),e._t.push(new Bu(zt.keyField(),"asc"));else{let i=!1;for(const s of e.explicitOrderBy)e._t.push(s),s.field.isKeyField()&&(i=!0);if(!i){const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e._t.push(new Bu(zt.keyField(),s))}}}return e._t}function pr(n){const e=j(n);if(!e.wt)if("F"===e.limitType)e.wt=t3(e.path,e.collectionGroup,$u(e),e.filters,e.limit,e.startAt,e.endAt);else{const t=[];for(const s of $u(e))t.push(new Bu(s.field,"desc"===s.dir?"asc":"desc"));const r=e.endAt?new da(e.endAt.position,e.endAt.inclusive):null,i=e.startAt?new da(e.startAt.position,e.startAt.inclusive):null;e.wt=t3(e.path,e.collectionGroup,t,e.filters,e.limit,r,i)}return e.wt}function rv(n,e,t){return new yo(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function Yf(n,e){return Kf(pr(n),pr(e))&&n.limitType===e.limitType}function u3(n){return`${kl(pr(n))}|lt:${n.limitType}`}function xM(n){return`Query(target=${function sye(n){let e=n.path.canonicalString();return null!==n.collectionGroup&&(e+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(e+=`, filters: [${n.filters.map(t=>{return`${(r=t).field.canonicalString()} ${r.op} ${Vu(r.value)}`;var r}).join(", ")}]`),Hf(n.limit)||(e+=", limit: "+n.limit),n.orderBy.length>0&&(e+=`, orderBy: [${n.orderBy.map(t=>{return`${(r=t).field.canonicalString()} (${r.dir})`;var r}).join(", ")}]`),n.startAt&&(e+=", startAt: ",e+=n.startAt.inclusive?"b:":"a:",e+=n.startAt.position.map(t=>Vu(t)).join(",")),n.endAt&&(e+=", endAt: ",e+=n.endAt.inclusive?"a:":"b:",e+=n.endAt.position.map(t=>Vu(t)).join(",")),`Target(${e})`}(pr(n))}; limitType=${n.limitType})`}function kM(n,e){return e.isFoundDocument()&&function(t,r){const i=r.key.path;return null!==t.collectionGroup?r.key.hasCollectionId(t.collectionGroup)&&t.path.isPrefixOf(i):U.isDocumentKey(t.path)?t.path.isEqual(i):t.path.isImmediateParentOf(i)}(n,e)&&function(t,r){for(const i of t.explicitOrderBy)if(!i.field.isKeyField()&&null===r.data.field(i.field))return!1;return!0}(n,e)&&function(t,r){for(const i of t.filters)if(!i.matches(r))return!1;return!0}(n,e)&&(r=e,!((t=n).startAt&&!function(i,s,o){const a=o3(i,s,o);return i.inclusive?a<=0:a<0}(t.startAt,$u(t),r)||t.endAt&&!function(i,s,o){const a=o3(i,s,o);return i.inclusive?a>=0:a>0}(t.endAt,$u(t),r)));var t,r}function h3(n){return(e,t)=>{let r=!1;for(const i of $u(n)){const s=pye(i,e,t);if(0!==s)return s;r=r||i.field.isKeyField()}return 0}}function pye(n,e,t){const r=n.field.isKeyField()?U.comparator(e.key,t.key):function(i,s,o){const a=s.data.field(i),l=o.data.field(i);return null!==a&&null!==l?ua(a,l):K()}(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return K()}}function f3(n,e){if(n.gt){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:zf(e)?"-0":e}}function p3(n){return{integerValue:""+n}}function g3(n,e){return function qz(n){return"number"==typeof n&&Number.isInteger(n)&&!zf(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}(e)?p3(e):f3(n,e)}class iv{constructor(){this._=void 0}}function gye(n,e,t){return n instanceof ju?function(r,i){const s={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return i&&(s.fields.__previous_value__=i),{mapValue:s}}(t,e):n instanceof Rl?_3(n,e):n instanceof Nl?y3(n,e):function(r,i){const s=m3(r,i),o=v3(s)+v3(r.yt);return SM(s)&&SM(r.yt)?p3(o):f3(r.It,o)}(n,e)}function mye(n,e,t){return n instanceof Rl?_3(n,e):n instanceof Nl?y3(n,e):t}function m3(n,e){return n instanceof Hu?SM(t=e)||(r=t)&&"doubleValue"in r?e:{integerValue:0}:null;var r,t}class ju extends iv{}class Rl extends iv{constructor(e){super(),this.elements=e}}function _3(n,e){const t=b3(e);for(const r of n.elements)t.some(i=>gs(i,r))||t.push(r);return{arrayValue:{values:t}}}class Nl extends iv{constructor(e){super(),this.elements=e}}function y3(n,e){let t=b3(e);for(const r of n.elements)t=t.filter(i=>!gs(i,r));return{arrayValue:{values:t}}}class Hu extends iv{constructor(e,t){super(),this.It=e,this.yt=t}}function v3(n){return Bt(n.integerValue||n.doubleValue)}function b3(n){return Wf(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}class yye{constructor(e,t){this.version=e,this.transformResults=t}}class bt{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new bt}static exists(e){return new bt(void 0,e)}static updateTime(e){return new bt(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function sv(n,e){return void 0!==n.updateTime?e.isFoundDocument()&&e.version.isEqual(n.updateTime):void 0===n.exists||n.exists===e.isFoundDocument()}class ov{}function w3(n,e){if(!n.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return n.isNoDocument()?new Gu(n.key,bt.none()):new zu(n.key,n.data,bt.none());{const t=n.data,r=Bn.empty();let i=new nt(zt.comparator);for(let s of e.fields)if(!i.has(s)){let o=t.field(s);null===o&&s.length>1&&(s=s.popLast(),o=t.field(s)),null===o?r.delete(s):r.set(s,o),i=i.add(s)}return new vo(n.key,r,new Xr(i.toArray()),bt.none())}}function vye(n,e,t){n instanceof zu?function(r,i,s){const o=r.value.clone(),a=I3(r.fieldTransforms,i,s.transformResults);o.setAll(a),i.convertToFoundDocument(s.version,o).setHasCommittedMutations()}(n,e,t):n instanceof vo?function(r,i,s){if(!sv(r.precondition,i))return void i.convertToUnknownDocument(s.version);const o=I3(r.fieldTransforms,i,s.transformResults),a=i.data;a.setAll(E3(r)),a.setAll(o),i.convertToFoundDocument(s.version,a).setHasCommittedMutations()}(n,e,t):e.convertToNoDocument(t.version).setHasCommittedMutations()}function Xf(n,e,t,r){return n instanceof zu?function(i,s,o,a){if(!sv(i.precondition,s))return o;const l=i.value.clone(),c=T3(i.fieldTransforms,a,s);return l.setAll(c),s.convertToFoundDocument(s.version,l).setHasLocalMutations(),null}(n,e,t,r):n instanceof vo?function(i,s,o,a){if(!sv(i.precondition,s))return o;const l=T3(i.fieldTransforms,a,s),c=s.data;return c.setAll(E3(i)),c.setAll(l),s.convertToFoundDocument(s.version,c).setHasLocalMutations(),null===o?null:o.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map(u=>u.field))}(n,e,t,r):(o=t,sv(n.precondition,s=e)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):o);var s,o}function bye(n,e){let t=null;for(const r of n.fieldTransforms){const i=e.data.field(r.field),s=m3(r.transform,i||null);null!=s&&(null===t&&(t=Bn.empty()),t.set(r.field,s))}return t||null}function C3(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&(r=e.fieldTransforms,!!(void 0===(t=n.fieldTransforms)&&void 0===r||t&&r&&Fu(t,r,(i,s)=>function _ye(n,e){return n.field.isEqual(e.field)&&(r=e.transform,(t=n.transform)instanceof Rl&&r instanceof Rl||t instanceof Nl&&r instanceof Nl?Fu(t.elements,r.elements,gs):t instanceof Hu&&r instanceof Hu?gs(t.yt,r.yt):t instanceof ju&&r instanceof ju);var t,r}(i,s))))&&(0===n.type?n.value.isEqual(e.value):1!==n.type||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask));var t,r}class zu extends ov{constructor(e,t,r,i=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class vo extends ov{constructor(e,t,r,i,s=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function E3(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const r=n.data.field(t);e.set(t,r)}}),e}function I3(n,e,t){const r=new Map;ne(n.length===t.length);for(let i=0;i<t.length;i++){const s=n[i],o=s.transform,a=e.data.field(s.field);r.set(s.field,mye(o,a,t[i]))}return r}function T3(n,e,t){const r=new Map;for(const i of n){const s=i.transform,o=t.data.field(i.field);r.set(i.field,gye(s,o,e))}return r}class Gu extends ov{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class RM extends ov{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class wye{constructor(e){this.count=e}}var tn,Be;function S3(n){switch(n){default:return K();case I.CANCELLED:case I.UNKNOWN:case I.DEADLINE_EXCEEDED:case I.RESOURCE_EXHAUSTED:case I.INTERNAL:case I.UNAVAILABLE:case I.UNAUTHENTICATED:return!1;case I.INVALID_ARGUMENT:case I.NOT_FOUND:case I.ALREADY_EXISTS:case I.PERMISSION_DENIED:case I.FAILED_PRECONDITION:case I.ABORTED:case I.OUT_OF_RANGE:case I.UNIMPLEMENTED:case I.DATA_LOSS:return!0}}function D3(n){if(void 0===n)return Ht("GRPC error has no .code"),I.UNKNOWN;switch(n){case tn.OK:return I.OK;case tn.CANCELLED:return I.CANCELLED;case tn.UNKNOWN:return I.UNKNOWN;case tn.DEADLINE_EXCEEDED:return I.DEADLINE_EXCEEDED;case tn.RESOURCE_EXHAUSTED:return I.RESOURCE_EXHAUSTED;case tn.INTERNAL:return I.INTERNAL;case tn.UNAVAILABLE:return I.UNAVAILABLE;case tn.UNAUTHENTICATED:return I.UNAUTHENTICATED;case tn.INVALID_ARGUMENT:return I.INVALID_ARGUMENT;case tn.NOT_FOUND:return I.NOT_FOUND;case tn.ALREADY_EXISTS:return I.ALREADY_EXISTS;case tn.PERMISSION_DENIED:return I.PERMISSION_DENIED;case tn.FAILED_PRECONDITION:return I.FAILED_PRECONDITION;case tn.ABORTED:return I.ABORTED;case tn.OUT_OF_RANGE:return I.OUT_OF_RANGE;case tn.UNIMPLEMENTED:return I.UNIMPLEMENTED;case tn.DATA_LOSS:return I.DATA_LOSS;default:return K()}}(Be=tn||(tn={}))[Be.OK=0]="OK",Be[Be.CANCELLED=1]="CANCELLED",Be[Be.UNKNOWN=2]="UNKNOWN",Be[Be.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Be[Be.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Be[Be.NOT_FOUND=5]="NOT_FOUND",Be[Be.ALREADY_EXISTS=6]="ALREADY_EXISTS",Be[Be.PERMISSION_DENIED=7]="PERMISSION_DENIED",Be[Be.UNAUTHENTICATED=16]="UNAUTHENTICATED",Be[Be.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Be[Be.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Be[Be.ABORTED=10]="ABORTED",Be[Be.OUT_OF_RANGE=11]="OUT_OF_RANGE",Be[Be.UNIMPLEMENTED=12]="UNIMPLEMENTED",Be[Be.INTERNAL=13]="INTERNAL",Be[Be.UNAVAILABLE=14]="UNAVAILABLE",Be[Be.DATA_LOSS=15]="DATA_LOSS";class ha{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),r=this.inner[t];if(void 0!==r)for(const[i,s]of r)if(this.equalsFn(i,e))return s}has(e){return void 0!==this.get(e)}set(e,t){const r=this.mapKeyFn(e),i=this.inner[r];if(void 0===i)return this.inner[r]=[[e,t]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,t]);i.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),r=this.inner[t];if(void 0===r)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return 1===r.length?delete this.inner[t]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Sl(this.inner,(t,r)=>{for(const[i,s]of r)e(i,s)})}isEmpty(){return zz(this.inner)}size(){return this.innerSize}}const Cye=new Vt(U.comparator);function xr(){return Cye}const A3=new Vt(U.comparator);function Zf(...n){let e=A3;for(const t of n)e=e.insert(t.key,t);return e}function M3(n){let e=A3;return n.forEach((t,r)=>e=e.insert(t,r.overlayedDocument)),e}function ms(){return Jf()}function x3(){return Jf()}function Jf(){return new ha(n=>n.toString(),(n,e)=>n.isEqual(e))}const Eye=new Vt(U.comparator),Iye=new nt(U.comparator);function ve(...n){let e=Iye;for(const t of n)e=e.add(t);return e}const Tye=new nt(fe);function av(){return Tye}class ep{constructor(e,t,r,i,s){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,t,r){const i=new Map;return i.set(e,tp.createSynthesizedTargetChangeForCurrentChange(e,t,r)),new ep(re.min(),i,av(),xr(),ve())}}class tp{constructor(e,t,r,i,s){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,t,r){return new tp(r,t,ve(),ve(),ve())}}class lv{constructor(e,t,r,i){this.Tt=e,this.removedTargetIds=t,this.key=r,this.Et=i}}class k3{constructor(e,t){this.targetId=e,this.At=t}}class R3{constructor(e,t,r=pn.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=i}}class N3{constructor(){this.Rt=0,this.bt=O3(),this.Pt=pn.EMPTY_BYTE_STRING,this.vt=!1,this.Vt=!0}get current(){return this.vt}get resumeToken(){return this.Pt}get St(){return 0!==this.Rt}get Dt(){return this.Vt}Ct(e){e.approximateByteSize()>0&&(this.Vt=!0,this.Pt=e)}xt(){let e=ve(),t=ve(),r=ve();return this.bt.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:t=t.add(i);break;case 1:r=r.add(i);break;default:K()}}),new tp(this.Pt,this.vt,e,t,r)}Nt(){this.Vt=!1,this.bt=O3()}kt(e,t){this.Vt=!0,this.bt=this.bt.insert(e,t)}Ot(e){this.Vt=!0,this.bt=this.bt.remove(e)}Mt(){this.Rt+=1}Ft(){this.Rt-=1}$t(){this.Vt=!0,this.vt=!0}}class Sye{constructor(e){this.Bt=e,this.Lt=new Map,this.Ut=xr(),this.qt=P3(),this.Kt=new nt(fe)}Gt(e){for(const t of e.Tt)e.Et&&e.Et.isFoundDocument()?this.Qt(t,e.Et):this.jt(t,e.key,e.Et);for(const t of e.removedTargetIds)this.jt(t,e.key,e.Et)}Wt(e){this.forEachTarget(e,t=>{const r=this.zt(t);switch(e.state){case 0:this.Ht(t)&&r.Ct(e.resumeToken);break;case 1:r.Ft(),r.St||r.Nt(),r.Ct(e.resumeToken);break;case 2:r.Ft(),r.St||this.removeTarget(t);break;case 3:this.Ht(t)&&(r.$t(),r.Ct(e.resumeToken));break;case 4:this.Ht(t)&&(this.Jt(t),r.Ct(e.resumeToken));break;default:K()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Lt.forEach((r,i)=>{this.Ht(i)&&t(i)})}Yt(e){const t=e.targetId,r=e.At.count,i=this.Xt(t);if(i){const s=i.target;if(tv(s))if(0===r){const o=new U(s.path);this.jt(t,o,ht.newNoDocument(o,re.min()))}else ne(1===r);else this.Zt(t)!==r&&(this.Jt(t),this.Kt=this.Kt.add(t))}}te(e){const t=new Map;this.Lt.forEach((s,o)=>{const a=this.Xt(o);if(a){if(s.current&&tv(a.target)){const l=new U(a.target.path);null!==this.Ut.get(l)||this.ee(o,l)||this.jt(o,l,ht.newNoDocument(l,e))}s.Dt&&(t.set(o,s.xt()),s.Nt())}});let r=ve();this.qt.forEach((s,o)=>{let a=!0;o.forEachWhile(l=>{const c=this.Xt(l);return!c||2===c.purpose||(a=!1,!1)}),a&&(r=r.add(s))}),this.Ut.forEach((s,o)=>o.setReadTime(e));const i=new ep(e,t,this.Kt,this.Ut,r);return this.Ut=xr(),this.qt=P3(),this.Kt=new nt(fe),i}Qt(e,t){if(!this.Ht(e))return;const r=this.ee(e,t.key)?2:0;this.zt(e).kt(t.key,r),this.Ut=this.Ut.insert(t.key,t),this.qt=this.qt.insert(t.key,this.ne(t.key).add(e))}jt(e,t,r){if(!this.Ht(e))return;const i=this.zt(e);this.ee(e,t)?i.kt(t,1):i.Ot(t),this.qt=this.qt.insert(t,this.ne(t).delete(e)),r&&(this.Ut=this.Ut.insert(t,r))}removeTarget(e){this.Lt.delete(e)}Zt(e){const t=this.zt(e).xt();return this.Bt.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Mt(e){this.zt(e).Mt()}zt(e){let t=this.Lt.get(e);return t||(t=new N3,this.Lt.set(e,t)),t}ne(e){let t=this.qt.get(e);return t||(t=new nt(fe),this.qt=this.qt.insert(e,t)),t}Ht(e){const t=null!==this.Xt(e);return t||R("WatchChangeAggregator","Detected inactive target",e),t}Xt(e){const t=this.Lt.get(e);return t&&t.St?null:this.Bt.se(e)}Jt(e){this.Lt.set(e,new N3),this.Bt.getRemoteKeysForTarget(e).forEach(t=>{this.jt(e,t,null)})}ee(e,t){return this.Bt.getRemoteKeysForTarget(e).has(t)}}function P3(){return new Vt(U.comparator)}function O3(){return new Vt(U.comparator)}const Dye={asc:"ASCENDING",desc:"DESCENDING"},Aye={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"};class Mye{constructor(e,t){this.databaseId=e,this.gt=t}}function np(n,e){return n.gt?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function F3(n,e){return n.gt?e.toBase64():e.toUint8Array()}function xye(n,e){return np(n,e.toTimestamp())}function wn(n){return ne(!!n),re.fromTimestamp(function(e){const t=la(e);return new At(t.seconds,t.nanos)}(n))}function NM(n,e){return(t=n,new Ve(["projects",t.projectId,"databases",t.database])).child("documents").child(e).canonicalString();var t}function L3(n){const e=Ve.fromString(n);return ne(G3(e)),e}function rp(n,e){return NM(n.databaseId,e.path)}function _s(n,e){const t=L3(e);if(t.get(1)!==n.databaseId.projectId)throw new k(I.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new k(I.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new U(B3(t))}function PM(n,e){return NM(n.databaseId,e)}function ip(n){return new Ve(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function B3(n){return ne(n.length>4&&"documents"===n.get(4)),n.popFirst(5)}function U3(n,e,t){return{name:rp(n,e),fields:t.value.mapValue.fields}}function j3(n,e){return{documents:[PM(n,e.path)]}}function FM(n,e){const t={structuredQuery:{}},r=e.path;null!==e.collectionGroup?(t.parent=PM(n,r),t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(t.parent=PM(n,r.popLast()),t.structuredQuery.from=[{collectionId:r.lastSegment()}]);const i=function(l){if(0===l.length)return;const c=l.map(u=>function(d){if("=="===d.op){if(Qz(d.value))return{unaryFilter:{field:Wu(d.field),op:"IS_NAN"}};if(Yz(d.value))return{unaryFilter:{field:Wu(d.field),op:"IS_NULL"}}}else if("!="===d.op){if(Qz(d.value))return{unaryFilter:{field:Wu(d.field),op:"IS_NOT_NAN"}};if(Yz(d.value))return{unaryFilter:{field:Wu(d.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Wu(d.field),op:Fye(d.op),value:d.value}}}(u));return 1===c.length?c[0]:{compositeFilter:{op:"AND",filters:c}}}(e.filters);i&&(t.structuredQuery.where=i);const s=function(l){if(0!==l.length)return l.map(c=>{return{field:Wu((u=c).field),direction:Oye(u.dir)};var u})}(e.orderBy);s&&(t.structuredQuery.orderBy=s);const o=(c=e.limit,n.gt||Hf(c)?c:{value:c});var c,a,l;return null!==o&&(t.structuredQuery.limit=o),e.startAt&&(t.structuredQuery.startAt={before:(a=e.startAt).inclusive,values:a.position}),e.endAt&&(t.structuredQuery.endAt={before:!(l=e.endAt).inclusive,values:l.position}),t}function H3(n){let e=function V3(n){const e=L3(n);return 4===e.length?Ve.emptyPath():B3(e)}(n.parent);const t=n.structuredQuery,r=t.from?t.from.length:0;let i=null;if(r>0){ne(1===r);const u=t.from[0];u.allDescendants?i=u.collectionId:e=e.child(u.collectionId)}let s=[];t.where&&(s=z3(t.where));let o=[];t.orderBy&&(o=t.orderBy.map(u=>{return new Bu(qu((d=u).field),function(h){switch(h){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(d.direction));var d}));let a=null;t.limit&&(a=function(u){let d;return d="object"==typeof u?u.value:u,Hf(d)?null:d}(t.limit));let l=null;var u;t.startAt&&(l=new da((u=t.startAt).values||[],!!u.before));let c=null;return t.endAt&&(c=function(u){return new da(u.values||[],!u.before)}(t.endAt)),function l3(n,e,t,r,i,s,o,a){return new yo(n,e,t,r,i,s,o,a)}(e,i,o,s,a,"F",l,c)}function z3(n){return n?void 0!==n.unaryFilter?[Vye(n)]:void 0!==n.fieldFilter?[Lye(n)]:void 0!==n.compositeFilter?n.compositeFilter.filters.map(e=>z3(e)).reduce((e,t)=>e.concat(t)):K():[]}function Oye(n){return Dye[n]}function Fye(n){return Aye[n]}function Wu(n){return{fieldPath:n.canonicalString()}}function qu(n){return zt.fromServerFormat(n.fieldPath)}function Lye(n){return Un.create(qu(n.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return K()}}(n.fieldFilter.op),n.fieldFilter.value)}function Vye(n){switch(n.unaryFilter.op){case"IS_NAN":const e=qu(n.unaryFilter.field);return Un.create(e,"==",{doubleValue:NaN});case"IS_NULL":const t=qu(n.unaryFilter.field);return Un.create(t,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const r=qu(n.unaryFilter.field);return Un.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const i=qu(n.unaryFilter.field);return Un.create(i,"!=",{nullValue:"NULL_VALUE"});default:return K()}}function Bye(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function G3(n){return n.length>=4&&"projects"===n.get(0)&&"databases"===n.get(2)}class VM{constructor(e,t,r,i){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,t){const r=t.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&vye(s,e,r[i])}}applyToLocalView(e,t){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(t=Xf(r,e,t,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(t=Xf(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const r=x3();return this.mutations.forEach(i=>{const s=e.get(i.key),o=s.overlayedDocument;let a=this.applyToLocalView(o,s.mutatedFields);a=t.has(i.key)?null:a;const l=w3(o,a);null!==l&&r.set(i.key,l),o.isValidDocument()||o.convertToNoDocument(re.min())}),r}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),ve())}isEqual(e){return this.batchId===e.batchId&&Fu(this.mutations,e.mutations,(t,r)=>C3(t,r))&&Fu(this.baseMutations,e.baseMutations,(t,r)=>C3(t,r))}}class BM{constructor(e,t,r,i){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=i}static from(e,t,r){ne(e.mutations.length===r.length);let i=Eye;const s=e.mutations;for(let o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new BM(e,t,r,i)}}class UM{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class fa{constructor(e,t,r,i,s=re.min(),o=re.min(),a=pn.EMPTY_BYTE_STRING){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a}withSequenceNumber(e){return new fa(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(e,t){return new fa(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e)}withLastLimboFreeSnapshotVersion(e){return new fa(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken)}}class Z3{constructor(e){this.re=e}}function $M(n){const e=H3({parent:n.parent,structuredQuery:n.structuredQuery});return"LAST"===n.limitType?rv(e,e.limit,"L"):e}class Ll{constructor(){}ce(e,t){this.ae(e,t),t.he()}ae(e,t){if("nullValue"in e)this.le(t,5);else if("booleanValue"in e)this.le(t,10),t.fe(e.booleanValue?1:0);else if("integerValue"in e)this.le(t,15),t.fe(Bt(e.integerValue));else if("doubleValue"in e){const r=Bt(e.doubleValue);isNaN(r)?this.le(t,13):(this.le(t,15),zf(r)?t.fe(0):t.fe(r))}else if("timestampValue"in e){const r=e.timestampValue;this.le(t,20),"string"==typeof r?t.de(r):(t.de(`${r.seconds||""}`),t.fe(r.nanos||0))}else if("stringValue"in e)this._e(e.stringValue,t),this.we(t);else if("bytesValue"in e)this.le(t,30),t.me(Dl(e.bytesValue)),this.we(t);else if("referenceValue"in e)this.ge(e.referenceValue,t);else if("geoPointValue"in e){const r=e.geoPointValue;this.le(t,45),t.fe(r.latitude||0),t.fe(r.longitude||0)}else"mapValue"in e?Xz(e)?this.le(t,Number.MAX_SAFE_INTEGER):(this.ye(e.mapValue,t),this.we(t)):"arrayValue"in e?(this.pe(e.arrayValue,t),this.we(t)):K()}_e(e,t){this.le(t,25),this.Ie(e,t)}Ie(e,t){t.de(e)}ye(e,t){const r=e.fields||{};this.le(t,55);for(const i of Object.keys(r))this._e(i,t),this.ae(r[i],t)}pe(e,t){const r=e.values||[];this.le(t,50);for(const i of r)this.ae(i,t)}ge(e,t){this.le(t,37),U.fromName(e).path.forEach(r=>{this.le(t,60),this.Ie(r,t)})}le(e,t){e.fe(t)}we(e){e.fe(2)}}Ll.Te=new Ll;class dve{constructor(){this.Ye=new HM}addToCollectionParentIndex(e,t){return this.Ye.add(t),E.resolve()}getCollectionParents(e,t){return E.resolve(this.Ye.getEntries(t))}addFieldIndex(e,t){return E.resolve()}deleteFieldIndex(e,t){return E.resolve()}getDocumentsMatchingTarget(e,t){return E.resolve(null)}getIndexType(e,t){return E.resolve(0)}getFieldIndexes(e,t){return E.resolve([])}getNextCollectionGroupToUpdate(e){return E.resolve(null)}getMinOffset(e,t){return E.resolve(Qr.min())}getMinOffsetFromCollectionGroup(e,t){return E.resolve(Qr.min())}updateCollectionGroup(e,t,r){return E.resolve()}updateIndexEntries(e,t){return E.resolve()}}class HM{constructor(){this.index={}}add(e){const t=e.lastSegment(),r=e.popLast(),i=this.index[t]||new nt(Ve.comparator),s=!i.has(r);return this.index[t]=i.add(r),s}has(e){const t=e.lastSegment(),r=e.popLast(),i=this.index[t];return i&&i.has(r)}getEntries(e){return(this.index[e]||new nt(Ve.comparator)).toArray()}}new Uint8Array(0);class kr{constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new kr(e,kr.DEFAULT_COLLECTION_PERCENTILE,kr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}kr.DEFAULT_COLLECTION_PERCENTILE=10,kr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,kr.DEFAULT=new kr(41943040,kr.DEFAULT_COLLECTION_PERCENTILE,kr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),kr.DISABLED=new kr(-1,0,0);class Ul{constructor(e){this.bn=e}next(){return this.bn+=2,this.bn}static Pn(){return new Ul(0)}static vn(){return new Ul(-1)}}class wve{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class vG{constructor(e,t,r,i){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next(i=>(r=i,this.getBaseDocument(e,t,r))).next(i=>(null!==r&&Xf(r.mutation,i,Xr.empty(),At.now()),i))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.getLocalViewOfDocuments(e,r,ve()).next(()=>r))}getLocalViewOfDocuments(e,t,r=ve()){const i=ms();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,r).next(s=>{let o=Zf();return s.forEach((a,l)=>{o=o.insert(a,l.overlayedDocument)}),o}))}getOverlayedDocuments(e,t){const r=ms();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,ve()))}populateOverlays(e,t,r){const i=[];return r.forEach(s=>{t.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((o,a)=>{t.set(o,a)})})}computeViews(e,t,r,i){let s=xr();const o=Jf(),a=Jf();return t.forEach((l,c)=>{const u=r.get(c.key);i.has(c.key)&&(void 0===u||u.mutation instanceof vo)?s=s.insert(c.key,c):void 0!==u&&(o.set(c.key,u.mutation.getFieldMask()),Xf(u.mutation,c,u.mutation.getFieldMask(),At.now()))}),this.recalculateAndSaveOverlays(e,s).next(l=>(l.forEach((c,u)=>o.set(c,u)),t.forEach((c,u)=>{var d;return a.set(c,new wve(u,null!==(d=o.get(c))&&void 0!==d?d:null))}),a))}recalculateAndSaveOverlays(e,t){const r=Jf();let i=new Vt((o,a)=>o-a),s=ve();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(o=>{for(const a of o)a.keys().forEach(l=>{const c=t.get(l);if(null===c)return;let u=r.get(l)||Xr.empty();u=a.applyToLocalView(c,u),r.set(l,u);const d=(i.get(a.batchId)||ve()).add(l);i=i.insert(a.batchId,d)})}).next(()=>{const o=[],a=i.getReverseIterator();for(;a.hasNext();){const l=a.getNext(),c=l.key,u=l.value,d=x3();u.forEach(h=>{if(!s.has(h)){const f=w3(t.get(h),r.get(h));null!==f&&d.set(h,f),s=s.add(h)}}),o.push(this.documentOverlayCache.saveOverlays(e,c,d))}return E.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,t,r){return U.isDocumentKey((i=t).path)&&null===i.collectionGroup&&0===i.filters.length?this.getDocumentsMatchingDocumentQuery(e,t.path):function MM(n){return null!==n.collectionGroup}(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r):this.getDocumentsMatchingCollectionQuery(e,t,r);var i}getNextDocuments(e,t,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,i).next(s=>{const o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,i-s.size):E.resolve(ms());let a=-1,l=s;return o.next(c=>E.forEach(c,(u,d)=>(a<d.largestBatchId&&(a=d.largestBatchId),s.get(u)?E.resolve():this.getBaseDocument(e,u,d).next(h=>{l=l.insert(u,h)}))).next(()=>this.populateOverlays(e,c,s)).next(()=>this.computeViews(e,l,c,ve())).next(u=>({batchId:a,changes:M3(u)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new U(t)).next(r=>{let i=Zf();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,t,r){const i=t.collectionGroup;let s=Zf();return this.indexManager.getCollectionParents(e,i).next(o=>E.forEach(o,a=>{const l=(c=t,u=a.child(i),new yo(u,null,c.explicitOrderBy.slice(),c.filters.slice(),c.limit,c.limitType,c.startAt,c.endAt));var c,u;return this.getDocumentsMatchingCollectionQuery(e,l,r).next(c=>{c.forEach((u,d)=>{s=s.insert(u,d)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,t,r){let i;return this.remoteDocumentCache.getAllFromCollection(e,t.path,r).next(s=>(i=s,this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId))).next(s=>{s.forEach((a,l)=>{const c=l.getKey();null===i.get(c)&&(i=i.insert(c,ht.newInvalidDocument(c)))});let o=Zf();return i.forEach((a,l)=>{const c=s.get(a);void 0!==c&&Xf(c.mutation,l,Xr.empty(),At.now()),kM(t,l)&&(o=o.insert(a,l))}),o})}getBaseDocument(e,t,r){return null===r||1===r.mutation.type?this.remoteDocumentCache.getEntry(e,t):E.resolve(ht.newInvalidDocument(t))}}class Cve{constructor(e){this.It=e,this.Zn=new Map,this.ts=new Map}getBundleMetadata(e,t){return E.resolve(this.Zn.get(t))}saveBundleMetadata(e,t){var r;return this.Zn.set(t.id,{id:(r=t).id,version:r.version,createTime:wn(r.createTime)}),E.resolve()}getNamedQuery(e,t){return E.resolve(this.ts.get(t))}saveNamedQuery(e,t){return this.ts.set(t.name,{name:(r=t).name,query:$M(r.bundledQuery),readTime:wn(r.readTime)}),E.resolve();var r}}class Eve{constructor(){this.overlays=new Vt(U.comparator),this.es=new Map}getOverlay(e,t){return E.resolve(this.overlays.get(t))}getOverlays(e,t){const r=ms();return E.forEach(t,i=>this.getOverlay(e,i).next(s=>{null!==s&&r.set(i,s)})).next(()=>r)}saveOverlays(e,t,r){return r.forEach((i,s)=>{this.ue(e,t,s)}),E.resolve()}removeOverlaysForBatchId(e,t,r){const i=this.es.get(r);return void 0!==i&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.es.delete(r)),E.resolve()}getOverlaysForCollection(e,t,r){const i=ms(),s=t.length+1,o=new U(t.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const l=a.getNext().value,c=l.getKey();if(!t.isPrefixOf(c.path))break;c.path.length===s&&l.largestBatchId>r&&i.set(l.getKey(),l)}return E.resolve(i)}getOverlaysForCollectionGroup(e,t,r,i){let s=new Vt((c,u)=>c-u);const o=this.overlays.getIterator();for(;o.hasNext();){const c=o.getNext().value;if(c.getKey().getCollectionGroup()===t&&c.largestBatchId>r){let u=s.get(c.largestBatchId);null===u&&(u=ms(),s=s.insert(c.largestBatchId,u)),u.set(c.getKey(),c)}}const a=ms(),l=s.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((c,u)=>a.set(c,u)),!(a.size()>=i)););return E.resolve(a)}ue(e,t,r){const i=this.overlays.get(r.key);if(null!==i){const o=this.es.get(i.largestBatchId).delete(r.key);this.es.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new UM(t,r));let s=this.es.get(t);void 0===s&&(s=ve(),this.es.set(t,s)),this.es.set(t,s.add(r.key))}}class zM{constructor(){this.ns=new nt(En.ss),this.rs=new nt(En.os)}isEmpty(){return this.ns.isEmpty()}addReference(e,t){const r=new En(e,t);this.ns=this.ns.add(r),this.rs=this.rs.add(r)}us(e,t){e.forEach(r=>this.addReference(r,t))}removeReference(e,t){this.cs(new En(e,t))}hs(e,t){e.forEach(r=>this.removeReference(r,t))}ls(e){const t=new U(new Ve([])),r=new En(t,e),i=new En(t,e+1),s=[];return this.rs.forEachInRange([r,i],o=>{this.cs(o),s.push(o.key)}),s}fs(){this.ns.forEach(e=>this.cs(e))}cs(e){this.ns=this.ns.delete(e),this.rs=this.rs.delete(e)}ds(e){const t=new U(new Ve([])),r=new En(t,e),i=new En(t,e+1);let s=ve();return this.rs.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(e){const t=new En(e,0),r=this.ns.firstAfterOrEqual(t);return null!==r&&e.isEqual(r.key)}}class En{constructor(e,t){this.key=e,this._s=t}static ss(e,t){return U.comparator(e.key,t.key)||fe(e._s,t._s)}static os(e,t){return fe(e._s,t._s)||U.comparator(e.key,t.key)}}class Ive{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.ws=1,this.gs=new nt(En.ss)}checkEmpty(e){return E.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,r,i){const s=this.ws;this.ws++;const o=new VM(s,t,r,i);this.mutationQueue.push(o);for(const a of i)this.gs=this.gs.add(new En(a.key,s)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return E.resolve(o)}lookupMutationBatch(e,t){return E.resolve(this.ys(t))}getNextMutationBatchAfterBatchId(e,t){const i=this.ps(t+1),s=i<0?0:i;return E.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return E.resolve(0===this.mutationQueue.length?-1:this.ws-1)}getAllMutationBatches(e){return E.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const r=new En(t,0),i=new En(t,Number.POSITIVE_INFINITY),s=[];return this.gs.forEachInRange([r,i],o=>{const a=this.ys(o._s);s.push(a)}),E.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new nt(fe);return t.forEach(i=>{const s=new En(i,0),o=new En(i,Number.POSITIVE_INFINITY);this.gs.forEachInRange([s,o],a=>{r=r.add(a._s)})}),E.resolve(this.Is(r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,i=r.length+1;let s=r;U.isDocumentKey(s)||(s=s.child(""));const o=new En(new U(s),0);let a=new nt(fe);return this.gs.forEachWhile(l=>{const c=l.key.path;return!!r.isPrefixOf(c)&&(c.length===i&&(a=a.add(l._s)),!0)},o),E.resolve(this.Is(a))}Is(e){const t=[];return e.forEach(r=>{const i=this.ys(r);null!==i&&t.push(i)}),t}removeMutationBatch(e,t){ne(0===this.Ts(t.batchId,"removed")),this.mutationQueue.shift();let r=this.gs;return E.forEach(t.mutations,i=>{const s=new En(i.key,t.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.gs=r})}An(e){}containsKey(e,t){const r=new En(t,0),i=this.gs.firstAfterOrEqual(r);return E.resolve(t.isEqual(i&&i.key))}performConsistencyCheck(e){return E.resolve()}Ts(e,t){return this.ps(e)}ps(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}ys(e){const t=this.ps(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class Tve{constructor(e){this.Es=e,this.docs=new Vt(U.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const r=t.key,i=this.docs.get(r),s=i?i.size:0,o=this.Es(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const r=this.docs.get(t);return E.resolve(r?r.document.mutableCopy():ht.newInvalidDocument(t))}getEntries(e,t){let r=xr();return t.forEach(i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():ht.newInvalidDocument(i))}),E.resolve(r)}getAllFromCollection(e,t,r){let i=xr();const s=new U(t.child("")),o=this.docs.getIteratorFrom(s);for(;o.hasNext();){const{key:a,value:{document:l}}=o.getNext();if(!t.isPrefixOf(a.path))break;a.path.length>t.length+1||wM(Uz(l),r)<=0||(i=i.insert(l.key,l.mutableCopy()))}return E.resolve(i)}getAllFromCollectionGroup(e,t,r,i){K()}As(e,t){return E.forEach(this.docs,r=>t(r))}newChangeBuffer(e){return new Sve(this)}getSize(e){return E.resolve(this.size)}}class Sve extends class yve{constructor(){this.changes=new ha(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,ht.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const r=this.changes.get(t);return void 0!==r?E.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}{constructor(e){super(),this.Yn=e}applyChanges(e){const t=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?t.push(this.Yn.addEntry(e,i)):this.Yn.removeEntry(r)}),E.waitFor(t)}getFromCache(e,t){return this.Yn.getEntry(e,t)}getAllFromCache(e,t){return this.Yn.getEntries(e,t)}}class Dve{constructor(e){this.persistence=e,this.Rs=new ha(t=>kl(t),Kf),this.lastRemoteSnapshotVersion=re.min(),this.highestTargetId=0,this.bs=0,this.Ps=new zM,this.targetCount=0,this.vs=Ul.Pn()}forEachTarget(e,t){return this.Rs.forEach((r,i)=>t(i)),E.resolve()}getLastRemoteSnapshotVersion(e){return E.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return E.resolve(this.bs)}allocateTargetId(e){return this.highestTargetId=this.vs.next(),E.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.bs&&(this.bs=t),E.resolve()}Dn(e){this.Rs.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.vs=new Ul(t),this.highestTargetId=t),e.sequenceNumber>this.bs&&(this.bs=e.sequenceNumber)}addTargetData(e,t){return this.Dn(t),this.targetCount+=1,E.resolve()}updateTargetData(e,t){return this.Dn(t),E.resolve()}removeTargetData(e,t){return this.Rs.delete(t.target),this.Ps.ls(t.targetId),this.targetCount-=1,E.resolve()}removeTargets(e,t,r){let i=0;const s=[];return this.Rs.forEach((o,a)=>{a.sequenceNumber<=t&&null===r.get(a.targetId)&&(this.Rs.delete(o),s.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),E.waitFor(s).next(()=>i)}getTargetCount(e){return E.resolve(this.targetCount)}getTargetData(e,t){const r=this.Rs.get(t)||null;return E.resolve(r)}addMatchingKeys(e,t,r){return this.Ps.us(t,r),E.resolve()}removeMatchingKeys(e,t,r){this.Ps.hs(t,r);const i=this.persistence.referenceDelegate,s=[];return i&&t.forEach(o=>{s.push(i.markPotentiallyOrphaned(e,o))}),E.waitFor(s)}removeMatchingKeysForTargetId(e,t){return this.Ps.ls(t),E.resolve()}getMatchingKeysForTargetId(e,t){const r=this.Ps.ds(t);return E.resolve(r)}containsKey(e,t){return E.resolve(this.Ps.containsKey(t))}}class bG{constructor(e,t){this.Vs={},this.overlays={},this.Ss=new Mr(0),this.Ds=!1,this.Ds=!0,this.referenceDelegate=e(this),this.Cs=new Dve(this),this.indexManager=new dve,this.remoteDocumentCache=new Tve(r=>this.referenceDelegate.xs(r)),this.It=new Z3(t),this.Ns=new Cve(this.It)}start(){return Promise.resolve()}shutdown(){return this.Ds=!1,Promise.resolve()}get started(){return this.Ds}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new Eve,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.Vs[e.toKey()];return r||(r=new Ive(t,this.referenceDelegate),this.Vs[e.toKey()]=r),r}getTargetCache(){return this.Cs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ns}runTransaction(e,t,r){R("MemoryPersistence","Starting transaction:",e);const i=new Ave(this.Ss.next());return this.referenceDelegate.ks(),r(i).next(s=>this.referenceDelegate.Os(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Ms(e,t){return E.or(Object.values(this.Vs).map(r=>()=>r.containsKey(e,t)))}}class Ave extends class Y_e{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}{constructor(e){super(),this.currentSequenceNumber=e}}class _v{constructor(e){this.persistence=e,this.Fs=new zM,this.$s=null}static Bs(e){return new _v(e)}get Ls(){if(this.$s)return this.$s;throw K()}addReference(e,t,r){return this.Fs.addReference(r,t),this.Ls.delete(r.toString()),E.resolve()}removeReference(e,t,r){return this.Fs.removeReference(r,t),this.Ls.add(r.toString()),E.resolve()}markPotentiallyOrphaned(e,t){return this.Ls.add(t.toString()),E.resolve()}removeTarget(e,t){this.Fs.ls(t.targetId).forEach(i=>this.Ls.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(i=>{i.forEach(s=>this.Ls.add(s.toString()))}).next(()=>r.removeTargetData(e,t))}ks(){this.$s=new Set}Os(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return E.forEach(this.Ls,r=>{const i=U.fromPath(r);return this.Us(e,i).next(s=>{s||t.removeEntry(i,re.min())})}).next(()=>(this.$s=null,t.apply(e)))}updateLimboDocument(e,t){return this.Us(e,t).next(r=>{r?this.Ls.delete(t.toString()):this.Ls.add(t.toString())})}xs(e){return 0}Us(e,t){return E.or([()=>E.resolve(this.Fs.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ms(e,t)])}}class KM{constructor(e,t,r,i){this.targetId=e,this.fromCache=t,this.Si=r,this.Di=i}static Ci(e,t){let r=ve(),i=ve();for(const s of t.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new KM(e,t.fromCache,r,i)}}class CG{constructor(){this.xi=!1}initialize(e,t){this.Ni=e,this.indexManager=t,this.xi=!0}getDocumentsMatchingQuery(e,t,r,i){return this.ki(e,t).next(s=>s||this.Oi(e,t,i,r)).next(s=>s||this.Mi(e,t))}ki(e,t){if(c3(t))return E.resolve(null);let r=pr(t);return this.indexManager.getIndexType(e,r).next(i=>0===i?null:(null!==t.limit&&1===i&&(t=rv(t,null,"F"),r=pr(t)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{const o=ve(...s);return this.Ni.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(l=>{const c=this.Fi(t,a);return this.$i(t,c,o,l.readTime)?this.ki(e,rv(t,null,"F")):this.Bi(e,c,t,l)}))})))}Oi(e,t,r,i){return c3(t)||i.isEqual(re.min())?this.Mi(e,t):this.Ni.getDocuments(e,r).next(s=>{const o=this.Fi(t,s);return this.$i(t,o,r,i)?this.Mi(e,t):(yM()<=Ne.DEBUG&&R("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),xM(t)),this.Bi(e,o,t,function Bz(n,e){const t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,i=re.fromTimestamp(1e9===r?new At(t+1,0):new At(t,r));return new Qr(i,U.empty(),e)}(i,-1)))})}Fi(e,t){let r=new nt(h3(e));return t.forEach((i,s)=>{kM(e,s)&&(r=r.add(s))}),r}$i(e,t,r,i){if(null===e.limit)return!1;if(r.size!==t.size)return!0;const s="F"===e.limitType?t.last():t.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Mi(e,t){return yM()<=Ne.DEBUG&&R("QueryEngine","Using full collection scan to execute query:",xM(t)),this.Ni.getDocumentsMatchingQuery(e,t,Qr.min())}Bi(e,t,r,i){return this.Ni.getDocumentsMatchingQuery(e,r,i).next(s=>(t.forEach(o=>{s=s.insert(o.key,o)}),s))}}class xve{constructor(e,t,r,i){this.persistence=e,this.Li=t,this.It=i,this.Ui=new Vt(fe),this.qi=new ha(s=>kl(s),Kf),this.Ki=new Map,this.Gi=e.getRemoteDocumentCache(),this.Cs=e.getTargetCache(),this.Ns=e.getBundleCache(),this.Qi(r)}Qi(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new vG(this.Gi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Gi.setIndexManager(this.indexManager),this.Li.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Ui))}}function IG(n,e){return YM.apply(this,arguments)}function YM(){return YM=_(function*(n,e){const t=j(n);return yield t.persistence.runTransaction("Handle user change","readonly",r=>{let i;return t.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,t.Qi(e),t.mutationQueue.getAllMutationBatches(r))).next(s=>{const o=[],a=[];let l=ve();for(const c of i){o.push(c.batchId);for(const u of c.mutations)l=l.add(u.key)}for(const c of s){a.push(c.batchId);for(const u of c.mutations)l=l.add(u.key)}return t.localDocuments.getDocuments(r,l).next(c=>({ji:c,removedBatchIds:o,addedBatchIds:a}))})})}),YM.apply(this,arguments)}function kve(n,e){const t=j(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),s=t.Gi.newChangeBuffer({trackRemovals:!0});return function(o,a,l,c){const u=l.batch,d=u.keys();let h=E.resolve();return d.forEach(f=>{h=h.next(()=>c.getEntry(a,f)).next(p=>{const g=l.docVersions.get(f);ne(null!==g),p.version.compareTo(g)<0&&(u.applyToRemoteDocument(p,l),p.isValidDocument()&&(p.setReadTime(l.commitVersion),c.addEntry(p)))})}),h.next(()=>o.mutationQueue.removeMutationBatch(a,u))}(t,r,e,s).next(()=>s.apply(r)).next(()=>t.mutationQueue.performConsistencyCheck(r)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(o){let a=ve();for(let l=0;l<o.mutationResults.length;++l)o.mutationResults[l].transformResults.length>0&&(a=a.add(o.batch.mutations[l].key));return a}(e))).next(()=>t.localDocuments.getDocuments(r,i))})}function TG(n){const e=j(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Cs.getLastRemoteSnapshotVersion(t))}function Rve(n,e){const t=j(n),r=e.snapshotVersion;let i=t.Ui;return t.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const o=t.Gi.newChangeBuffer({trackRemovals:!0});i=t.Ui;const a=[];e.targetChanges.forEach((u,d)=>{const h=i.get(d);if(!h)return;a.push(t.Cs.removeMatchingKeys(s,u.removedDocuments,d).next(()=>t.Cs.addMatchingKeys(s,u.addedDocuments,d)));let f=h.withSequenceNumber(s.currentSequenceNumber);var p,g,m;e.targetMismatches.has(d)?f=f.withResumeToken(pn.EMPTY_BYTE_STRING,re.min()).withLastLimboFreeSnapshotVersion(re.min()):u.resumeToken.approximateByteSize()>0&&(f=f.withResumeToken(u.resumeToken,r)),i=i.insert(d,f),g=f,m=u,(0===(p=h).resumeToken.approximateByteSize()||g.snapshotVersion.toMicroseconds()-p.snapshotVersion.toMicroseconds()>=3e8||m.addedDocuments.size+m.modifiedDocuments.size+m.removedDocuments.size>0)&&a.push(t.Cs.updateTargetData(s,f))});let l=xr(),c=ve();if(e.documentUpdates.forEach(u=>{e.resolvedLimboDocuments.has(u)&&a.push(t.persistence.referenceDelegate.updateLimboDocument(s,u))}),a.push(function SG(n,e,t){let r=ve(),i=ve();return t.forEach(s=>r=r.add(s)),e.getEntries(n,r).next(s=>{let o=xr();return t.forEach((a,l)=>{const c=s.get(a);l.isFoundDocument()!==c.isFoundDocument()&&(i=i.add(a)),l.isNoDocument()&&l.version.isEqual(re.min())?(e.removeEntry(a,l.readTime),o=o.insert(a,l)):!c.isValidDocument()||l.version.compareTo(c.version)>0||0===l.version.compareTo(c.version)&&c.hasPendingWrites?(e.addEntry(l),o=o.insert(a,l)):R("LocalStore","Ignoring outdated watch update for ",a,". Current version:",c.version," Watch version:",l.version)}),{Wi:o,zi:i}})}(s,o,e.documentUpdates).next(u=>{l=u.Wi,c=u.zi})),!r.isEqual(re.min())){const u=t.Cs.getLastRemoteSnapshotVersion(s).next(d=>t.Cs.setTargetsMetadata(s,s.currentSequenceNumber,r));a.push(u)}return E.waitFor(a).next(()=>o.apply(s)).next(()=>t.localDocuments.getLocalViewOfDocuments(s,l,c)).next(()=>l)}).then(s=>(t.Ui=i,s))}function Nve(n,e){const t=j(n);return t.persistence.runTransaction("Get next mutation batch","readonly",r=>(void 0===e&&(e=-1),t.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function Qu(n,e){const t=j(n);return t.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return t.Cs.getTargetData(r,e).next(s=>s?(i=s,E.resolve(i)):t.Cs.allocateTargetId(r).next(o=>(i=new fa(e,o,0,r.currentSequenceNumber),t.Cs.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=t.Ui.get(r.targetId);return(null===i||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(t.Ui=t.Ui.insert(r.targetId,r),t.qi.set(e,r.targetId)),r})}function Xu(n,e,t){return QM.apply(this,arguments)}function QM(){return QM=_(function*(n,e,t){const r=j(n),i=r.Ui.get(e),s=t?"readwrite":"readwrite-primary";try{t||(yield r.persistence.runTransaction("Release target",s,o=>r.persistence.referenceDelegate.removeTarget(o,i)))}catch(o){if(!aa(o))throw o;R("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}r.Ui=r.Ui.remove(e),r.qi.delete(i.target)}),QM.apply(this,arguments)}function vv(n,e,t){const r=j(n);let i=re.min(),s=ve();return r.persistence.runTransaction("Execute query","readonly",o=>function(a,l,c){const u=j(a),d=u.qi.get(c);return void 0!==d?E.resolve(u.Ui.get(d)):u.Cs.getTargetData(l,c)}(r,o,pr(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.Cs.getMatchingKeysForTargetId(o,a.targetId).next(l=>{s=l})}).next(()=>r.Li.getDocumentsMatchingQuery(o,e,t?i:re.min(),t?s:ve())).next(a=>(function MG(n,e,t){let r=n.Ki.get(e)||re.min();t.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),n.Ki.set(e,r)}(r,function d3(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}(e),a),{documents:a,Hi:s})))}class tx{constructor(){this.activeTargetIds=av()}er(e){this.activeTargetIds=this.activeTargetIds.add(e)}nr(e){this.activeTargetIds=this.activeTargetIds.delete(e)}tr(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class RG{constructor(){this.Lr=new tx,this.Ur={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e){return this.Lr.er(e),this.Ur[e]||"not-current"}updateQueryState(e,t,r){this.Ur[e]=t}removeLocalQueryTarget(e){this.Lr.nr(e)}isLocalQueryTarget(e){return this.Lr.activeTargetIds.has(e)}clearQueryState(e){delete this.Ur[e]}getAllActiveQueryTargets(){return this.Lr.activeTargetIds}isActiveQueryTarget(e){return this.Lr.activeTargetIds.has(e)}start(){return this.Lr=new tx,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class Fve{qr(e){}shutdown(){}}class NG{constructor(){this.Kr=()=>this.Gr(),this.Qr=()=>this.jr(),this.Wr=[],this.zr()}qr(e){this.Wr.push(e)}shutdown(){window.removeEventListener("online",this.Kr),window.removeEventListener("offline",this.Qr)}zr(){window.addEventListener("online",this.Kr),window.addEventListener("offline",this.Qr)}Gr(){R("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.Wr)e(0)}jr(){R("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.Wr)e(1)}static C(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}const Lve={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class Vve{constructor(e){this.Hr=e.Hr,this.Jr=e.Jr}Yr(e){this.Xr=e}Zr(e){this.eo=e}onMessage(e){this.no=e}close(){this.Jr()}send(e){this.Hr(e)}so(){this.Xr()}io(e){this.eo(e)}ro(e){this.no(e)}}class Bve extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.oo=(e.ssl?"https":"http")+"://"+e.host,this.uo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get co(){return!1}ao(e,t,r,i,s){const o=this.ho(e,t);R("RestConnection","Sending: ",o,r);const a={};return this.lo(a,i,s),this.fo(e,o,a,r).then(l=>(R("RestConnection","Received: ",l),l),l=>{throw Ou("RestConnection",`${e} failed with error: `,l,"url: ",o,"request:",r),l})}_o(e,t,r,i,s,o){return this.ao(e,t,r,i,s)}lo(e,t,r){e["X-Goog-Api-Client"]="gl-js/ fire/"+Pu,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((i,s)=>e[s]=i),r&&r.headers.forEach((i,s)=>e[s]=i)}ho(e,t){return`${this.oo}/v1/${t}:${Lve[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams}fo(e,t,r,i){return new Promise((s,o)=>{const a=new V_e;a.setWithCredentials(!0),a.listenOnce(O_e.COMPLETE,()=>{var c;try{switch(a.getLastErrorCode()){case _M.NO_ERROR:const u=a.getResponseJson();R("Connection","XHR received:",JSON.stringify(u)),s(u);break;case _M.TIMEOUT:R("Connection",'RPC "'+e+'" timed out'),o(new k(I.DEADLINE_EXCEEDED,"Request time out"));break;case _M.HTTP_ERROR:const d=a.getStatus();if(R("Connection",'RPC "'+e+'" failed with status:',d,"response text:",a.getResponseText()),d>0){let h=a.getResponseJson();Array.isArray(h)&&(h=h[0]);const f=null===(c=h)||void 0===c?void 0:c.error;if(f&&f.status&&f.message){const p=function(g){const m=g.toLowerCase().replace(/_/g,"-");return Object.values(I).indexOf(m)>=0?m:I.UNKNOWN}(f.status);o(new k(p,f.message))}else o(new k(I.UNKNOWN,"Server responded with status "+a.getStatus()))}else o(new k(I.UNAVAILABLE,"Connection failed."));break;default:K()}}finally{R("Connection",'RPC "'+e+'" completed.')}});const l=JSON.stringify(i);a.send(t,"POST",l,r,15)})}wo(e,t,r){const i=[this.oo,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=N_e(),o=P_e(),a={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(a.xmlHttpFactory=new L_e({})),this.lo(a.initMessageHeaders,t,r),a.encodeInitMessageHeaders=!0;const l=i.join("");R("Connection","Creating WebChannel: "+l,a);const c=s.createWebChannel(l,a);let u=!1,d=!1;const h=new Vve({Hr:p=>{d?R("Connection","Not sending because WebChannel is closed:",p):(u||(R("Connection","Opening WebChannel transport."),c.open(),u=!0),R("Connection","WebChannel sending:",p),c.send(p))},Jr:()=>c.close()}),f=(p,g,m)=>{p.listen(g,v=>{try{m(v)}catch(C){setTimeout(()=>{throw C},0)}})};return f(c,Ky.EventType.OPEN,()=>{d||R("Connection","WebChannel transport opened.")}),f(c,Ky.EventType.CLOSE,()=>{d||(d=!0,R("Connection","WebChannel transport closed"),h.io())}),f(c,Ky.EventType.ERROR,p=>{d||(d=!0,Ou("Connection","WebChannel transport errored:",p),h.io(new k(I.UNAVAILABLE,"The operation could not be completed")))}),f(c,Ky.EventType.MESSAGE,p=>{var g;if(!d){const m=p.data[0];ne(!!m);const v=m,C=v.error||(null===(g=v[0])||void 0===g?void 0:g.error);if(C){R("Connection","WebChannel received error:",C);const y=C.status;let D=function(B){const le=tn[B];if(void 0!==le)return D3(le)}(y),O=C.message;void 0===D&&(D=I.INTERNAL,O="Unknown error status: "+y+" with message "+C.message),d=!0,h.io(new k(D,O)),c.close()}else R("Connection","WebChannel received:",m),h.ro(m)}}),f(o,F_e.STAT_EVENT,p=>{p.stat===Nz.PROXY?R("Connection","Detected buffering proxy"):p.stat===Nz.NOPROXY&&R("Connection","Detected no buffering proxy")}),setTimeout(()=>{h.so()},0),h}}function Cv(){return typeof document<"u"?document:null}function pp(n){return new Mye(n,!0)}class rx{constructor(e,t,r=1e3,i=1.5,s=6e4){this.Hs=e,this.timerId=t,this.mo=r,this.yo=i,this.po=s,this.Io=0,this.To=null,this.Eo=Date.now(),this.reset()}reset(){this.Io=0}Ao(){this.Io=this.po}Ro(e){this.cancel();const t=Math.floor(this.Io+this.bo()),r=Math.max(0,Date.now()-this.Eo),i=Math.max(0,t-r);i>0&&R("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Io} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.To=this.Hs.enqueueAfterDelay(this.timerId,i,()=>(this.Eo=Date.now(),e())),this.Io*=this.yo,this.Io<this.mo&&(this.Io=this.mo),this.Io>this.po&&(this.Io=this.po)}Po(){null!==this.To&&(this.To.skipDelay(),this.To=null)}cancel(){null!==this.To&&(this.To.cancel(),this.To=null)}bo(){return(Math.random()-.5)*this.Io}}class OG{constructor(e,t,r,i,s,o,a,l){this.Hs=e,this.vo=r,this.Vo=i,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.So=0,this.Do=null,this.Co=null,this.stream=null,this.xo=new rx(e,t)}No(){return 1===this.state||5===this.state||this.ko()}ko(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Oo()}stop(){var e=this;return _(function*(){e.No()&&(yield e.close(0))})()}Mo(){this.state=0,this.xo.reset()}Fo(){this.ko()&&null===this.Do&&(this.Do=this.Hs.enqueueAfterDelay(this.vo,6e4,()=>this.$o()))}Bo(e){this.Lo(),this.stream.send(e)}$o(){var e=this;return _(function*(){if(e.ko())return e.close(0)})()}Lo(){this.Do&&(this.Do.cancel(),this.Do=null)}Uo(){this.Co&&(this.Co.cancel(),this.Co=null)}close(e,t){var r=this;return _(function*(){r.Lo(),r.Uo(),r.xo.cancel(),r.So++,4!==e?r.xo.reset():t&&t.code===I.RESOURCE_EXHAUSTED?(Ht(t.toString()),Ht("Using maximum backoff delay to prevent overloading the backend."),r.xo.Ao()):t&&t.code===I.UNAUTHENTICATED&&3!==r.state&&(r.authCredentialsProvider.invalidateToken(),r.appCheckCredentialsProvider.invalidateToken()),null!==r.stream&&(r.qo(),r.stream.close(),r.stream=null),r.state=e,yield r.listener.Zr(t)})()}qo(){}auth(){this.state=1;const e=this.Ko(this.So),t=this.So;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.So===t&&this.Go(r,i)},r=>{e(()=>{const i=new k(I.UNKNOWN,"Fetching auth token failed: "+r.message);return this.Qo(i)})})}Go(e,t){const r=this.Ko(this.So);this.stream=this.jo(e,t),this.stream.Yr(()=>{r(()=>(this.state=2,this.Co=this.Hs.enqueueAfterDelay(this.Vo,1e4,()=>(this.ko()&&(this.state=3),Promise.resolve())),this.listener.Yr()))}),this.stream.Zr(i=>{r(()=>this.Qo(i))}),this.stream.onMessage(i=>{r(()=>this.onMessage(i))})}Oo(){var e=this;this.state=5,this.xo.Ro(_(function*(){e.state=0,e.start()}))}Qo(e){return R("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Ko(e){return t=>{this.Hs.enqueueAndForget(()=>this.So===e?t():(R("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class Uve extends OG{constructor(e,t,r,i,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,i,o),this.It=s}jo(e,t){return this.connection.wo("Listen",e,t)}onMessage(e){this.xo.reset();const t=function Rye(n,e){let t;if("targetChange"in e){const r="NO_CHANGE"===(l=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===l?1:"REMOVE"===l?2:"CURRENT"===l?3:"RESET"===l?4:K(),i=e.targetChange.targetIds||[],s=function(l,c){return l.gt?(ne(void 0===c||"string"==typeof c),pn.fromBase64String(c||"")):(ne(void 0===c||c instanceof Uint8Array),pn.fromUint8Array(c||new Uint8Array))}(n,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(l){const c=void 0===l.code?I.UNKNOWN:D3(l.code);return new k(c,l.message||"")}(o);t=new R3(r,i,s,a||null)}else if("documentChange"in e){const r=e.documentChange,i=_s(n,r.document.name),s=wn(r.document.updateTime),o=new Bn({mapValue:{fields:r.document.fields}}),a=ht.newFoundDocument(i,s,o);t=new lv(r.targetIds||[],r.removedTargetIds||[],a.key,a)}else if("documentDelete"in e){const r=e.documentDelete,i=_s(n,r.document),s=r.readTime?wn(r.readTime):re.min(),o=ht.newNoDocument(i,s);t=new lv([],r.removedTargetIds||[],o.key,o)}else if("documentRemove"in e){const r=e.documentRemove,i=_s(n,r.document);t=new lv([],r.removedTargetIds||[],i,null)}else{if(!("filter"in e))return K();{const r=e.filter,s=new wye(r.count||0);t=new k3(r.targetId,s)}}var l;return t}(this.It,e),r=function(i){if(!("targetChange"in i))return re.min();const s=i.targetChange;return s.targetIds&&s.targetIds.length?re.min():s.readTime?wn(s.readTime):re.min()}(e);return this.listener.Wo(t,r)}zo(e){const t={};t.database=ip(this.It),t.addTarget=function(i,s){let o;const a=s.target;return o=tv(a)?{documents:j3(i,a)}:{query:FM(i,a)},o.targetId=s.targetId,s.resumeToken.approximateByteSize()>0?o.resumeToken=F3(i,s.resumeToken):s.snapshotVersion.compareTo(re.min())>0&&(o.readTime=np(i,s.snapshotVersion.toTimestamp())),o}(this.It,e);const r=function Pye(n,e){const t=function(r,i){switch(i){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return K()}}(0,e.purpose);return null==t?null:{"goog-listen-tags":t}}(0,e);r&&(t.labels=r),this.Bo(t)}Ho(e){const t={};t.database=ip(this.It),t.removeTarget=e,this.Bo(t)}}class $ve extends OG{constructor(e,t,r,i,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,i,o),this.It=s,this.Jo=!1}get Yo(){return this.Jo}start(){this.Jo=!1,this.lastStreamToken=void 0,super.start()}qo(){this.Jo&&this.Xo([])}jo(e,t){return this.connection.wo("Write",e,t)}onMessage(e){if(ne(!!e.streamToken),this.lastStreamToken=e.streamToken,this.Jo){this.xo.reset();const t=function Nye(n,e){return n&&n.length>0?(ne(void 0!==e),n.map(t=>function(r,i){let s=wn(r.updateTime?r.updateTime:i);return s.isEqual(re.min())&&(s=wn(i)),new yye(s,r.transformResults||[])}(t,e))):[]}(e.writeResults,e.commitTime),r=wn(e.commitTime);return this.listener.Zo(r,t)}return ne(!e.writeResults||0===e.writeResults.length),this.Jo=!0,this.listener.tu()}eu(){const e={};e.database=ip(this.It),this.Bo(e)}Xo(e){const t={streamToken:this.lastStreamToken,writes:e.map(r=>function sp(n,e){let t;if(e instanceof zu)t={update:U3(n,e.key,e.value)};else if(e instanceof Gu)t={delete:rp(n,e.key)};else if(e instanceof vo)t={update:U3(n,e.key,e.data),updateMask:Bye(e.fieldMask)};else{if(!(e instanceof RM))return K();t={verify:rp(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(r=>function(i,s){const o=s.transform;if(o instanceof ju)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(o instanceof Rl)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:o.elements}};if(o instanceof Nl)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:o.elements}};if(o instanceof Hu)return{fieldPath:s.field.canonicalString(),increment:o.yt};throw K()}(0,r))),e.precondition.isNone||(t.currentDocument=void 0!==(i=e.precondition).updateTime?{updateTime:xye(n,i.updateTime)}:void 0!==i.exists?{exists:i.exists}:K()),t;var i}(this.It,r))};this.Bo(t)}}class jve extends class{}{constructor(e,t,r,i){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=r,this.It=i,this.nu=!1}su(){if(this.nu)throw new k(I.FAILED_PRECONDITION,"The client has already been terminated.")}ao(e,t,r){return this.su(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,s])=>this.connection.ao(e,t,r,i,s)).catch(i=>{throw"FirebaseError"===i.name?(i.code===I.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new k(I.UNKNOWN,i.toString())})}_o(e,t,r,i){return this.su(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection._o(e,t,r,s,o,i)).catch(s=>{throw"FirebaseError"===s.name?(s.code===I.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new k(I.UNKNOWN,s.toString())})}terminate(){this.nu=!0}}class zve{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.iu=0,this.ru=null,this.ou=!0}uu(){0===this.iu&&(this.cu("Unknown"),this.ru=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.ru=null,this.au("Backend didn't respond within 10 seconds."),this.cu("Offline"),Promise.resolve())))}hu(e){"Online"===this.state?this.cu("Unknown"):(this.iu++,this.iu>=1&&(this.lu(),this.au(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.cu("Offline")))}set(e){this.lu(),this.iu=0,"Online"===e&&(this.ou=!1),this.cu(e)}cu(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}au(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.ou?(Ht(t),this.ou=!1):R("OnlineStateTracker",t)}lu(){null!==this.ru&&(this.ru.cancel(),this.ru=null)}}class Gve{constructor(e,t,r,i,s){var o=this;this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.fu=[],this.du=new Map,this._u=new Set,this.wu=[],this.mu=s,this.mu.qr(a=>{r.enqueueAndForget(_(function*(){var l;bo(o)&&(R("RemoteStore","Restarting streams for network reachability change."),yield(l=_(function*(c){const u=j(c);u._u.add(4),yield Zu(u),u.gu.set("Unknown"),u._u.delete(4),yield gp(u)}),function(c){return l.apply(this,arguments)})(o))}))}),this.gu=new zve(r,i)}}function gp(n){return sx.apply(this,arguments)}function sx(){return sx=_(function*(n){if(bo(n))for(const e of n.wu)yield e(!0)}),sx.apply(this,arguments)}function Zu(n){return ox.apply(this,arguments)}function ox(){return ox=_(function*(n){for(const e of n.wu)yield e(!1)}),ox.apply(this,arguments)}function Ev(n,e){const t=j(n);t.du.has(e.targetId)||(t.du.set(e.targetId,e),cx(t)?lx(t):ed(t).ko()&&ax(t,e))}function mp(n,e){const t=j(n),r=ed(t);t.du.delete(e),r.ko()&&FG(t,e),0===t.du.size&&(r.ko()?r.Fo():bo(t)&&t.gu.set("Unknown"))}function ax(n,e){n.yu.Mt(e.targetId),ed(n).zo(e)}function FG(n,e){n.yu.Mt(e),ed(n).Ho(e)}function lx(n){n.yu=new Sye({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),se:e=>n.du.get(e)||null}),ed(n).start(),n.gu.uu()}function cx(n){return bo(n)&&!ed(n).No()&&n.du.size>0}function bo(n){return 0===j(n)._u.size}function LG(n){n.yu=void 0}function Wve(n){return ux.apply(this,arguments)}function ux(){return ux=_(function*(n){n.du.forEach((e,t)=>{ax(n,e)})}),ux.apply(this,arguments)}function qve(n,e){return dx.apply(this,arguments)}function dx(){return dx=_(function*(n,e){LG(n),cx(n)?(n.gu.hu(e),lx(n)):n.gu.set("Unknown")}),dx.apply(this,arguments)}function Kve(n,e,t){return hx.apply(this,arguments)}function hx(){return hx=_(function*(n,e,t){if(n.gu.set("Online"),e instanceof R3&&2===e.state&&e.cause)try{yield(r=_(function*(i,s){const o=s.cause;for(const a of s.targetIds)i.du.has(a)&&(yield i.remoteSyncer.rejectListen(a,o),i.du.delete(a),i.yu.removeTarget(a))}),function(i,s){return r.apply(this,arguments)})(n,e)}catch(r){R("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield Iv(n,r)}else if(e instanceof lv?n.yu.Gt(e):e instanceof k3?n.yu.Yt(e):n.yu.Wt(e),!t.isEqual(re.min()))try{const r=yield TG(n.localStore);t.compareTo(r)>=0&&(yield function(i,s){const o=i.yu.te(s);return o.targetChanges.forEach((a,l)=>{if(a.resumeToken.approximateByteSize()>0){const c=i.du.get(l);c&&i.du.set(l,c.withResumeToken(a.resumeToken,s))}}),o.targetMismatches.forEach(a=>{const l=i.du.get(a);if(!l)return;i.du.set(a,l.withResumeToken(pn.EMPTY_BYTE_STRING,l.snapshotVersion)),FG(i,a);const c=new fa(l.target,a,1,l.sequenceNumber);ax(i,c)}),i.remoteSyncer.applyRemoteEvent(o)}(n,t))}catch(r){R("RemoteStore","Failed to raise snapshot:",r),yield Iv(n,r)}var r}),hx.apply(this,arguments)}function Iv(n,e,t){return fx.apply(this,arguments)}function fx(){return fx=_(function*(n,e,t){if(!aa(e))throw e;n._u.add(1),yield Zu(n),n.gu.set("Offline"),t||(t=()=>TG(n.localStore)),n.asyncQueue.enqueueRetryable(_(function*(){R("RemoteStore","Retrying IndexedDB access"),yield t(),n._u.delete(1),yield gp(n)}))}),fx.apply(this,arguments)}function VG(n,e){return e().catch(t=>Iv(n,t,e))}function Ju(n){return px.apply(this,arguments)}function px(){return px=_(function*(n){const e=j(n),t=ma(e);let r=e.fu.length>0?e.fu[e.fu.length-1].batchId:-1;for(;Yve(e);)try{const i=yield Nve(e.localStore,r);if(null===i){0===e.fu.length&&t.Fo();break}r=i.batchId,Qve(e,i)}catch(i){yield Iv(e,i)}BG(e)&&UG(e)}),px.apply(this,arguments)}function Yve(n){return bo(n)&&n.fu.length<10}function Qve(n,e){n.fu.push(e);const t=ma(n);t.ko()&&t.Yo&&t.Xo(e.mutations)}function BG(n){return bo(n)&&!ma(n).No()&&n.fu.length>0}function UG(n){ma(n).start()}function Xve(n){return gx.apply(this,arguments)}function gx(){return gx=_(function*(n){ma(n).eu()}),gx.apply(this,arguments)}function Zve(n){return mx.apply(this,arguments)}function mx(){return mx=_(function*(n){const e=ma(n);for(const t of n.fu)e.Xo(t.mutations)}),mx.apply(this,arguments)}function Jve(n,e,t){return _x.apply(this,arguments)}function _x(){return _x=_(function*(n,e,t){const r=n.fu.shift(),i=BM.from(r,e,t);yield VG(n,()=>n.remoteSyncer.applySuccessfulWrite(i)),yield Ju(n)}),_x.apply(this,arguments)}function ebe(n,e){return yx.apply(this,arguments)}function yx(){return yx=_(function*(n,e){var t;e&&ma(n).Yo&&(yield(t=_(function*(r,i){if(S3(s=i.code)&&s!==I.ABORTED){const o=r.fu.shift();ma(r).Mo(),yield VG(r,()=>r.remoteSyncer.rejectFailedWrite(o.batchId,i)),yield Ju(r)}var s}),function(r,i){return t.apply(this,arguments)})(n,e)),BG(n)&&UG(n)}),yx.apply(this,arguments)}function $G(n,e){return vx.apply(this,arguments)}function vx(){return vx=_(function*(n,e){const t=j(n);t.asyncQueue.verifyOperationInProgress(),R("RemoteStore","RemoteStore received new credentials");const r=bo(t);t._u.add(3),yield Zu(t),r&&t.gu.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t._u.delete(3),yield gp(t)}),vx.apply(this,arguments)}function wx(){return wx=_(function*(n,e){const t=j(n);e?(t._u.delete(2),yield gp(t)):e||(t._u.add(2),yield Zu(t),t.gu.set("Unknown"))}),wx.apply(this,arguments)}function ed(n){return n.pu||(n.pu=function(e,t,r){const i=j(e);return i.su(),new Uve(t,i.connection,i.authCredentials,i.appCheckCredentials,i.It,r)}(n.datastore,n.asyncQueue,{Yr:Wve.bind(null,n),Zr:qve.bind(null,n),Wo:Kve.bind(null,n)}),n.wu.push(function(){var e=_(function*(t){t?(n.pu.Mo(),cx(n)?lx(n):n.gu.set("Unknown")):(yield n.pu.stop(),LG(n))});return function(t){return e.apply(this,arguments)}}())),n.pu}function ma(n){return n.Iu||(n.Iu=function(e,t,r){const i=j(e);return i.su(),new $ve(t,i.connection,i.authCredentials,i.appCheckCredentials,i.It,r)}(n.datastore,n.asyncQueue,{Yr:Xve.bind(null,n),Zr:ebe.bind(null,n),tu:Zve.bind(null,n),Zo:Jve.bind(null,n)}),n.wu.push(function(){var e=_(function*(t){t?(n.Iu.Mo(),yield Ju(n)):(yield n.Iu.stop(),n.fu.length>0&&(R("RemoteStore",`Stopping write stream with ${n.fu.length} pending writes`),n.fu=[]))});return function(t){return e.apply(this,arguments)}}())),n.Iu}class Cx{constructor(e,t,r,i,s){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new fn,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}static createAndSchedule(e,t,r,i,s){const o=Date.now()+r,a=new Cx(e,t,o,i,s);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new k(I.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function td(n,e){if(Ht("AsyncQueue",`${e}: ${n}`),aa(n))return new k(I.UNAVAILABLE,`${e}: ${n}`);throw n}class nd{constructor(e){this.comparator=e?(t,r)=>e(t,r)||U.comparator(t.key,r.key):(t,r)=>U.comparator(t.key,r.key),this.keyedMap=Zf(),this.sortedSet=new Vt(this.comparator)}static emptySet(e){return new nd(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,r)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof nd)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){const i=t.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const r=new nd;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}}class jG{constructor(){this.Tu=new Vt(U.comparator)}track(e){const t=e.doc.key,r=this.Tu.get(t);r?0!==e.type&&3===r.type?this.Tu=this.Tu.insert(t,e):3===e.type&&1!==r.type?this.Tu=this.Tu.insert(t,{type:r.type,doc:e.doc}):2===e.type&&2===r.type?this.Tu=this.Tu.insert(t,{type:2,doc:e.doc}):2===e.type&&0===r.type?this.Tu=this.Tu.insert(t,{type:0,doc:e.doc}):1===e.type&&0===r.type?this.Tu=this.Tu.remove(t):1===e.type&&2===r.type?this.Tu=this.Tu.insert(t,{type:1,doc:r.doc}):0===e.type&&1===r.type?this.Tu=this.Tu.insert(t,{type:2,doc:e.doc}):K():this.Tu=this.Tu.insert(t,e)}Eu(){const e=[];return this.Tu.inorderTraversal((t,r)=>{e.push(r)}),e}}class rd{constructor(e,t,r,i,s,o,a,l,c){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=l,this.hasCachedResults=c}static fromInitialDocuments(e,t,r,i,s){const o=[];return t.forEach(a=>{o.push({type:0,doc:a})}),new rd(e,t,nd.emptySet(t),o,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Yf(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let i=0;i<t.length;i++)if(t[i].type!==r[i].type||!t[i].doc.isEqual(r[i].doc))return!1;return!0}}class tbe{constructor(){this.Au=void 0,this.listeners=[]}}class nbe{constructor(){this.queries=new ha(e=>u3(e),Yf),this.onlineState="Unknown",this.Ru=new Set}}function Ix(){return Ix=_(function*(n,e){const t=j(n),r=e.query;let i=!1,s=t.queries.get(r);if(s||(i=!0,s=new tbe),i)try{s.Au=yield t.onListen(r)}catch(o){const a=td(o,`Initialization of query '${xM(e.query)}' failed`);return void e.onError(a)}t.queries.set(r,s),s.listeners.push(e),e.bu(t.onlineState),s.Au&&e.Pu(s.Au)&&Dx(t)}),Ix.apply(this,arguments)}function Sx(){return Sx=_(function*(n,e){const t=j(n),r=e.query;let i=!1;const s=t.queries.get(r);if(s){const o=s.listeners.indexOf(e);o>=0&&(s.listeners.splice(o,1),i=0===s.listeners.length)}if(i)return t.queries.delete(r),t.onUnlisten(r)}),Sx.apply(this,arguments)}function rbe(n,e){const t=j(n);let r=!1;for(const i of e){const o=t.queries.get(i.query);if(o){for(const a of o.listeners)a.Pu(i)&&(r=!0);o.Au=i}}r&&Dx(t)}function ibe(n,e,t){const r=j(n),i=r.queries.get(e);if(i)for(const s of i.listeners)s.onError(t);r.queries.delete(e)}function Dx(n){n.Ru.forEach(e=>{e.next()})}class Ax{constructor(e,t,r){this.query=e,this.vu=t,this.Vu=!1,this.Su=null,this.onlineState="Unknown",this.options=r||{}}Pu(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)3!==i.type&&r.push(i);e=new rd(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Vu?this.Du(e)&&(this.vu.next(e),t=!0):this.Cu(e,this.onlineState)&&(this.xu(e),t=!0),this.Su=e,t}onError(e){this.vu.error(e)}bu(e){this.onlineState=e;let t=!1;return this.Su&&!this.Vu&&this.Cu(this.Su,e)&&(this.xu(this.Su),t=!0),t}Cu(e,t){return!e.fromCache||(!this.options.Nu||!("Offline"!==t))&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}Du(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.Su&&this.Su.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}xu(e){e=rd.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Vu=!0,this.vu.next(e)}}class GG{constructor(e){this.key=e}}class WG{constructor(e){this.key=e}}class qG{constructor(e,t){this.query=e,this.Uu=t,this.qu=null,this.hasCachedResults=!1,this.current=!1,this.Ku=ve(),this.mutatedKeys=ve(),this.Gu=h3(e),this.Qu=new nd(this.Gu)}get ju(){return this.Uu}Wu(e,t){const r=t?t.zu:new jG,i=t?t.Qu:this.Qu;let s=t?t.mutatedKeys:this.mutatedKeys,o=i,a=!1;const l="F"===this.query.limitType&&i.size===this.query.limit?i.last():null,c="L"===this.query.limitType&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((u,d)=>{const h=i.get(u),f=kM(this.query,d)?d:null,p=!!h&&this.mutatedKeys.has(h.key),g=!!f&&(f.hasLocalMutations||this.mutatedKeys.has(f.key)&&f.hasCommittedMutations);let m=!1;h&&f?h.data.isEqual(f.data)?p!==g&&(r.track({type:3,doc:f}),m=!0):this.Hu(h,f)||(r.track({type:2,doc:f}),m=!0,(l&&this.Gu(f,l)>0||c&&this.Gu(f,c)<0)&&(a=!0)):!h&&f?(r.track({type:0,doc:f}),m=!0):h&&!f&&(r.track({type:1,doc:h}),m=!0,(l||c)&&(a=!0)),m&&(f?(o=o.add(f),s=g?s.add(u):s.delete(u)):(o=o.delete(u),s=s.delete(u)))}),null!==this.query.limit)for(;o.size>this.query.limit;){const u="F"===this.query.limitType?o.last():o.first();o=o.delete(u.key),s=s.delete(u.key),r.track({type:1,doc:u})}return{Qu:o,zu:r,$i:a,mutatedKeys:s}}Hu(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r){const i=this.Qu;this.Qu=e.Qu,this.mutatedKeys=e.mutatedKeys;const s=e.zu.Eu();s.sort((c,u)=>function(d,h){const f=p=>{switch(p){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return K()}};return f(d)-f(h)}(c.type,u.type)||this.Gu(c.doc,u.doc)),this.Ju(r);const o=t?this.Yu():[],a=0===this.Ku.size&&this.current?1:0,l=a!==this.qu;return this.qu=a,0!==s.length||l?{snapshot:new rd(this.query,e.Qu,i,s,e.mutatedKeys,0===a,l,!1,!!r&&r.resumeToken.approximateByteSize()>0),Xu:o}:{Xu:o}}bu(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Qu:this.Qu,zu:new jG,mutatedKeys:this.mutatedKeys,$i:!1},!1)):{Xu:[]}}Zu(e){return!this.Uu.has(e)&&!!this.Qu.has(e)&&!this.Qu.get(e).hasLocalMutations}Ju(e){e&&(e.addedDocuments.forEach(t=>this.Uu=this.Uu.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Uu=this.Uu.delete(t)),this.current=e.current)}Yu(){if(!this.current)return[];const e=this.Ku;this.Ku=ve(),this.Qu.forEach(r=>{this.Zu(r.key)&&(this.Ku=this.Ku.add(r.key))});const t=[];return e.forEach(r=>{this.Ku.has(r)||t.push(new WG(r))}),this.Ku.forEach(r=>{e.has(r)||t.push(new GG(r))}),t}tc(e){this.Uu=e.Hi,this.Ku=ve();const t=this.Wu(e.documents);return this.applyChanges(t,!0)}ec(){return rd.fromInitialDocuments(this.query,this.Qu,this.mutatedKeys,0===this.qu,this.hasCachedResults)}}class abe{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}}class lbe{constructor(e){this.key=e,this.nc=!1}}class cbe{constructor(e,t,r,i,s,o){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.sc={},this.ic=new ha(a=>u3(a),Yf),this.rc=new Map,this.oc=new Set,this.uc=new Vt(U.comparator),this.cc=new Map,this.ac=new zM,this.hc={},this.lc=new Map,this.fc=Ul.vn(),this.onlineState="Unknown",this.dc=void 0}get isPrimaryClient(){return!0===this.dc}}function ube(n,e){return Mx.apply(this,arguments)}function Mx(){return Mx=_(function*(n,e){const t=Zx(n);let r,i;const s=t.ic.get(e);if(s)r=s.targetId,t.sharedClientState.addLocalQueryTarget(r),i=s.view.ec();else{const o=yield Qu(t.localStore,pr(e));t.isPrimaryClient&&Ev(t.remoteStore,o);const a=t.sharedClientState.addLocalQueryTarget(o.targetId);r=o.targetId,i=yield xx(t,e,r,"current"===a,o.resumeToken)}return i}),Mx.apply(this,arguments)}function xx(n,e,t,r,i){return kx.apply(this,arguments)}function kx(){return kx=_(function*(n,e,t,r,i){n._c=(d,h,f)=>{return(p=_(function*(g,m,v,C){let y=m.view.Wu(v);y.$i&&(y=yield vv(g.localStore,m.query,!1).then(({documents:B})=>m.view.Wu(B,y)));const D=C&&C.targetChanges.get(m.targetId),O=m.view.applyChanges(y,g.isPrimaryClient,D);return $x(g,m.targetId,O.Xu),O.snapshot}),function(g,m,v,C){return p.apply(this,arguments)})(n,d,h,f);var p};const s=yield vv(n.localStore,e,!0),o=new qG(e,s.Hi),a=o.Wu(s.documents),l=tp.createSynthesizedTargetChangeForCurrentChange(t,r&&"Offline"!==n.onlineState,i),c=o.applyChanges(a,n.isPrimaryClient,l);$x(n,t,c.Xu);const u=new abe(e,t,o);return n.ic.set(e,u),n.rc.has(t)?n.rc.get(t).push(e):n.rc.set(t,[e]),c.snapshot}),kx.apply(this,arguments)}function dbe(n,e){return Rx.apply(this,arguments)}function Rx(){return Rx=_(function*(n,e){const t=j(n),r=t.ic.get(e),i=t.rc.get(r.targetId);if(i.length>1)return t.rc.set(r.targetId,i.filter(s=>!Yf(s,e))),void t.ic.delete(e);t.isPrimaryClient?(t.sharedClientState.removeLocalQueryTarget(r.targetId),t.sharedClientState.isActiveQueryTarget(r.targetId)||(yield Xu(t.localStore,r.targetId,!1).then(()=>{t.sharedClientState.clearQueryState(r.targetId),mp(t.remoteStore,r.targetId),id(t,r.targetId)}).catch(oa))):(id(t,r.targetId),yield Xu(t.localStore,r.targetId,!0))}),Rx.apply(this,arguments)}function Nx(){return Nx=_(function*(n,e,t){const r=Jx(n);try{const i=yield function(s,o){const a=j(s),l=At.now(),c=o.reduce((h,f)=>h.add(f.key),ve());let u,d;return a.persistence.runTransaction("Locally write mutations","readwrite",h=>{let f=xr(),p=ve();return a.Gi.getEntries(h,c).next(g=>{f=g,f.forEach((m,v)=>{v.isValidDocument()||(p=p.add(m))})}).next(()=>a.localDocuments.getOverlayedDocuments(h,f)).next(g=>{u=g;const m=[];for(const v of o){const C=bye(v,u.get(v.key).overlayedDocument);null!=C&&m.push(new vo(v.key,C,e3(C.value.mapValue),bt.exists(!0)))}return a.mutationQueue.addMutationBatch(h,l,m,o)}).next(g=>{d=g;const m=g.applyToLocalDocumentSet(u,p);return a.documentOverlayCache.saveOverlays(h,g.batchId,m)})}).then(()=>({batchId:d.batchId,changes:M3(u)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(s,o,a){let l=s.hc[s.currentUser.toKey()];l||(l=new Vt(fe)),l=l.insert(o,a),s.hc[s.currentUser.toKey()]=l}(r,i.batchId,t),yield wo(r,i.changes),yield Ju(r.remoteStore)}catch(i){const s=td(i,"Failed to persist write");t.reject(s)}}),Nx.apply(this,arguments)}function KG(n,e){return Px.apply(this,arguments)}function Px(){return Px=_(function*(n,e){const t=j(n);try{const r=yield Rve(t.localStore,e);e.targetChanges.forEach((i,s)=>{const o=t.cc.get(s);o&&(ne(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?o.nc=!0:i.modifiedDocuments.size>0?ne(o.nc):i.removedDocuments.size>0&&(ne(o.nc),o.nc=!1))}),yield wo(t,r,e)}catch(r){yield oa(r)}}),Px.apply(this,arguments)}function YG(n,e,t){const r=j(n);if(r.isPrimaryClient&&0===t||!r.isPrimaryClient&&1===t){const i=[];r.ic.forEach((s,o)=>{const a=o.view.bu(e);a.snapshot&&i.push(a.snapshot)}),function(s,o){const a=j(s);a.onlineState=o;let l=!1;a.queries.forEach((c,u)=>{for(const d of u.listeners)d.bu(o)&&(l=!0)}),l&&Dx(a)}(r.eventManager,e),i.length&&r.sc.Wo(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function fbe(n,e,t){return Ox.apply(this,arguments)}function Ox(){return Ox=_(function*(n,e,t){const r=j(n);r.sharedClientState.updateQueryState(e,"rejected",t);const i=r.cc.get(e),s=i&&i.key;if(s){let o=new Vt(U.comparator);o=o.insert(s,ht.newNoDocument(s,re.min()));const a=ve().add(s),l=new ep(re.min(),new Map,new nt(fe),o,a);yield KG(r,l),r.uc=r.uc.remove(s),r.cc.delete(e),jx(r)}else yield Xu(r.localStore,e,!1).then(()=>id(r,e,t)).catch(oa)}),Ox.apply(this,arguments)}function pbe(n,e){return Fx.apply(this,arguments)}function Fx(){return Fx=_(function*(n,e){const t=j(n),r=e.batch.batchId;try{const i=yield kve(t.localStore,e);Ux(t,r,null),Bx(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),yield wo(t,i)}catch(i){yield oa(i)}}),Fx.apply(this,arguments)}function gbe(n,e,t){return Lx.apply(this,arguments)}function Lx(){return Lx=_(function*(n,e,t){const r=j(n);try{const i=yield function(s,o){const a=j(s);return a.persistence.runTransaction("Reject batch","readwrite-primary",l=>{let c;return a.mutationQueue.lookupMutationBatch(l,o).next(u=>(ne(null!==u),c=u.keys(),a.mutationQueue.removeMutationBatch(l,u))).next(()=>a.mutationQueue.performConsistencyCheck(l)).next(()=>a.documentOverlayCache.removeOverlaysForBatchId(l,c,o)).next(()=>a.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(l,c)).next(()=>a.localDocuments.getDocuments(l,c))})}(r.localStore,e);Ux(r,e,t),Bx(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),yield wo(r,i)}catch(i){yield oa(i)}}),Lx.apply(this,arguments)}function Bx(n,e){(n.lc.get(e)||[]).forEach(t=>{t.resolve()}),n.lc.delete(e)}function Ux(n,e,t){const r=j(n);let i=r.hc[r.currentUser.toKey()];if(i){const s=i.get(e);s&&(t?s.reject(t):s.resolve(),i=i.remove(e)),r.hc[r.currentUser.toKey()]=i}}function id(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const r of n.rc.get(e))n.ic.delete(r),t&&n.sc.wc(r,t);n.rc.delete(e),n.isPrimaryClient&&n.ac.ls(e).forEach(r=>{n.ac.containsKey(r)||QG(n,r)})}function QG(n,e){n.oc.delete(e.path.canonicalString());const t=n.uc.get(e);null!==t&&(mp(n.remoteStore,t),n.uc=n.uc.remove(e),n.cc.delete(t),jx(n))}function $x(n,e,t){for(const r of t)r instanceof GG?(n.ac.addReference(r.key,e),_be(n,r)):r instanceof WG?(R("SyncEngine","Document no longer in limbo: "+r.key),n.ac.removeReference(r.key,e),n.ac.containsKey(r.key)||QG(n,r.key)):K()}function _be(n,e){const t=e.key,r=t.path.canonicalString();n.uc.get(t)||n.oc.has(r)||(R("SyncEngine","New document in limbo: "+t),n.oc.add(r),jx(n))}function jx(n){for(;n.oc.size>0&&n.uc.size<n.maxConcurrentLimboResolutions;){const e=n.oc.values().next().value;n.oc.delete(e);const t=new U(Ve.fromString(e)),r=n.fc.next();n.cc.set(r,new lbe(t)),n.uc=n.uc.insert(t,r),Ev(n.remoteStore,new fa(pr(Uu(t.path)),r,2,Mr.at))}}function wo(n,e,t){return Hx.apply(this,arguments)}function Hx(){return Hx=_(function*(n,e,t){const r=j(n),i=[],s=[],o=[];var a;r.ic.isEmpty()||(r.ic.forEach((a,l)=>{o.push(r._c(l,e,t).then(c=>{if((c||t)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(l.targetId,c?.fromCache?"not-current":"current"),c){i.push(c);const u=KM.Ci(l.targetId,c);s.push(u)}}))}),yield Promise.all(o),r.sc.Wo(i),yield(a=_(function*(l,c){const u=j(l);try{yield u.persistence.runTransaction("notifyLocalViewChanges","readwrite",d=>E.forEach(c,h=>E.forEach(h.Si,f=>u.persistence.referenceDelegate.addReference(d,h.targetId,f)).next(()=>E.forEach(h.Di,f=>u.persistence.referenceDelegate.removeReference(d,h.targetId,f)))))}catch(d){if(!aa(d))throw d;R("LocalStore","Failed to update sequence numbers: "+d)}for(const d of c){const h=d.targetId;if(!d.fromCache){const f=u.Ui.get(h),g=f.withLastLimboFreeSnapshotVersion(f.snapshotVersion);u.Ui=u.Ui.insert(h,g)}}}),function(l,c){return a.apply(this,arguments)})(r.localStore,s))}),Hx.apply(this,arguments)}function ybe(n,e){return zx.apply(this,arguments)}function zx(){return zx=_(function*(n,e){const t=j(n);if(!t.currentUser.isEqual(e)){R("SyncEngine","User change. New user:",e.toKey());const r=yield IG(t.localStore,e);t.currentUser=e,(i=t).lc.forEach(o=>{o.forEach(a=>{a.reject(new k(I.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),i.lc.clear(),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield wo(t,r.ji)}var i}),zx.apply(this,arguments)}function vbe(n,e){const t=j(n),r=t.cc.get(e);if(r&&r.nc)return ve().add(r.key);{let i=ve();const s=t.rc.get(e);if(!s)return i;for(const o of s){const a=t.ic.get(o);i=i.unionWith(a.view.ju)}return i}}function Zx(n){const e=j(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=KG.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=vbe.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=fbe.bind(null,e),e.sc.Wo=rbe.bind(null,e.eventManager),e.sc.wc=ibe.bind(null,e.eventManager),e}function Jx(n){const e=j(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=pbe.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=gbe.bind(null,e),e}class Abe{constructor(){this.synchronizeTabs=!1}initialize(e){var t=this;return _(function*(){t.It=pp(e.databaseInfo.databaseId),t.sharedClientState=t.gc(e),t.persistence=t.yc(e),yield t.persistence.start(),t.localStore=t.Ic(e),t.gcScheduler=t.Tc(e,t.localStore),t.indexBackfillerScheduler=t.Ec(e,t.localStore)})()}Tc(e,t){return null}Ec(e,t){return null}Ic(e){return function EG(n,e,t,r){return new xve(n,e,t,r)}(this.persistence,new CG,e.initialUser,this.It)}yc(e){return new bG(_v.Bs,this.It)}gc(e){return new RG}terminate(){var e=this;return _(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class ek{initialize(e,t){var r=this;return _(function*(){r.localStore||(r.localStore=e.localStore,r.sharedClientState=e.sharedClientState,r.datastore=r.createDatastore(t),r.remoteStore=r.createRemoteStore(t),r.eventManager=r.createEventManager(t),r.syncEngine=r.createSyncEngine(t,!e.synchronizeTabs),r.sharedClientState.onlineStateHandler=i=>YG(r.syncEngine,i,1),r.remoteStore.remoteSyncer.handleCredentialChange=ybe.bind(null,r.syncEngine),yield function bx(n,e){return wx.apply(this,arguments)}(r.remoteStore,r.syncEngine.isPrimaryClient))})()}createEventManager(e){return new nbe}createDatastore(e){const t=pp(e.databaseInfo.databaseId),r=new Bve(e.databaseInfo);return new jve(e.authCredentials,e.appCheckCredentials,r,t)}createRemoteStore(e){return t=this.localStore,r=this.datastore,i=e.asyncQueue,s=a=>YG(this.syncEngine,a,0),o=NG.C()?new NG:new Fve,new Gve(t,r,i,s,o);var t,r,i,s,o}createSyncEngine(e,t){return function(r,i,s,o,a,l,c){const u=new cbe(r,i,s,o,a,l);return c&&(u.dc=!0),u}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return(e=_(function*(t){const r=j(t);R("RemoteStore","RemoteStore shutting down."),r._u.add(5),yield Zu(r),r.mu.shutdown(),r.gu.set("Unknown")}),function(t){return e.apply(this,arguments)})(this.remoteStore);var e}}function tk(n,e,t){if(!t)throw new k(I.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function JG(n){if(!U.isDocumentKey(n))throw new k(I.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function Tv(n){if(void 0===n)return"undefined";if(null===n)return"null";if("string"==typeof n)return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if("number"==typeof n||"boolean"==typeof n)return""+n;if("object"==typeof n){if(n instanceof Array)return"an array";{const e=(t=n).constructor?t.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var t;return"function"==typeof n?"a function":K()}function Oe(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new k(I.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=Tv(n);throw new k(I.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}const nW=new Map;class rW{constructor(e){var t;if(void 0===e.host){if(void 0!==e.ssl)throw new k(I.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new k(I.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.useFetchStreams=!!e.useFetchStreams,function kbe(n,e,t,r){if(!0===e&&!0===r)throw new k(I.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling)}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class _p{constructor(e,t,r,i){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new rW({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new k(I.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new k(I.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new rW(e),void 0!==e.credentials&&(this._authCredentials=function(t){if(!t)return new B_e;switch(t.type){case"gapi":return new H_e(t.client,t.sessionIndex||"0",t.iamToken||null,t.authTokenFactory||null);case"provider":return t.client;default:throw new k(I.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=nW.get(e);t&&(R("ComponentProvider","Removing Datastore"),nW.delete(e),t.terminate())}(this),Promise.resolve()}}class Gt{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new vs(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Gt(this.firestore,e,this._key)}}class Zn{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Zn(this.firestore,e,this._query)}}class vs extends Zn{constructor(e,t,r){super(e,t,Uu(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Gt(this.firestore,null,new U(e))}withConverter(e){return new vs(this.firestore,e,this._path)}}function iW(n,e,...t){if(n=He(n),1===arguments.length&&(e=Lz.R()),tk("doc","path",e),n instanceof _p){const r=Ve.fromString(e,...t);return JG(r),new Gt(n,null,new U(r))}{if(!(n instanceof Gt||n instanceof vs))throw new k(I.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(Ve.fromString(e,...t));return JG(r),new Gt(n.firestore,n instanceof vs?n.converter:null,new U(r))}}class Sv{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Rc(this.observer.next,e)}error(e){this.observer.error?this.Rc(this.observer.error,e):Ht("Uncaught Error in snapshot listener:",e.toString())}bc(){this.muted=!0}Rc(e,t){this.muted||setTimeout(()=>{this.muted||e(t)},0)}}class Vbe{constructor(e,t,r,i){var s=this;this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=i,this.user=bn.UNAUTHENTICATED,this.clientId=Lz.R(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,function(){var o=_(function*(a){R("FirestoreClient","Received user=",a.uid),yield s.authCredentialListener(a),s.user=a});return function(a){return o.apply(this,arguments)}}()),this.appCheckCredentials.start(r,o=>(R("FirestoreClient","Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}getConfiguration(){var e=this;return _(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new k(I.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const t=new fn;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(_(function*(){try{e.onlineComponents&&(yield e.onlineComponents.terminate()),e.offlineComponents&&(yield e.offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve()}catch(r){const i=td(r,"Failed to shutdown persistence");t.reject(i)}})),t.promise}}function aW(n,e){return nk.apply(this,arguments)}function nk(){return nk=_(function*(n,e){n.asyncQueue.verifyOperationInProgress(),R("FirestoreClient","Initializing OfflineComponentProvider");const t=yield n.getConfiguration();yield e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener(function(){var i=_(function*(s){r.isEqual(s)||(yield IG(e.localStore,s),r=s)});return function(s){return i.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n.offlineComponents=e}),nk.apply(this,arguments)}function lW(n,e){return rk.apply(this,arguments)}function rk(){return rk=_(function*(n,e){n.asyncQueue.verifyOperationInProgress();const t=yield ik(n);R("FirestoreClient","Initializing OnlineComponentProvider");const r=yield n.getConfiguration();yield e.initialize(t,r),n.setCredentialChangeListener(i=>$G(e.remoteStore,i)),n.setAppCheckTokenChangeListener((i,s)=>$G(e.remoteStore,s)),n.onlineComponents=e}),rk.apply(this,arguments)}function ik(n){return sk.apply(this,arguments)}function sk(){return sk=_(function*(n){return n.offlineComponents||(R("FirestoreClient","Using default OfflineComponentProvider"),yield aW(n,new Abe)),n.offlineComponents}),sk.apply(this,arguments)}function Dv(n){return ok.apply(this,arguments)}function ok(){return ok=_(function*(n){return n.onlineComponents||(R("FirestoreClient","Using default OnlineComponentProvider"),yield lW(n,new ek)),n.onlineComponents}),ok.apply(this,arguments)}function sd(n){return ck.apply(this,arguments)}function ck(){return ck=_(function*(n){const e=yield Dv(n),t=e.eventManager;return t.onListen=ube.bind(null,e.syncEngine),t.onUnlisten=dbe.bind(null,e.syncEngine),t}),ck.apply(this,arguments)}class Wbe{constructor(){this.Bc=Promise.resolve(),this.Lc=[],this.Uc=!1,this.qc=[],this.Kc=null,this.Gc=!1,this.Qc=!1,this.jc=[],this.xo=new rx(this,"async_queue_retry"),this.Wc=()=>{const t=Cv();t&&R("AsyncQueue","Visibility state changed to "+t.visibilityState),this.xo.Po()};const e=Cv();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Wc)}get isShuttingDown(){return this.Uc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.zc(),this.Hc(e)}enterRestrictedMode(e){if(!this.Uc){this.Uc=!0,this.Qc=e||!1;const t=Cv();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Wc)}}enqueue(e){if(this.zc(),this.Uc)return new Promise(()=>{});const t=new fn;return this.Hc(()=>this.Uc&&this.Qc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Lc.push(e),this.Jc()))}Jc(){var e=this;return _(function*(){if(0!==e.Lc.length){try{yield e.Lc[0](),e.Lc.shift(),e.xo.reset()}catch(t){if(!aa(t))throw t;R("AsyncQueue","Operation failed with retryable error: "+t)}e.Lc.length>0&&e.xo.Ro(()=>e.Jc())}})()}Hc(e){const t=this.Bc.then(()=>(this.Gc=!0,e().catch(r=>{throw this.Kc=r,this.Gc=!1,Ht("INTERNAL UNHANDLED ERROR: ",function(s){let o=s.message||"";return s.stack&&(o=s.stack.includes(s.message)?s.stack:s.message+"\n"+s.stack),o}(r)),r}).then(r=>(this.Gc=!1,r))));return this.Bc=t,t}enqueueAfterDelay(e,t,r){this.zc(),this.jc.indexOf(e)>-1&&(t=0);const i=Cx.createAndSchedule(this,e,t,r,s=>this.Yc(s));return this.qc.push(i),i}zc(){this.Kc&&K()}verifyOperationInProgress(){}Xc(){var e=this;return _(function*(){let t;do{t=e.Bc,yield t}while(t!==e.Bc)})()}Zc(e){for(const t of this.qc)if(t.timerId===e)return!0;return!1}ta(e){return this.Xc().then(()=>{this.qc.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(const t of this.qc)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.Xc()})}ea(e){this.jc.push(e)}Yc(e){const t=this.qc.indexOf(e);this.qc.splice(t,1)}}function uk(n){return function(e,t){if("object"!=typeof e||null===e)return!1;const r=e;for(const i of["next","error","complete"])if(i in r&&"function"==typeof r[i])return!0;return!1}(n)}class mt extends _p{constructor(e,t,r,i){super(e,t,r,i),this.type="firestore",this._queue=new Wbe,this._persistenceKey=i?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||fW(this),this._firestoreClient.terminate()}}function Kbe(n,e){const r="string"==typeof n?n:e||"(default)",i=Tr("object"==typeof n?n:as(),"firestore").getImmediate({identifier:r});if(!i._initialized){const s=L_("firestore");s&&function Rbe(n,e,t,r={}){var i;const s=(n=Oe(n,_p))._getSettings();if("firestore.googleapis.com"!==s.host&&s.host!==e&&Ou("Host has been set in both settings() and useEmulator(), emulator host will be used"),n._setSettings(Object.assign(Object.assign({},s),{host:`${e}:${t}`,ssl:!1})),r.mockUserToken){let o,a;if("string"==typeof r.mockUserToken)o=r.mockUserToken,a=bn.MOCK_USER;else{o=bI(r.mockUserToken,null===(i=n._app)||void 0===i?void 0:i.options.projectId);const l=r.mockUserToken.sub||r.mockUserToken.user_id;if(!l)throw new k(I.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");a=new bn(l)}n._authCredentials=new U_e(new Oz(o,a))}}(i,...s)}return i}function nn(n){return n._firestoreClient||fW(n),n._firestoreClient.verifyNotTerminated(),n._firestoreClient}function fW(n){var e;const t=n._freezeSettings(),r=(s=(null===(e=n._app)||void 0===e?void 0:e.options.appId)||"",new tye(n._databaseId,s,n._persistenceKey,(a=t).host,a.ssl,a.experimentalForceLongPolling,a.experimentalAutoDetectLongPolling,a.useFetchStreams));var s,a;n._firestoreClient=new Vbe(n._authCredentials,n._appCheckCredentials,n._queue,r)}class jl{constructor(e){this._byteString=e}static fromBase64String(e){try{return new jl(pn.fromBase64String(e))}catch(t){throw new k(I.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new jl(pn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class od{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new k(I.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new zt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class dk{constructor(e){this._methodName=e}}class hk{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new k(I.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new k(I.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return fe(this._lat,e._lat)||fe(this._long,e._long)}}const Ybe=/^__.*__$/;class Qbe{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return null!==this.fieldMask?new vo(e,this.data,this.fieldMask,t,this.fieldTransforms):new zu(e,this.data,t,this.fieldTransforms)}}class mW{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return new vo(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function _W(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw K()}}class Mv{constructor(e,t,r,i,s,o){this.settings=e,this.databaseId=t,this.It=r,this.ignoreUndefinedProperties=i,void 0===s&&this.na(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get sa(){return this.settings.sa}ia(e){return new Mv(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.It,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ra(e){var t;const r=null===(t=this.path)||void 0===t?void 0:t.child(e),i=this.ia({path:r,oa:!1});return i.ua(e),i}ca(e){var t;const r=null===(t=this.path)||void 0===t?void 0:t.child(e),i=this.ia({path:r,oa:!1});return i.na(),i}aa(e){return this.ia({path:void 0,oa:!0})}ha(e){return kv(e,this.settings.methodName,this.settings.la||!1,this.path,this.settings.fa)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}na(){if(this.path)for(let e=0;e<this.path.length;e++)this.ua(this.path.get(e))}ua(e){if(0===e.length)throw this.ha("Document fields must not be empty");if(_W(this.sa)&&Ybe.test(e))throw this.ha('Document fields cannot begin and end with "__"')}}class Xbe{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.It=r||pp(e)}da(e,t,r,i=!1){return new Mv({sa:e,methodName:t,fa:r,path:zt.emptyPath(),oa:!1,la:i},this.databaseId,this.It,this.ignoreUndefinedProperties)}}function ad(n){const e=n._freezeSettings(),t=pp(n._databaseId);return new Xbe(n._databaseId,!!e.ignoreUndefinedProperties,t)}function fk(n,e,t,r,i,s={}){const o=n.da(s.merge||s.mergeFields?2:0,e,t,i);gk("Data must be an object, but it was:",o,r);const a=CW(r,o);let l,c;if(s.merge)l=new Xr(o.fieldMask),c=o.fieldTransforms;else if(s.mergeFields){const u=[];for(const d of s.mergeFields){const h=mk(e,d,t);if(!o.contains(h))throw new k(I.INVALID_ARGUMENT,`Field '${h}' is specified in your field mask but missing from your input data.`);IW(u,h)||u.push(h)}l=new Xr(u),c=o.fieldTransforms.filter(d=>l.covers(d.field))}else l=null,c=o.fieldTransforms;return new Qbe(new Bn(a),l,c)}class yp extends dk{_toFieldTransform(e){if(2!==e.sa)throw e.ha(1===e.sa?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof yp}}function Hl(n,e){if(EW(n=He(n)))return gk("Unsupported field value:",e,n),CW(n,e);if(n instanceof dk)return function(t,r){if(!_W(r.sa))throw r.ha(`${t._methodName}() can only be used with update() and set()`);if(!r.path)throw r.ha(`${t._methodName}() is not currently supported inside arrays`);const i=t._toFieldTransform(r);i&&r.fieldTransforms.push(i)}(n,e),null;if(void 0===n&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.oa&&4!==e.sa)throw e.ha("Nested arrays are not supported");return function(t,r){const i=[];let s=0;for(const o of t){let a=Hl(o,r.aa(s));null==a&&(a={nullValue:"NULL_VALUE"}),i.push(a),s++}return{arrayValue:{values:i}}}(n,e)}return function(t,r){if(null===(t=He(t)))return{nullValue:"NULL_VALUE"};if("number"==typeof t)return g3(r.It,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){const i=At.fromDate(t);return{timestampValue:np(r.It,i)}}if(t instanceof At){const i=new At(t.seconds,1e3*Math.floor(t.nanoseconds/1e3));return{timestampValue:np(r.It,i)}}if(t instanceof hk)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof jl)return{bytesValue:F3(r.It,t._byteString)};if(t instanceof Gt){const i=r.databaseId,s=t.firestore._databaseId;if(!s.isEqual(i))throw r.ha(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:NM(t.firestore._databaseId||r.databaseId,t._key.path)}}throw r.ha(`Unsupported field value: ${Tv(t)}`)}(n,e)}function CW(n,e){const t={};return zz(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Sl(n,(r,i)=>{const s=Hl(i,e.ra(r));null!=s&&(t[r]=s)}),{mapValue:{fields:t}}}function EW(n){return!("object"!=typeof n||null===n||n instanceof Array||n instanceof Date||n instanceof At||n instanceof hk||n instanceof jl||n instanceof Gt||n instanceof dk)}function gk(n,e,t){if(!EW(t)||"object"!=typeof(r=t)||null===r||Object.getPrototypeOf(r)!==Object.prototype&&null!==Object.getPrototypeOf(r)){const r=Tv(t);throw e.ha("an object"===r?n+" a custom object":n+" "+r)}var r}function mk(n,e,t){if((e=He(e))instanceof od)return e._internalPath;if("string"==typeof e)return xv(n,e);throw kv("Field path arguments must be of type string or ",n,!1,void 0,t)}const twe=new RegExp("[~\\*/\\[\\]]");function xv(n,e,t){if(e.search(twe)>=0)throw kv(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new od(...e.split("."))._internalPath}catch{throw kv(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function kv(n,e,t,r,i){const s=r&&!r.isEmpty(),o=void 0!==i;let a=`Function ${e}() called with invalid data`;t&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(s||o)&&(l+=" (found",s&&(l+=` in field ${r}`),o&&(l+=` in document ${i}`),l+=")"),new k(I.INVALID_ARGUMENT,a+n+l)}function IW(n,e){return n.some(t=>t.isEqual(e))}class _k{constructor(e,t,r,i,s){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new Gt(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new nwe(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(Rv("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class nwe extends _k{data(){return super.data()}}function Rv(n,e){return"string"==typeof e?xv(n,e):e instanceof od?e._internalPath:e._delegate._internalPath}class zl{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class ld extends _k{constructor(e,t,r,i,s,o){super(e,t,r,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new Nv(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const r=this._document.data.field(Rv("DocumentSnapshot.get",e));if(null!==r)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}}class Nv extends ld{data(e={}){return super.data(e)}}class cd{constructor(e,t,r,i){this._firestore=e,this._userDataWriter=t,this._snapshot=i,this.metadata=new zl(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(r=>{e.call(t,new Nv(this._firestore,this._userDataWriter,r.key,r,new zl(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new k(I.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(r,i){if(r._snapshot.oldDocs.isEmpty()){let s=0;return r._snapshot.docChanges.map(o=>({type:"added",doc:new Nv(r._firestore,r._userDataWriter,o.doc.key,o.doc,new zl(r._snapshot.mutatedKeys.has(o.doc.key),r._snapshot.fromCache),r.query.converter),oldIndex:-1,newIndex:s++}))}{let s=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(o=>i||3!==o.type).map(o=>{const a=new Nv(r._firestore,r._userDataWriter,o.doc.key,o.doc,new zl(r._snapshot.mutatedKeys.has(o.doc.key),r._snapshot.fromCache),r.query.converter);let l=-1,c=-1;return 0!==o.type&&(l=s.indexOf(o.doc.key),s=s.delete(o.doc.key)),1!==o.type&&(s=s.add(o.doc),c=s.indexOf(o.doc.key)),{type:owe(o.type),doc:a,oldIndex:l,newIndex:c}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function owe(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return K()}}class _a extends class swe{convertValue(e,t="none"){switch(Ml(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Bt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Dl(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw K()}}convertObject(e,t){const r={};return Sl(e.fields,(i,s)=>{r[i]=this.convertValue(s,t)}),r}convertGeoPoint(e){return new hk(Bt(e.latitude),Bt(e.longitude))}convertArray(e,t){return(e.values||[]).map(r=>this.convertValue(r,t))}convertServerTimestamp(e,t){switch(t){case"previous":const r=Wz(e);return null==r?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(jf(e));default:return null}}convertTimestamp(e){const t=la(e);return new At(t.seconds,t.nanos)}convertDocumentKey(e,t){const r=Ve.fromString(e);ne(G3(r));const i=new Al(r.get(1),r.get(3)),s=new U(r.popFirst(5));return i.isEqual(t)||Ht(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),s}}{constructor(e){super(),this.firestore=e}convertBytes(e){return new jl(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Gt(this.firestore,null,t)}}function awe(n,e,t){n=Oe(n,Gt);const r=Oe(n.firestore,mt),i=function yk(n,e,t){let r;return r=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,r}(n.converter,e,t);return vp(r,[fk(ad(r),"setDoc",n._key,i,null!==n.converter,t).toMutation(n._key,bt.none())])}function lwe(n,e,t,...r){n=Oe(n,Gt);const i=Oe(n.firestore,mt),s=ad(i);let o;return o="string"==typeof(e=He(e))||e instanceof od?function bW(n,e,t,r,i,s){const o=n.da(1,e,t),a=[mk(e,r,t)],l=[i];if(s.length%2!=0)throw new k(I.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let h=0;h<s.length;h+=2)a.push(mk(e,s[h])),l.push(s[h+1]);const c=[],u=Bn.empty();for(let h=a.length-1;h>=0;--h)if(!IW(c,a[h])){const f=a[h];let p=l[h];p=He(p);const g=o.ca(f);if(p instanceof yp)c.push(f);else{const m=Hl(p,g);null!=m&&(c.push(f),u.set(f,m))}}const d=new Xr(c);return new mW(u,d,o.fieldTransforms)}(s,"updateDoc",n._key,e,t,r):function vW(n,e,t,r){const i=n.da(1,e,t);gk("Data must be an object, but it was:",i,r);const s=[],o=Bn.empty();Sl(r,(l,c)=>{const u=xv(e,l,t);c=He(c);const d=i.ca(u);if(c instanceof yp)s.push(u);else{const h=Hl(c,d);null!=h&&(s.push(u),o.set(u,h))}});const a=new Xr(s);return new mW(o,a,i.fieldTransforms)}(s,"updateDoc",n._key,e),vp(i,[o.toMutation(n._key,bt.exists(!0))])}function vp(n,e){return function(t,r){const i=new fn;return t.asyncQueue.enqueueAndForget(_(function*(){return function hbe(n,e,t){return Nx.apply(this,arguments)}(yield function lk(n){return Dv(n).then(e=>e.syncEngine)}(t),r,i)})),i.promise}(nn(n),e)}!function(n,e=!0){Pu="9.14.0",un(new en("firestore",(t,{instanceIdentifier:r,options:i})=>{const s=t.getProvider("app").getImmediate(),o=new mt(new $_e(t.getProvider("auth-internal")),new z_e(t.getProvider("app-check-internal")),function(a,l){if(!Object.prototype.hasOwnProperty.apply(a.options,["projectId"]))throw new k(I.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Al(a.options.projectId,l)}(s,r),s);return i=Object.assign({useFetchStreams:e},i),o._setSettings(i),o},"PUBLIC").setMultipleInstances(!0)),Te(Pz,"3.7.3",n),Te(Pz,"3.7.3","esm2017")}();var fwe={includeMetadataChanges:!1};function bk(n,e){return void 0===e&&(e=fwe),new je(function(t){var r=function cwe(n,...e){var t,r,i;n=He(n);let s={includeMetadataChanges:!1},o=0;"object"!=typeof e[o]||uk(e[o])||(s=e[o],o++);const a={includeMetadataChanges:s.includeMetadataChanges};if(uk(e[o])){const d=e[o];e[o]=null===(t=d.next)||void 0===t?void 0:t.bind(d),e[o+1]=null===(r=d.error)||void 0===r?void 0:r.bind(d),e[o+2]=null===(i=d.complete)||void 0===i?void 0:i.bind(d)}let l,c,u;if(n instanceof Gt)c=Oe(n.firestore,mt),u=Uu(n._key.path),l={next:d=>{e[o]&&e[o](function vk(n,e,t){const r=t.docs.get(e._key),i=new _a(n);return new ld(n,i,e._key,r,new zl(t.hasPendingWrites,t.fromCache),e.converter)}(c,n,d))},error:e[o+1],complete:e[o+2]};else{const d=Oe(n,Zn);c=Oe(d.firestore,mt),u=d._query;const h=new _a(c);l={next:f=>{e[o]&&e[o](new cd(c,h,d,f))},error:e[o+1],complete:e[o+2]},function TW(n){if("L"===n.limitType&&0===n.explicitOrderBy.length)throw new k(I.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}(n._query)}return function(d,h,f,p){const g=new Sv(p),m=new Ax(h,g,f);return d.asyncQueue.enqueueAndForget(_(function*(){return function Ex(n,e){return Ix.apply(this,arguments)}(yield sd(d),m)})),()=>{g.bc(),d.asyncQueue.enqueueAndForget(_(function*(){return function Tx(n,e){return Sx.apply(this,arguments)}(yield sd(d),m)}))}}(nn(c),u,a,l)}(n,e,{next:t.next.bind(t),error:t.error.bind(t),complete:t.complete.bind(t)});return{unsubscribe:r}})}function gwe(n,e){return void 0===e&&(e={}),function pwe(n){return bk(n,{includeMetadataChanges:!0})}(n).pipe(ee(function(t){return function PW(n,e){void 0===e&&(e={});var t=n.data();return!n.exists()||"object"!=typeof t||null===t||e.idField&&(t[e.idField]=n.id),t}(t,e)}))}class bp{constructor(e){return e}}const VW="firestore",Ek=new P("angularfire2.firestore-instances");function Ewe(n){return(e,t)=>{const r=e.runOutsideAngular(()=>n(t));return new bp(r)}}const Iwe={provide:class wwe{constructor(){return cs(VW)}},deps:[[new Ce,Ek]]},Twe={provide:bp,useFactory:function Cwe(n,e){const t=ls(VW,n,e);return t&&new bp(t)},deps:[[new Ce,Ek],Kr]};let Swe=(()=>{class n{constructor(){Te("angularfire",qr.full,"fst")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=ue({type:n}),n.\u0275inj=ce({providers:[Twe,Iwe]}),n})();function Dwe(n,...e){return{ngModule:Swe,providers:[{provide:Ek,useFactory:Ewe(n),multi:!0,deps:[ie,Xe,us,ds,[new Ce,bf],[new Ce,Tu],...e]}]}}const Awe=Dt(gwe,!0),Ik=Dt(iW,!0),Mwe=Dt(Kbe,!0),xwe=Dt(awe,!0),kwe=Dt(lwe,!0);let Ak,Tk=(()=>{class n{constructor(t,r,i){this.firestore=t,this.authService=r}get currentUserProfile$(){return this.authService.currentUser$.pipe(xn(t=>{if(!t?.uid)return G(null);const r=Ik(this.firestore,"users",t?.uid);return Awe(r)}))}addUser(t){const r=Ik(this.firestore,"users",t?.uid);return at(xwe(r,t))}updateUser(t){const r=Ik(this.firestore,"users",t.uid);return at(kwe(r,{...t}))}}return n.\u0275fac=function(t){return new(t||n)(w(bp),w(Mu),w(bp))},n.\u0275prov=F({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function $W(n,...e){return e.length?e.some(t=>n[t]):n.altKey||n.shiftKey||n.ctrlKey||n.metaKey}function jW(n,e=nf){return gt((t,r)=>{let i=null,s=null,o=null;const a=()=>{if(i){i.unsubscribe(),i=null;const c=s;s=null,r.next(c)}};function l(){const c=o+n,u=e.now();if(u<c)return i=this.schedule(void 0,c-u),void r.add(i);a()}t.subscribe(tt(r,c=>{s=c,o=e.now(),i||(i=e.schedule(l,n),r.add(i))},()=>{a(),r.complete()},void 0,()=>{s=i=null}))})}function HW(n,e=Ro){return n=n??Kwe,gt((t,r)=>{let i,s=!0;t.subscribe(tt(r,o=>{const a=e(o);(s||!n(i,a))&&(s=!1,i=a,r.next(o))}))})}function Kwe(n,e){return n===e}function Gl(n){return gt((e,t)=>{An(n).subscribe(tt(t,()=>t.complete(),Eg)),!t.closed&&e.subscribe(t)})}function mi(n){return null!=n&&"false"!=`${n}`}function zW(n){return Array.isArray(n)?n:[n]}function rn(n){return null==n?"":"string"==typeof n?n:`${n}px`}function Co(n){return n instanceof et?n.nativeElement:n}try{Ak=typeof Intl<"u"&&Intl.v8BreakIterator}catch{Ak=!1}let ud,Zr=(()=>{class n{constructor(t){this._platformId=t,this.isBrowser=this._platformId?C0(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!Ak)&&typeof CSS<"u"&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}}return n.\u0275fac=function(t){return new(t||n)(w(qs))},n.\u0275prov=F({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Ov=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=ue({type:n}),n.\u0275inj=ce({}),n})();const GW=["color","button","checkbox","date","datetime-local","email","file","hidden","image","month","number","password","radio","range","reset","search","submit","tel","text","time","url","week"];function WW(){if(ud)return ud;if("object"!=typeof document||!document)return ud=new Set(GW),ud;let n=document.createElement("input");return ud=new Set(GW.filter(e=>(n.setAttribute("type",e),n.type===e))),ud}let wp,Wl,Mk,Bi;function Cp(n){return function Xwe(){if(null==wp&&typeof window<"u")try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>wp=!0}))}finally{wp=wp||!1}return wp}()?n:!!n.capture}function Zwe(){if(null==Wl){if("object"!=typeof document||!document||"function"!=typeof Element||!Element)return Wl=!1,Wl;if("scrollBehavior"in document.documentElement.style)Wl=!0;else{const n=Element.prototype.scrollTo;Wl=!!n&&!/\{\s*\[native code\]\s*\}/.test(n.toString())}}return Wl}function ql(n){return n.composedPath?n.composedPath()[0]:n.target}function xk(){return typeof Bi.__karma__<"u"&&!!Bi.__karma__||typeof Bi.jasmine<"u"&&!!Bi.jasmine||typeof Bi.jest<"u"&&!!Bi.jest||typeof Bi.Mocha<"u"&&!!Bi.Mocha}Bi=typeof global<"u"?global:typeof window<"u"?window:{};let qW=(()=>{class n{create(t){return typeof MutationObserver>"u"?null:new MutationObserver(t)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=F({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),tCe=(()=>{class n{constructor(t){this._mutationObserverFactory=t,this._observedElements=new Map}ngOnDestroy(){this._observedElements.forEach((t,r)=>this._cleanupObserver(r))}observe(t){const r=Co(t);return new je(i=>{const o=this._observeElement(r).subscribe(i);return()=>{o.unsubscribe(),this._unobserveElement(r)}})}_observeElement(t){if(this._observedElements.has(t))this._observedElements.get(t).count++;else{const r=new Fe,i=this._mutationObserverFactory.create(s=>r.next(s));i&&i.observe(t,{characterData:!0,childList:!0,subtree:!0}),this._observedElements.set(t,{observer:i,stream:r,count:1})}return this._observedElements.get(t).stream}_unobserveElement(t){this._observedElements.has(t)&&(this._observedElements.get(t).count--,this._observedElements.get(t).count||this._cleanupObserver(t))}_cleanupObserver(t){if(this._observedElements.has(t)){const{observer:r,stream:i}=this._observedElements.get(t);r&&r.disconnect(),i.complete(),this._observedElements.delete(t)}}}return n.\u0275fac=function(t){return new(t||n)(w(qW))},n.\u0275prov=F({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),nCe=(()=>{class n{constructor(t,r,i){this._contentObserver=t,this._elementRef=r,this._ngZone=i,this.event=new Pe,this._disabled=!1,this._currentSubscription=null}get disabled(){return this._disabled}set disabled(t){this._disabled=mi(t),this._disabled?this._unsubscribe():this._subscribe()}get debounce(){return this._debounce}set debounce(t){this._debounce=function Ywe(n,e=0){return function Qwe(n){return!isNaN(parseFloat(n))&&!isNaN(Number(n))}(n)?Number(n):e}(t),this._subscribe()}ngAfterContentInit(){!this._currentSubscription&&!this.disabled&&this._subscribe()}ngOnDestroy(){this._unsubscribe()}_subscribe(){this._unsubscribe();const t=this._contentObserver.observe(this._elementRef);this._ngZone.runOutsideAngular(()=>{this._currentSubscription=(this.debounce?t.pipe(jW(this.debounce)):t).subscribe(this.event)})}_unsubscribe(){this._currentSubscription?.unsubscribe()}}return n.\u0275fac=function(t){return new(t||n)(b(tCe),b(et),b(ie))},n.\u0275dir=q({type:n,selectors:[["","cdkObserveContent",""]],inputs:{disabled:["cdkObserveContentDisabled","disabled"],debounce:"debounce"},outputs:{event:"cdkObserveContent"},exportAs:["cdkObserveContent"]}),n})(),KW=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=ue({type:n}),n.\u0275inj=ce({providers:[qW]}),n})();function Lv(n,e){return(n.getAttribute(e)||"").match(/\S+/g)||[]}const QW="cdk-describedby-message-container",XW="cdk-describedby-message",Vv="cdk-describedby-host";let sCe=0;const bs=new Map;let Jr=null,oCe=(()=>{class n{constructor(t){this._document=t}describe(t,r,i){if(!this._canBeDescribed(t,r))return;const s=kk(r,i);"string"!=typeof r?(ZW(r),bs.set(s,{messageElement:r,referenceCount:0})):bs.has(s)||this._createMessageElement(r,i),this._isElementDescribedByMessage(t,s)||this._addMessageReference(t,s)}removeDescription(t,r,i){if(!r||!this._isElementNode(t))return;const s=kk(r,i);if(this._isElementDescribedByMessage(t,s)&&this._removeMessageReference(t,s),"string"==typeof r){const o=bs.get(s);o&&0===o.referenceCount&&this._deleteMessageElement(s)}Jr&&0===Jr.childNodes.length&&this._deleteMessagesContainer()}ngOnDestroy(){const t=this._document.querySelectorAll(`[${Vv}]`);for(let r=0;r<t.length;r++)this._removeCdkDescribedByReferenceIds(t[r]),t[r].removeAttribute(Vv);Jr&&this._deleteMessagesContainer(),bs.clear()}_createMessageElement(t,r){const i=this._document.createElement("div");ZW(i),i.textContent=t,r&&i.setAttribute("role",r),this._createMessagesContainer(),Jr.appendChild(i),bs.set(kk(t,r),{messageElement:i,referenceCount:0})}_deleteMessageElement(t){bs.get(t)?.messageElement?.remove(),bs.delete(t)}_createMessagesContainer(){Jr||(this._document.getElementById(QW)?.remove(),Jr=this._document.createElement("div"),Jr.id=QW,Jr.style.visibility="hidden",Jr.classList.add("cdk-visually-hidden"),this._document.body.appendChild(Jr))}_deleteMessagesContainer(){Jr&&(Jr.remove(),Jr=null)}_removeCdkDescribedByReferenceIds(t){const r=Lv(t,"aria-describedby").filter(i=>0!=i.indexOf(XW));t.setAttribute("aria-describedby",r.join(" "))}_addMessageReference(t,r){const i=bs.get(r);(function rCe(n,e,t){const r=Lv(n,e);r.some(i=>i.trim()==t.trim())||(r.push(t.trim()),n.setAttribute(e,r.join(" ")))})(t,"aria-describedby",i.messageElement.id),t.setAttribute(Vv,""),i.referenceCount++}_removeMessageReference(t,r){const i=bs.get(r);i.referenceCount--,function iCe(n,e,t){const i=Lv(n,e).filter(s=>s!=t.trim());i.length?n.setAttribute(e,i.join(" ")):n.removeAttribute(e)}(t,"aria-describedby",i.messageElement.id),t.removeAttribute(Vv)}_isElementDescribedByMessage(t,r){const i=Lv(t,"aria-describedby"),s=bs.get(r),o=s&&s.messageElement.id;return!!o&&-1!=i.indexOf(o)}_canBeDescribed(t,r){if(!this._isElementNode(t))return!1;if(r&&"object"==typeof r)return!0;const i=null==r?"":`${r}`.trim(),s=t.getAttribute("aria-label");return!(!i||s&&s.trim()===i)}_isElementNode(t){return t.nodeType===this._document.ELEMENT_NODE}}return n.\u0275fac=function(t){return new(t||n)(w(Ee))},n.\u0275prov=F({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function kk(n,e){return"string"==typeof n?`${e||""}/${n}`:n}function ZW(n){n.id||(n.id=`${XW}-${sCe++}`)}class lCe extends class aCe{constructor(e){this._items=e,this._activeItemIndex=-1,this._activeItem=null,this._wrap=!1,this._letterKeyStream=new Fe,this._typeaheadSubscription=Rt.EMPTY,this._vertical=!0,this._allowedModifierKeys=[],this._homeAndEnd=!1,this._skipPredicateFn=t=>t.disabled,this._pressedLetters=[],this.tabOut=new Fe,this.change=new Fe,e instanceof iu&&e.changes.subscribe(t=>{if(this._activeItem){const i=t.toArray().indexOf(this._activeItem);i>-1&&i!==this._activeItemIndex&&(this._activeItemIndex=i)}})}skipPredicate(e){return this._skipPredicateFn=e,this}withWrap(e=!0){return this._wrap=e,this}withVerticalOrientation(e=!0){return this._vertical=e,this}withHorizontalOrientation(e){return this._horizontal=e,this}withAllowedModifierKeys(e){return this._allowedModifierKeys=e,this}withTypeAhead(e=200){return this._typeaheadSubscription.unsubscribe(),this._typeaheadSubscription=this._letterKeyStream.pipe(Ot(t=>this._pressedLetters.push(t)),jW(e),cn(()=>this._pressedLetters.length>0),ee(()=>this._pressedLetters.join(""))).subscribe(t=>{const r=this._getItemsArray();for(let i=1;i<r.length+1;i++){const s=(this._activeItemIndex+i)%r.length,o=r[s];if(!this._skipPredicateFn(o)&&0===o.getLabel().toUpperCase().trim().indexOf(t)){this.setActiveItem(s);break}}this._pressedLetters=[]}),this}withHomeAndEnd(e=!0){return this._homeAndEnd=e,this}setActiveItem(e){const t=this._activeItem;this.updateActiveItem(e),this._activeItem!==t&&this.change.next(this._activeItemIndex)}onKeydown(e){const t=e.keyCode,i=["altKey","ctrlKey","metaKey","shiftKey"].every(s=>!e[s]||this._allowedModifierKeys.indexOf(s)>-1);switch(t){case 9:return void this.tabOut.next();case 40:if(this._vertical&&i){this.setNextItemActive();break}return;case 38:if(this._vertical&&i){this.setPreviousItemActive();break}return;case 39:if(this._horizontal&&i){"rtl"===this._horizontal?this.setPreviousItemActive():this.setNextItemActive();break}return;case 37:if(this._horizontal&&i){"rtl"===this._horizontal?this.setNextItemActive():this.setPreviousItemActive();break}return;case 36:if(this._homeAndEnd&&i){this.setFirstItemActive();break}return;case 35:if(this._homeAndEnd&&i){this.setLastItemActive();break}return;default:return void((i||$W(e,"shiftKey"))&&(e.key&&1===e.key.length?this._letterKeyStream.next(e.key.toLocaleUpperCase()):(t>=65&&t<=90||t>=48&&t<=57)&&this._letterKeyStream.next(String.fromCharCode(t))))}this._pressedLetters=[],e.preventDefault()}get activeItemIndex(){return this._activeItemIndex}get activeItem(){return this._activeItem}isTyping(){return this._pressedLetters.length>0}setFirstItemActive(){this._setActiveItemByIndex(0,1)}setLastItemActive(){this._setActiveItemByIndex(this._items.length-1,-1)}setNextItemActive(){this._activeItemIndex<0?this.setFirstItemActive():this._setActiveItemByDelta(1)}setPreviousItemActive(){this._activeItemIndex<0&&this._wrap?this.setLastItemActive():this._setActiveItemByDelta(-1)}updateActiveItem(e){const t=this._getItemsArray(),r="number"==typeof e?e:t.indexOf(e);this._activeItem=t[r]??null,this._activeItemIndex=r}_setActiveItemByDelta(e){this._wrap?this._setActiveInWrapMode(e):this._setActiveInDefaultMode(e)}_setActiveInWrapMode(e){const t=this._getItemsArray();for(let r=1;r<=t.length;r++){const i=(this._activeItemIndex+e*r+t.length)%t.length;if(!this._skipPredicateFn(t[i]))return void this.setActiveItem(i)}}_setActiveInDefaultMode(e){this._setActiveItemByIndex(this._activeItemIndex+e,e)}_setActiveItemByIndex(e,t){const r=this._getItemsArray();if(r[e]){for(;this._skipPredicateFn(r[e]);)if(!r[e+=t])return;this.setActiveItem(e)}}_getItemsArray(){return this._items instanceof iu?this._items.toArray():this._items}}{constructor(){super(...arguments),this._origin="program"}setFocusOrigin(e){return this._origin=e,this}setActiveItem(e){super.setActiveItem(e),this.activeItem&&this.activeItem.focus(this._origin)}}function Rk(n){return 0===n.offsetX&&0===n.offsetY}function Nk(n){const e=n.touches&&n.touches[0]||n.changedTouches&&n.changedTouches[0];return!(!e||-1!==e.identifier||null!=e.radiusX&&1!==e.radiusX||null!=e.radiusY&&1!==e.radiusY)}const pCe=new P("cdk-input-modality-detector-options"),gCe={ignoreKeys:[18,17,224,91,16]},dd=Cp({passive:!0,capture:!0});let mCe=(()=>{class n{constructor(t,r,i,s){this._platform=t,this._mostRecentTarget=null,this._modality=new fi(null),this._lastTouchMs=0,this._onKeydown=o=>{this._options?.ignoreKeys?.some(a=>a===o.keyCode)||(this._modality.next("keyboard"),this._mostRecentTarget=ql(o))},this._onMousedown=o=>{Date.now()-this._lastTouchMs<650||(this._modality.next(Rk(o)?"keyboard":"mouse"),this._mostRecentTarget=ql(o))},this._onTouchstart=o=>{Nk(o)?this._modality.next("keyboard"):(this._lastTouchMs=Date.now(),this._modality.next("touch"),this._mostRecentTarget=ql(o))},this._options={...gCe,...s},this.modalityDetected=this._modality.pipe(function qwe(n){return cn((e,t)=>n<=t)}(1)),this.modalityChanged=this.modalityDetected.pipe(HW()),t.isBrowser&&r.runOutsideAngular(()=>{i.addEventListener("keydown",this._onKeydown,dd),i.addEventListener("mousedown",this._onMousedown,dd),i.addEventListener("touchstart",this._onTouchstart,dd)})}get mostRecentModality(){return this._modality.value}ngOnDestroy(){this._modality.complete(),this._platform.isBrowser&&(document.removeEventListener("keydown",this._onKeydown,dd),document.removeEventListener("mousedown",this._onMousedown,dd),document.removeEventListener("touchstart",this._onTouchstart,dd))}}return n.\u0275fac=function(t){return new(t||n)(w(Zr),w(ie),w(Ee),w(pCe,8))},n.\u0275prov=F({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const yCe=new P("cdk-focus-monitor-default-options"),Bv=Cp({passive:!0,capture:!0});let Pk=(()=>{class n{constructor(t,r,i,s,o){this._ngZone=t,this._platform=r,this._inputModalityDetector=i,this._origin=null,this._windowFocused=!1,this._originFromTouchInteraction=!1,this._elementInfo=new Map,this._monitoredElementCount=0,this._rootNodeFocusListenerCount=new Map,this._windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=setTimeout(()=>this._windowFocused=!1)},this._stopInputModalityDetector=new Fe,this._rootNodeFocusAndBlurListener=a=>{const l=ql(a),c="focus"===a.type?this._onFocus:this._onBlur;for(let u=l;u;u=u.parentElement)c.call(this,a,u)},this._document=s,this._detectionMode=o?.detectionMode||0}monitor(t,r=!1){const i=Co(t);if(!this._platform.isBrowser||1!==i.nodeType)return G(null);const s=function eCe(n){if(function Jwe(){if(null==Mk){const n=typeof document<"u"?document.head:null;Mk=!(!n||!n.createShadowRoot&&!n.attachShadow)}return Mk}()){const e=n.getRootNode?n.getRootNode():null;if(typeof ShadowRoot<"u"&&ShadowRoot&&e instanceof ShadowRoot)return e}return null}(i)||this._getDocument(),o=this._elementInfo.get(i);if(o)return r&&(o.checkChildren=!0),o.subject;const a={checkChildren:r,subject:new Fe,rootNode:s};return this._elementInfo.set(i,a),this._registerGlobalListeners(a),a.subject}stopMonitoring(t){const r=Co(t),i=this._elementInfo.get(r);i&&(i.subject.complete(),this._setClasses(r),this._elementInfo.delete(r),this._removeGlobalListeners(i))}focusVia(t,r,i){const s=Co(t);s===this._getDocument().activeElement?this._getClosestElementsInfo(s).forEach(([a,l])=>this._originChanged(a,r,l)):(this._setOrigin(r),"function"==typeof s.focus&&s.focus(i))}ngOnDestroy(){this._elementInfo.forEach((t,r)=>this.stopMonitoring(r))}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_getFocusOrigin(t){return this._origin?this._originFromTouchInteraction?this._shouldBeAttributedToTouch(t)?"touch":"program":this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:"program"}_shouldBeAttributedToTouch(t){return 1===this._detectionMode||!!t?.contains(this._inputModalityDetector._mostRecentTarget)}_setClasses(t,r){t.classList.toggle("cdk-focused",!!r),t.classList.toggle("cdk-touch-focused","touch"===r),t.classList.toggle("cdk-keyboard-focused","keyboard"===r),t.classList.toggle("cdk-mouse-focused","mouse"===r),t.classList.toggle("cdk-program-focused","program"===r)}_setOrigin(t,r=!1){this._ngZone.runOutsideAngular(()=>{this._origin=t,this._originFromTouchInteraction="touch"===t&&r,0===this._detectionMode&&(clearTimeout(this._originTimeoutId),this._originTimeoutId=setTimeout(()=>this._origin=null,this._originFromTouchInteraction?650:1))})}_onFocus(t,r){const i=this._elementInfo.get(r),s=ql(t);!i||!i.checkChildren&&r!==s||this._originChanged(r,this._getFocusOrigin(s),i)}_onBlur(t,r){const i=this._elementInfo.get(r);!i||i.checkChildren&&t.relatedTarget instanceof Node&&r.contains(t.relatedTarget)||(this._setClasses(r),this._emitOrigin(i.subject,null))}_emitOrigin(t,r){this._ngZone.run(()=>t.next(r))}_registerGlobalListeners(t){if(!this._platform.isBrowser)return;const r=t.rootNode,i=this._rootNodeFocusListenerCount.get(r)||0;i||this._ngZone.runOutsideAngular(()=>{r.addEventListener("focus",this._rootNodeFocusAndBlurListener,Bv),r.addEventListener("blur",this._rootNodeFocusAndBlurListener,Bv)}),this._rootNodeFocusListenerCount.set(r,i+1),1==++this._monitoredElementCount&&(this._ngZone.runOutsideAngular(()=>{this._getWindow().addEventListener("focus",this._windowFocusListener)}),this._inputModalityDetector.modalityDetected.pipe(Gl(this._stopInputModalityDetector)).subscribe(s=>{this._setOrigin(s,!0)}))}_removeGlobalListeners(t){const r=t.rootNode;if(this._rootNodeFocusListenerCount.has(r)){const i=this._rootNodeFocusListenerCount.get(r);i>1?this._rootNodeFocusListenerCount.set(r,i-1):(r.removeEventListener("focus",this._rootNodeFocusAndBlurListener,Bv),r.removeEventListener("blur",this._rootNodeFocusAndBlurListener,Bv),this._rootNodeFocusListenerCount.delete(r))}--this._monitoredElementCount||(this._getWindow().removeEventListener("focus",this._windowFocusListener),this._stopInputModalityDetector.next(),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._originTimeoutId))}_originChanged(t,r,i){this._setClasses(t,r),this._emitOrigin(i.subject,r),this._lastFocusOrigin=r}_getClosestElementsInfo(t){const r=[];return this._elementInfo.forEach((i,s)=>{(s===t||i.checkChildren&&s.contains(t))&&r.push([s,i])}),r}}return n.\u0275fac=function(t){return new(t||n)(w(ie),w(Zr),w(mCe),w(Ee,8),w(yCe,8))},n.\u0275prov=F({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const tq="cdk-high-contrast-black-on-white",nq="cdk-high-contrast-white-on-black",Ok="cdk-high-contrast-active";let rq=(()=>{class n{constructor(t,r){this._platform=t,this._document=r}getHighContrastMode(){if(!this._platform.isBrowser)return 0;const t=this._document.createElement("div");t.style.backgroundColor="rgb(1,2,3)",t.style.position="absolute",this._document.body.appendChild(t);const r=this._document.defaultView||window,i=r&&r.getComputedStyle?r.getComputedStyle(t):null,s=(i&&i.backgroundColor||"").replace(/ /g,"");switch(t.remove(),s){case"rgb(0,0,0)":return 2;case"rgb(255,255,255)":return 1}return 0}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){const t=this._document.body.classList;t.remove(Ok),t.remove(tq),t.remove(nq),this._hasCheckedHighContrastMode=!0;const r=this.getHighContrastMode();1===r?(t.add(Ok),t.add(tq)):2===r&&(t.add(Ok),t.add(nq))}}}return n.\u0275fac=function(t){return new(t||n)(w(Zr),w(Ee))},n.\u0275prov=F({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),vCe=(()=>{class n{constructor(t){t._applyBodyHighContrastModeCssClasses()}}return n.\u0275fac=function(t){return new(t||n)(w(rq))},n.\u0275mod=ue({type:n}),n.\u0275inj=ce({imports:[[Ov,KW]]}),n})();const bCe=new P("cdk-dir-doc",{providedIn:"root",factory:function wCe(){return yt(Ee)}});let Fk=(()=>{class n{constructor(t){if(this.value="ltr",this.change=new Pe,t){const i=t.documentElement?t.documentElement.dir:null,s=(t.body?t.body.dir:null)||i;this.value="ltr"===s||"rtl"===s?s:"ltr"}}ngOnDestroy(){this.change.complete()}}return n.\u0275fac=function(t){return new(t||n)(w(bCe,8))},n.\u0275prov=F({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Ep=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=ue({type:n}),n.\u0275inj=ce({}),n})();const iq=new Bs("13.0.0"),sq=new Bs("13.0.0"),ECe=new P("mat-sanity-checks",{providedIn:"root",factory:function CCe(){return!0}});let Wt=(()=>{class n{constructor(t,r,i){this._hasDoneGlobalChecks=!1,this._document=i,t._applyBodyHighContrastModeCssClasses(),this._sanityChecks=r,this._hasDoneGlobalChecks||(this._checkDoctypeIsDefined(),this._checkThemeIsPresent(),this._checkCdkVersionMatch(),this._hasDoneGlobalChecks=!0)}_checkIsEnabled(t){return!(!function ire(){return qB=!0,WB}()||xk())&&("boolean"==typeof this._sanityChecks?this._sanityChecks:!!this._sanityChecks[t])}_checkDoctypeIsDefined(){this._checkIsEnabled("doctype")&&!this._document.doctype&&console.warn("Current document does not have a doctype. This may cause some Angular Material components not to behave as expected.")}_checkThemeIsPresent(){if(!this._checkIsEnabled("theme")||!this._document.body||"function"!=typeof getComputedStyle)return;const t=this._document.createElement("div");t.classList.add("mat-theme-loaded-marker"),this._document.body.appendChild(t);const r=getComputedStyle(t);r&&"none"!==r.display&&console.warn("Could not find Angular Material core theme. Most Material components may not work as expected. For more info refer to the theming guide: https://material.angular.io/guide/theming"),t.remove()}_checkCdkVersionMatch(){this._checkIsEnabled("version")&&sq.full!==iq.full&&console.warn("The Angular Material version ("+sq.full+") does not match the Angular CDK version ("+iq.full+").\nPlease ensure the versions of these two packages exactly match.")}}return n.\u0275fac=function(t){return new(t||n)(w(rq),w(ECe,8),w(Ee))},n.\u0275mod=ue({type:n}),n.\u0275inj=ce({imports:[[Ep],Ep]}),n})();function Lk(n){return class extends n{constructor(...e){super(...e),this._disabled=!1}get disabled(){return this._disabled}set disabled(e){this._disabled=mi(e)}}}function Uv(n,e){return class extends n{constructor(...t){super(...t),this.defaultColor=e,this.color=e}get color(){return this._color}set color(t){const r=t||this.defaultColor;r!==this._color&&(this._color&&this._elementRef.nativeElement.classList.remove(`mat-${this._color}`),r&&this._elementRef.nativeElement.classList.add(`mat-${r}`),this._color=r)}}}function oq(n){return class extends n{constructor(...e){super(...e),this._disableRipple=!1}get disableRipple(){return this._disableRipple}set disableRipple(e){this._disableRipple=mi(e)}}}function ICe(n){return class extends n{constructor(...e){super(...e),this.stateChanges=new Fe,this.errorState=!1}updateErrorState(){const e=this.errorState,s=(this.errorStateMatcher||this._defaultErrorStateMatcher).isErrorState(this.ngControl?this.ngControl.control:null,this._parentFormGroup||this._parentForm);s!==e&&(this.errorState=s,this.stateChanges.next())}}}let aq=(()=>{class n{isErrorState(t,r){return!!(t&&t.invalid&&(t.touched||r&&r.submitted))}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=F({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),lq=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=ue({type:n}),n.\u0275inj=ce({imports:[[Wt],Wt]}),n})();class SCe{constructor(e,t,r){this._renderer=e,this.element=t,this.config=r,this.state=3}fadeOut(){this._renderer.fadeOutRipple(this)}}const cq={enterDuration:225,exitDuration:150},Vk=Cp({passive:!0}),uq=["mousedown","touchstart"],dq=["mouseup","mouseleave","touchend","touchcancel"];class ACe{constructor(e,t,r,i){this._target=e,this._ngZone=t,this._isPointerDown=!1,this._activeRipples=new Set,this._pointerUpEventsRegistered=!1,i.isBrowser&&(this._containerElement=Co(r))}fadeInRipple(e,t,r={}){const i=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),s={...cq,...r.animation};r.centered&&(e=i.left+i.width/2,t=i.top+i.height/2);const o=r.radius||function xCe(n,e,t){const r=Math.max(Math.abs(n-t.left),Math.abs(n-t.right)),i=Math.max(Math.abs(e-t.top),Math.abs(e-t.bottom));return Math.sqrt(r*r+i*i)}(e,t,i),a=e-i.left,l=t-i.top,c=s.enterDuration,u=document.createElement("div");u.classList.add("mat-ripple-element"),u.style.left=a-o+"px",u.style.top=l-o+"px",u.style.height=2*o+"px",u.style.width=2*o+"px",null!=r.color&&(u.style.backgroundColor=r.color),u.style.transitionDuration=`${c}ms`,this._containerElement.appendChild(u),function MCe(n){window.getComputedStyle(n).getPropertyValue("opacity")}(u),u.style.transform="scale(1)";const d=new SCe(this,u,r);return d.state=0,this._activeRipples.add(d),r.persistent||(this._mostRecentTransientRipple=d),this._runTimeoutOutsideZone(()=>{const h=d===this._mostRecentTransientRipple;d.state=1,!r.persistent&&(!h||!this._isPointerDown)&&d.fadeOut()},c),d}fadeOutRipple(e){const t=this._activeRipples.delete(e);if(e===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),this._activeRipples.size||(this._containerRect=null),!t)return;const r=e.element,i={...cq,...e.config.animation};r.style.transitionDuration=`${i.exitDuration}ms`,r.style.opacity="0",e.state=2,this._runTimeoutOutsideZone(()=>{e.state=3,r.remove()},i.exitDuration)}fadeOutAll(){this._activeRipples.forEach(e=>e.fadeOut())}fadeOutAllNonPersistent(){this._activeRipples.forEach(e=>{e.config.persistent||e.fadeOut()})}setupTriggerEvents(e){const t=Co(e);!t||t===this._triggerElement||(this._removeTriggerEvents(),this._triggerElement=t,this._registerEvents(uq))}handleEvent(e){"mousedown"===e.type?this._onMousedown(e):"touchstart"===e.type?this._onTouchStart(e):this._onPointerUp(),this._pointerUpEventsRegistered||(this._registerEvents(dq),this._pointerUpEventsRegistered=!0)}_onMousedown(e){const t=Rk(e),r=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+800;!this._target.rippleDisabled&&!t&&!r&&(this._isPointerDown=!0,this.fadeInRipple(e.clientX,e.clientY,this._target.rippleConfig))}_onTouchStart(e){if(!this._target.rippleDisabled&&!Nk(e)){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;const t=e.changedTouches;for(let r=0;r<t.length;r++)this.fadeInRipple(t[r].clientX,t[r].clientY,this._target.rippleConfig)}}_onPointerUp(){!this._isPointerDown||(this._isPointerDown=!1,this._activeRipples.forEach(e=>{!e.config.persistent&&(1===e.state||e.config.terminateOnPointerUp&&0===e.state)&&e.fadeOut()}))}_runTimeoutOutsideZone(e,t=0){this._ngZone.runOutsideAngular(()=>setTimeout(e,t))}_registerEvents(e){this._ngZone.runOutsideAngular(()=>{e.forEach(t=>{this._triggerElement.addEventListener(t,this,Vk)})})}_removeTriggerEvents(){this._triggerElement&&(uq.forEach(e=>{this._triggerElement.removeEventListener(e,this,Vk)}),this._pointerUpEventsRegistered&&dq.forEach(e=>{this._triggerElement.removeEventListener(e,this,Vk)}))}}const kCe=new P("mat-ripple-global-options");let Bk=(()=>{class n{constructor(t,r,i,s,o){this._elementRef=t,this._animationMode=o,this.radius=0,this._disabled=!1,this._isInitialized=!1,this._globalOptions=s||{},this._rippleRenderer=new ACe(this,r,t,i)}get disabled(){return this._disabled}set disabled(t){t&&this.fadeOutAllNonPersistent(),this._disabled=t,this._setupTriggerEventsIfEnabled()}get trigger(){return this._trigger||this._elementRef.nativeElement}set trigger(t){this._trigger=t,this._setupTriggerEventsIfEnabled()}ngOnInit(){this._isInitialized=!0,this._setupTriggerEventsIfEnabled()}ngOnDestroy(){this._rippleRenderer._removeTriggerEvents()}fadeOutAll(){this._rippleRenderer.fadeOutAll()}fadeOutAllNonPersistent(){this._rippleRenderer.fadeOutAllNonPersistent()}get rippleConfig(){return{centered:this.centered,radius:this.radius,color:this.color,animation:{...this._globalOptions.animation,..."NoopAnimations"===this._animationMode?{enterDuration:0,exitDuration:0}:{},...this.animation},terminateOnPointerUp:this._globalOptions.terminateOnPointerUp}}get rippleDisabled(){return this.disabled||!!this._globalOptions.disabled}_setupTriggerEventsIfEnabled(){!this.disabled&&this._isInitialized&&this._rippleRenderer.setupTriggerEvents(this.trigger)}launch(t,r=0,i){return"number"==typeof t?this._rippleRenderer.fadeInRipple(t,r,{...this.rippleConfig,...i}):this._rippleRenderer.fadeInRipple(0,0,{...this.rippleConfig,...t})}}return n.\u0275fac=function(t){return new(t||n)(b(et),b(ie),b(Zr),b(kCe,8),b(au,8))},n.\u0275dir=q({type:n,selectors:[["","mat-ripple",""],["","matRipple",""]],hostAttrs:[1,"mat-ripple"],hostVars:2,hostBindings:function(t,r){2&t&&Qt("mat-ripple-unbounded",r.unbounded)},inputs:{color:["matRippleColor","color"],unbounded:["matRippleUnbounded","unbounded"],centered:["matRippleCentered","centered"],radius:["matRippleRadius","radius"],animation:["matRippleAnimation","animation"],disabled:["matRippleDisabled","disabled"],trigger:["matRippleTrigger","trigger"]},exportAs:["matRipple"]}),n})(),hq=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=ue({type:n}),n.\u0275inj=ce({imports:[[Wt,Ov],Wt]}),n})();const RCe=["mat-button",""],NCe=["*"],OCe=["mat-button","mat-flat-button","mat-icon-button","mat-raised-button","mat-stroked-button","mat-mini-fab","mat-fab"],FCe=Uv(Lk(oq(class{constructor(n){this._elementRef=n}})));let hd=(()=>{class n extends FCe{constructor(t,r,i){super(t),this._focusMonitor=r,this._animationMode=i,this.isRoundButton=this._hasHostAttributes("mat-fab","mat-mini-fab"),this.isIconButton=this._hasHostAttributes("mat-icon-button");for(const s of OCe)this._hasHostAttributes(s)&&this._getHostElement().classList.add(s);t.nativeElement.classList.add("mat-button-base"),this.isRoundButton&&(this.color="accent")}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0)}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef)}focus(t,r){t?this._focusMonitor.focusVia(this._getHostElement(),t,r):this._getHostElement().focus(r)}_getHostElement(){return this._elementRef.nativeElement}_isRippleDisabled(){return this.disableRipple||this.disabled}_hasHostAttributes(...t){return t.some(r=>this._getHostElement().hasAttribute(r))}}return n.\u0275fac=function(t){return new(t||n)(b(et),b(Pk),b(au,8))},n.\u0275cmp=Qe({type:n,selectors:[["button","mat-button",""],["button","mat-raised-button",""],["button","mat-icon-button",""],["button","mat-fab",""],["button","mat-mini-fab",""],["button","mat-stroked-button",""],["button","mat-flat-button",""]],viewQuery:function(t,r){if(1&t&&Ho(Bk,5),2&t){let i;It(i=Tt())&&(r.ripple=i.first)}},hostAttrs:[1,"mat-focus-indicator"],hostVars:5,hostBindings:function(t,r){2&t&&(Et("disabled",r.disabled||null),Qt("_mat-animation-noopable","NoopAnimations"===r._animationMode)("mat-button-disabled",r.disabled))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color"},exportAs:["matButton"],features:[Ae],attrs:RCe,ngContentSelectors:NCe,decls:4,vars:5,consts:[[1,"mat-button-wrapper"],["matRipple","",1,"mat-button-ripple",3,"matRippleDisabled","matRippleCentered","matRippleTrigger"],[1,"mat-button-focus-overlay"]],template:function(t,r){1&t&&($o(),T(0,"span",0),qn(1),A(),ye(2,"span",1)(3,"span",2)),2&t&&(N(2),Qt("mat-button-ripple-round",r.isRoundButton||r.isIconButton),L("matRippleDisabled",r._isRippleDisabled())("matRippleCentered",r.isIconButton)("matRippleTrigger",r._getHostElement()))},dependencies:[Bk],styles:[".mat-button .mat-button-focus-overlay,.mat-icon-button .mat-button-focus-overlay{opacity:0}.mat-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay,.mat-stroked-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay{opacity:.04}@media(hover: none){.mat-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay,.mat-stroked-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay{opacity:0}}.mat-button,.mat-icon-button,.mat-stroked-button,.mat-flat-button{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible}.mat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner{border:0}.mat-button.mat-button-disabled,.mat-icon-button.mat-button-disabled,.mat-stroked-button.mat-button-disabled,.mat-flat-button.mat-button-disabled{cursor:default}.mat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-button.cdk-program-focused .mat-button-focus-overlay,.mat-icon-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-icon-button.cdk-program-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-program-focused .mat-button-focus-overlay,.mat-flat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-flat-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner{border:0}.mat-raised-button{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-raised-button::-moz-focus-inner{border:0}.mat-raised-button.mat-button-disabled{cursor:default}.mat-raised-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-raised-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-raised-button::-moz-focus-inner{border:0}._mat-animation-noopable.mat-raised-button{transition:none;animation:none}.mat-stroked-button{border:1px solid currentColor;padding:0 15px;line-height:34px}.mat-stroked-button .mat-button-ripple.mat-ripple,.mat-stroked-button .mat-button-focus-overlay{top:-1px;left:-1px;right:-1px;bottom:-1px}.mat-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);min-width:0;border-radius:50%;width:56px;height:56px;padding:0;flex-shrink:0}.mat-fab::-moz-focus-inner{border:0}.mat-fab.mat-button-disabled{cursor:default}.mat-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-fab::-moz-focus-inner{border:0}._mat-animation-noopable.mat-fab{transition:none;animation:none}.mat-fab .mat-button-wrapper{padding:16px 0;display:inline-block;line-height:24px}.mat-mini-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);min-width:0;border-radius:50%;width:40px;height:40px;padding:0;flex-shrink:0}.mat-mini-fab::-moz-focus-inner{border:0}.mat-mini-fab.mat-button-disabled{cursor:default}.mat-mini-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-mini-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-mini-fab::-moz-focus-inner{border:0}._mat-animation-noopable.mat-mini-fab{transition:none;animation:none}.mat-mini-fab .mat-button-wrapper{padding:8px 0;display:inline-block;line-height:24px}.mat-icon-button{padding:0;min-width:0;width:40px;height:40px;flex-shrink:0;line-height:40px;border-radius:50%}.mat-icon-button i,.mat-icon-button .mat-icon{line-height:24px}.mat-button-ripple.mat-ripple,.mat-button-focus-overlay{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-button-ripple.mat-ripple:not(:empty){transform:translateZ(0)}.mat-button-focus-overlay{opacity:0;transition:opacity 200ms cubic-bezier(0.35, 0, 0.25, 1),background-color 200ms cubic-bezier(0.35, 0, 0.25, 1)}._mat-animation-noopable .mat-button-focus-overlay{transition:none}.mat-button-ripple-round{border-radius:50%;z-index:1}.mat-button .mat-button-wrapper>*,.mat-flat-button .mat-button-wrapper>*,.mat-stroked-button .mat-button-wrapper>*,.mat-raised-button .mat-button-wrapper>*,.mat-icon-button .mat-button-wrapper>*,.mat-fab .mat-button-wrapper>*,.mat-mini-fab .mat-button-wrapper>*{vertical-align:middle}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button{display:inline-flex;justify-content:center;align-items:center;font-size:inherit;width:2.5em;height:2.5em}.cdk-high-contrast-active .mat-button,.cdk-high-contrast-active .mat-flat-button,.cdk-high-contrast-active .mat-raised-button,.cdk-high-contrast-active .mat-icon-button,.cdk-high-contrast-active .mat-fab,.cdk-high-contrast-active .mat-mini-fab{outline:solid 1px}.cdk-high-contrast-active .mat-button-base.cdk-keyboard-focused,.cdk-high-contrast-active .mat-button-base.cdk-program-focused{outline:solid 3px}\n"],encapsulation:2,changeDetection:0}),n})(),LCe=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=ue({type:n}),n.\u0275inj=ce({imports:[[hq,Wt],Wt]}),n})();function VCe(n,e){if(1&n&&(T(0,"h1"),S(1),A()),2&n){const t=e.ngIf;N(1),Ri(" ",t.displayName,', \u0414\u043e\u0431\u0440\u043e \u043f\u043e\u0436\u0430\u043b\u043e\u0432\u0430\u0442\u044c \u0432 "\u041e\u043d\u043b\u0430\u0439\u043d \u0430\u043f\u0442\u0435\u043a\u0443" ')}}function BCe(n,e){1&n&&(T(0,"div",4)(1,"h3"),S(2," \u041d\u043e\u0432\u044b\u0439 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044c? "),T(3,"button",5),S(4," \u0420\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u044f"),A()(),T(5,"h3"),S(6," \u041d\u043e\u0432\u044b\u0439 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044c? "),T(7,"button",6),S(8," \u0412\u043e\u0439\u0442\u0438"),A()()())}let UCe=(()=>{class n{constructor(t,r,i){this.auth=t,this.userService=r,this.drugService=i,this.user$=this.userService.currentUserProfile$,this.drugs=[]}ngOnInit(){this.drugs=this.drugService.drugs,console.log(this.user$)}}return n.\u0275fac=function(t){return new(t||n)(b(Mu),b(Tk),b(R_))},n.\u0275cmp=Qe({type:n,selectors:[["app-home"]],decls:6,vars:4,consts:[[1,"home-page"],[1,"box"],[4,"ngIf","ngIfElse"],["newUser",""],[1,"user-navigate"],["mat-button","","routerLink","signup",1,"btn"],["mat-button","","routerLink","login",1,"btn"]],template:function(t,r){if(1&t&&(T(0,"div",0)(1,"div",1),Z(2,VCe,2,1,"h1",2),Ws(3,"async"),Z(4,BCe,9,0,"ng-template",null,3,Ch),A()()),2&t){const i=mn(5);N(2),L("ngIf",Mm(3,2,r.user$))("ngIfElse",i)}},dependencies:[Oi,Wh,hd,Qm],styles:[".home-page[_ngcontent-%COMP%]{display:flex;width:100%;flex-direction:row}.box[_ngcontent-%COMP%]{width:300px;height:200px;background-color:#dde3e8;border-radius:5px;box-shadow:0 14px 28px #673ab740,0 10px 10px #673ab738}"]}),n})();function fq(...n){const e=_P(n),{args:t,keys:r}=Z2(n),i=new je(s=>{const{length:o}=t;if(!o)return void s.complete();const a=new Array(o);let l=o,c=o;for(let u=0;u<o;u++){let d=!1;An(t[u]).subscribe(tt(s,h=>{d||(d=!0,c--),a[u]=h},()=>l--,void 0,()=>{(!l||!d)&&(c||s.next(r?J2(r,a):a),s.complete())}))}});return e?i.pipe(N0(e)):i}let pq=(()=>{class n{constructor(t,r){this._renderer=t,this._elementRef=r,this.onChange=i=>{},this.onTouched=()=>{}}setProperty(t,r){this._renderer.setProperty(this._elementRef.nativeElement,t,r)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}}return n.\u0275fac=function(t){return new(t||n)(b(Di),b(et))},n.\u0275dir=q({type:n}),n})(),Kl=(()=>{class n extends pq{}return n.\u0275fac=function(){let e;return function(r){return(e||(e=Mn(n)))(r||n)}}(),n.\u0275dir=q({type:n,features:[Ae]}),n})();const ws=new P("NgValueAccessor"),jCe={provide:ws,useExisting:lt(()=>Yl),multi:!0},zCe=new P("CompositionEventMode");let Yl=(()=>{class n extends pq{constructor(t,r,i){super(t,r),this._compositionMode=i,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function HCe(){const n=is()?is().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}())}writeValue(t){this.setProperty("value",t??"")}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}}return n.\u0275fac=function(t){return new(t||n)(b(Di),b(et),b(zCe,8))},n.\u0275dir=q({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(t,r){1&t&&Me("input",function(s){return r._handleInput(s.target.value)})("blur",function(){return r.onTouched()})("compositionstart",function(){return r._compositionStart()})("compositionend",function(s){return r._compositionEnd(s.target.value)})},features:[Ke([jCe]),Ae]}),n})();function ya(n){return null==n||("string"==typeof n||Array.isArray(n))&&0===n.length}function mq(n){return null!=n&&"number"==typeof n.length}const Jn=new P("NgValidators"),va=new P("NgAsyncValidators"),WCe=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class Ui{static min(e){return function _q(n){return e=>{if(ya(e.value)||ya(n))return null;const t=parseFloat(e.value);return!isNaN(t)&&t<n?{min:{min:n,actual:e.value}}:null}}(e)}static max(e){return function yq(n){return e=>{if(ya(e.value)||ya(n))return null;const t=parseFloat(e.value);return!isNaN(t)&&t>n?{max:{max:n,actual:e.value}}:null}}(e)}static required(e){return function vq(n){return ya(n.value)?{required:!0}:null}(e)}static requiredTrue(e){return function bq(n){return!0===n.value?null:{required:!0}}(e)}static email(e){return function wq(n){return ya(n.value)||WCe.test(n.value)?null:{email:!0}}(e)}static minLength(e){return function Cq(n){return e=>ya(e.value)||!mq(e.value)?null:e.value.length<n?{minlength:{requiredLength:n,actualLength:e.value.length}}:null}(e)}static maxLength(e){return function Eq(n){return e=>mq(e.value)&&e.value.length>n?{maxlength:{requiredLength:n,actualLength:e.value.length}}:null}(e)}static pattern(e){return function Iq(n){if(!n)return $v;let e,t;return"string"==typeof n?(t="","^"!==n.charAt(0)&&(t+="^"),t+=n,"$"!==n.charAt(n.length-1)&&(t+="$"),e=new RegExp(t)):(t=n.toString(),e=n),r=>{if(ya(r.value))return null;const i=r.value;return e.test(i)?null:{pattern:{requiredPattern:t,actualValue:i}}}}(e)}static nullValidator(e){return null}static compose(e){return xq(e)}static composeAsync(e){return kq(e)}}function $v(n){return null}function Tq(n){return null!=n}function Sq(n){return fh(n)?at(n):n}function Dq(n){let e={};return n.forEach(t=>{e=null!=t?{...e,...t}:e}),0===Object.keys(e).length?null:e}function Aq(n,e){return e.map(t=>t(n))}function Mq(n){return n.map(e=>function qCe(n){return!n.validate}(e)?e:t=>e.validate(t))}function xq(n){if(!n)return null;const e=n.filter(Tq);return 0==e.length?null:function(t){return Dq(Aq(t,e))}}function Uk(n){return null!=n?xq(Mq(n)):null}function kq(n){if(!n)return null;const e=n.filter(Tq);return 0==e.length?null:function(t){return fq(Aq(t,e).map(Sq)).pipe(ee(Dq))}}function $k(n){return null!=n?kq(Mq(n)):null}function Rq(n,e){return null===n?[e]:Array.isArray(n)?[...n,e]:[n,e]}function Nq(n){return n._rawValidators}function Pq(n){return n._rawAsyncValidators}function jk(n){return n?Array.isArray(n)?n:[n]:[]}function jv(n,e){return Array.isArray(n)?n.includes(e):n===e}function Oq(n,e){const t=jk(e);return jk(n).forEach(i=>{jv(t,i)||t.push(i)}),t}function Fq(n,e){return jk(e).filter(t=>!jv(n,t))}class Lq{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=Uk(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=$k(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e){this.control&&this.control.reset(e)}hasError(e,t){return!!this.control&&this.control.hasError(e,t)}getError(e,t){return this.control?this.control.getError(e,t):null}}class mr extends Lq{get formDirective(){return null}get path(){return null}}class Eo extends Lq{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class Vq{constructor(e){this._cd=e}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let Tp=(()=>{class n extends Vq{constructor(t){super(t)}}return n.\u0275fac=function(t){return new(t||n)(b(Eo,2))},n.\u0275dir=q({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(t,r){2&t&&Qt("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)},features:[Ae]}),n})(),Sp=(()=>{class n extends Vq{constructor(t){super(t)}}return n.\u0275fac=function(t){return new(t||n)(b(mr,10))},n.\u0275dir=q({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(t,r){2&t&&Qt("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)("ng-submitted",r.isSubmitted)},features:[Ae]}),n})();const Dp="VALID",zv="INVALID",fd="PENDING",Ap="DISABLED";function Wk(n){return(Gv(n)?n.validators:n)||null}function Uq(n){return Array.isArray(n)?Uk(n):n||null}function qk(n,e){return(Gv(e)?e.asyncValidators:n)||null}function $q(n){return Array.isArray(n)?$k(n):n||null}function Gv(n){return null!=n&&!Array.isArray(n)&&"object"==typeof n}class zq{constructor(e,t){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=e,this._rawAsyncValidators=t,this._composedValidatorFn=Uq(this._rawValidators),this._composedAsyncValidatorFn=$q(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===Dp}get invalid(){return this.status===zv}get pending(){return this.status==fd}get disabled(){return this.status===Ap}get enabled(){return this.status!==Ap}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._rawValidators=e,this._composedValidatorFn=Uq(e)}setAsyncValidators(e){this._rawAsyncValidators=e,this._composedAsyncValidatorFn=$q(e)}addValidators(e){this.setValidators(Oq(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(Oq(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(Fq(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(Fq(e,this._rawAsyncValidators))}hasValidator(e){return jv(this._rawValidators,e)}hasAsyncValidator(e){return jv(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(t=>{t.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(t=>{t.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=fd,!1!==e.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=Ap,this.errors=null,this._forEachChild(r=>{r.disable({...e,onlySelf:!0})}),this._updateValue(),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...e,skipPristineCheck:t}),this._onDisabledChange.forEach(r=>r(!0))}enable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=Dp,this._forEachChild(r=>{r.enable({...e,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors({...e,skipPristineCheck:t}),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Dp||this.status===fd)&&this._runAsyncValidator(e.emitEvent)),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Ap:Dp}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=fd,this._hasOwnPendingAsyncValidator=!0;const t=Sq(this.asyncValidator(this));this._asyncValidationSubscription=t.subscribe(r=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(r,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(!1!==t.emitEvent)}get(e){let t=e;return null==t||(Array.isArray(t)||(t=t.split(".")),0===t.length)?null:t.reduce((r,i)=>r&&r._find(i),this)}getError(e,t){const r=t?this.get(t):this;return r&&r.errors?r.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new Pe,this.statusChanges=new Pe}_calculateStatus(){return this._allControlsDisabled()?Ap:this.errors?zv:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(fd)?fd:this._anyControlsHaveStatus(zv)?zv:Dp}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){Gv(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){return!e&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(e){return null}}class pd extends zq{constructor(e,t,r){super(Wk(t),qk(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(e,t,r={}){this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}setControl(e,t,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,t={}){(function Hq(n,e,t){n._forEachChild((r,i)=>{if(void 0===t[i])throw new M(1002,"")})})(this,0,e),Object.keys(e).forEach(r=>{(function jq(n,e,t){const r=n.controls;if(!(e?Object.keys(r):r).length)throw new M(1e3,"");if(!r[t])throw new M(1001,"")})(this,!0,r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(Object.keys(e).forEach(r=>{const i=this.controls[r];i&&i.patchValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e={},t={}){this._forEachChild((r,i)=>{r.reset(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this._reduceChildren({},(e,t,r)=>(e[r]=t.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(t,r)=>!!r._syncPendingControls()||t);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(t=>{const r=this.controls[t];r&&e(r,t)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(const[t,r]of Object.entries(this.controls))if(this.contains(t)&&e(r))return!0;return!1}_reduceValue(){return this._reduceChildren({},(t,r,i)=>((r.enabled||this.disabled)&&(t[i]=r.value),t))}_reduceChildren(e,t){let r=e;return this._forEachChild((i,s)=>{r=t(r,i,s)}),r}_allControlsDisabled(){for(const e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}}function Wv(n,e){return[...e.path,n]}function Mp(n,e){Kk(n,e),e.valueAccessor.writeValue(n.value),n.disabled&&e.valueAccessor.setDisabledState?.(!0),function nEe(n,e){e.valueAccessor.registerOnChange(t=>{n._pendingValue=t,n._pendingChange=!0,n._pendingDirty=!0,"change"===n.updateOn&&Gq(n,e)})}(n,e),function iEe(n,e){const t=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};n.registerOnChange(t),e._registerOnDestroy(()=>{n._unregisterOnChange(t)})}(n,e),function rEe(n,e){e.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,"blur"===n.updateOn&&n._pendingChange&&Gq(n,e),"submit"!==n.updateOn&&n.markAsTouched()})}(n,e),function tEe(n,e){if(e.valueAccessor.setDisabledState){const t=r=>{e.valueAccessor.setDisabledState(r)};n.registerOnDisabledChange(t),e._registerOnDestroy(()=>{n._unregisterOnDisabledChange(t)})}}(n,e)}function qv(n,e,t=!0){const r=()=>{};e.valueAccessor&&(e.valueAccessor.registerOnChange(r),e.valueAccessor.registerOnTouched(r)),Yv(n,e),n&&(e._invokeOnDestroyCallbacks(),n._registerOnCollectionChange(()=>{}))}function Kv(n,e){n.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function Kk(n,e){const t=Nq(n);null!==e.validator?n.setValidators(Rq(t,e.validator)):"function"==typeof t&&n.setValidators([t]);const r=Pq(n);null!==e.asyncValidator?n.setAsyncValidators(Rq(r,e.asyncValidator)):"function"==typeof r&&n.setAsyncValidators([r]);const i=()=>n.updateValueAndValidity();Kv(e._rawValidators,i),Kv(e._rawAsyncValidators,i)}function Yv(n,e){let t=!1;if(null!==n){if(null!==e.validator){const i=Nq(n);if(Array.isArray(i)&&i.length>0){const s=i.filter(o=>o!==e.validator);s.length!==i.length&&(t=!0,n.setValidators(s))}}if(null!==e.asyncValidator){const i=Pq(n);if(Array.isArray(i)&&i.length>0){const s=i.filter(o=>o!==e.asyncValidator);s.length!==i.length&&(t=!0,n.setAsyncValidators(s))}}}const r=()=>{};return Kv(e._rawValidators,r),Kv(e._rawAsyncValidators,r),t}function Gq(n,e){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function Wq(n,e){Kk(n,e)}function Yk(n,e){if(!n.hasOwnProperty("model"))return!1;const t=n.model;return!!t.isFirstChange()||!Object.is(e,t.currentValue)}function Kq(n,e){n._syncPendingControls(),e.forEach(t=>{const r=t.control;"submit"===r.updateOn&&r._pendingChange&&(t.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}function Qk(n,e){if(!e)return null;let t,r,i;return Array.isArray(e),e.forEach(s=>{s.constructor===Yl?t=s:function aEe(n){return Object.getPrototypeOf(n.constructor)===Kl}(s)?r=s:i=s}),i||r||t||null}const cEe={provide:mr,useExisting:lt(()=>kp)},xp=(()=>Promise.resolve())();let kp=(()=>{class n extends mr{constructor(t,r){super(),this.submitted=!1,this._directives=new Set,this.ngSubmit=new Pe,this.form=new pd({},Uk(t),$k(r))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(t){xp.then(()=>{const r=this._findContainer(t.path);t.control=r.registerControl(t.name,t.control),Mp(t.control,t),t.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(t)})}getControl(t){return this.form.get(t.path)}removeControl(t){xp.then(()=>{const r=this._findContainer(t.path);r&&r.removeControl(t.name),this._directives.delete(t)})}addFormGroup(t){xp.then(()=>{const r=this._findContainer(t.path),i=new pd({});Wq(i,t),r.registerControl(t.name,i),i.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(t){xp.then(()=>{const r=this._findContainer(t.path);r&&r.removeControl(t.name)})}getFormGroup(t){return this.form.get(t.path)}updateModel(t,r){xp.then(()=>{this.form.get(t.path).setValue(r)})}setValue(t){this.control.setValue(t)}onSubmit(t){return this.submitted=!0,Kq(this.form,this._directives),this.ngSubmit.emit(t),"dialog"===t?.target?.method}onReset(){this.resetForm()}resetForm(t){this.form.reset(t),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(t){return t.pop(),t.length?this.form.get(t):this.form}}return n.\u0275fac=function(t){return new(t||n)(b(Jn,10),b(va,10))},n.\u0275dir=q({type:n,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(t,r){1&t&&Me("submit",function(s){return r.onSubmit(s)})("reset",function(){return r.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[Ke([cEe]),Ae]}),n})();function Yq(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}function Qq(n){return"object"==typeof n&&null!==n&&2===Object.keys(n).length&&"value"in n&&"disabled"in n}const er=class extends zq{constructor(e=null,t,r){super(Wk(t),qk(r,t)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Gv(t)&&(t.nonNullable||t.initialValueIsDefault)&&(this.defaultValue=Qq(e)?e.value:e)}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&!1!==t.emitModelToViewChange&&this._onChange.forEach(r=>r(this.value,!1!==t.emitViewToModelChange)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=this.defaultValue,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){Yq(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){Yq(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(e){Qq(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}},hEe={provide:Eo,useExisting:lt(()=>Xk)},Jq=(()=>Promise.resolve())();let Xk=(()=>{class n extends Eo{constructor(t,r,i,s,o){super(),this._changeDetectorRef=o,this.control=new er,this._registered=!1,this.update=new Pe,this._parent=t,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=Qk(0,s)}ngOnChanges(t){if(this._checkForErrors(),!this._registered||"name"in t){if(this._registered&&(this._checkName(),this.formDirective)){const r=t.name.previousValue;this.formDirective.removeControl({name:r,path:this._getPath(r)})}this._setUpControl()}"isDisabled"in t&&this._updateDisabled(t),Yk(t,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){Mp(this.control,this),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(t){Jq.then(()=>{this.control.setValue(t,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(t){const r=t.isDisabled.currentValue,i=0!==r&&Ys(r);Jq.then(()=>{i&&!this.control.disabled?this.control.disable():!i&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(t){return this._parent?Wv(t,this._parent):[t]}}return n.\u0275fac=function(t){return new(t||n)(b(mr,9),b(Jn,10),b(va,10),b(ws,10),b(Go,8))},n.\u0275dir=q({type:n,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[Ke([hEe]),Ae,sr]}),n})(),Rp=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=q({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),n})(),t5=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=ue({type:n}),n.\u0275inj=ce({}),n})();const Zk=new P("NgModelWithFormControlWarning"),yEe={provide:mr,useExisting:lt(()=>Ql)};let Ql=(()=>{class n extends mr{constructor(t,r){super(),this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new Pe,this._setValidators(t),this._setAsyncValidators(r)}ngOnChanges(t){this._checkFormPresent(),t.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(Yv(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(t){const r=this.form.get(t.path);return Mp(r,t),r.updateValueAndValidity({emitEvent:!1}),this.directives.push(t),r}getControl(t){return this.form.get(t.path)}removeControl(t){qv(t.control||null,t,!1),function lEe(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}(this.directives,t)}addFormGroup(t){this._setUpFormContainer(t)}removeFormGroup(t){this._cleanUpFormContainer(t)}getFormGroup(t){return this.form.get(t.path)}addFormArray(t){this._setUpFormContainer(t)}removeFormArray(t){this._cleanUpFormContainer(t)}getFormArray(t){return this.form.get(t.path)}updateModel(t,r){this.form.get(t.path).setValue(r)}onSubmit(t){return this.submitted=!0,Kq(this.form,this.directives),this.ngSubmit.emit(t),"dialog"===t?.target?.method}onReset(){this.resetForm()}resetForm(t){this.form.reset(t),this.submitted=!1}_updateDomValue(){this.directives.forEach(t=>{const r=t.control,i=this.form.get(t.path);r!==i&&(qv(r||null,t),(n=>n instanceof er)(i)&&(Mp(i,t),t.control=i))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(t){const r=this.form.get(t.path);Wq(r,t),r.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(t){if(this.form){const r=this.form.get(t.path);r&&function sEe(n,e){return Yv(n,e)}(r,t)&&r.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){Kk(this.form,this),this._oldForm&&Yv(this._oldForm,this)}_checkFormPresent(){}}return n.\u0275fac=function(t){return new(t||n)(b(Jn,10),b(va,10))},n.\u0275dir=q({type:n,selectors:[["","formGroup",""]],hostBindings:function(t,r){1&t&&Me("submit",function(s){return r.onSubmit(s)})("reset",function(){return r.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[Ke([yEe]),Ae,sr]}),n})();const wEe={provide:Eo,useExisting:lt(()=>Np)};let Np=(()=>{class n extends Eo{constructor(t,r,i,s,o){super(),this._ngModelWarningConfig=o,this._added=!1,this.update=new Pe,this._ngModelWarningSent=!1,this._parent=t,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=Qk(0,s)}set isDisabled(t){}ngOnChanges(t){this._added||this._setUpControl(),Yk(t,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}get path(){return Wv(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}}return n._ngModelWarningSentOnce=!1,n.\u0275fac=function(t){return new(t||n)(b(mr,13),b(Jn,10),b(va,10),b(ws,10),b(Zk,8))},n.\u0275dir=q({type:n,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[Ke([wEe]),Ae,sr]}),n})(),y5=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=ue({type:n}),n.\u0275inj=ce({imports:[t5]}),n})(),FEe=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=ue({type:n}),n.\u0275inj=ce({imports:[y5]}),n})(),LEe=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:Zk,useValue:t.warnOnNgModelWithFormControl}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=ue({type:n}),n.\u0275inj=ce({imports:[y5]}),n})();function iR(n){return n instanceof ui}function sR(n){return"function"==typeof n}function v5(n){return"string"==typeof n}let BEe=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=Qe({type:n,selectors:[["dynamic-view"]],inputs:{content:"content"},decls:1,vars:1,consts:[[3,"innerHTML"]],template:function(t,r){1&t&&ye(0,"div",0),2&t&&L("innerHTML",r.content,sF)},encapsulation:2}),n})();class UEe{constructor(e){this.args=e,this.wrapper=null,this.args.vcr?(this.viewRef=this.args.vcr.createEmbeddedView(this.args.tpl,this.args.context||{}),this.viewRef.detectChanges()):(this.viewRef=this.args.tpl.createEmbeddedView(this.args.context||{}),this.viewRef.detectChanges(),this.args.appRef.attachView(this.viewRef))}detectChanges(){this.viewRef.detectChanges()}getElement(){const e=this.viewRef.rootNodes;return 1===e.length&&e[0]===Node.ELEMENT_NODE?this.element=e[0]:(this.element=document.createElement("div"),this.element.append(...e)),this.element}destroy(){1!==this.viewRef.rootNodes[0]&&(this.element?.parentNode.removeChild(this.element),this.element=null),this.args.vcr||this.args.appRef.detachView(this.viewRef),this.viewRef.destroy(),this.viewRef=null}}class $Ee{constructor(e){this.value=e}getElement(){return this.value}detectChanges(){}destroy(){}}class jEe{constructor(e){if(this.options=e,e.vcr)this.compRef=e.vcr.createComponent(e.component,{index:e.vcr.length,injector:e.injector||e.vcr.injector});else{const t=e.resolver.resolveComponentFactory(e.component);this.compRef=t.create(e.injector),e.appRef.attachView(this.compRef.hostView)}}get ref(){return this.compRef}setInput(e,t){return this.compRef.instance[e]=t,this}setInputs(e){return Object.keys(e).forEach(t=>{this.compRef.instance[t]=e[t]}),this}detectChanges(){return this.compRef.hostView.detectChanges(),this}appendTo(e){return e.appendChild(this.getElement()),this}removeFrom(e){return e.removeChild(this.getElement()),this}getRawContent(){return this.getElement().outerHTML}getElement(){return this.compRef.location.nativeElement}destroy(){this.compRef.destroy(),!this.options.vcr&&this.options.appRef.detachView(this.compRef.hostView),this.compRef=null}}let b5=(()=>{class n{constructor(t,r,i){this.resolver=t,this.injector=r,this.appRef=i}createComponent(t,r={}){return new jEe({component:t,vcr:r.vcr,injector:r.injector||this.injector,appRef:this.appRef,resolver:this.resolver})}createTemplate(t,r={}){return new UEe({vcr:r.vcr,appRef:this.appRef,tpl:t,context:r.context})}createView(t,r={}){if(iR(t))return this.createTemplate(t,r);if(sR(t))return this.createComponent(t,r);if(v5(t))return new $Ee(t);throw"Type of content is not supported"}}return n.\u0275fac=function(t){return new(t||n)(w(Vo),w(Xe),w(el))},n.\u0275prov=F({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),HEe=(()=>{class n{constructor(t,r,i){this.defaultTpl=t,this.vcr=r,this.viewService=i}ngOnInit(){this.resolveContentType()}ngOnChanges(t){t.view&&!t.view.isFirstChange()&&this.resolveContentType()}resolveContentType(){this.viewRef?.destroy(),v5(this.view)?(this.viewRef=this.viewService.createComponent(BEe,{vcr:this.vcr,injector:this.injector}),this.viewRef.setInput("content",this.view).detectChanges()):this.viewRef=this.viewService.createView(this.view||this.defaultTpl,{vcr:this.vcr,injector:this.injector??this.vcr.injector,context:this.context})}ngOnDestroy(){this.viewRef?.destroy()}}return n.\u0275fac=function(t){return new(t||n)(b(ui),b(zr),b(b5))},n.\u0275dir=q({type:n,selectors:[["","dynamicView",""]],inputs:{view:["dynamicView","view"],injector:["dynamicViewInjector","injector"],context:["dynamicViewContext","context"]},features:[sr]}),n})();const{isArray:zEe}=Array;const KEe=["*"],YEe=function(n,e){return{"border-color":n,"border-right-color":e}};function QEe(n,e){if(1&n&&(T(0,"div"),S(1,"\n        "),ye(2,"hot-toast-error",2),S(3,"\n      "),A()),2&n){const t=Q(3);N(2),L("theme",t.theme)}}function XEe(n,e){if(1&n&&(T(0,"div"),S(1,"\n        "),ye(2,"hot-toast-checkmark",2),S(3,"\n      "),A()),2&n){const t=Q(3);N(2),L("theme",t.theme)}}function ZEe(n,e){if(1&n&&(T(0,"div"),S(1,"\n        "),ye(2,"hot-toast-warning",2),S(3,"\n      "),A()),2&n){const t=Q(3);N(2),L("theme",t.theme)}}function JEe(n,e){if(1&n&&(T(0,"div"),S(1,"\n        "),ye(2,"hot-toast-info",2),S(3,"\n      "),A()),2&n){const t=Q(3);N(2),L("theme",t.theme)}}function e0e(n,e){if(1&n&&(T(0,"div",4),S(1,"\n    "),T(2,"div",5),S(3,"\n      "),Z(4,QEe,4,1,"div",6),S(5,"\n      "),Z(6,XEe,4,1,"div",6),S(7,"\n      "),Z(8,ZEe,4,1,"div",6),S(9,"\n      "),Z(10,JEe,4,1,"div",6),S(11,"\n    "),A(),S(12,"\n  "),A()),2&n){const t=Q(2);N(2),L("ngSwitch",t.type),N(2),L("ngSwitchCase","error"),N(2),L("ngSwitchCase","success"),N(2),L("ngSwitchCase","warning"),N(2),L("ngSwitchCase","info")}}function t0e(n,e){if(1&n&&(T(0,"div",1),S(1,"\n  "),ye(2,"hot-toast-loader",2),S(3,"\n  "),Z(4,e0e,13,5,"div",3),S(5,"\n"),A()),2&n){const t=Q();N(2),L("theme",t.theme),N(2),L("ngIf","loading"!==t.type)}}const n0e=["hotToastBarBase"];function r0e(n,e){if(1&n&&(zs(0),S(1,"\n          "),T(2,"hot-toast-animated-icon",10),S(3),A(),S(4,"\n        "),Gs()),2&n){const t=Q(2);N(2),L("iconTheme",t.toast.iconTheme),N(1),cr(t.toast.icon)}}function i0e(n,e){if(1&n&&(S(0,"\n          "),T(1,"div"),S(2,"\n            "),wm(3,11),S(4,"\n          "),A(),S(5,"\n        ")),2&n){const t=Q(2);N(3),L("dynamicView",t.toast.icon)}}function s0e(n,e){if(1&n&&(zs(0),S(1,"\n        "),Z(2,r0e,5,2,"ng-container",4),S(3,"\n        "),Z(4,i0e,6,1,"ng-template",null,9,Ch),S(6,"\n      "),Gs()),2&n){const t=mn(5),r=Q();N(2),L("ngIf",r.isIconString)("ngIfElse",t)}}function o0e(n,e){if(1&n&&(S(0,"\n        "),ye(1,"hot-toast-indicator",12),S(2,"\n      ")),2&n){const t=Q();N(1),L("theme",t.toast.iconTheme)("type",t.toast.type)}}function a0e(n,e){1&n&&wm(0)}function l0e(n,e){if(1&n){const t=es();T(0,"button",13),Me("click",function(){return Ut(t),$t(Q().close())}),A()}2&n&&L("ngStyle",Q().toast.closeStyle)}function c0e(n,e){if(1&n){const t=es();T(0,"hot-toast",3),Me("height",function(i){const o=Ut(t).$implicit;return $t(Q().updateHeight(i,o))})("beforeClosed",function(){const s=Ut(t).$implicit;return $t(Q().beforeClosed(s))})("afterClosed",function(i){return Ut(t),$t(Q().afterClosed(i))}),A()}if(2&n){const t=e.$implicit,r=e.index,i=Q();L("toast",t)("offset",i.calculateOffset(t.id,t.position))("toastRef",i.toastRefs[r])}}const w5={blank:4e3,error:4e3,success:4e3,loading:3e4,warning:4e3,info:4e3};class E5{constructor(e){this.toast=e,this._onClosed=new Fe}set dispose(e){this._dispose=e}getToast(){return this.toast}appendTo(e){const{dispose:t,updateMessage:r,updateToast:i,afterClosed:s}=e.addToast(this);return this.dispose=t,this.updateMessage=r,this.updateToast=i,this.afterClosed=function WEe(...n){return 1===(n=function GEe(n){return 1===n.length&&zEe(n[0])?n[0]:n}(n)).length?An(n[0]):new je(function qEe(n){return e=>{let t=[];for(let r=0;t&&!e.closed&&r<n.length;r++)t.push(An(n[r]).subscribe(tt(e,i=>{if(t){for(let s=0;s<t.length;s++)s!==r&&t[s].unsubscribe();t=null}e.next(i)})))}}(n))}(this._onClosed.asObservable(),s),this}close(e={dismissedByAction:!1}){this._dispose(),this._onClosed.next({dismissedByAction:e.dismissedByAction,id:this.toast.id}),this._onClosed.complete()}get data(){return this.toast.data}}let f0e=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=Qe({type:n,selectors:[["hot-toast-animated-icon"]],inputs:{iconTheme:"iconTheme"},ngContentSelectors:KEe,decls:5,vars:2,consts:[[1,"hot-toast-animated-icon"]],template:function(t,r){1&t&&($o(),T(0,"div",0),S(1,"\n  "),qn(2),S(3,"\n"),A(),S(4,"\n")),2&t&&jo("color",null==r.iconTheme?null:r.iconTheme.primary)},styles:["@keyframes hotToastEnter{0%{transform:scale(0)}to{transform:scale(1)}}.hot-toast-animated-icon[_ngcontent-%COMP%]{animation:var(--hot-toast-animated-icon-animation, hotToastEnter .3s ease-in-out forwards);position:var(--hot-toast-animated-icon-position, relative);transform:var(--hot-toast-animated-icon-transform, scale(0))}@media (prefers-reduced-motion: reduce){.hot-toast-animated-icon[_ngcontent-%COMP%]{animation-duration:var(--hot-toast-animated-icon-reduced-motion-animation-duration, none);opacity:var(--hot-toast-animated-icon-reduced-motion-opacity, 1);transform:var(--hot-toast-animated-icon-reduced-motion-transform, scale(1))}}"],changeDetection:0}),n})(),p0e=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=Qe({type:n,selectors:[["hot-toast-loader"]],inputs:{theme:"theme"},decls:2,vars:4,consts:[[1,"hot-toast-loader-icon",3,"ngStyle"]],template:function(t,r){1&t&&(ye(0,"div",0),S(1,"\n")),2&t&&L("ngStyle",RE(1,YEe,null==r.theme?null:r.theme.primary,null==r.theme?null:r.theme.secondary))},dependencies:[v0],styles:["@keyframes hotToastRotate{0%{transform:rotate(0)}to{transform:rotate(360deg)}}.hot-toast-loader-icon[_ngcontent-%COMP%]{animation:var(--hot-toast-loader-icon-animation, hotToastRotate 1s linear infinite);border:var(--hot-toast-loader-icon-border, 2px solid);border-bottom-color:var(--hot-toast-loader-icon-border-color, #e0e0e0);border-left-color:var(--hot-toast-loader-icon-border-color, #e0e0e0);border-radius:var(--hot-toast-loader-icon-border-radius, 100%);border-right-color:var(--hot-toast-loader-icon-border-right-color, #616161);border-top-color:var(--hot-toast-loader-icon-border-color, #e0e0e0);box-sizing:var(--hot-toast-loader-icon-box-sizing, border-box);height:var(--hot-toast-loader-icon-height, 18px);padding-top:var(--hot-toast-loader-icon-padding-top, 2px);width:var(--hot-toast-loader-icon-width, 18px)}@media (prefers-reduced-motion: reduce){.hot-toast-loader-icon[_ngcontent-%COMP%]{animation-duration:var(--hot-toast-loader-icon-reduced-motion-animation-duration, 5s)}}"],changeDetection:0}),n})(),g0e=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=Qe({type:n,selectors:[["hot-toast-error"]],inputs:{theme:"theme"},decls:2,vars:4,consts:[[1,"hot-toast-error-icon"]],template:function(t,r){1&t&&(ye(0,"div",0),S(1,"\n")),2&t&&jo("--error-primary",null==r.theme?null:r.theme.primary)("--error-secondary",null==r.theme?null:r.theme.secondary)},styles:['@keyframes hotToastErrorCircleAnimation{0%{opacity:0;transform:scale(0) rotate(45deg)}to{opacity:1;transform:scale(1) rotate(45deg)}}@keyframes hotToastFirstLineAnimation{0%{opacity:0;transform:scale(0)}to{opacity:1;transform:scale(1)}}@keyframes hotToastSecondLineAnimation{0%{opacity:0;transform:scale(0) rotate(90deg)}to{opacity:1;transform:scale(1) rotate(90deg)}}.hot-toast-error-icon[_ngcontent-%COMP%]{animation:var(--hot-toast-error-icon-animation, hotToastErrorCircleAnimation .3s cubic-bezier(.175, .885, .32, 1.275) forwards);animation-delay:var(--hot-toast-error-icon-animation-delay, .1s);background:var(--hot-toast-error-icon-background, var(--error-primary, #ff4b4b));border-radius:var(--hot-toast-error-icon-border-radius, 10px);height:var(--hot-toast-error-icon-height, 20px);opacity:var(--hot-toast-error-icon-opacity, 0);position:var(--hot-toast-error-icon-position, relative);transform:var(--hot-toast-error-icon-transform, rotate(45deg));width:var(--hot-toast-error-icon-width, 20px)}@media (prefers-reduced-motion: reduce){.hot-toast-error-icon[_ngcontent-%COMP%]{animation-duration:var(--hot-toast-error-icon-reduced-motion-animation-duration, 0ms)}}.hot-toast-error-icon[_ngcontent-%COMP%]:after, .hot-toast-error-icon[_ngcontent-%COMP%]:before{animation:var(--hot-toast-error-icon-after-before-animation, hotToastFirstLineAnimation .15s ease-out forwards);animation-delay:var(--hot-toast-error-icon-after-before-animation-delay, .15s);background:var(--hot-toast-error-icon-after-before-background, var(--error-secondary, #fff));border-radius:var(--hot-toast-error-icon-after-before-border-radius, 3px);bottom:var(--hot-toast-error-icon-after-before-bottom, 9px);content:var(--hot-toast-error-icon-after-before-content, "");height:var(--hot-toast-error-icon-after-before-height, 2px);left:var(--hot-toast-error-icon-after-before-left, 4px);opacity:var(--hot-toast-error-icon-after-before-opacity, 0);position:var(--hot-toast-error-icon-after-before-position, absolute);width:var(--hot-toast-error-icon-after-before-width, 12px)}@media (prefers-reduced-motion: reduce){.hot-toast-error-icon[_ngcontent-%COMP%]:after, .hot-toast-error-icon[_ngcontent-%COMP%]:before{animation-duration:var(--hot-toast-error-icon-after-before-reduced-motion-animation-duration, 0ms)}}.hot-toast-error-icon[_ngcontent-%COMP%]:before{animation:var(--hot-toast-error-icon-before-animation, hotToastSecondLineAnimation .15s ease-out forwards);animation-delay:var(--hot-toast-error-icon-before-animation-delay, .18s);transform:var(--hot-toast-error-icon-before-transform, rotate(90deg))}@media (prefers-reduced-motion: reduce){.hot-toast-error-icon[_ngcontent-%COMP%]:before{animation-duration:var(--hot-toast-error-icon-before-reduced-motion-animation-duration, 0ms)}}'],changeDetection:0}),n})(),m0e=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=Qe({type:n,selectors:[["hot-toast-checkmark"]],inputs:{theme:"theme"},decls:2,vars:4,consts:[[1,"hot-toast-checkmark-icon"]],template:function(t,r){1&t&&(ye(0,"div",0),S(1,"\n")),2&t&&jo("--check-primary",null==r.theme?null:r.theme.primary)("--check-secondary",null==r.theme?null:r.theme.secondary)},styles:['@keyframes hotToastCircleAnimation{0%{opacity:0;transform:scale(0) rotate(45deg)}to{opacity:1;transform:scale(1) rotate(45deg)}}@keyframes hotToastCheckmarkAnimation{0%{height:0;opacity:0;width:0}40%{height:0;opacity:1;width:6px}to{height:10px;opacity:1}}.hot-toast-checkmark-icon[_ngcontent-%COMP%]{animation:var(--hot-toast-checkmark-icon-animation, hotToastCircleAnimation .3s cubic-bezier(.175, .885, .32, 1.275) forwards);animation-delay:var(--hot-toast-checkmark-icon-animation-delay, .1s);background-color:var(--hot-toast-checkmark-icon-background-color, var(--check-primary, #61d345));border-radius:var(--hot-toast-checkmark-icon-border-radius, 10px);height:var(--hot-toast-checkmark-icon-height, 20px);opacity:var(--hot-toast-checkmark-icon-opacity, 0);position:var(--hot-toast-checkmark-icon-position, relative);transform:var(--hot-toast-checkmark-icon-transform, rotate(45deg));width:var(--hot-toast-checkmark-icon-width, 20px)}@media (prefers-reduced-motion: reduce){.hot-toast-checkmark-icon[_ngcontent-%COMP%]{animation-duration:var(--hot-toast-checkmark-icon-reduced-motion-animation-duration, 0ms)}}.hot-toast-checkmark-icon[_ngcontent-%COMP%]:after{animation:var(--hot-toast-checkmark-icon-after-animation, hotToastCheckmarkAnimation .2s ease-out forwards);animation-delay:var(--hot-toast-checkmark-icon-after-animation-delay, .2s);border-bottom-style:solid;border-bottom-width:var(--hot-toast-checkmark-icon-after-border-bottom, 2px);border-color:var(--hot-toast-checkmark-icon-after-border-color, var(--check-secondary, #fff));border-right-style:solid;border-right-width:var(--hot-toast-checkmark-icon-after-border-right, 2px);bottom:var(--hot-toast-checkmark-icon-after-bottom, 6px);box-sizing:var(--hot-toast-checkmark-icon-after-box-sizing, border-box);content:var(--hot-toast-checkmark-icon-after-content, "");height:var(--hot-toast-checkmark-icon-after-height, 10px);left:var(--hot-toast-checkmark-icon-after-left, 6px);opacity:var(--hot-toast-checkmark-icon-after-opacity, 0);position:var(--hot-toast-checkmark-icon-after-position, absolute);width:var(--hot-toast-checkmark-icon-after-width, 6px)}@media (prefers-reduced-motion: reduce){.hot-toast-checkmark-icon[_ngcontent-%COMP%]:after{animation-duration:var(--hot-toast-checkmark-icon-after-reduced-motion-animation-duration, 0ms)}}'],changeDetection:0}),n})(),_0e=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=Qe({type:n,selectors:[["hot-toast-warning"]],inputs:{theme:"theme"},decls:2,vars:4,consts:[[1,"hot-toast-warning-icon"]],template:function(t,r){1&t&&(ye(0,"div",0),S(1,"\n")),2&t&&jo("--warn-primary",null==r.theme?null:r.theme.primary)("--warn-secondary",null==r.theme?null:r.theme.secondary)},styles:['@keyframes animate-warn-background{0%{opacity:0;transform:scale(0)}to{opacity:1;transform:scale(1)}}@keyframes animate-warn-line{0%{height:0;opacity:0}40%{height:4.8px;opacity:1}to{height:8px;opacity:1}}.hot-toast-warning-icon[_ngcontent-%COMP%]{animation:var(--hot-toast-warning-icon-animation, animate-warn-background .3s cubic-bezier(.175, .885, .32, 1.275) forwards);animation-delay:var(--hot-toast-warning-icon-animation-delay, .1s);background-color:var(--hot-toast-warning-icon-background-color, var(--warn-primary, #ffab00));border-radius:var(--hot-toast-warning-icon-border-radius, 50%);display:var(--hot-toast-warning-icon-display, block);height:var(--hot-toast-warning-icon-height, 20px);opacity:var(--hot-toast-warning-icon-opacity, 0);position:var(--hot-toast-warning-icon-position, relative);transform:var(--hot-toast-warning-icon-transform, scale(0));width:var(--hot-toast-warning-icon-width, 20px)}.hot-toast-warning-icon[_ngcontent-%COMP%]:after, .hot-toast-warning-icon[_ngcontent-%COMP%]:before{background-color:var(--hot-toast-warning-icon-after-before-background-color, var(--warn-secondary, #fff));border-radius:var(--hot-toast-warning-icon-after-before-border-radius, 3px);box-sizing:var(--hot-toast-warning-icon-after-before-box-sizing, border-box);content:var(--hot-toast-warning-icon-after-before-content, "");display:var(--hot-toast-warning-icon-after-before-display, block);left:var(--hot-toast-warning-icon-after-before-left, 8.5px);position:var(--hot-toast-warning-icon-after-before-position, absolute);width:var(--hot-toast-warning-icon-after-before-width, 2.5px)}.hot-toast-warning-icon[_ngcontent-%COMP%]:after{animation:var(--hot-toast-warning-icon-after-animation, animate-warn-line .2s ease-out forwards);animation-delay:var(--hot-toast-warning-icon-after-animation-delay, .2s);height:var(--hot-toast-warning-icon-after-height, 0);opacity:var(--hot-toast-warning-icon-after-opacity, 0);top:var(--hot-toast-warning-icon-after-top, 4px)}.hot-toast-warning-icon[_ngcontent-%COMP%]:before{bottom:var(--hot-toast-warning-icon-before-bottom, 4px);height:var(--hot-toast-warning-icon-before-height, 2px)}'],changeDetection:0}),n})(),y0e=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=Qe({type:n,selectors:[["hot-toast-info"]],inputs:{theme:"theme"},decls:2,vars:4,consts:[[1,"hot-toast-info-icon"]],template:function(t,r){1&t&&(ye(0,"div",0),S(1,"\n")),2&t&&jo("--warn-primary",null==r.theme?null:r.theme.primary)("--warn-secondary",null==r.theme?null:r.theme.secondary)},styles:['@keyframes animate-info-background{0%{opacity:0;transform:scale(0)}to{opacity:1;transform:scale(1)}}@keyframes animate-info-line{0%{height:0;opacity:0}40%{height:4.8px;opacity:1}to{height:8px;opacity:1}}.hot-toast-info-icon[_ngcontent-%COMP%]{animation:var(--hot-toast-info-icon-animation, animate-info-background .3s cubic-bezier(.175, .885, .32, 1.275) forwards);animation-delay:var(--hot-toast-info-icon-animation-delay, .1s);background-color:var(--hot-toast-info-icon-background-color, var(--info-primary, #0d6efd));border-radius:var(--hot-toast-info-icon-border-radius, 50%);display:var(--hot-toast-info-icon-display, block);height:var(--hot-toast-info-icon-height, 20px);opacity:var(--hot-toast-info-icon-opacity, 0);position:var(--hot-toast-info-icon-position, relative);transform:var(--hot-toast-info-icon-transform, scale(0));width:var(--hot-toast-info-icon-width, 20px)}.hot-toast-info-icon[_ngcontent-%COMP%]:after, .hot-toast-info-icon[_ngcontent-%COMP%]:before{background-color:var(--hot-toast-info-icon-after-before-background-color, var(--info-secondary, #fff));border-radius:var(--hot-toast-info-icon-after-before-border-radius, 3px);box-sizing:var(--hot-toast-info-icon-after-before-box-sizing, border-box);content:var(--hot-toast-info-icon-after-before-content, "");display:var(--hot-toast-info-icon-after-before-display, block);left:var(--hot-toast-info-icon-after-before-left, 8.5px);position:var(--hot-toast-info-icon-after-before-position, absolute);width:var(--hot-toast-info-icon-after-before-width, 2.5px)}.hot-toast-info-icon[_ngcontent-%COMP%]:after{animation:var(--hot-toast-info-icon-after-animation, animate-info-line .2s ease-out forwards);animation-delay:var(--hot-toast-info-icon-after-animation-delay, .2s);height:var(--hot-toast-info-icon-after-height, 0);opacity:var(--hot-toast-info-icon-after-opacity, 0);top:var(--hot-toast-info-icon-after-bottom, 8px)}.hot-toast-info-icon[_ngcontent-%COMP%]:before{height:var(--hot-toast-info-icon-before-height, 2px);top:var(--hot-toast-info-icon-before-top, 4px)}'],changeDetection:0}),n})(),v0e=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=Qe({type:n,selectors:[["hot-toast-indicator"]],inputs:{theme:"theme",type:"type"},decls:2,vars:1,consts:[["class","hot-toast-indicator-wrapper",4,"ngIf"],[1,"hot-toast-indicator-wrapper"],[3,"theme"],["class","hot-toast-status-wrapper",4,"ngIf"],[1,"hot-toast-status-wrapper"],[3,"ngSwitch"],[4,"ngSwitchCase"]],template:function(t,r){1&t&&(Z(0,t0e,6,2,"div",0),S(1,"\n")),2&t&&L("ngIf","blank"!==r.type)},dependencies:[p0e,g0e,m0e,_0e,y0e,Oi,Mh,y0],styles:[".hot-toast-indicator-wrapper[_ngcontent-%COMP%]{align-items:var(--hot-toast-indicator-wrapper-align-items, center);display:var(--hot-toast-indicator-wrapper-display, flex);justify-content:var(--hot-toast-indicator-wrapper-justify-content, center);min-height:var(--hot-toast-indicator-wrapper-min-height, 20px);min-width:var(--hot-toast-indicator-wrapper-min-width, 20px);position:var(--hot-toast-indicator-wrapper-position, relative)}.hot-toast-status-wrapper[_ngcontent-%COMP%]{position:var(--hot-toast-status-wrapper-position, absolute)}"],changeDetection:0}),n})(),I5=(()=>{class n{constructor(t,r,i){this.injector=t,this.renderer=r,this.ngZone=i,this.offset=0,this.height=new Pe,this.beforeClosed=new Pe,this.afterClosed=new Pe,this.isManualClose=!1,this.unlisteners=[]}ngOnInit(){iR(this.toast.message)&&(this.context={$implicit:this.toastRef}),sR(this.toast.message)&&(this.toastComponentInjector=Xe.create({providers:[{provide:E5,useValue:this.toastRef}],parent:this.toast.injector||this.injector}))}ngAfterViewInit(){const t=this.toastBarBase.nativeElement;requestAnimationFrame(()=>{this.height.emit(t.offsetHeight)}),this.ngZone.runOutsideAngular(()=>{this.unlisteners.push(this.renderer.listen(t,"animationstart",r=>{this.isExitAnimation(r)&&this.ngZone.run(()=>this.beforeClosed.emit())}),this.renderer.listen(t,"animationend",r=>{this.isExitAnimation(r)&&this.ngZone.run(()=>this.afterClosed.emit({dismissedByAction:this.isManualClose,id:this.toast.id}))}))}),this.setToastAttributes()}get containerPositionStyle(){const t=this.toast.position.includes("top"),r=t?{top:0}:{bottom:0},i=this.toast.position.includes("left")?{left:0}:this.toast.position.includes("right")?{right:0}:{left:0,right:0,justifyContent:"center"};return{transform:`translateY(${this.offset*(t?1:-1)}px)`,...r,...i}}get toastBarBaseStyles(){const t=this.toast.position.includes("top"),r=`hotToastEnterAnimation${t?"Negative":"Positive"} 350ms cubic-bezier(0.21, 1.02, 0.73, 1) forwards`;return{...this.toast.style,animation:this.toast.autoClose?`${r}, hotToastExitAnimation${t?"Negative":"Positive"} 800ms forwards cubic-bezier(0.06, 0.71, 0.55, 1) ${this.toast.duration}ms`:r}}get isIconString(){return"string"==typeof this.toast.icon}close(){this.isManualClose=!0;((n,e)=>{this.toastBarBase.nativeElement.style.animation=e})(0,`hotToastExitAnimation${this.toast.position.includes("top")?"Negative":"Positive"} 800ms forwards cubic-bezier(0.06, 0.71, 0.55, 1)`)}ngOnDestroy(){for(this.close();this.unlisteners.length;)this.unlisteners.pop()()}isExitAnimation(t){return t.animationName.includes("hotToastExitAnimation")}setToastAttributes(){const t=this.toast.attributes;for(const[r,i]of Object.entries(t))this.renderer.setAttribute(this.toastBarBase.nativeElement,r,i)}}return n.\u0275fac=function(t){return new(t||n)(b(Xe),b(Di),b(ie))},n.\u0275cmp=Qe({type:n,selectors:[["hot-toast"]],viewQuery:function(t,r){if(1&t&&Ho(n0e,5),2&t){let i;It(i=Tt())&&(r.toastBarBase=i.first)}},inputs:{toast:"toast",offset:"offset",defaultConfig:"defaultConfig",toastRef:"toastRef"},outputs:{height:"height",beforeClosed:"beforeClosed",afterClosed:"afterClosed"},decls:25,vars:14,consts:[[1,"hot-toast-bar-base-container",3,"ngStyle","ngClass"],[1,"hot-toast-bar-base",3,"ngStyle","ngClass"],["hotToastBarBase",""],["aria-hidden","true",1,"hot-toast-icon"],[4,"ngIf","ngIfElse"],["indicator",""],[1,"hot-toast-message"],[4,"dynamicView","dynamicViewContext","dynamicViewInjector"],["type","button","class","hot-toast-close-btn","aria-label","Close",3,"ngStyle","click",4,"ngIf"],["iconTemplateOrComponent",""],[3,"iconTheme"],[3,"dynamicView"],[3,"theme","type"],["type","button","aria-label","Close",1,"hot-toast-close-btn",3,"ngStyle","click"]],template:function(t,r){if(1&t&&(T(0,"div",0),S(1,"\n  "),T(2,"div",1,2),S(4,"\n    "),T(5,"div",3),S(6,"\n      "),Z(7,s0e,7,2,"ng-container",4),S(8,"\n\n      "),Z(9,o0e,3,2,"ng-template",null,5,Ch),S(11,"\n    "),A(),S(12,"\n\n    "),T(13,"div",6),S(14,"\n      "),T(15,"div"),S(16,"\n        "),Z(17,a0e,1,0,"ng-container",7),S(18,"\n      "),A(),S(19,"\n    "),A(),S(20,"\n\n    "),Z(21,l0e,1,1,"button",8),S(22,"\n  "),A(),S(23,"\n"),A(),S(24,"\n")),2&t){const i=mn(10);L("ngStyle",r.containerPositionStyle)("ngClass","hot-toast-theme-"+r.toast.theme),N(2),jo("--hot-toast-animation-state",r.isManualClose?"running":"paused"),L("ngStyle",r.toastBarBaseStyles)("ngClass",r.toast.className),Et("aria-live",r.toast.ariaLive)("role",r.toast.role),N(5),L("ngIf",void 0!==r.toast.icon)("ngIfElse",i),N(10),L("dynamicView",r.toast.message)("dynamicViewContext",r.context)("dynamicViewInjector",r.toastComponentInjector),N(4),L("ngIf",r.toast.dismissible)}},dependencies:[f0e,v0e,v0,m0,Oi,HEe],styles:[".hot-toast-bar-base[_ngcontent-%COMP%]{align-items:var(--hot-toast-align-items, center);background-color:var(--hot-toast-bg, #fff);border-radius:var(--hot-toast-border-radius, 4px);box-shadow:var(--hot-toast-shadow, 0 3px 10px rgba(0, 0, 0, .1), 0 3px 3px rgba(0, 0, 0, .05));color:var(--hot-toast-color, #363636);display:var(--hot-toast-display, flex);line-height:var(--hot-toast-line, 1.3);margin:var(--hot-toast-margin, 16px);max-width:var(--hot-toast-max-width, 350px);padding:var(--hot-toast-padding, 8px 10px);pointer-events:var(--hot-toast-pointer-events, auto);width:var(--hot-toast-width, -moz-fit-content);width:var(--hot-toast-width, fit-content);will-change:var(--hot-toast-will-change, transform)}.hot-toast-bar-base[_ngcontent-%COMP%]:hover, .hot-toast-bar-base[_ngcontent-%COMP%]:focus{animation-play-state:var(--hot-toast-animation-state, paused)!important}@media (prefers-reduced-motion: reduce){.hot-toast-bar-base[_ngcontent-%COMP%]{animation-duration:var(--hot-toast-reduced-motion-animation-duration, 10ms)!important}}.hot-toast-message[_ngcontent-%COMP%]{color:var(--hot-toast-message-color, inherit);display:var(--hot-toast-message-display, flex);flex:var(--hot-toast-message-flex, 1);justify-content:var(--hot-toast-message-justify-content, center);margin:var(--hot-toast-message-margin, 4px 10px)}.hot-toast-bar-base-container[_ngcontent-%COMP%]{display:var(--hot-toast-container-display, flex);pointer-events:var(--hot-toast-container-pointer-events, none);position:var(--hot-toast-container-position, absolute);transition:var(--hot-toast-container-transition, transform .23s cubic-bezier(.21, 1.02, .73, 1))}@media (prefers-reduced-motion: reduce){.hot-toast-bar-base-container[_ngcontent-%COMP%]{transition-duration:var(--hot-toast-container-reduced-motion-transition-duration, 10ms)!important}}.hot-toast-bar-base-container.hot-toast-theme-snackbar[_ngcontent-%COMP%]   .hot-toast-bar-base[_ngcontent-%COMP%]{background:var(--hot-toast-snackbar-bg, #323232);box-shadow:var(--hot-toast-snackbar-shadow, 0 3px 5px -1px rgba(0, 0, 0, .2), 0 6px 10px 0 rgba(0, 0, 0, .14), 0 1px 18px 0 rgba(0, 0, 0, .12));color:var(--hot-toast-snackbar-color, white)}.hot-toast-bar-base-container.hot-toast-theme-snackbar[_ngcontent-%COMP%]   .hot-toast-close-btn[_ngcontent-%COMP%]{filter:var(--hot-toast-snackbar-close-btn-filter, invert(1) grayscale(100%) brightness(200%))}@keyframes hotToastEnterAnimationNegative{0%{opacity:.5;transform:translateY(-80px) scale(.6)}to{opacity:1;transform:translate(0) scale(1)}}@keyframes hotToastEnterAnimationPositive{0%{opacity:.5;transform:translateY(80px) scale(.6)}to{opacity:1;transform:translate(0) scale(1)}}@keyframes hotToastExitAnimationPositive{0%{opacity:1;transform:translateZ(-1px) scale(1)}to{opacity:0;transform:translate3d(0,130px,-1px) scale(.5)}}@keyframes hotToastExitAnimationNegative{0%{opacity:1;transform:translateZ(-1px) scale(1)}to{opacity:0;transform:translate3d(0,-130px,-1px) scale(.5)}}.hot-toast-close-btn[_ngcontent-%COMP%]{align-self:var(--hot-toast-close-btn-align-self, flex-start);background-color:var(--hot-toast-close-btn-background-color, transparent);background-image:var(--hot-toast-close-btn-background-image, url(\"data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 16 16' fill='%23000'%3e%3cpath d='M.293.293a1 1 0 011.414 0L8 6.586 14.293.293a1 1 0 111.414 1.414L9.414 8l6.293 6.293a1 1 0 01-1.414 1.414L8 9.414l-6.293 6.293a1 1 0 01-1.414-1.414L6.586 8 .293 1.707a1 1 0 010-1.414z'/%3e%3c/svg%3e\"));background-position:var(--hot-toast-close-btn-background-position, center);background-repeat:var(--hot-toast-close-btn-background-repeat, no-repeat);background-size:var(--hot-toast-close-btn-background-size, .75em);border:var(--hot-toast-close-btn-border, 0);border-radius:var(--hot-toast-close-btn-border-radius, .25rem);box-sizing:var(--hot-toast-close-btn-box-sizing, content-box);display:var(--hot-toast-close-btn-display, flex);height:var(--hot-toast-close-btn-height, .8em);margin-top:var(--hot-toast-close-btn-margin-top, .25em);opacity:var(--hot-toast-close-btn-opacity, .5);padding:var(--hot-toast-close-btn-padding, .25em);width:var(--hot-toast-close-btn-width, .8em)}.hot-toast-close-btn[_ngcontent-%COMP%]:focus{box-shadow:var(--hot-toast-close-btn-box-shadow, 0 0 0 .125rem rgba(13, 110, 253, .25));outline:var(--hot-toast-close-btn-outline, none)}.hot-toast-close-btn[_ngcontent-%COMP%]:hover, .hot-toast-close-btn[_ngcontent-%COMP%]:focus{opacity:var(--hot-toast-close-btn-opacity, .75)}.hot-toast-icon[_ngcontent-%COMP%]{align-self:var(--hot-toast-icon-align-self, flex-start);padding-top:var(--hot-toast-icon-padding-top, .25em)}"],changeDetection:0}),n})(),b0e=(()=>{class n{constructor(t){this.cdr=t,this.toasts=[],this.toastRefs=[],this._onClosed=new Fe,this.onClosed$=this._onClosed.asObservable()}trackById(t,r){return r.id}calculateOffset(t,r){const i=this.toasts.filter(a=>a.visible&&a.position===r),s=i.findIndex(a=>a.id===t);return-1!==s?i.slice(...this.defaultConfig.reverseOrder?[s+1]:[0,s]).reduce((a,l)=>a+(l.height||0)+8,0):0}updateHeight(t,r){r.height=t,this.cdr.detectChanges()}addToast(t){this.toastRefs.push(t);const r=t.getToast();return this.toasts.push(t.getToast()),this.cdr.detectChanges(),{dispose:()=>{this.closeToast(r.id)},updateMessage:i=>{r.message=i,this.cdr.detectChanges()},updateToast:i=>{this.updateToasts(r,i),this.cdr.detectChanges()},afterClosed:this.getAfterClosed(r)}}closeToast(t){if(t){const r=this.hotToastComponentList.find(i=>i.toast.id===t);r&&r.close()}else this.hotToastComponentList.forEach(r=>r.close())}beforeClosed(t){t.visible=!1}afterClosed(t){this.toasts.findIndex(i=>i.id===t.id)>-1&&(this._onClosed.next(t),this.toasts=this.toasts.filter(i=>i.id!==t.id),this.toastRefs=this.toastRefs.filter(i=>i.getToast().id!==t.id),this.cdr.detectChanges())}hasToast(t){return this.toasts.findIndex(r=>r.id===t)>-1}getAfterClosed(t){return this.onClosed$.pipe(cn(r=>r.id===t.id))}updateToasts(t,r){this.toasts=this.toasts.map(i=>({...i,...i.id===t.id&&{...t,...r}}))}}return n.\u0275fac=function(t){return new(t||n)(b(Go))},n.\u0275cmp=Qe({type:n,selectors:[["hot-toast-container"]],viewQuery:function(t,r){if(1&t&&Ho(I5,5),2&t){let i;It(i=Tt())&&(r.hotToastComponentList=i)}},inputs:{defaultConfig:"defaultConfig"},decls:8,vars:2,consts:[[2,"position","fixed","z-index","9999","top","0","right","0","bottom","0","left","0","pointer-events","none"],[2,"position","relative","height","100%"],[3,"toast","offset","toastRef","height","beforeClosed","afterClosed",4,"ngFor","ngForOf","ngForTrackBy"],[3,"toast","offset","toastRef","height","beforeClosed","afterClosed"]],template:function(t,r){1&t&&(T(0,"div",0),S(1,"\n  "),T(2,"div",1),S(3,"\n    "),Z(4,c0e,1,3,"hot-toast",2),S(5,"\n  "),A(),S(6,"\n"),A(),S(7,"\n")),2&t&&(N(4),L("ngForOf",r.toasts)("ngForTrackBy",r.trackById))},dependencies:[I5,Ah],encapsulation:2,changeDetection:0}),n})();class T5{constructor(){this.reverseOrder=!1,this.ariaLive="polite",this.role="status",this.position="top-center",this.autoClose=!0,this.theme="toast",this.attributes={},this.success={content:""},this.error={content:""},this.loading={content:""},this.blank={content:""},this.warning={content:""}}}class E0e{constructor(){this.storage="local",this.key="ngneat/hototast-${id}",this.count=1,this.enabled=!1}}let oR=(()=>{class n{constructor(t,r,i){this._viewService=t,this.platformId=r,this._isInitialized=!1,this._defaultConfig=new T5,this._defaultPersistConfig=new E0e,i&&(this._defaultConfig={...this._defaultConfig,...i})}get defaultConfig(){return this._defaultConfig}set defaultConfig(t){this._defaultConfig={...this._defaultConfig,...t},this._componentRef&&this._componentRef.setInput("defaultConfig",this._defaultConfig)}show(t,r){return this.createToast(t||this._defaultConfig.blank.content,"blank",{...this._defaultConfig,...r})}error(t,r){return this.createToast(t||this._defaultConfig.error.content,"error",{...this._defaultConfig,...this._defaultConfig?.error,...r})}success(t,r){return this.createToast(t||this._defaultConfig.success.content,"success",{...this._defaultConfig,...this._defaultConfig?.success,...r})}loading(t,r){return this.createToast(t||this._defaultConfig.loading.content,"loading",{...this._defaultConfig,...this._defaultConfig?.loading,...r})}warning(t,r){return this.createToast(t||this._defaultConfig.warning.content,"warning",{...this._defaultConfig,...this._defaultConfig?.warning,...r})}info(t,r){return this.createToast(t||this._defaultConfig.warning.content,"info",{...this._defaultConfig,...this._defaultConfig?.warning,...r})}observe(t){return r=>{let i,s=0;const o=t.loading??this._defaultConfig.loading?.content,a=t.success??this._defaultConfig.success?.content,l=t.error??this._defaultConfig.error?.content;return P0(()=>(o&&(i=this.createLoadingToast(o),s=Date.now()),r.pipe(Ot({...a&&{next:c=>{i=this.createOrUpdateToast(t,c,i,"success",0===s?s:Date.now()-s)}},...l&&{error:c=>{i=this.createOrUpdateToast(t,c,i,"error",0===s?s:Date.now()-s)}}}))))}}close(t){this._componentRef&&this._componentRef.ref.instance.closeToast(t)}init(){(function $ie(n){return"server"===n})(this.platformId)||(this._componentRef=this._viewService.createComponent(b0e).setInput("defaultConfig",this._defaultConfig).appendTo(document.body))}createOrUpdateToast(t,r,i,s,o){let a=null,l={};if(({content:a,options:l}=this.getContentAndOptions(s,t[s]||(this._defaultConfig[s]?this._defaultConfig[s].content:""))),a=((n,e)=>(n=>"function"==typeof n)(n)?n(e):n)(a,r),i){i.updateMessage(a);const c={type:s,duration:o+w5[s],...l,...l.duration&&{duration:o+l.duration}};i.updateToast(c)}else this.createToast(a,s,l);return i}createToast(t,r,i,s){this._isInitialized||(this._isInitialized=!0,this.init());const o=Date.now(),a=i?.id??o.toString();if(!this.isDuplicate(a)&&(!i.persist?.enabled||i.persist?.enabled&&this.handleStorageValue(a,i))){const l={ariaLive:i?.ariaLive??"polite",createdAt:o,duration:i?.duration??w5[r],id:a,message:t,role:i?.role??"status",type:r,visible:!0,observableMessages:s??void 0,...i};return new E5(l).appendTo(this._componentRef.ref.instance)}}isDuplicate(t){return this._componentRef.ref.instance.hasToast(t)}handleStorageValue(t,r){let i=1;const s={...this._defaultPersistConfig,...r.persist},o="local"===s.storage?localStorage:sessionStorage,a=s.key.replace(/\${id}/g,t);let l=o.getItem(a);return l?(l=parseInt(l,10),i=l>0?l-1:l):i=s.count,o.setItem(a,i.toString()),i}getContentAndOptions(t,r){let i,s={...this._defaultConfig,...this._defaultConfig[t]};if("string"==typeof r||iR(r)||sR(r))i=r;else{let o;({content:i,...o}=r),s={...s,...o}}return{content:i,options:s}}createLoadingToast(t){let r=null,i={};return({content:r,options:i}=this.getContentAndOptions("loading",t)),this.loading(r,i)}}return n.\u0275fac=function(t){return new(t||n)(w(b5),w(qs),w(T5,8))},n.\u0275prov=F({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const I0e=["*"];let Qv;function Pp(n){return function T0e(){if(void 0===Qv&&(Qv=null,typeof window<"u")){const n=window;void 0!==n.trustedTypes&&(Qv=n.trustedTypes.createPolicy("angular#components",{createHTML:e=>e}))}return Qv}()?.createHTML(n)||n}function S5(n){return Error(`Unable to find icon with the name "${n}"`)}function D5(n){return Error(`The URL provided to MatIconRegistry was not trusted as a resource URL via Angular's DomSanitizer. Attempted URL was "${n}".`)}function A5(n){return Error(`The literal provided to MatIconRegistry was not trusted as safe HTML by Angular's DomSanitizer. Attempted literal was "${n}".`)}class Zl{constructor(e,t,r){this.url=e,this.svgText=t,this.options=r}}let Xv=(()=>{class n{constructor(t,r,i,s){this._httpClient=t,this._sanitizer=r,this._errorHandler=s,this._svgIconConfigs=new Map,this._iconSetConfigs=new Map,this._cachedIconsByUrl=new Map,this._inProgressUrlFetches=new Map,this._fontCssClassesByAlias=new Map,this._resolvers=[],this._defaultFontSetClass="material-icons",this._document=i}addSvgIcon(t,r,i){return this.addSvgIconInNamespace("",t,r,i)}addSvgIconLiteral(t,r,i){return this.addSvgIconLiteralInNamespace("",t,r,i)}addSvgIconInNamespace(t,r,i,s){return this._addSvgIconConfig(t,r,new Zl(i,null,s))}addSvgIconResolver(t){return this._resolvers.push(t),this}addSvgIconLiteralInNamespace(t,r,i,s){const o=this._sanitizer.sanitize(qe.HTML,i);if(!o)throw A5(i);const a=Pp(o);return this._addSvgIconConfig(t,r,new Zl("",a,s))}addSvgIconSet(t,r){return this.addSvgIconSetInNamespace("",t,r)}addSvgIconSetLiteral(t,r){return this.addSvgIconSetLiteralInNamespace("",t,r)}addSvgIconSetInNamespace(t,r,i){return this._addSvgIconSetConfig(t,new Zl(r,null,i))}addSvgIconSetLiteralInNamespace(t,r,i){const s=this._sanitizer.sanitize(qe.HTML,r);if(!s)throw A5(r);const o=Pp(s);return this._addSvgIconSetConfig(t,new Zl("",o,i))}registerFontClassAlias(t,r=t){return this._fontCssClassesByAlias.set(t,r),this}classNameForFontAlias(t){return this._fontCssClassesByAlias.get(t)||t}setDefaultFontSetClass(t){return this._defaultFontSetClass=t,this}getDefaultFontSetClass(){return this._defaultFontSetClass}getSvgIconFromUrl(t){const r=this._sanitizer.sanitize(qe.RESOURCE_URL,t);if(!r)throw D5(t);const i=this._cachedIconsByUrl.get(r);return i?G(Zv(i)):this._loadSvgIconFromConfig(new Zl(t,null)).pipe(Ot(s=>this._cachedIconsByUrl.set(r,s)),ee(s=>Zv(s)))}getNamedSvgIcon(t,r=""){const i=M5(r,t);let s=this._svgIconConfigs.get(i);if(s)return this._getSvgFromConfig(s);if(s=this._getIconConfigFromResolvers(r,t),s)return this._svgIconConfigs.set(i,s),this._getSvgFromConfig(s);const o=this._iconSetConfigs.get(r);return o?this._getSvgFromIconSetConfigs(t,o):lu(S5(i))}ngOnDestroy(){this._resolvers=[],this._svgIconConfigs.clear(),this._iconSetConfigs.clear(),this._cachedIconsByUrl.clear()}_getSvgFromConfig(t){return t.svgText?G(Zv(this._svgElementFromConfig(t))):this._loadSvgIconFromConfig(t).pipe(ee(r=>Zv(r)))}_getSvgFromIconSetConfigs(t,r){const i=this._extractIconWithNameFromAnySet(t,r);return i?G(i):fq(r.filter(o=>!o.svgText).map(o=>this._loadSvgIconSetFromConfig(o).pipe(Zs(a=>{const c=`Loading icon set URL: ${this._sanitizer.sanitize(qe.RESOURCE_URL,o.url)} failed: ${a.message}`;return this._errorHandler.handleError(new Error(c)),G(null)})))).pipe(ee(()=>{const o=this._extractIconWithNameFromAnySet(t,r);if(!o)throw S5(t);return o}))}_extractIconWithNameFromAnySet(t,r){for(let i=r.length-1;i>=0;i--){const s=r[i];if(s.svgText&&s.svgText.toString().indexOf(t)>-1){const o=this._svgElementFromConfig(s),a=this._extractSvgIconFromSet(o,t,s.options);if(a)return a}}return null}_loadSvgIconFromConfig(t){return this._fetchIcon(t).pipe(Ot(r=>t.svgText=r),ee(()=>this._svgElementFromConfig(t)))}_loadSvgIconSetFromConfig(t){return t.svgText?G(null):this._fetchIcon(t).pipe(Ot(r=>t.svgText=r))}_extractSvgIconFromSet(t,r,i){const s=t.querySelector(`[id="${r}"]`);if(!s)return null;const o=s.cloneNode(!0);if(o.removeAttribute("id"),"svg"===o.nodeName.toLowerCase())return this._setSvgAttributes(o,i);if("symbol"===o.nodeName.toLowerCase())return this._setSvgAttributes(this._toSvgElement(o),i);const a=this._svgElementFromString(Pp("<svg></svg>"));return a.appendChild(o),this._setSvgAttributes(a,i)}_svgElementFromString(t){const r=this._document.createElement("DIV");r.innerHTML=t;const i=r.querySelector("svg");if(!i)throw Error("<svg> tag not found");return i}_toSvgElement(t){const r=this._svgElementFromString(Pp("<svg></svg>")),i=t.attributes;for(let s=0;s<i.length;s++){const{name:o,value:a}=i[s];"id"!==o&&r.setAttribute(o,a)}for(let s=0;s<t.childNodes.length;s++)t.childNodes[s].nodeType===this._document.ELEMENT_NODE&&r.appendChild(t.childNodes[s].cloneNode(!0));return r}_setSvgAttributes(t,r){return t.setAttribute("fit",""),t.setAttribute("height","100%"),t.setAttribute("width","100%"),t.setAttribute("preserveAspectRatio","xMidYMid meet"),t.setAttribute("focusable","false"),r&&r.viewBox&&t.setAttribute("viewBox",r.viewBox),t}_fetchIcon(t){const{url:r,options:i}=t,s=i?.withCredentials??!1;if(!this._httpClient)throw function S0e(){return Error("Could not find HttpClient provider for use with Angular Material icons. Please include the HttpClientModule from @angular/common/http in your app imports.")}();if(null==r)throw Error(`Cannot fetch icon from URL "${r}".`);const o=this._sanitizer.sanitize(qe.RESOURCE_URL,r);if(!o)throw D5(r);const a=this._inProgressUrlFetches.get(o);if(a)return a;const l=this._httpClient.get(o,{responseType:"text",withCredentials:s}).pipe(ee(c=>Pp(c)),a_(()=>this._inProgressUrlFetches.delete(o)),vP());return this._inProgressUrlFetches.set(o,l),l}_addSvgIconConfig(t,r,i){return this._svgIconConfigs.set(M5(t,r),i),this}_addSvgIconSetConfig(t,r){const i=this._iconSetConfigs.get(t);return i?i.push(r):this._iconSetConfigs.set(t,[r]),this}_svgElementFromConfig(t){if(!t.svgElement){const r=this._svgElementFromString(t.svgText);this._setSvgAttributes(r,t.options),t.svgElement=r}return t.svgElement}_getIconConfigFromResolvers(t,r){for(let i=0;i<this._resolvers.length;i++){const s=this._resolvers[i](r,t);if(s)return A0e(s)?new Zl(s.url,null,s.options):new Zl(s,null)}}}return n.\u0275fac=function(t){return new(t||n)(w(k_,8),w(R0),w(Ee,8),w(Us))},n.\u0275prov=F({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function Zv(n){return n.cloneNode(!0)}function M5(n,e){return n+":"+e}function A0e(n){return!(!n.url||!n.options)}const M0e=Uv(class{constructor(n){this._elementRef=n}}),x0e=new P("mat-icon-location",{providedIn:"root",factory:function k0e(){const n=yt(Ee),e=n?n.location:null;return{getPathname:()=>e?e.pathname+e.search:""}}}),x5=["clip-path","color-profile","src","cursor","fill","filter","marker","marker-start","marker-mid","marker-end","mask","stroke"],R0e=x5.map(n=>`[${n}]`).join(", "),N0e=/^url\(['"]?#(.*?)['"]?\)$/;let aR=(()=>{class n extends M0e{constructor(t,r,i,s,o){super(t),this._iconRegistry=r,this._location=s,this._errorHandler=o,this._inline=!1,this._currentIconFetch=Rt.EMPTY,i||t.nativeElement.setAttribute("aria-hidden","true")}get inline(){return this._inline}set inline(t){this._inline=mi(t)}get svgIcon(){return this._svgIcon}set svgIcon(t){t!==this._svgIcon&&(t?this._updateSvgIcon(t):this._svgIcon&&this._clearSvgElement(),this._svgIcon=t)}get fontSet(){return this._fontSet}set fontSet(t){const r=this._cleanupFontValue(t);r!==this._fontSet&&(this._fontSet=r,this._updateFontIconClasses())}get fontIcon(){return this._fontIcon}set fontIcon(t){const r=this._cleanupFontValue(t);r!==this._fontIcon&&(this._fontIcon=r,this._updateFontIconClasses())}_splitIconName(t){if(!t)return["",""];const r=t.split(":");switch(r.length){case 1:return["",r[0]];case 2:return r;default:throw Error(`Invalid icon name: "${t}"`)}}ngOnInit(){this._updateFontIconClasses()}ngAfterViewChecked(){const t=this._elementsWithExternalReferences;if(t&&t.size){const r=this._location.getPathname();r!==this._previousPath&&(this._previousPath=r,this._prependPathToReferences(r))}}ngOnDestroy(){this._currentIconFetch.unsubscribe(),this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear()}_usingFontIcon(){return!this.svgIcon}_setSvgElement(t){this._clearSvgElement();const r=t.querySelectorAll("style");for(let s=0;s<r.length;s++)r[s].textContent+=" ";const i=this._location.getPathname();this._previousPath=i,this._cacheChildrenWithExternalReferences(t),this._prependPathToReferences(i),this._elementRef.nativeElement.appendChild(t)}_clearSvgElement(){const t=this._elementRef.nativeElement;let r=t.childNodes.length;for(this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear();r--;){const i=t.childNodes[r];(1!==i.nodeType||"svg"===i.nodeName.toLowerCase())&&i.remove()}}_updateFontIconClasses(){if(!this._usingFontIcon())return;const t=this._elementRef.nativeElement,r=this.fontSet?this._iconRegistry.classNameForFontAlias(this.fontSet):this._iconRegistry.getDefaultFontSetClass();r!=this._previousFontSetClass&&(this._previousFontSetClass&&t.classList.remove(this._previousFontSetClass),r&&t.classList.add(r),this._previousFontSetClass=r),this.fontIcon!=this._previousFontIconClass&&(this._previousFontIconClass&&t.classList.remove(this._previousFontIconClass),this.fontIcon&&t.classList.add(this.fontIcon),this._previousFontIconClass=this.fontIcon)}_cleanupFontValue(t){return"string"==typeof t?t.trim().split(" ")[0]:t}_prependPathToReferences(t){const r=this._elementsWithExternalReferences;r&&r.forEach((i,s)=>{i.forEach(o=>{s.setAttribute(o.name,`url('${t}#${o.value}')`)})})}_cacheChildrenWithExternalReferences(t){const r=t.querySelectorAll(R0e),i=this._elementsWithExternalReferences=this._elementsWithExternalReferences||new Map;for(let s=0;s<r.length;s++)x5.forEach(o=>{const a=r[s],l=a.getAttribute(o),c=l?l.match(N0e):null;if(c){let u=i.get(a);u||(u=[],i.set(a,u)),u.push({name:o,value:c[1]})}})}_updateSvgIcon(t){if(this._svgNamespace=null,this._svgName=null,this._currentIconFetch.unsubscribe(),t){const[r,i]=this._splitIconName(t);r&&(this._svgNamespace=r),i&&(this._svgName=i),this._currentIconFetch=this._iconRegistry.getNamedSvgIcon(i,r).pipe(Ir(1)).subscribe(s=>this._setSvgElement(s),s=>{this._errorHandler.handleError(new Error(`Error retrieving icon ${r}:${i}! ${s.message}`))})}}}return n.\u0275fac=function(t){return new(t||n)(b(et),b(Xv),Ha("aria-hidden"),b(x0e),b(Us))},n.\u0275cmp=Qe({type:n,selectors:[["mat-icon"]],hostAttrs:["role","img",1,"mat-icon","notranslate"],hostVars:7,hostBindings:function(t,r){2&t&&(Et("data-mat-icon-type",r._usingFontIcon()?"font":"svg")("data-mat-icon-name",r._svgName||r.fontIcon)("data-mat-icon-namespace",r._svgNamespace||r.fontSet),Qt("mat-icon-inline",r.inline)("mat-icon-no-color","primary"!==r.color&&"accent"!==r.color&&"warn"!==r.color))},inputs:{color:"color",inline:"inline",svgIcon:"svgIcon",fontSet:"fontSet",fontIcon:"fontIcon"},exportAs:["matIcon"],features:[Ae],ngContentSelectors:I0e,decls:1,vars:0,template:function(t,r){1&t&&($o(),qn(0))},styles:[".mat-icon{-webkit-user-select:none;-moz-user-select:none;user-select:none;background-repeat:no-repeat;display:inline-block;fill:currentColor;height:24px;width:24px}.mat-icon.mat-icon-inline{font-size:inherit;height:inherit;line-height:inherit;width:inherit}[dir=rtl] .mat-icon-rtl-mirror{transform:scale(-1, 1)}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon{display:block}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button .mat-icon{margin:auto}\n"],encapsulation:2,changeDetection:0}),n})(),P0e=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=ue({type:n}),n.\u0275inj=ce({imports:[[Wt],Wt]}),n})();const O0e=["addListener","removeListener"],F0e=["addEventListener","removeEventListener"],L0e=["on","off"];function Jv(n,e,t,r){if(Ue(t)&&(r=t,t=void 0),r)return Jv(n,e,t).pipe(N0(r));const[i,s]=function U0e(n){return Ue(n.addEventListener)&&Ue(n.removeEventListener)}(n)?F0e.map(o=>a=>n[o](e,a,t)):function V0e(n){return Ue(n.addListener)&&Ue(n.removeListener)}(n)?O0e.map(k5(n,e)):function B0e(n){return Ue(n.on)&&Ue(n.off)}(n)?L0e.map(k5(n,e)):[];if(!i&&Iw(n))return Kt(o=>Jv(o,e,t))(An(n));if(!i)throw new TypeError("Invalid event target");return new je(o=>{const a=(...l)=>o.next(1<l.length?l:l[0]);return i(a),()=>s(a)})}function k5(n,e){return t=>r=>n[t](e,r)}class R5{}const Io="*";function lR(n,e){return{type:7,name:n,definitions:e,options:{}}}function eb(n,e=null){return{type:4,styles:e,timings:n}}function N5(n,e=null){return{type:2,steps:n,options:e}}function To(n){return{type:6,styles:n,offset:null}}function cR(n,e,t){return{type:0,name:n,styles:e,options:t}}function tb(n,e,t=null){return{type:1,expr:n,animation:e,options:t}}function P5(n){Promise.resolve().then(n)}class Op{constructor(e=0,t=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=e+t}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){P5(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(e=>e()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(e){this._position=this.totalTime?e*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}}class O5{constructor(e){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=e;let t=0,r=0,i=0;const s=this.players.length;0==s?P5(()=>this._onFinish()):this.players.forEach(o=>{o.onDone(()=>{++t==s&&this._onFinish()}),o.onDestroy(()=>{++r==s&&this._onDestroy()}),o.onStart(()=>{++i==s&&this._onStart()})}),this.totalTime=this.players.reduce((o,a)=>Math.max(o,a.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this.players.forEach(e=>e.init())}onStart(e){this._onStartFns.push(e)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(e=>e()),this._onStartFns=[])}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(e=>e.play())}pause(){this.players.forEach(e=>e.pause())}restart(){this.players.forEach(e=>e.restart())}finish(){this._onFinish(),this.players.forEach(e=>e.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(e=>e.destroy()),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this.players.forEach(e=>e.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(e){const t=e*this.totalTime;this.players.forEach(r=>{const i=r.totalTime?Math.min(1,t/r.totalTime):1;r.setPosition(i)})}getPosition(){const e=this.players.reduce((t,r)=>null===t||r.totalTime>t.totalTime?r:t,null);return null!=e?e.getPosition():0}beforeDestroy(){this.players.forEach(e=>{e.beforeDestroy&&e.beforeDestroy()})}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}}const j0e=["connectionContainer"],H0e=["inputContainer"],z0e=["label"];function G0e(n,e){1&n&&(zs(0),T(1,"div",14),ye(2,"div",15)(3,"div",16)(4,"div",17),A(),T(5,"div",18),ye(6,"div",15)(7,"div",16)(8,"div",17),A(),Gs())}function W0e(n,e){1&n&&(T(0,"div",19),qn(1,1),A())}function q0e(n,e){if(1&n&&(zs(0),qn(1,2),T(2,"span"),S(3),A(),Gs()),2&n){const t=Q(2);N(3),cr(t._control.placeholder)}}function K0e(n,e){1&n&&qn(0,3,["*ngSwitchCase","true"])}function Y0e(n,e){1&n&&(T(0,"span",23),S(1," *"),A())}function Q0e(n,e){if(1&n){const t=es();T(0,"label",20,21),Me("cdkObserveContent",function(){return Ut(t),$t(Q().updateOutlineGap())}),Z(2,q0e,4,1,"ng-container",12),Z(3,K0e,1,0,"ng-content",12),Z(4,Y0e,2,0,"span",22),A()}if(2&n){const t=Q();Qt("mat-empty",t._control.empty&&!t._shouldAlwaysFloat())("mat-form-field-empty",t._control.empty&&!t._shouldAlwaysFloat())("mat-accent","accent"==t.color)("mat-warn","warn"==t.color),L("cdkObserveContentDisabled","outline"!=t.appearance)("id",t._labelId)("ngSwitch",t._hasLabel()),Et("for",t._control.id)("aria-owns",t._control.id),N(2),L("ngSwitchCase",!1),N(1),L("ngSwitchCase",!0),N(1),L("ngIf",!t.hideRequiredMarker&&t._control.required&&!t._control.disabled)}}function X0e(n,e){1&n&&(T(0,"div",24),qn(1,4),A())}function Z0e(n,e){if(1&n&&(T(0,"div",25),ye(1,"span",26),A()),2&n){const t=Q();N(1),Qt("mat-accent","accent"==t.color)("mat-warn","warn"==t.color)}}function J0e(n,e){1&n&&(T(0,"div"),qn(1,5),A()),2&n&&L("@transitionMessages",Q()._subscriptAnimationState)}function eIe(n,e){if(1&n&&(T(0,"div",30),S(1),A()),2&n){const t=Q(2);L("id",t._hintLabelId),N(1),cr(t.hintLabel)}}function tIe(n,e){if(1&n&&(T(0,"div",27),Z(1,eIe,2,2,"div",28),qn(2,6),ye(3,"div",29),qn(4,7),A()),2&n){const t=Q();L("@transitionMessages",t._subscriptAnimationState),N(1),L("ngIf",t.hintLabel)}}const nIe=["*",[["","matPrefix",""]],[["mat-placeholder"]],[["mat-label"]],[["","matSuffix",""]],[["mat-error"]],[["mat-hint",3,"align","end"]],[["mat-hint","align","end"]]],rIe=["*","[matPrefix]","mat-placeholder","mat-label","[matSuffix]","mat-error","mat-hint:not([align='end'])","mat-hint[align='end']"];let iIe=0;const F5=new P("MatError");let L5=(()=>{class n{constructor(t,r){this.id="mat-error-"+iIe++,t||r.nativeElement.setAttribute("aria-live","polite")}}return n.\u0275fac=function(t){return new(t||n)(Ha("aria-live"),b(et))},n.\u0275dir=q({type:n,selectors:[["mat-error"]],hostAttrs:["aria-atomic","true",1,"mat-error"],hostVars:1,hostBindings:function(t,r){2&t&&Et("id",r.id)},inputs:{id:"id"},features:[Ke([{provide:F5,useExisting:n}])]}),n})();const sIe={transitionMessages:lR("transitionMessages",[cR("enter",To({opacity:1,transform:"translateY(0%)"})),tb("void => enter",[To({opacity:0,transform:"translateY(-5px)"}),eb("300ms cubic-bezier(0.55, 0, 0.55, 0.2)")])])};let dR=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=q({type:n}),n})(),oIe=0;const V5=new P("MatHint");let aIe=(()=>{class n{constructor(){this.align="start",this.id="mat-hint-"+oIe++}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=q({type:n,selectors:[["mat-hint"]],hostAttrs:[1,"mat-hint"],hostVars:4,hostBindings:function(t,r){2&t&&(Et("id",r.id)("align",null),Qt("mat-form-field-hint-end","end"===r.align))},inputs:{align:"align",id:"id"},features:[Ke([{provide:V5,useExisting:n}])]}),n})(),Fp=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=q({type:n,selectors:[["mat-label"]]}),n})(),lIe=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=q({type:n,selectors:[["mat-placeholder"]]}),n})();const B5=new P("MatPrefix");let cIe=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=q({type:n,selectors:[["","matPrefix",""]],features:[Ke([{provide:B5,useExisting:n}])]}),n})();const U5=new P("MatSuffix");let $5=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=q({type:n,selectors:[["","matSuffix",""]],features:[Ke([{provide:U5,useExisting:n}])]}),n})(),j5=0;const dIe=Uv(class{constructor(n){this._elementRef=n}},"primary"),hIe=new P("MAT_FORM_FIELD_DEFAULT_OPTIONS"),z5=new P("MatFormField");let nb=(()=>{class n extends dIe{constructor(t,r,i,s,o,a,l){super(t),this._changeDetectorRef=r,this._dir=i,this._defaults=s,this._platform=o,this._ngZone=a,this._outlineGapCalculationNeededImmediately=!1,this._outlineGapCalculationNeededOnStable=!1,this._destroyed=new Fe,this._showAlwaysAnimate=!1,this._subscriptAnimationState="",this._hintLabel="",this._hintLabelId="mat-hint-"+j5++,this._labelId="mat-form-field-label-"+j5++,this.floatLabel=this._getDefaultFloatLabelState(),this._animationsEnabled="NoopAnimations"!==l,this.appearance=s&&s.appearance?s.appearance:"legacy",this._hideRequiredMarker=!(!s||null==s.hideRequiredMarker)&&s.hideRequiredMarker}get appearance(){return this._appearance}set appearance(t){const r=this._appearance;this._appearance=t||this._defaults&&this._defaults.appearance||"legacy","outline"===this._appearance&&r!==t&&(this._outlineGapCalculationNeededOnStable=!0)}get hideRequiredMarker(){return this._hideRequiredMarker}set hideRequiredMarker(t){this._hideRequiredMarker=mi(t)}_shouldAlwaysFloat(){return"always"===this.floatLabel&&!this._showAlwaysAnimate}_canLabelFloat(){return"never"!==this.floatLabel}get hintLabel(){return this._hintLabel}set hintLabel(t){this._hintLabel=t,this._processHints()}get floatLabel(){return"legacy"!==this.appearance&&"never"===this._floatLabel?"auto":this._floatLabel}set floatLabel(t){t!==this._floatLabel&&(this._floatLabel=t||this._getDefaultFloatLabelState(),this._changeDetectorRef.markForCheck())}get _control(){return this._explicitFormFieldControl||this._controlNonStatic||this._controlStatic}set _control(t){this._explicitFormFieldControl=t}getLabelId(){return this._hasFloatingLabel()?this._labelId:null}getConnectedOverlayOrigin(){return this._connectionContainerRef||this._elementRef}ngAfterContentInit(){this._validateControlChild();const t=this._control;t.controlType&&this._elementRef.nativeElement.classList.add(`mat-form-field-type-${t.controlType}`),t.stateChanges.pipe(qo(null)).subscribe(()=>{this._validatePlaceholders(),this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),t.ngControl&&t.ngControl.valueChanges&&t.ngControl.valueChanges.pipe(Gl(this._destroyed)).subscribe(()=>this._changeDetectorRef.markForCheck()),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.pipe(Gl(this._destroyed)).subscribe(()=>{this._outlineGapCalculationNeededOnStable&&this.updateOutlineGap()})}),vc(this._prefixChildren.changes,this._suffixChildren.changes).subscribe(()=>{this._outlineGapCalculationNeededOnStable=!0,this._changeDetectorRef.markForCheck()}),this._hintChildren.changes.pipe(qo(null)).subscribe(()=>{this._processHints(),this._changeDetectorRef.markForCheck()}),this._errorChildren.changes.pipe(qo(null)).subscribe(()=>{this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),this._dir&&this._dir.change.pipe(Gl(this._destroyed)).subscribe(()=>{"function"==typeof requestAnimationFrame?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>this.updateOutlineGap())}):this.updateOutlineGap()})}ngAfterContentChecked(){this._validateControlChild(),this._outlineGapCalculationNeededImmediately&&this.updateOutlineGap()}ngAfterViewInit(){this._subscriptAnimationState="enter",this._changeDetectorRef.detectChanges()}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}_shouldForward(t){const r=this._control?this._control.ngControl:null;return r&&r[t]}_hasPlaceholder(){return!!(this._control&&this._control.placeholder||this._placeholderChild)}_hasLabel(){return!(!this._labelChildNonStatic&&!this._labelChildStatic)}_shouldLabelFloat(){return this._canLabelFloat()&&(this._control&&this._control.shouldLabelFloat||this._shouldAlwaysFloat())}_hideControlPlaceholder(){return"legacy"===this.appearance&&!this._hasLabel()||this._hasLabel()&&!this._shouldLabelFloat()}_hasFloatingLabel(){return this._hasLabel()||"legacy"===this.appearance&&this._hasPlaceholder()}_getDisplayedMessages(){return this._errorChildren&&this._errorChildren.length>0&&this._control.errorState?"error":"hint"}_animateAndLockLabel(){this._hasFloatingLabel()&&this._canLabelFloat()&&(this._animationsEnabled&&this._label&&(this._showAlwaysAnimate=!0,Jv(this._label.nativeElement,"transitionend").pipe(Ir(1)).subscribe(()=>{this._showAlwaysAnimate=!1})),this.floatLabel="always",this._changeDetectorRef.markForCheck())}_validatePlaceholders(){}_processHints(){this._validateHints(),this._syncDescribedByIds()}_validateHints(){}_getDefaultFloatLabelState(){return this._defaults&&this._defaults.floatLabel||"auto"}_syncDescribedByIds(){if(this._control){let t=[];if(this._control.userAriaDescribedBy&&"string"==typeof this._control.userAriaDescribedBy&&t.push(...this._control.userAriaDescribedBy.split(" ")),"hint"===this._getDisplayedMessages()){const r=this._hintChildren?this._hintChildren.find(s=>"start"===s.align):null,i=this._hintChildren?this._hintChildren.find(s=>"end"===s.align):null;r?t.push(r.id):this._hintLabel&&t.push(this._hintLabelId),i&&t.push(i.id)}else this._errorChildren&&t.push(...this._errorChildren.map(r=>r.id));this._control.setDescribedByIds(t)}}_validateControlChild(){}updateOutlineGap(){const t=this._label?this._label.nativeElement:null;if(!("outline"===this.appearance&&t&&t.children.length&&t.textContent.trim()&&this._platform.isBrowser))return;if(!this._isAttachedToDOM())return void(this._outlineGapCalculationNeededImmediately=!0);let r=0,i=0;const s=this._connectionContainerRef.nativeElement,o=s.querySelectorAll(".mat-form-field-outline-start"),a=s.querySelectorAll(".mat-form-field-outline-gap");if(this._label&&this._label.nativeElement.children.length){const l=s.getBoundingClientRect();if(0===l.width&&0===l.height)return this._outlineGapCalculationNeededOnStable=!0,void(this._outlineGapCalculationNeededImmediately=!1);const c=this._getStartEnd(l),u=t.children,d=this._getStartEnd(u[0].getBoundingClientRect());let h=0;for(let f=0;f<u.length;f++)h+=u[f].offsetWidth;r=Math.abs(d-c)-5,i=h>0?.75*h+10:0}for(let l=0;l<o.length;l++)o[l].style.width=`${r}px`;for(let l=0;l<a.length;l++)a[l].style.width=`${i}px`;this._outlineGapCalculationNeededOnStable=this._outlineGapCalculationNeededImmediately=!1}_getStartEnd(t){return this._dir&&"rtl"===this._dir.value?t.right:t.left}_isAttachedToDOM(){const t=this._elementRef.nativeElement;if(t.getRootNode){const r=t.getRootNode();return r&&r!==t}return document.documentElement.contains(t)}}return n.\u0275fac=function(t){return new(t||n)(b(et),b(Go),b(Fk,8),b(hIe,8),b(Zr),b(ie),b(au,8))},n.\u0275cmp=Qe({type:n,selectors:[["mat-form-field"]],contentQueries:function(t,r,i){if(1&t&&(Kn(i,dR,5),Kn(i,dR,7),Kn(i,Fp,5),Kn(i,Fp,7),Kn(i,lIe,5),Kn(i,F5,5),Kn(i,V5,5),Kn(i,B5,5),Kn(i,U5,5)),2&t){let s;It(s=Tt())&&(r._controlNonStatic=s.first),It(s=Tt())&&(r._controlStatic=s.first),It(s=Tt())&&(r._labelChildNonStatic=s.first),It(s=Tt())&&(r._labelChildStatic=s.first),It(s=Tt())&&(r._placeholderChild=s.first),It(s=Tt())&&(r._errorChildren=s),It(s=Tt())&&(r._hintChildren=s),It(s=Tt())&&(r._prefixChildren=s),It(s=Tt())&&(r._suffixChildren=s)}},viewQuery:function(t,r){if(1&t&&(Ho(j0e,7),Ho(H0e,5),Ho(z0e,5)),2&t){let i;It(i=Tt())&&(r._connectionContainerRef=i.first),It(i=Tt())&&(r._inputContainerRef=i.first),It(i=Tt())&&(r._label=i.first)}},hostAttrs:[1,"mat-form-field"],hostVars:40,hostBindings:function(t,r){2&t&&Qt("mat-form-field-appearance-standard","standard"==r.appearance)("mat-form-field-appearance-fill","fill"==r.appearance)("mat-form-field-appearance-outline","outline"==r.appearance)("mat-form-field-appearance-legacy","legacy"==r.appearance)("mat-form-field-invalid",r._control.errorState)("mat-form-field-can-float",r._canLabelFloat())("mat-form-field-should-float",r._shouldLabelFloat())("mat-form-field-has-label",r._hasFloatingLabel())("mat-form-field-hide-placeholder",r._hideControlPlaceholder())("mat-form-field-disabled",r._control.disabled)("mat-form-field-autofilled",r._control.autofilled)("mat-focused",r._control.focused)("ng-untouched",r._shouldForward("untouched"))("ng-touched",r._shouldForward("touched"))("ng-pristine",r._shouldForward("pristine"))("ng-dirty",r._shouldForward("dirty"))("ng-valid",r._shouldForward("valid"))("ng-invalid",r._shouldForward("invalid"))("ng-pending",r._shouldForward("pending"))("_mat-animation-noopable",!r._animationsEnabled)},inputs:{color:"color",appearance:"appearance",hideRequiredMarker:"hideRequiredMarker",hintLabel:"hintLabel",floatLabel:"floatLabel"},exportAs:["matFormField"],features:[Ke([{provide:z5,useExisting:n}]),Ae],ngContentSelectors:rIe,decls:15,vars:8,consts:[[1,"mat-form-field-wrapper"],[1,"mat-form-field-flex",3,"click"],["connectionContainer",""],[4,"ngIf"],["class","mat-form-field-prefix",4,"ngIf"],[1,"mat-form-field-infix"],["inputContainer",""],[1,"mat-form-field-label-wrapper"],["class","mat-form-field-label",3,"cdkObserveContentDisabled","id","mat-empty","mat-form-field-empty","mat-accent","mat-warn","ngSwitch","cdkObserveContent",4,"ngIf"],["class","mat-form-field-suffix",4,"ngIf"],["class","mat-form-field-underline",4,"ngIf"],[1,"mat-form-field-subscript-wrapper",3,"ngSwitch"],[4,"ngSwitchCase"],["class","mat-form-field-hint-wrapper",4,"ngSwitchCase"],[1,"mat-form-field-outline"],[1,"mat-form-field-outline-start"],[1,"mat-form-field-outline-gap"],[1,"mat-form-field-outline-end"],[1,"mat-form-field-outline","mat-form-field-outline-thick"],[1,"mat-form-field-prefix"],[1,"mat-form-field-label",3,"cdkObserveContentDisabled","id","ngSwitch","cdkObserveContent"],["label",""],["class","mat-placeholder-required mat-form-field-required-marker","aria-hidden","true",4,"ngIf"],["aria-hidden","true",1,"mat-placeholder-required","mat-form-field-required-marker"],[1,"mat-form-field-suffix"],[1,"mat-form-field-underline"],[1,"mat-form-field-ripple"],[1,"mat-form-field-hint-wrapper"],["class","mat-hint",3,"id",4,"ngIf"],[1,"mat-form-field-hint-spacer"],[1,"mat-hint",3,"id"]],template:function(t,r){1&t&&($o(nIe),T(0,"div",0)(1,"div",1,2),Me("click",function(s){return r._control.onContainerClick&&r._control.onContainerClick(s)}),Z(3,G0e,9,0,"ng-container",3),Z(4,W0e,2,0,"div",4),T(5,"div",5,6),qn(7),T(8,"span",7),Z(9,Q0e,5,16,"label",8),A()(),Z(10,X0e,2,0,"div",9),A(),Z(11,Z0e,2,4,"div",10),T(12,"div",11),Z(13,J0e,2,1,"div",12),Z(14,tIe,5,2,"div",13),A()()),2&t&&(N(3),L("ngIf","outline"==r.appearance),N(1),L("ngIf",r._prefixChildren.length),N(5),L("ngIf",r._hasFloatingLabel()),N(1),L("ngIf",r._suffixChildren.length),N(1),L("ngIf","outline"!=r.appearance),N(1),L("ngSwitch",r._getDisplayedMessages()),N(1),L("ngSwitchCase","error"),N(1),L("ngSwitchCase","hint"))},dependencies:[Oi,Mh,nCe,y0],styles:[".mat-form-field{display:inline-block;position:relative;text-align:left}[dir=rtl] .mat-form-field{text-align:right}.mat-form-field-wrapper{position:relative}.mat-form-field-flex{display:inline-flex;align-items:baseline;box-sizing:border-box;width:100%}.mat-form-field-prefix,.mat-form-field-suffix{white-space:nowrap;flex:none;position:relative}.mat-form-field-infix{display:block;position:relative;flex:auto;min-width:0;width:180px}.cdk-high-contrast-active .mat-form-field-infix{border-image:linear-gradient(transparent, transparent)}.mat-form-field-label-wrapper{position:absolute;left:0;box-sizing:content-box;width:100%;height:100%;overflow:hidden;pointer-events:none}[dir=rtl] .mat-form-field-label-wrapper{left:auto;right:0}.mat-form-field-label{position:absolute;left:0;font:inherit;pointer-events:none;width:100%;white-space:nowrap;text-overflow:ellipsis;overflow:hidden;transform-origin:0 0;transition:transform 400ms cubic-bezier(0.25, 0.8, 0.25, 1),color 400ms cubic-bezier(0.25, 0.8, 0.25, 1),width 400ms cubic-bezier(0.25, 0.8, 0.25, 1);display:none}[dir=rtl] .mat-form-field-label{transform-origin:100% 0;left:auto;right:0}.mat-form-field-empty.mat-form-field-label,.mat-form-field-can-float.mat-form-field-should-float .mat-form-field-label{display:block}.mat-form-field-autofill-control:-webkit-autofill+.mat-form-field-label-wrapper .mat-form-field-label{display:none}.mat-form-field-can-float .mat-form-field-autofill-control:-webkit-autofill+.mat-form-field-label-wrapper .mat-form-field-label{display:block;transition:none}.mat-input-server:focus+.mat-form-field-label-wrapper .mat-form-field-label,.mat-input-server[placeholder]:not(:placeholder-shown)+.mat-form-field-label-wrapper .mat-form-field-label{display:none}.mat-form-field-can-float .mat-input-server:focus+.mat-form-field-label-wrapper .mat-form-field-label,.mat-form-field-can-float .mat-input-server[placeholder]:not(:placeholder-shown)+.mat-form-field-label-wrapper .mat-form-field-label{display:block}.mat-form-field-label:not(.mat-form-field-empty){transition:none}.mat-form-field-underline{position:absolute;width:100%;pointer-events:none;transform:scale3d(1, 1.0001, 1)}.mat-form-field-ripple{position:absolute;left:0;width:100%;transform-origin:50%;transform:scaleX(0.5);opacity:0;transition:background-color 300ms cubic-bezier(0.55, 0, 0.55, 0.2)}.mat-form-field.mat-focused .mat-form-field-ripple,.mat-form-field.mat-form-field-invalid .mat-form-field-ripple{opacity:1;transform:none;transition:transform 300ms cubic-bezier(0.25, 0.8, 0.25, 1),opacity 100ms cubic-bezier(0.25, 0.8, 0.25, 1),background-color 300ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-subscript-wrapper{position:absolute;box-sizing:border-box;width:100%;overflow:hidden}.mat-form-field-subscript-wrapper .mat-icon,.mat-form-field-label-wrapper .mat-icon{width:1em;height:1em;font-size:inherit;vertical-align:baseline}.mat-form-field-hint-wrapper{display:flex}.mat-form-field-hint-spacer{flex:1 0 1em}.mat-error{display:block}.mat-form-field-control-wrapper{position:relative}.mat-form-field-hint-end{order:1}.mat-form-field._mat-animation-noopable .mat-form-field-label,.mat-form-field._mat-animation-noopable .mat-form-field-ripple{transition:none}\n",'.mat-form-field-appearance-fill .mat-form-field-flex{border-radius:4px 4px 0 0;padding:.75em .75em 0 .75em}.cdk-high-contrast-active .mat-form-field-appearance-fill .mat-form-field-flex{outline:solid 1px}.cdk-high-contrast-active .mat-form-field-appearance-fill.mat-focused .mat-form-field-flex{outline:dashed 3px}.mat-form-field-appearance-fill .mat-form-field-underline::before{content:"";display:block;position:absolute;bottom:0;height:1px;width:100%}.mat-form-field-appearance-fill .mat-form-field-ripple{bottom:0;height:2px}.cdk-high-contrast-active .mat-form-field-appearance-fill .mat-form-field-ripple{height:0}.mat-form-field-appearance-fill:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{opacity:1;transform:none;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-fill._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{transition:none}.mat-form-field-appearance-fill .mat-form-field-subscript-wrapper{padding:0 1em}\n','.mat-input-element{font:inherit;background:transparent;color:currentColor;border:none;outline:none;padding:0;margin:0;width:100%;max-width:100%;vertical-align:bottom;text-align:inherit;box-sizing:content-box}.mat-input-element:-moz-ui-invalid{box-shadow:none}.mat-input-element,.mat-input-element::-webkit-search-cancel-button,.mat-input-element::-webkit-search-decoration,.mat-input-element::-webkit-search-results-button,.mat-input-element::-webkit-search-results-decoration{-webkit-appearance:none}.mat-input-element::-webkit-contacts-auto-fill-button,.mat-input-element::-webkit-caps-lock-indicator,.mat-input-element:not([type=password])::-webkit-credentials-auto-fill-button{visibility:hidden}.mat-input-element[type=date],.mat-input-element[type=datetime],.mat-input-element[type=datetime-local],.mat-input-element[type=month],.mat-input-element[type=week],.mat-input-element[type=time]{line-height:1}.mat-input-element[type=date]::after,.mat-input-element[type=datetime]::after,.mat-input-element[type=datetime-local]::after,.mat-input-element[type=month]::after,.mat-input-element[type=week]::after,.mat-input-element[type=time]::after{content:" ";white-space:pre;width:1px}.mat-input-element::-webkit-inner-spin-button,.mat-input-element::-webkit-calendar-picker-indicator,.mat-input-element::-webkit-clear-button{font-size:.75em}.mat-input-element::placeholder{-webkit-user-select:none;-moz-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element::-moz-placeholder{-webkit-user-select:none;-moz-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element::-webkit-input-placeholder{-webkit-user-select:none;-moz-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element:-ms-input-placeholder{-webkit-user-select:none;-moz-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-hide-placeholder .mat-input-element::placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element::placeholder{opacity:0}.mat-form-field-hide-placeholder .mat-input-element::-moz-placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element::-moz-placeholder{opacity:0}.mat-form-field-hide-placeholder .mat-input-element::-webkit-input-placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element::-webkit-input-placeholder{opacity:0}.mat-form-field-hide-placeholder .mat-input-element:-ms-input-placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element:-ms-input-placeholder{opacity:0}textarea.mat-input-element{resize:vertical;overflow:auto}textarea.mat-input-element.cdk-textarea-autosize{resize:none}textarea.mat-input-element{padding:2px 0;margin:-2px 0}select.mat-input-element{-moz-appearance:none;-webkit-appearance:none;position:relative;background-color:transparent;display:inline-flex;box-sizing:border-box;padding-top:1em;top:-1em;margin-bottom:-1em}select.mat-input-element::-moz-focus-inner{border:0}select.mat-input-element:not(:disabled){cursor:pointer}.mat-form-field-type-mat-native-select .mat-form-field-infix::after{content:"";width:0;height:0;border-left:5px solid transparent;border-right:5px solid transparent;border-top:5px solid;position:absolute;top:50%;right:0;margin-top:-2.5px;pointer-events:none}[dir=rtl] .mat-form-field-type-mat-native-select .mat-form-field-infix::after{right:auto;left:0}.mat-form-field-type-mat-native-select .mat-input-element{padding-right:15px}[dir=rtl] .mat-form-field-type-mat-native-select .mat-input-element{padding-right:0;padding-left:15px}.mat-form-field-type-mat-native-select .mat-form-field-label-wrapper{max-width:calc(100% - 10px)}.mat-form-field-type-mat-native-select.mat-form-field-appearance-outline .mat-form-field-infix::after{margin-top:-5px}.mat-form-field-type-mat-native-select.mat-form-field-appearance-fill .mat-form-field-infix::after{margin-top:-10px}\n',".mat-form-field-appearance-legacy .mat-form-field-label{transform:perspective(100px)}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon{width:1em}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon-button,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon-button{font:inherit;vertical-align:baseline}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon-button .mat-icon{font-size:inherit}.mat-form-field-appearance-legacy .mat-form-field-underline{height:1px}.cdk-high-contrast-active .mat-form-field-appearance-legacy .mat-form-field-underline{height:0;border-top:solid 1px}.mat-form-field-appearance-legacy .mat-form-field-ripple{top:0;height:2px;overflow:hidden}.cdk-high-contrast-active .mat-form-field-appearance-legacy .mat-form-field-ripple{height:0;border-top:solid 2px}.mat-form-field-appearance-legacy.mat-form-field-disabled .mat-form-field-underline{background-position:0;background-color:transparent}.cdk-high-contrast-active .mat-form-field-appearance-legacy.mat-form-field-disabled .mat-form-field-underline{border-top-style:dotted;border-top-width:2px}.mat-form-field-appearance-legacy.mat-form-field-invalid:not(.mat-focused) .mat-form-field-ripple{height:1px}\n",".mat-form-field-appearance-outline .mat-form-field-wrapper{margin:.25em 0}.mat-form-field-appearance-outline .mat-form-field-flex{padding:0 .75em 0 .75em;margin-top:-0.25em;position:relative}.mat-form-field-appearance-outline .mat-form-field-prefix,.mat-form-field-appearance-outline .mat-form-field-suffix{top:.25em}.mat-form-field-appearance-outline .mat-form-field-outline{display:flex;position:absolute;top:.25em;left:0;right:0;bottom:0;pointer-events:none}.mat-form-field-appearance-outline .mat-form-field-outline-start,.mat-form-field-appearance-outline .mat-form-field-outline-end{border:1px solid currentColor;min-width:5px}.mat-form-field-appearance-outline .mat-form-field-outline-start{border-radius:5px 0 0 5px;border-right-style:none}[dir=rtl] .mat-form-field-appearance-outline .mat-form-field-outline-start{border-right-style:solid;border-left-style:none;border-radius:0 5px 5px 0}.mat-form-field-appearance-outline .mat-form-field-outline-end{border-radius:0 5px 5px 0;border-left-style:none;flex-grow:1}[dir=rtl] .mat-form-field-appearance-outline .mat-form-field-outline-end{border-left-style:solid;border-right-style:none;border-radius:5px 0 0 5px}.mat-form-field-appearance-outline .mat-form-field-outline-gap{border-radius:.000001px;border:1px solid currentColor;border-left-style:none;border-right-style:none}.mat-form-field-appearance-outline.mat-form-field-can-float.mat-form-field-should-float .mat-form-field-outline-gap{border-top-color:transparent}.mat-form-field-appearance-outline .mat-form-field-outline-thick{opacity:0}.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-start,.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-end,.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-gap{border-width:2px}.mat-form-field-appearance-outline.mat-focused .mat-form-field-outline,.mat-form-field-appearance-outline.mat-form-field-invalid .mat-form-field-outline{opacity:0;transition:opacity 100ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-outline.mat-focused .mat-form-field-outline-thick,.mat-form-field-appearance-outline.mat-form-field-invalid .mat-form-field-outline-thick{opacity:1}.cdk-high-contrast-active .mat-form-field-appearance-outline.mat-focused .mat-form-field-outline-thick{border:3px dashed}.mat-form-field-appearance-outline:not(.mat-form-field-disabled) .mat-form-field-flex:hover .mat-form-field-outline{opacity:0;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-outline:not(.mat-form-field-disabled) .mat-form-field-flex:hover .mat-form-field-outline-thick{opacity:1}.mat-form-field-appearance-outline .mat-form-field-subscript-wrapper{padding:0 1em}.mat-form-field-appearance-outline._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-outline,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-start,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-end,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-gap{transition:none}\n",".mat-form-field-appearance-standard .mat-form-field-flex{padding-top:.75em}.mat-form-field-appearance-standard .mat-form-field-underline{height:1px}.cdk-high-contrast-active .mat-form-field-appearance-standard .mat-form-field-underline{height:0;border-top:solid 1px}.mat-form-field-appearance-standard .mat-form-field-ripple{bottom:0;height:2px}.cdk-high-contrast-active .mat-form-field-appearance-standard .mat-form-field-ripple{height:0;border-top:solid 2px}.mat-form-field-appearance-standard.mat-form-field-disabled .mat-form-field-underline{background-position:0;background-color:transparent}.cdk-high-contrast-active .mat-form-field-appearance-standard.mat-form-field-disabled .mat-form-field-underline{border-top-style:dotted;border-top-width:2px}.mat-form-field-appearance-standard:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{opacity:1;transform:none;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-standard._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{transition:none}\n"],encapsulation:2,data:{animation:[sIe.transitionMessages]},changeDetection:0}),n})(),rb=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=ue({type:n}),n.\u0275inj=ce({imports:[[Xm,Wt,KW],Wt]}),n})();const G5=Cp({passive:!0});let fIe=(()=>{class n{constructor(t,r){this._platform=t,this._ngZone=r,this._monitoredElements=new Map}monitor(t){if(!this._platform.isBrowser)return Ki;const r=Co(t),i=this._monitoredElements.get(r);if(i)return i.subject;const s=new Fe,o="cdk-text-field-autofilled",a=l=>{"cdk-text-field-autofill-start"!==l.animationName||r.classList.contains(o)?"cdk-text-field-autofill-end"===l.animationName&&r.classList.contains(o)&&(r.classList.remove(o),this._ngZone.run(()=>s.next({target:l.target,isAutofilled:!1}))):(r.classList.add(o),this._ngZone.run(()=>s.next({target:l.target,isAutofilled:!0})))};return this._ngZone.runOutsideAngular(()=>{r.addEventListener("animationstart",a,G5),r.classList.add("cdk-text-field-autofill-monitored")}),this._monitoredElements.set(r,{subject:s,unlisten:()=>{r.removeEventListener("animationstart",a,G5)}}),s}stopMonitoring(t){const r=Co(t),i=this._monitoredElements.get(r);i&&(i.unlisten(),i.subject.complete(),r.classList.remove("cdk-text-field-autofill-monitored"),r.classList.remove("cdk-text-field-autofilled"),this._monitoredElements.delete(r))}ngOnDestroy(){this._monitoredElements.forEach((t,r)=>this.stopMonitoring(r))}}return n.\u0275fac=function(t){return new(t||n)(w(Zr),w(ie))},n.\u0275prov=F({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),W5=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=ue({type:n}),n.\u0275inj=ce({imports:[[Ov]]}),n})();const pIe=new P("MAT_INPUT_VALUE_ACCESSOR"),gIe=["button","checkbox","file","hidden","image","radio","range","reset","submit"];let mIe=0;const _Ie=ICe(class{constructor(n,e,t,r){this._defaultErrorStateMatcher=n,this._parentForm=e,this._parentFormGroup=t,this.ngControl=r}});let ib=(()=>{class n extends _Ie{constructor(t,r,i,s,o,a,l,c,u,d){super(a,s,o,i),this._elementRef=t,this._platform=r,this._autofillMonitor=c,this._formField=d,this._uid="mat-input-"+mIe++,this.focused=!1,this.stateChanges=new Fe,this.controlType="mat-input",this.autofilled=!1,this._disabled=!1,this._type="text",this._readonly=!1,this._neverEmptyInputTypes=["date","datetime","datetime-local","month","time","week"].filter(p=>WW().has(p));const h=this._elementRef.nativeElement,f=h.nodeName.toLowerCase();this._inputValueAccessor=l||h,this._previousNativeValue=this.value,this.id=this.id,r.IOS&&u.runOutsideAngular(()=>{t.nativeElement.addEventListener("keyup",p=>{const g=p.target;!g.value&&0===g.selectionStart&&0===g.selectionEnd&&(g.setSelectionRange(1,1),g.setSelectionRange(0,0))})}),this._isServer=!this._platform.isBrowser,this._isNativeSelect="select"===f,this._isTextarea="textarea"===f,this._isInFormField=!!d,this._isNativeSelect&&(this.controlType=h.multiple?"mat-native-select-multiple":"mat-native-select")}get disabled(){return this.ngControl&&null!==this.ngControl.disabled?this.ngControl.disabled:this._disabled}set disabled(t){this._disabled=mi(t),this.focused&&(this.focused=!1,this.stateChanges.next())}get id(){return this._id}set id(t){this._id=t||this._uid}get required(){return this._required??this.ngControl?.control?.hasValidator(Ui.required)??!1}set required(t){this._required=mi(t)}get type(){return this._type}set type(t){this._type=t||"text",this._validateType(),!this._isTextarea&&WW().has(this._type)&&(this._elementRef.nativeElement.type=this._type)}get value(){return this._inputValueAccessor.value}set value(t){t!==this.value&&(this._inputValueAccessor.value=t,this.stateChanges.next())}get readonly(){return this._readonly}set readonly(t){this._readonly=mi(t)}ngAfterViewInit(){this._platform.isBrowser&&this._autofillMonitor.monitor(this._elementRef.nativeElement).subscribe(t=>{this.autofilled=t.isAutofilled,this.stateChanges.next()})}ngOnChanges(){this.stateChanges.next()}ngOnDestroy(){this.stateChanges.complete(),this._platform.isBrowser&&this._autofillMonitor.stopMonitoring(this._elementRef.nativeElement)}ngDoCheck(){this.ngControl&&this.updateErrorState(),this._dirtyCheckNativeValue(),this._dirtyCheckPlaceholder()}focus(t){this._elementRef.nativeElement.focus(t)}_focusChanged(t){t!==this.focused&&(this.focused=t,this.stateChanges.next())}_onInput(){}_dirtyCheckPlaceholder(){const t=this._formField?._hideControlPlaceholder?.()?null:this.placeholder;if(t!==this._previousPlaceholder){const r=this._elementRef.nativeElement;this._previousPlaceholder=t,t?r.setAttribute("placeholder",t):r.removeAttribute("placeholder")}}_dirtyCheckNativeValue(){const t=this._elementRef.nativeElement.value;this._previousNativeValue!==t&&(this._previousNativeValue=t,this.stateChanges.next())}_validateType(){gIe.indexOf(this._type)}_isNeverEmpty(){return this._neverEmptyInputTypes.indexOf(this._type)>-1}_isBadInput(){let t=this._elementRef.nativeElement.validity;return t&&t.badInput}get empty(){return!(this._isNeverEmpty()||this._elementRef.nativeElement.value||this._isBadInput()||this.autofilled)}get shouldLabelFloat(){if(this._isNativeSelect){const t=this._elementRef.nativeElement,r=t.options[0];return this.focused||t.multiple||!this.empty||!!(t.selectedIndex>-1&&r&&r.label)}return this.focused||!this.empty}setDescribedByIds(t){t.length?this._elementRef.nativeElement.setAttribute("aria-describedby",t.join(" ")):this._elementRef.nativeElement.removeAttribute("aria-describedby")}onContainerClick(){this.focused||this.focus()}_isInlineSelect(){const t=this._elementRef.nativeElement;return this._isNativeSelect&&(t.multiple||t.size>1)}}return n.\u0275fac=function(t){return new(t||n)(b(et),b(Zr),b(Eo,10),b(kp,8),b(Ql,8),b(aq),b(pIe,10),b(fIe),b(ie),b(z5,8))},n.\u0275dir=q({type:n,selectors:[["input","matInput",""],["textarea","matInput",""],["select","matNativeControl",""],["input","matNativeControl",""],["textarea","matNativeControl",""]],hostAttrs:[1,"mat-input-element","mat-form-field-autofill-control"],hostVars:11,hostBindings:function(t,r){1&t&&Me("focus",function(){return r._focusChanged(!0)})("blur",function(){return r._focusChanged(!1)})("input",function(){return r._onInput()}),2&t&&(EE("disabled",r.disabled)("required",r.required),Et("id",r.id)("data-placeholder",r.placeholder)("readonly",r.readonly&&!r._isNativeSelect||null)("aria-invalid",r.empty&&r.required?null:r.errorState)("aria-required",r.required),Qt("mat-input-server",r._isServer)("mat-native-select-inline",r._isInlineSelect()))},inputs:{disabled:"disabled",id:"id",placeholder:"placeholder",required:"required",type:"type",errorStateMatcher:"errorStateMatcher",userAriaDescribedBy:["aria-describedby","userAriaDescribedBy"],value:"value",readonly:"readonly"},exportAs:["matInput"],features:[Ke([{provide:dR,useExisting:n}]),Ae,sr]}),n})(),yIe=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=ue({type:n}),n.\u0275inj=ce({providers:[aq],imports:[[W5,rb,Wt],W5,rb]}),n})();function vIe(n,e){1&n&&(T(0,"mat-error"),S(1,"\u043e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u043e\u0435 \u043f\u043e\u043b\u0435"),A())}function bIe(n,e){1&n&&(T(0,"mat-error"),S(1,"email \u043d\u0435\u043a\u043e\u0440\u0440\u0435\u043a\u0442\u043d\u044b\u0439"),A())}function wIe(n,e){1&n&&(T(0,"mat-error"),S(1,"\u043f\u0430\u0440\u043e\u043b\u044c \u043d\u0435\u043a\u043e\u0440\u0440\u0435\u043a\u0442\u043d\u044b\u0439"),A())}let CIe=(()=>{class n{constructor(t,r,i){this.router=t,this.auth=r,this.toast=i,this.hide=!0,this.loginForm=new pd({email:new er("",[Ui.required,Ui.email]),password:new er("",[Ui.required])})}ngOnInit(){}goToSign(){this.router.navigate(["/signup"])}get email(){return this.loginForm.get("email")}get password(){return this.loginForm.get("password")}Submit(){const{email:t,password:r}=this.loginForm.value;!this.loginForm.valid||!t||!r||this.auth.login(t,r).pipe(this.toast.observe({success:"\u0412\u0445\u043e\u0434 \u0432\u044b\u043f\u043e\u043b\u043d\u0435\u043d \u0443\u0441\u043f\u0435\u0448\u043d\u043e",loading:"\u0417\u0430\u0433\u0440\u0443\u0437\u043a\u0430...",error:({message:i})=>`\u041f\u0440\u043e\u0438\u0437\u043e\u0448\u043b\u0430 \u043e\u0448\u0438\u0431\u043a\u0430: ${i} `})).subscribe(()=>{this.router.navigate(["/"])})}goToForgot(){this.router.navigate(["/reset"])}}return n.\u0275fac=function(t){return new(t||n)(b(Ft),b(Mu),b(oR))},n.\u0275cmp=Qe({type:n,selectors:[["app-login"]],decls:25,vars:8,consts:[[1,"login-container"],[1,"form",3,"formGroup","ngSubmit"],["matInput","","placeholder","Email adress","formControlName","email","type","text"],[4,"ngIf"],["appearance","fill"],["matInput","","formControlName","password",3,"type"],["align","end",1,"forgot-password",3,"click"],["mat-icon-button","","matSuffix","",3,"click"],[1,"center","margin-top"],["mat-raised-button","","color","primary","type","submit"],[1,"link",3,"click"]],template:function(t,r){1&t&&(T(0,"div",0)(1,"h1"),S(2,"Login"),A(),T(3,"form",1),Me("ngSubmit",function(){return r.Submit()}),T(4,"mat-form-field"),ye(5,"input",2),Z(6,vIe,2,0,"mat-error",3),Z(7,bIe,2,0,"mat-error",3),A(),T(8,"mat-form-field",4)(9,"mat-label"),S(10,"Enter your password"),A(),ye(11,"input",5),Z(12,wIe,2,0,"mat-error",3),T(13,"mat-hint",6),Me("click",function(){return r.goToForgot()}),S(14,"\u0417\u0430\u0431\u044b\u043b\u0438 \u043f\u0430\u0440\u043e\u043b\u044c?"),A(),T(15,"button",7),Me("click",function(){return r.hide=!r.hide}),T(16,"mat-icon"),S(17),A()()(),T(18,"div",8)(19,"button",9),S(20," Login "),A()(),T(21,"span"),S(22," \u0415\u0449\u0435 \u043d\u0435 \u0437\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u043b\u0438\u0441\u044c? "),T(23,"a",10),Me("click",function(){return r.goToSign()}),S(24," \u0420\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u044f..."),A()()()()),2&t&&(N(3),L("formGroup",r.loginForm),N(3),L("ngIf",null==r.email||null==r.email.errors?null:r.email.errors.required),N(1),L("ngIf",null==r.email||null==r.email.errors?null:r.email.errors.email),N(4),L("type",r.hide?"password":"text"),N(1),L("ngIf",null==r.password||null==r.password.errors?null:r.password.errors.required),N(3),Et("aria-label","Hide password")("aria-pressed",r.hide),N(2),cr(r.hide?"visibility_off":"visibility"))},dependencies:[Oi,aR,hd,L5,nb,aIe,Fp,$5,ib,Rp,Yl,Tp,Sp,Ql,Np],styles:[".login-container[_ngcontent-%COMP%]{display:block;max-width:500px;margin:auto;background:#eceff1;padding:48px;border-radius:16px}.login-container[_ngcontent-%COMP%]   mat-form-field[_ngcontent-%COMP%]{width:100%}.center[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin-bottom:16px}.link[_ngcontent-%COMP%]{font-size:1.2em;color:#00f;cursor:pointer;transition:all .6s}.link[_ngcontent-%COMP%]:hover{color:#ee0c0c}.forgot-password[_ngcontent-%COMP%]{cursor:pointer;font-size:1.3em;transition:all .3s;color:#00f}.forgot-password[_ngcontent-%COMP%]:hover{color:#8a2be2}"]}),n})();function EIe(n,e){1&n&&(T(0,"mat-error"),S(1,"email \u043d\u0435\u043a\u043e\u0440\u0440\u0435\u043a\u0442\u043d\u044b\u0439"),A())}function IIe(n,e){1&n&&(T(0,"mat-error"),S(1,"email \u043d\u0435\u043a\u043e\u0440\u0440\u0435\u043a\u0442\u043d\u044b\u0439"),A())}function TIe(n,e){1&n&&(T(0,"mat-error"),S(1,"\u043f\u0430\u0440\u043e\u043b\u044c \u043d\u0435\u043a\u043e\u0440\u0440\u0435\u043a\u0442\u043d\u044b\u0439"),A())}function SIe(n,e){1&n&&(T(0,"mat-error"),S(1,"\u043f\u0430\u0440\u043e\u043b\u044c \u043d\u0435\u043a\u043e\u0440\u0440\u0435\u043a\u0442\u043d\u044b\u0439"),A())}function DIe(n,e){1&n&&(T(0,"mat-error"),S(1," \u041f\u0430\u0440\u043e\u043b\u0438 \u043d\u0435 \u0441\u043e\u0432\u043f\u0430\u0434\u0430\u044e\u0442 "),A())}let MIe=(()=>{class n{constructor(t,r,i,s){this.auth=t,this.toast=r,this.router=i,this.userService=s,this.signUpForm=new pd({name:new er("",[Ui.required]),email:new er("",[Ui.required,Ui.email]),password:new er("",[Ui.required,Ui.minLength(6)]),confirmPassword:new er("",[Ui.required,Ui.minLength(6)])},{validators:n=>{const e=n.get("password")?.value,t=n.get("confirmPassword")?.value;return e&&t&&e!==t?{passwordsDontMatch:!0}:null}})}ngOnInit(){}get name(){return this.signUpForm.get("name")}get email(){return this.signUpForm.get("email")}get password(){return this.signUpForm.get("password")}get confirmPassword(){return this.signUpForm.get("confirmPassword")}submit(){const{name:t,email:r,password:i}=this.signUpForm.value;!this.signUpForm.valid||!t||!i||!r||this.auth.signUp(r,i).pipe(xn(({user:{uid:s}})=>this.userService.addUser({uid:s,email:r,displayName:t})),this.toast.observe({success:"\u041f\u043e\u0437\u0434\u0440\u0430\u0432\u043b\u044f\u0435\u043c \u0441 \u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u0435\u0439",loading:"\u0420\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u044f...",error:({message:s})=>`${s}`})).subscribe(()=>{this.router.navigate(["/"])})}}return n.\u0275fac=function(t){return new(t||n)(b(Mu),b(oR),b(Ft),b(Tk))},n.\u0275cmp=Qe({type:n,selectors:[["app-signup"]],decls:20,vars:6,consts:[[1,"signup-container"],[1,"form",3,"formGroup","ngSubmit"],["matInput","","placeholder","\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0438\u043c\u044f","formControlName","name","type","text"],[4,"ngIf"],["matInput","","placeholder","Email adress","formControlName","email","type","text"],["matInput","","placeholder","\u043f\u0440\u0438\u0434\u0443\u043c\u0430\u0439\u0442\u0435 \u043f\u0430\u0440\u043e\u043b\u044c","formControlName","password","type","password"],["matInput","","placeholder","\u041f\u043e\u0432\u0442\u043e\u0440\u0438\u0442\u0435 \u043f\u0430\u0440\u043e\u043b\u044c","formControlName","confirmPassword","type","password"],[1,"center","margin-top"],["mat-raised-button","","color","primary","type","submit"]],template:function(t,r){1&t&&(T(0,"div",0)(1,"h1"),S(2,"\u0420\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u044f"),A(),T(3,"form",1),Me("ngSubmit",function(){return r.submit()}),T(4,"mat-form-field"),ye(5,"input",2),Z(6,EIe,2,0,"mat-error",3),A(),T(7,"mat-form-field"),ye(8,"input",4),Z(9,IIe,2,0,"mat-error",3),A(),T(10,"mat-form-field"),ye(11,"input",5),Z(12,TIe,2,0,"mat-error",3),A(),T(13,"mat-form-field"),ye(14,"input",6),Z(15,SIe,2,0,"mat-error",3),A(),Z(16,DIe,2,0,"mat-error",3),T(17,"div",7)(18,"button",8),S(19," \u0417\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u0442\u044c\u0441\u044f "),A()()()()),2&t&&(N(3),L("formGroup",r.signUpForm),N(3),L("ngIf",null==r.name||null==r.name.errors?null:r.name.errors.required),N(3),L("ngIf",null==r.email||null==r.email.errors?null:r.email.errors.required),N(3),L("ngIf",null==r.password||null==r.password.errors?null:r.password.errors.required),N(3),L("ngIf",null==r.confirmPassword||null==r.confirmPassword.errors?null:r.confirmPassword.errors.required),N(1),L("ngIf",null==r.signUpForm.errors?null:r.signUpForm.errors.passwordsDontMatch))},dependencies:[Oi,hd,L5,nb,ib,Rp,Yl,Tp,Sp,Ql,Np],styles:[".signup-container[_ngcontent-%COMP%]{display:block;max-width:500px;margin:auto;background:#eceff1;padding:48px;border-radius:16px}.signup-container[_ngcontent-%COMP%]   mat-form-field[_ngcontent-%COMP%]{width:100%}"]}),n})();const hR=ee(n=>!!n);let xIe=(()=>{class n{constructor(t,r){this.router=t,this.auth=r,this.canActivate=(i,s)=>{const o=i.data.authGuardPipe||(()=>hR);return Nme(this.auth).pipe(Ir(1),o(i,s),ee(a=>"boolean"==typeof a?a:Array.isArray(a)?this.router.createUrlTree(a):this.router.parseUrl(a)))}}}return n.\u0275fac=function(t){return new(t||n)(w(Ft),w(Au))},n.\u0275prov=F({token:n,factory:n.\u0275fac,providedIn:"any"}),n})();const q5=n=>({canActivate:[xIe],data:{authGuardPipe:n}}),K5="firebasestorage.googleapis.com",Y5="storageBucket";class Mt extends Gr{constructor(e,t,r=0){super(fR(e),`Firebase Storage: ${t} (${fR(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Mt.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return fR(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.message=this.customData.serverResponse?`${this._baseMessage}\n${this.customData.serverResponse}`:this._baseMessage}}function fR(n){return"storage/"+n}function pR(){return new Mt("unknown","An unknown error occurred, please check the error payload for server response.")}function gR(n){return new Mt("invalid-argument",n)}function J5(){return new Mt("app-deleted","The Firebase app was deleted.")}function Lp(n,e){return new Mt("invalid-format","String does not match format '"+n+"': "+e)}function Vp(n){throw new Mt("internal-error","Internal error: "+n)}class _r{constructor(e,t){this.bucket=e,this.path_=t}get path(){return this.path_}get isRoot(){return 0===this.path.length}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,t){let r;try{r=_r.makeFromUrl(e,t)}catch{return new _r(e,"")}if(""===r.path)return r;throw function jIe(n){return new Mt("invalid-default-bucket","Invalid default bucket '"+n+"'.")}(e)}static makeFromUrl(e,t){let r=null;const i="([A-Za-z0-9.\\-_]+)",a=new RegExp("^gs://"+i+"(/(.*))?$","i");function c(D){D.path_=decodeURIComponent(D.path)}const d=t.replace(/[.]/g,"\\."),y=[{regex:a,indices:{bucket:1,path:3},postModify:function s(D){"/"===D.path.charAt(D.path.length-1)&&(D.path_=D.path_.slice(0,-1))}},{regex:new RegExp(`^https?://${d}/v[A-Za-z0-9_]+/b/${i}/o(/([^?#]*).*)?$`,"i"),indices:{bucket:1,path:3},postModify:c},{regex:new RegExp(`^https?://${t===K5?"(?:storage.googleapis.com|storage.cloud.google.com)":t}/${i}/([^?#]*)`,"i"),indices:{bucket:1,path:2},postModify:c}];for(let D=0;D<y.length;D++){const O=y[D],B=O.regex.exec(e);if(B){let ot=B[O.indices.path];ot||(ot=""),r=new _r(B[O.indices.bucket],ot),O.postModify(r);break}}if(null==r)throw function $Ie(n){return new Mt("invalid-url","Invalid URL '"+n+"'.")}(e);return r}}class KIe{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}function sb(n){return"string"==typeof n||n instanceof String}function e8(n){return mR()&&n instanceof Blob}function mR(){return typeof Blob<"u"&&!function M$(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}()}function _R(n,e,t,r){if(r<e)throw gR(`Invalid value for '${n}'. Expected ${e} or greater.`);if(r>t)throw gR(`Invalid value for '${n}'. Expected ${t} or less.`)}function So(n,e,t){let r=e;return null==t&&(r=`https://${e}`),`${t}://${r}/v0${n}`}function t8(n){const e=encodeURIComponent;let t="?";for(const r in n)n.hasOwnProperty(r)&&(t=t+(e(r)+"=")+e(n[r])+"&");return t=t.slice(0,-1),t}var ba=(()=>(function(n){n[n.NO_ERROR=0]="NO_ERROR",n[n.NETWORK_ERROR=1]="NETWORK_ERROR",n[n.ABORT=2]="ABORT"}(ba||(ba={})),ba))();class eTe{constructor(e,t,r,i,s,o,a,l,c,u,d,h=!0){this.url_=e,this.method_=t,this.headers_=r,this.body_=i,this.successCodes_=s,this.additionalRetryCodes_=o,this.callback_=a,this.errorCallback_=l,this.timeout_=c,this.progressCallback_=u,this.connectionFactory_=d,this.retry=h,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((f,p)=>{this.resolve_=f,this.reject_=p,this.start_()})}start_(){const t=(r,i)=>{const s=this.resolve_,o=this.reject_,a=i.connection;if(i.wasSuccessCode)try{const l=this.callback_(a,a.getResponse());!function XIe(n){return void 0!==n}(l)?s():s(l)}catch(l){o(l)}else if(null!==a){const l=pR();l.serverResponse=a.getErrorText(),o(this.errorCallback_?this.errorCallback_(a,l):l)}else o(i.canceled?this.appDelete_?J5():function X5(){return new Mt("canceled","User canceled the upload/download.")}():function Q5(){return new Mt("retry-limit-exceeded","Max retry time for operation exceeded, please try again.")}())};this.canceled_?t(0,new ob(!1,null,!0)):this.backoffId_=function YIe(n,e,t){let r=1,i=null,s=null,o=!1,a=0;function l(){return 2===a}let c=!1;function u(...m){c||(c=!0,e.apply(null,m))}function d(m){i=setTimeout(()=>{i=null,n(f,l())},m)}function h(){s&&clearTimeout(s)}function f(m,...v){if(c)return void h();if(m)return h(),void u.call(null,m,...v);if(l()||o)return h(),void u.call(null,m,...v);let y;r<64&&(r*=2),1===a?(a=2,y=0):y=1e3*(r+Math.random()),d(y)}let p=!1;function g(m){p||(p=!0,h(),!c&&(null!==i?(m||(a=2),clearTimeout(i),d(0)):m||(a=1)))}return d(0),s=setTimeout(()=>{o=!0,g(!0)},t),g}((r,i)=>{if(i)return void r(!1,new ob(!1,null,!0));const s=this.connectionFactory_();this.pendingConnection_=s;const o=a=>{null!==this.progressCallback_&&this.progressCallback_(a.loaded,a.lengthComputable?a.total:-1)};null!==this.progressCallback_&&s.addUploadProgressListener(o),s.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{null!==this.progressCallback_&&s.removeUploadProgressListener(o),this.pendingConnection_=null;const a=s.getErrorCode()===ba.NO_ERROR,l=s.getStatus();if((!a||function n8(n,e){const t=n>=500&&n<600,i=-1!==[408,429].indexOf(n),s=-1!==e.indexOf(n);return t||i||s}(l,this.additionalRetryCodes_))&&this.retry){const u=s.getErrorCode()===ba.ABORT;return void r(!1,new ob(!1,null,u))}const c=-1!==this.successCodes_.indexOf(l);r(!0,new ob(c,s))})},t,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,null!==this.backoffId_&&function QIe(n){n(!1)}(this.backoffId_),null!==this.pendingConnection_&&this.pendingConnection_.abort()}}class ob{constructor(e,t,r){this.wasSuccessCode=e,this.connection=t,this.canceled=!!r}}function aTe(...n){const e=function oTe(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}();if(void 0!==e){const t=new e;for(let r=0;r<n.length;r++)t.append(n[r]);return t.getBlob()}if(mR())return new Blob(n);throw new Mt("unsupported-environment","This browser doesn't seem to support creating Blobs")}class yR{constructor(e,t){this.data=e,this.contentType=t||null}}function i8(n){const e=[];for(let t=0;t<n.length;t++){let r=n.charCodeAt(t);r<=127?e.push(r):r<=2047?e.push(192|r>>6,128|63&r):55296==(64512&r)?t<n.length-1&&56320==(64512&n.charCodeAt(t+1))?(r=65536|(1023&r)<<10|1023&n.charCodeAt(++t),e.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|63&r)):e.push(239,191,189):56320==(64512&r)?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|63&r)}return new Uint8Array(e)}function s8(n,e){switch(n){case"base64":{const i=-1!==e.indexOf("-"),s=-1!==e.indexOf("_");if(i||s)throw Lp(n,"Invalid character '"+(i?"-":"_")+"' found: is it base64url encoded?");break}case"base64url":{const i=-1!==e.indexOf("+"),s=-1!==e.indexOf("/");if(i||s)throw Lp(n,"Invalid character '"+(i?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let t;try{t=function cTe(n){if(typeof atob>"u")throw function WIe(n){return new Mt("unsupported-environment",`${n} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}("base-64");return atob(n)}(e)}catch(i){throw i.message.includes("polyfill")?i:Lp(n,"Invalid character found")}const r=new Uint8Array(t.length);for(let i=0;i<t.length;i++)r[i]=t.charCodeAt(i);return r}class o8{constructor(e){this.base64=!1,this.contentType=null;const t=e.match(/^data:([^,]+)?,/);if(null===t)throw Lp("data_url","Must be formatted 'data:[<mediatype>][;base64],<data>");const r=t[1]||null;null!=r&&(this.base64=function fTe(n,e){return n.length>=e.length&&n.substring(n.length-e.length)===e}(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=e.substring(e.indexOf(",")+1)}}class Do{constructor(e,t){let r=0,i="";e8(e)?(this.data_=e,r=e.size,i=e.type):e instanceof ArrayBuffer?(t?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),r=this.data_.length):e instanceof Uint8Array&&(t?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),r=e.length),this.size_=r,this.type_=i}size(){return this.size_}type(){return this.type_}slice(e,t){if(e8(this.data_)){const i=function lTe(n,e,t){return n.webkitSlice?n.webkitSlice(e,t):n.mozSlice?n.mozSlice(e,t):n.slice?n.slice(e,t):null}(this.data_,e,t);return null===i?null:new Do(i)}{const r=new Uint8Array(this.data_.buffer,e,t-e);return new Do(r,!0)}}static getBlob(...e){if(mR()){const t=e.map(r=>r instanceof Do?r.data_:r);return new Do(aTe.apply(null,t))}{const t=e.map(o=>sb(o)?function r8(n,e){switch(n){case"raw":return new yR(i8(e));case"base64":case"base64url":return new yR(s8(n,e));case"data_url":return new yR(function dTe(n){const e=new o8(n);return e.base64?s8("base64",e.rest):function uTe(n){let e;try{e=decodeURIComponent(n)}catch{throw Lp("data_url","Malformed data URL.")}return i8(e)}(e.rest)}(e),function hTe(n){return new o8(n).contentType}(e))}throw pR()}("raw",o).data:o.data_);let r=0;t.forEach(o=>{r+=o.byteLength});const i=new Uint8Array(r);let s=0;return t.forEach(o=>{for(let a=0;a<o.length;a++)i[s++]=o[a]}),new Do(i,!0)}}uploadData(){return this.data_}}function vR(n){let e;try{e=JSON.parse(n)}catch{return null}return function JIe(n){return"object"==typeof n&&!Array.isArray(n)}(e)?e:null}function a8(n){const e=n.lastIndexOf("/",n.length-2);return-1===e?n:n.slice(e+1)}function mTe(n,e){return e}class yr{constructor(e,t,r,i){this.server=e,this.local=t||e,this.writable=!!r,this.xform=i||mTe}}let ab=null;function Bp(){if(ab)return ab;const n=[];n.push(new yr("bucket")),n.push(new yr("generation")),n.push(new yr("metageneration")),n.push(new yr("name","fullPath",!0));const t=new yr("name");t.xform=function e(s,o){return function _Te(n){return!sb(n)||n.length<2?n:a8(n)}(o)},n.push(t);const i=new yr("size");return i.xform=function r(s,o){return void 0!==o?Number(o):o},n.push(i),n.push(new yr("timeCreated")),n.push(new yr("updated")),n.push(new yr("md5Hash",null,!0)),n.push(new yr("cacheControl",null,!0)),n.push(new yr("contentDisposition",null,!0)),n.push(new yr("contentEncoding",null,!0)),n.push(new yr("contentLanguage",null,!0)),n.push(new yr("contentType",null,!0)),n.push(new yr("metadata","customMetadata",!0)),ab=n,ab}function l8(n,e,t){const r=vR(e);return null===r?null:function vTe(n,e,t){const r={type:"file"},i=t.length;for(let s=0;s<i;s++){const o=t[s];r[o.local]=o.xform(r,e[o.server])}return function yTe(n,e){Object.defineProperty(n,"ref",{get:function t(){const s=new _r(n.bucket,n.fullPath);return e._makeStorageReference(s)}})}(r,n),r}(n,r,t)}class Cs{constructor(e,t,r,i){this.url=e,this.method=t,this.handler=r,this.timeout=i,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}function Es(n){if(!n)throw pR()}function gd(n){return function e(t,r){let i;return i=401===t.getStatus()?t.getErrorText().includes("Firebase App Check token is invalid")?function BIe(){return new Mt("unauthorized-app","This app does not have permission to access Firebase Storage on this project.")}():function VIe(){return new Mt("unauthenticated","User is not authenticated, please authenticate using Firebase Authentication and try again.")}():402===t.getStatus()?function LIe(n){return new Mt("quota-exceeded","Quota for bucket '"+n+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}(n.bucket):403===t.getStatus()?function UIe(n){return new Mt("unauthorized","User does not have permission to access '"+n+"'.")}(n.path):r,i.status=t.getStatus(),i.serverResponse=r.serverResponse,i}}function p8(n,e,t,r,i){const s=e.bucketOnlyServerUrl(),o={"X-Goog-Upload-Protocol":"multipart"},l=function a(){let y="";for(let D=0;D<2;D++)y+=Math.random().toString().slice(2);return y}();o["Content-Type"]="multipart/related; boundary="+l;const c=function f8(n,e,t){const r=Object.assign({},t);return r.fullPath=n.path,r.size=e.size(),r.contentType||(r.contentType=function MTe(n,e){return n&&n.contentType||e&&e.type()||"application/octet-stream"}(null,e)),r}(e,r,i),u=function bR(n,e){const t={},r=e.length;for(let i=0;i<r;i++){const s=e[i];s.writable&&(t[s.server]=n[s.local])}return JSON.stringify(t)}(c,t),f=Do.getBlob("--"+l+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+u+"\r\n--"+l+"\r\nContent-Type: "+c.contentType+"\r\n\r\n",r,"\r\n--"+l+"--");if(null===f)throw function Z5(){return new Mt("cannot-slice-blob","Cannot slice blob for upload. Please retry the upload.")}();const p={name:c.fullPath},g=So(s,n.host,n._protocol),v=n.maxUploadRetryTime,C=new Cs(g,"POST",function lb(n,e){return function t(r,i){const s=l8(n,i,e);return Es(null!==s),s}}(n,t),v);return C.urlParams=p,C.headers=o,C.body=f.uploadData(),C.errorHandler=gd(e),C}class OTe extends class PTe{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=ba.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=ba.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=ba.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,t,r,i){if(this.sent_)throw Vp("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(t,e,!0),void 0!==i)for(const s in i)i.hasOwnProperty(s)&&this.xhr_.setRequestHeader(s,i[s].toString());return void 0!==r?this.xhr_.send(r):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw Vp("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw Vp("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw Vp("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw Vp("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",e)}}{initXhr(){this.xhr_.responseType="text"}}function ji(){return new OTe}class Jl{constructor(e,t){this._service=e,this._location=t instanceof _r?t:_r.makeFromUrl(t,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,t){return new Jl(e,t)}get root(){const e=new _r(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return a8(this._location.path)}get storage(){return this._service}get parent(){const e=function pTe(n){if(0===n.length)return null;const e=n.lastIndexOf("/");return-1===e?"":n.slice(0,e)}(this._location.path);if(null===e)return null;const t=new _r(this._location.bucket,e);return new Jl(this._service,t)}_throwIfRoot(e){if(""===this._location.path)throw function qIe(n){return new Mt("invalid-root-operation","The operation '"+n+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}(e)}}function KTe(n){n._throwIfRoot("getDownloadURL");const e=function STe(n,e,t){const i=So(e.fullServerUrl(),n.host,n._protocol),o=n.maxOperationRetryTime,a=new Cs(i,"GET",function ITe(n,e){return function t(r,i){const s=l8(n,i,e);return Es(null!==s),function bTe(n,e,t,r){const i=vR(e);if(null===i||!sb(i.downloadTokens))return null;const s=i.downloadTokens;if(0===s.length)return null;const o=encodeURIComponent;return s.split(",").map(c=>{const d=n.fullPath;return So("/b/"+o(n.bucket)+"/o/"+o(d),t,r)+t8({alt:"media",token:c})})[0]}(s,i,n.host,n._protocol)}}(n,t),o);return a.errorHandler=function Up(n){const e=gd(n);return function t(r,i){let s=e(r,i);return 404===r.getStatus()&&(s=function FIe(n){return new Mt("object-not-found","Object '"+n+"' does not exist.")}(n.path)),s.serverResponse=i.serverResponse,s}}(e),a}(n.storage,n._location,Bp());return n.storage.makeRequestWithTokens(e,ji).then(t=>{if(null===t)throw function GIe(){return new Mt("no-download-url","The given file does not have any download URLs.")}();return t})}function w8(n,e){if(n instanceof IR){const t=n;if(null==t._bucket)throw function HIe(){return new Mt("no-default-bucket","No default bucket found. Did you set the '"+Y5+"' property when initializing the app?")}();const r=new Jl(t,t._bucket);return null!=e?w8(r,e):r}return void 0!==e?function b8(n,e){const t=function gTe(n,e){const t=e.split("/").filter(r=>r.length>0).join("/");return 0===n.length?t:n+"/"+t}(n._location.path,e),r=new _r(n._location.bucket,t);return new Jl(n.storage,r)}(n,e):n}function C8(n,e){const t=e?.[Y5];return null==t?null:_r.makeFromBucketSpec(t,n)}class IR{constructor(e,t,r,i,s){this.app=e,this._authProvider=t,this._appCheckProvider=r,this._url=i,this._firebaseVersion=s,this._bucket=null,this._host=K5,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=i?_r.makeFromBucketSpec(i,this._host):C8(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._bucket=null!=this._url?_r.makeFromBucketSpec(this._url,e):C8(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){_R("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){_R("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}_getAuthToken(){var e=this;return _(function*(){if(e._overrideAuthToken)return e._overrideAuthToken;const t=e._authProvider.getImmediate({optional:!0});if(t){const r=yield t.getToken();if(null!==r)return r.accessToken}return null})()}_getAppCheckToken(){var e=this;return _(function*(){const t=e._appCheckProvider.getImmediate({optional:!0});return t?(yield t.getToken()).token:null})()}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new Jl(this,e)}_makeRequest(e,t,r,i,s=!0){if(this._deleted)return new KIe(J5());{const o=function sTe(n,e,t,r,i,s,o=!0){const a=t8(n.urlParams),l=n.url+a,c=Object.assign({},n.headers);return function rTe(n,e){e&&(n["X-Firebase-GMPID"]=e)}(c,e),function tTe(n,e){null!==e&&e.length>0&&(n.Authorization="Firebase "+e)}(c,t),function nTe(n,e){n["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}(c,s),function iTe(n,e){null!==e&&(n["X-Firebase-AppCheck"]=e)}(c,r),new eTe(l,n.method,c,n.body,n.successCodes,n.additionalRetryCodes,n.handler,n.errorHandler,n.timeout,n.progressCallback,i,o)}(e,this._appId,r,i,t,this._firebaseVersion,s);return this._requests.add(o),o.getPromise().then(()=>this._requests.delete(o),()=>this._requests.delete(o)),o}}makeRequestWithTokens(e,t){var r=this;return _(function*(){const[i,s]=yield Promise.all([r._getAuthToken(),r._getAppCheckToken()]);return r._makeRequest(e,t,i,s).getPromise()})()}}const E8="@firebase/storage",T8="storage";function eSe(n,e,t){return function _8(n,e,t){n._throwIfRoot("uploadBytes");const r=p8(n.storage,n._location,Bp(),new Do(e,!0),t);return n.storage.makeRequestWithTokens(r,ji).then(i=>({metadata:i,ref:n}))}(n=He(n),e,t)}function tSe(n){return KTe(n=He(n))}function nSe(n,e){return function ZTe(n,e){if(e&&function QTe(n){return/^[A-Za-z]+:\/\//.test(n)}(e)){if(n instanceof IR)return function XTe(n,e){return new Jl(n,e)}(n,e);throw gR("To use ref(service, url), the first argument must be a Storage instance.")}return w8(n,e)}(n=He(n),e)}function rSe(n=as(),e){const r=Tr(n=He(n),T8).getImmediate({identifier:e}),i=L_("storage");return i&&function iSe(n,e,t,r={}){!function JTe(n,e,t,r={}){n.host=`${e}:${t}`,n._protocol="http";const{mockUserToken:i}=r;i&&(n._overrideAuthToken="string"==typeof i?i:bI(i,n.app.options.projectId))}(n,e,t,r)}(r,...i),r}function sSe(n,{instanceIdentifier:e}){const t=n.getProvider("app").getImmediate(),r=n.getProvider("auth-internal"),i=n.getProvider("app-check-internal");return new IR(t,r,i,e,Jo)}!function oSe(){un(new en(T8,sSe,"PUBLIC").setMultipleInstances(!0)),Te(E8,"0.9.14",""),Te(E8,"0.9.14","esm2017")}();class ub{constructor(e){return e}}const S8="storage",TR=new P("angularfire2.storage-instances");function cSe(n){return(e,t)=>{const r=e.runOutsideAngular(()=>n(t));return new ub(r)}}const uSe={provide:class aSe{constructor(){return cs(S8)}},deps:[[new Ce,TR]]},dSe={provide:ub,useFactory:function lSe(n,e){const t=ls(S8,n,e);return t&&new ub(t)},deps:[[new Ce,TR],Kr]};let hSe=(()=>{class n{constructor(){Te("angularfire",qr.full,"gcs")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=ue({type:n}),n.\u0275inj=ce({providers:[dSe,uSe]}),n})();function fSe(n,...e){return{ngModule:hSe,providers:[{provide:TR,useFactory:cSe(n),multi:!0,deps:[ie,Xe,us,ds,[new Ce,bf],[new Ce,Tu],...e]}]}}const pSe=Dt(tSe,!0),gSe=Dt(rSe,!0),mSe=Dt(nSe,!0),_Se=Dt(eSe,!0);let ySe=(()=>{class n{constructor(t){this.storage=t}uploadImage(t,r){const i=mSe(this.storage,r);return at(_Se(i,t)).pipe(xn(o=>pSe(o.ref)))}}return n.\u0275fac=function(t){return new(t||n)(w(ub))},n.\u0275prov=F({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function vSe(n,e){if(1&n){const t=es();T(0,"div",1)(1,"h1"),S(2,"\u041c\u043e\u0439 \u043f\u0440\u043e\u0444\u0438\u043b\u044c"),A(),T(3,"div",2),ye(4,"img",3),T(5,"button",4),Me("click",function(){return Ut(t),$t(mn(9).click())}),T(6,"mat-icon"),S(7,"edit"),A()()(),T(8,"input",5,6),Me("change",function(i){const o=Ut(t).ngIf;return $t(Q().uploadImage(i,o))}),A(),T(10,"form",7),Me("ngSubmit",function(){return Ut(t),$t(Q().saveProfile())}),T(11,"div",8)(12,"mat-form-field"),ye(13,"input",9),A(),T(14,"mat-form-field"),ye(15,"input",10),A()(),T(16,"div",8)(17,"mat-form-field"),ye(18,"input",11),A(),T(19,"mat-form-field")(20,"mat-label"),S(21,"Telephone"),A(),T(22,"span",12),S(23,"+994 \xa0"),A(),ye(24,"input",13),T(25,"mat-icon",14),S(26,"mode_edit"),A()()(),T(27,"mat-form-field"),ye(28,"input",15),A(),T(29,"button",16),S(30," \u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c "),A()()()}if(2&n){const t=e.ngIf,r=Q();let i;N(4),L("src",null!==(i=t.photoURL)&&void 0!==i?i:"assets/images/image-placeholder.png",qa),N(6),L("formGroup",r.profileForm)}}let bSe=(()=>{class n{constructor(t,r,i){this.auth=t,this.imageService=r,this.toast=i,this.user$=this.auth.currentUser$,this.profileForm=new pd({uid:new er(""),email:new er(""),firstName:new er(""),lastName:new er(""),displayName:new er(""),phone:new er(""),address:new er(""),photoURL:new er("")})}ngOnInit(){}uploadImage(t,r){this.imageService.uploadImage(t.target.files[0],`images/profile/${r.uid}`).pipe(this.toast.observe({success:"\u0417\u0430\u0433\u0440\u0443\u0437\u043a\u0430 \u0432\u044b\u043f\u043e\u043b\u043d\u0435\u043d\u0430 \u0443\u0441\u043f\u0435\u0448\u043d\u043e.",loading:"\u0417\u0430\u0433\u0440\u0443\u0437\u043a\u0430...",error:"\u041f\u0440\u043e\u0438\u0437\u043e\u0448\u043b\u0430 \u043e\u0448\u0438\u0431\u043a\u0430."}),ss(i=>this.auth.updateProfileData({photoURL:i}))).subscribe()}saveProfile(){}}return n.\u0275fac=function(t){return new(t||n)(b(Mu),b(ySe),b(oR))},n.\u0275cmp=Qe({type:n,selectors:[["app-profile"]],decls:2,vars:3,consts:[["class","form-container mat-elevation-z5 text-center",4,"ngIf"],[1,"form-container","mat-elevation-z5","text-center"],[1,"profile-image"],["width","120","height","120",3,"src"],["mat-mini-fab","",3,"click"],["type","file","hidden","",3,"change"],["inputField",""],[1,"margin-top","user-info_form",3,"formGroup","ngSubmit"],[1,"row"],["type","text","matInput","","formControlName","firstName","placeholder","\u0418\u043c\u044f"],["type","text","matInput","","formControlName","lastName","placeholder","\u0424\u0430\u043c\u0438\u043b\u0438\u044f"],["type","text","matInput","","formControlName","displayName","placeholder","Display Name"],["matPrefix",""],["type","tel","matInput","","placeholder","XX XXX XX XX"],["matSuffix",""],["type","text","matInput","","formControlName","address","placeholder","\u0410\u0434\u0440\u0435\u0441"],["type","submit","mat-raised-button","","color","primary",1,"margin-top"]],template:function(t,r){1&t&&(Z(0,vSe,31,2,"div",0),Ws(1,"async")),2&t&&L("ngIf",Mm(1,1,r.user$))},dependencies:[Oi,aR,hd,nb,Fp,cIe,$5,ib,Rp,Yl,Tp,Sp,Ql,Np,Qm],styles:[".profile-image[_ngcontent-%COMP%]{position:relative;width:120px;margin:auto}.profile-image[_ngcontent-%COMP%] > img[_ngcontent-%COMP%]{border-radius:100%;object-fit:cover;object-position:center}.profile-image[_ngcontent-%COMP%] > button[_ngcontent-%COMP%]{position:absolute;bottom:10px;right:0}.form-container[_ngcontent-%COMP%]{max-width:400px}.row[_ngcontent-%COMP%]{display:flex;gap:16px}"]}),n})();function wSe(n,e){if(1&n){const t=es();T(0,"a",12),Me("keyup.enter",function(){return Ut(t),Q(3),$t(mn(1).previous())})("click",function(){return Ut(t),Q(3),$t(mn(1).previous())}),S(1),T(2,"span",13),S(3),A()()}if(2&n){const t=Q(3);N(1),Ri(" ",t.previousLabel," "),N(2),cr(t.screenReaderPageLabel)}}function CSe(n,e){if(1&n&&(T(0,"span",14),S(1),T(2,"span",13),S(3),A()()),2&n){const t=Q(3);N(1),Ri(" ",t.previousLabel," "),N(2),cr(t.screenReaderPageLabel)}}function ESe(n,e){if(1&n&&(T(0,"li",9),Z(1,wSe,4,2,"a",10),Z(2,CSe,4,2,"span",11),A()),2&n){Q(2);const t=mn(1);Qt("disabled",t.isFirstPage()),N(1),L("ngIf",1<t.getCurrent()),N(1),L("ngIf",t.isFirstPage())}}function ISe(n,e){if(1&n){const t=es();T(0,"a",12),Me("keyup.enter",function(){Ut(t);const i=Q().$implicit;return Q(2),$t(mn(1).setCurrent(i.value))})("click",function(){Ut(t);const i=Q().$implicit;return Q(2),$t(mn(1).setCurrent(i.value))}),T(1,"span",13),S(2),A(),T(3,"span"),S(4),Ws(5,"number"),A()()}if(2&n){const t=Q().$implicit,r=Q(2);N(2),Ri("",r.screenReaderPageLabel," "),N(2),cr("..."===t.label?t.label:ru(5,2,t.label,""))}}function TSe(n,e){if(1&n&&(zs(0),T(1,"span",16)(2,"span",13),S(3),A(),T(4,"span"),S(5),Ws(6,"number"),A()(),Gs()),2&n){const t=Q().$implicit,r=Q(2);N(3),Ri("",r.screenReaderCurrentLabel," "),N(2),cr("..."===t.label?t.label:ru(6,2,t.label,""))}}function SSe(n,e){if(1&n&&(T(0,"li"),Z(1,ISe,6,5,"a",10),Z(2,TSe,7,5,"ng-container",15),A()),2&n){const t=e.$implicit;Q(2);const r=mn(1);Qt("current",r.getCurrent()===t.value)("ellipsis","..."===t.label),N(1),L("ngIf",r.getCurrent()!==t.value),N(1),L("ngIf",r.getCurrent()===t.value)}}function DSe(n,e){if(1&n){const t=es();T(0,"a",12),Me("keyup.enter",function(){return Ut(t),Q(3),$t(mn(1).next())})("click",function(){return Ut(t),Q(3),$t(mn(1).next())}),S(1),T(2,"span",13),S(3),A()()}if(2&n){const t=Q(3);N(1),Ri(" ",t.nextLabel," "),N(2),cr(t.screenReaderPageLabel)}}function ASe(n,e){if(1&n&&(T(0,"span",14),S(1),T(2,"span",13),S(3),A()()),2&n){const t=Q(3);N(1),Ri(" ",t.nextLabel," "),N(2),cr(t.screenReaderPageLabel)}}function MSe(n,e){if(1&n&&(T(0,"li",17),Z(1,DSe,4,2,"a",10),Z(2,ASe,4,2,"span",11),A()),2&n){Q(2);const t=mn(1);Qt("disabled",t.isLastPage()),N(1),L("ngIf",!t.isLastPage()),N(1),L("ngIf",t.isLastPage())}}function xSe(n,e){if(1&n&&(T(0,"ul",4),Z(1,ESe,3,4,"li",5),T(2,"li",6),S(3),A(),Z(4,SSe,3,6,"li",7),Z(5,MSe,3,4,"li",8),A()),2&n){const t=Q(),r=mn(1);Qt("responsive",t.responsive),N(1),L("ngIf",t.directionLinks),N(2),Em(" ",r.getCurrent()," / ",r.getLastPage()," "),N(1),L("ngForOf",r.pages)("ngForTrackBy",t.trackByIndex),N(1),L("ngIf",t.directionLinks)}}class SR{constructor(){this.change=new Pe,this.instances={},this.DEFAULT_ID="DEFAULT_PAGINATION_ID"}defaultId(){return this.DEFAULT_ID}register(e){return null==e.id&&(e.id=this.DEFAULT_ID),this.instances[e.id]?this.updateInstance(e):(this.instances[e.id]=e,!0)}updateInstance(e){let t=!1;for(let r in this.instances[e.id])e[r]!==this.instances[e.id][r]&&(this.instances[e.id][r]=e[r],t=!0);return t}getCurrentPage(e){return this.instances[e]?this.instances[e].currentPage:1}setCurrentPage(e,t){if(this.instances[e]){let r=this.instances[e];t<=Math.ceil(r.totalItems/r.itemsPerPage)&&1<=t&&(this.instances[e].currentPage=t,this.change.emit(e))}}setTotalItems(e,t){this.instances[e]&&0<=t&&(this.instances[e].totalItems=t,this.change.emit(e))}setItemsPerPage(e,t){this.instances[e]&&(this.instances[e].itemsPerPage=t,this.change.emit(e))}getInstance(e=this.DEFAULT_ID){return this.instances[e]?this.clone(this.instances[e]):{}}clone(e){var t={};for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);return t}}const kSe=Number.MAX_SAFE_INTEGER;let RSe=(()=>{class n{constructor(t){this.service=t,this.state={}}transform(t,r){if(!(t instanceof Array)){let d=r.id||this.service.defaultId();return this.state[d]?this.state[d].slice:t}let a,l,i=r.totalItems&&r.totalItems!==t.length,s=this.createInstance(t,r),o=s.id,c=s.itemsPerPage,u=this.service.register(s);if(!i&&t instanceof Array){if(c=+c||kSe,a=(s.currentPage-1)*c,l=a+c,this.stateIsIdentical(o,t,a,l))return this.state[o].slice;{let h=t.slice(a,l);return this.saveState(o,t,h,a,l),this.service.change.emit(o),h}}return u&&this.service.change.emit(o),this.saveState(o,t,t,a,l),t}createInstance(t,r){return this.checkConfig(r),{id:null!=r.id?r.id:this.service.defaultId(),itemsPerPage:+r.itemsPerPage||0,currentPage:+r.currentPage||1,totalItems:+r.totalItems||t.length}}checkConfig(t){const i=["itemsPerPage","currentPage"].filter(s=>!(s in t));if(0<i.length)throw new Error(`PaginatePipe: Argument is missing the following required properties: ${i.join(", ")}`)}saveState(t,r,i,s,o){this.state[t]={collection:r,size:r.length,slice:i,start:s,end:o}}stateIsIdentical(t,r,i,s){let o=this.state[t];return!(!o||o.size!==r.length||o.start!==i||o.end!==s)&&o.slice.every((l,c)=>l===r[i+c])}}return n.\u0275fac=function(t){return new(t||n)(b(SR,16))},n.\u0275pipe=jn({name:"paginate",type:n,pure:!1}),n})(),NSe=(()=>{class n{constructor(t,r){this.service=t,this.changeDetectorRef=r,this.maxSize=7,this.pageChange=new Pe,this.pageBoundsCorrection=new Pe,this.pages=[],this.changeSub=this.service.change.subscribe(i=>{this.id===i&&(this.updatePageLinks(),this.changeDetectorRef.markForCheck(),this.changeDetectorRef.detectChanges())})}ngOnInit(){void 0===this.id&&(this.id=this.service.defaultId()),this.updatePageLinks()}ngOnChanges(t){this.updatePageLinks()}ngOnDestroy(){this.changeSub.unsubscribe()}previous(){this.checkValidId(),this.setCurrent(this.getCurrent()-1)}next(){this.checkValidId(),this.setCurrent(this.getCurrent()+1)}isFirstPage(){return 1===this.getCurrent()}isLastPage(){return this.getLastPage()===this.getCurrent()}setCurrent(t){this.pageChange.emit(t)}getCurrent(){return this.service.getCurrentPage(this.id)}getLastPage(){let t=this.service.getInstance(this.id);return t.totalItems<1?1:Math.ceil(t.totalItems/t.itemsPerPage)}getTotalItems(){return this.service.getInstance(this.id).totalItems}checkValidId(){null==this.service.getInstance(this.id).id&&console.warn(`PaginationControlsDirective: the specified id "${this.id}" does not match any registered PaginationInstance`)}updatePageLinks(){let t=this.service.getInstance(this.id);const r=this.outOfBoundCorrection(t);r!==t.currentPage?setTimeout(()=>{this.pageBoundsCorrection.emit(r),this.pages=this.createPageArray(t.currentPage,t.itemsPerPage,t.totalItems,this.maxSize)}):this.pages=this.createPageArray(t.currentPage,t.itemsPerPage,t.totalItems,this.maxSize)}outOfBoundCorrection(t){const r=Math.ceil(t.totalItems/t.itemsPerPage);return r<t.currentPage&&0<r?r:t.currentPage<1?1:t.currentPage}createPageArray(t,r,i,s){s=+s;let o=[];const a=Math.max(Math.ceil(i/r),1),l=Math.ceil(s/2),c=t<=l,u=a-l<t,d=!c&&!u;let h=s<a,f=1;for(;f<=a&&f<=s;){let p,g=this.calculatePageNumber(f,t,s,a),m=2===f&&(d||u),v=f===s-1&&(d||c);p=h&&(m||v)?"...":g,o.push({label:p,value:g}),f++}return o}calculatePageNumber(t,r,i,s){let o=Math.ceil(i/2);return t===i?s:1===t?t:i<s?s-o<r?s-i+t:o<r?r-o+t:t:t}}return n.\u0275fac=function(t){return new(t||n)(b(SR),b(Go))},n.\u0275dir=q({type:n,selectors:[["pagination-template"],["","pagination-template",""]],inputs:{id:"id",maxSize:"maxSize"},outputs:{pageChange:"pageChange",pageBoundsCorrection:"pageBoundsCorrection"},exportAs:["paginationApi"],features:[sr]}),n})();function DR(n){return!!n&&"false"!==n}let PSe=(()=>{class n{constructor(){this.maxSize=7,this.previousLabel="Previous",this.nextLabel="Next",this.screenReaderPaginationLabel="Pagination",this.screenReaderPageLabel="page",this.screenReaderCurrentLabel="You're on page",this.pageChange=new Pe,this.pageBoundsCorrection=new Pe,this._directionLinks=!0,this._autoHide=!1,this._responsive=!1}get directionLinks(){return this._directionLinks}set directionLinks(t){this._directionLinks=DR(t)}get autoHide(){return this._autoHide}set autoHide(t){this._autoHide=DR(t)}get responsive(){return this._responsive}set responsive(t){this._responsive=DR(t)}trackByIndex(t){return t}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=Qe({type:n,selectors:[["pagination-controls"]],inputs:{id:"id",maxSize:"maxSize",directionLinks:"directionLinks",autoHide:"autoHide",responsive:"responsive",previousLabel:"previousLabel",nextLabel:"nextLabel",screenReaderPaginationLabel:"screenReaderPaginationLabel",screenReaderPageLabel:"screenReaderPageLabel",screenReaderCurrentLabel:"screenReaderCurrentLabel"},outputs:{pageChange:"pageChange",pageBoundsCorrection:"pageBoundsCorrection"},decls:4,vars:4,consts:[[3,"id","maxSize","pageChange","pageBoundsCorrection"],["p","paginationApi"],["role","navigation"],["class","ngx-pagination",3,"responsive",4,"ngIf"],[1,"ngx-pagination"],["class","pagination-previous",3,"disabled",4,"ngIf"],[1,"small-screen"],[3,"current","ellipsis",4,"ngFor","ngForOf","ngForTrackBy"],["class","pagination-next",3,"disabled",4,"ngIf"],[1,"pagination-previous"],["tabindex","0",3,"keyup.enter","click",4,"ngIf"],["aria-disabled","true",4,"ngIf"],["tabindex","0",3,"keyup.enter","click"],[1,"show-for-sr"],["aria-disabled","true"],[4,"ngIf"],["aria-live","polite"],[1,"pagination-next"]],template:function(t,r){if(1&t&&(T(0,"pagination-template",0,1),Me("pageChange",function(s){return r.pageChange.emit(s)})("pageBoundsCorrection",function(s){return r.pageBoundsCorrection.emit(s)}),T(2,"nav",2),Z(3,xSe,6,8,"ul",3),A()()),2&t){const i=mn(1);L("id",r.id)("maxSize",r.maxSize),N(2),Et("aria-label",r.screenReaderPaginationLabel),N(1),L("ngIf",!(r.autoHide&&i.pages.length<=1))}},dependencies:[NSe,Oi,Ah,T2],styles:['.ngx-pagination{margin-left:0;margin-bottom:1rem}.ngx-pagination:before,.ngx-pagination:after{content:" ";display:table}.ngx-pagination:after{clear:both}.ngx-pagination li{-moz-user-select:none;-webkit-user-select:none;-ms-user-select:none;margin-right:.0625rem;border-radius:0}.ngx-pagination li{display:inline-block}.ngx-pagination a,.ngx-pagination button{color:#0a0a0a;display:block;padding:.1875rem .625rem;border-radius:0}.ngx-pagination a:hover,.ngx-pagination button:hover{background:#e6e6e6}.ngx-pagination .current{padding:.1875rem .625rem;background:#2199e8;color:#fefefe;cursor:default}.ngx-pagination .disabled{padding:.1875rem .625rem;color:#cacaca;cursor:default}.ngx-pagination .disabled:hover{background:transparent}.ngx-pagination a,.ngx-pagination button{cursor:pointer}.ngx-pagination .pagination-previous a:before,.ngx-pagination .pagination-previous.disabled:before{content:"\\ab";display:inline-block;margin-right:.5rem}.ngx-pagination .pagination-next a:after,.ngx-pagination .pagination-next.disabled:after{content:"\\bb";display:inline-block;margin-left:.5rem}.ngx-pagination .show-for-sr{position:absolute!important;width:1px;height:1px;overflow:hidden;clip:rect(0,0,0,0)}.ngx-pagination .small-screen{display:none}@media screen and (max-width: 601px){.ngx-pagination.responsive .small-screen{display:inline-block}.ngx-pagination.responsive li:not(.small-screen):not(.pagination-previous):not(.pagination-next){display:none}}\n'],encapsulation:2,changeDetection:0}),n})(),OSe=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=ue({type:n}),n.\u0275inj=ce({providers:[SR],imports:[[Xm]]}),n})(),FSe=(()=>{class n{transform(t,r){return r.trim()?t.filter(i=>i.name.toLowerCase().includes(r.toLowerCase())):t}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275pipe=jn({name:"filter",type:n,pure:!0}),n})();function LSe(n,e){if(1&n){const t=es();T(0,"div",10)(1,"div",11),ye(2,"img",12),A(),T(3,"div",13)(4,"p"),S(5),A(),T(6,"p"),S(7),A(),T(8,"p"),S(9),Ws(10,"currency"),A()(),T(11,"div",14)(12,"button",15),Me("click",function(){const s=Ut(t).$implicit;return $t(Q().AddDrugs(s))}),S(13,"Add"),A(),T(14,"button",15),Me("click",function(){const s=Ut(t).$implicit;return $t(Q().RemoveDrugs(s))}),S(15,"Remove"),A()()()}if(2&n){const t=e.$implicit;N(2),L("src",t.imgURL,qa)("alt",t.name),N(3),cr(t.name),N(2),cr(t.country),N(2),cr(ru(10,5,t.price,"AZN"))}}const VSe=function(){return{standalone:!0}},BSe=function(n,e){return{itemsPerPage:n,currentPage:e}};let USe=(()=>{class n{constructor(t){this.drugService=t,this.searchValue="",this.page=1,this.itemsPerPage=12,this.toggle=!0}ngOnInit(){}AddDrugs(t){this.drugService.addDrug(t)}RemoveDrugs(t){this.drugService.removeDrug(t)}}return n.\u0275fac=function(t){return new(t||n)(b(R_))},n.\u0275cmp=Qe({type:n,selectors:[["app-store"]],decls:18,vars:13,consts:[[2,"width","100%"],[1,"example-form"],[1,"example-full-width"],["matInput","","placeholder","\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0438\u043c\u044f \u0434\u043b\u044f \u043f\u043e\u0438\u0441\u043a\u0430...",3,"ngModel","ngModelOptions","ngModelChange"],[1,"wrapper"],[1,"search-parameters"],[1,"search-inner"],[1,"cards"],["class","card",4,"ngFor","ngForOf"],[3,"pageChange"],[1,"card"],[1,"card-image"],[3,"src","alt"],[1,"card-info"],[1,"card-button"],["mat-button","",3,"click"]],template:function(t,r){1&t&&(T(0,"div",0)(1,"form",1)(2,"mat-form-field",2)(3,"mat-label"),S(4,"\u041f\u043e\u0438\u0441\u043a"),A(),T(5,"input",3),Me("ngModelChange",function(s){return r.searchValue=s}),A()()()(),T(6,"div",4)(7,"div",5)(8,"div",6)(9,"h1"),S(10,"\u0421\u0442\u0440\u0430\u043d\u0430 \u043f\u0440\u043e\u0438\u0437\u0432\u043e\u0434\u0438\u0442\u0435\u043b\u044c"),A(),ye(11,"table"),A(),ye(12,"div",6),A(),T(13,"div",7),Z(14,LSe,16,8,"div",8),Ws(15,"paginate"),Ws(16,"filter"),A()(),T(17,"pagination-controls",9),Me("pageChange",function(s){return r.page=s}),A()),2&t&&(N(5),L("ngModel",r.searchValue)("ngModelOptions",function YV(n,e,t){const r=or()+n,i=x();return i[r]===ge?Ji(i,r,t?e.call(t):e()):function hh(n,e){return n[e]}(i,r)}(9,VSe)),N(9),L("ngForOf",ru(15,3,ru(16,6,r.drugService.drugs,r.searchValue),RE(10,BSe,r.itemsPerPage,r.page))))},dependencies:[Ah,hd,nb,Fp,ib,Rp,Yl,Tp,Sp,PSe,Xk,kp,S2,RSe,FSe],styles:['.example-form[_ngcontent-%COMP%]{min-width:150px;width:100%}.example-full-width[_ngcontent-%COMP%]{width:100%}.example-full-width[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:100%;font-size:1.5em}.wrapper[_ngcontent-%COMP%]{width:100%;display:flex;flex-direction:row;font-family:"Exo 2",sans-serif;font-weight:700}.wrapper[_ngcontent-%COMP%]   .search-parameters[_ngcontent-%COMP%]{width:20%}.wrapper[_ngcontent-%COMP%]   .search-parameters[_ngcontent-%COMP%]   .search-inner[_ngcontent-%COMP%]{width:90%;height:300px;background-color:#0ff;margin:5px;border-radius:5px}.wrapper[_ngcontent-%COMP%]   .cards[_ngcontent-%COMP%]{display:flex;flex-direction:row;flex-wrap:wrap;width:80%}.card[_ngcontent-%COMP%]{width:180px;height:260px;display:flex;flex-direction:column;background-color:#f0f8ff;margin:5px;border:1px solid aliceblue;border-radius:4px;box-shadow:0 14px 28px #00000040,0 10px 10px #00000038}.card[_ngcontent-%COMP%]   .card-image[_ngcontent-%COMP%]{width:100%;height:120px;min-height:120px;display:flex;flex-direction:row;align-items:center;justify-content:center}.card[_ngcontent-%COMP%]   .card-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%}.card[_ngcontent-%COMP%]   .card-title[_ngcontent-%COMP%]{width:100%;height:120px;min-height:120px}.card[_ngcontent-%COMP%]   .card-button[_ngcontent-%COMP%]{width:100%;height:20px;min-height:20px;display:flex;flex-direction:row;align-items:center;justify-content:center}.add-btn[_ngcontent-%COMP%]{background-color:red}.remove-btn[_ngcontent-%COMP%]{background-color:green}']}),n})(),$Se=(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=Qe({type:n,selectors:[["app-reset"]],decls:2,vars:0,template:function(t,r){1&t&&(T(0,"p"),S(1,"reset works!"),A())}}),n})();const D8=()=>(n=>QN(hR,ee(e=>e||n)))(["login"]),jSe=[{path:"",pathMatch:"full",component:UCe},{path:"signup",component:MIe},{path:"login",component:CIe},{path:"reset",component:$Se},{path:"cart",component:Dle,...q5(D8)},{path:"profile",component:bSe,...q5(D8)},{path:"store",component:USe}];let HSe=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=ue({type:n}),n.\u0275inj=ce({imports:[h$.forRoot(jSe),h$]}),n})();const zSe=["*",[["mat-toolbar-row"]]],GSe=["*","mat-toolbar-row"],WSe=Uv(class{constructor(n){this._elementRef=n}});let AR,qSe=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=q({type:n,selectors:[["mat-toolbar-row"]],hostAttrs:[1,"mat-toolbar-row"],exportAs:["matToolbarRow"]}),n})(),KSe=(()=>{class n extends WSe{constructor(t,r,i){super(t),this._platform=r,this._document=i}ngAfterViewInit(){this._platform.isBrowser&&(this._checkToolbarMixedModes(),this._toolbarRows.changes.subscribe(()=>this._checkToolbarMixedModes()))}_checkToolbarMixedModes(){}}return n.\u0275fac=function(t){return new(t||n)(b(et),b(Zr),b(Ee))},n.\u0275cmp=Qe({type:n,selectors:[["mat-toolbar"]],contentQueries:function(t,r,i){if(1&t&&Kn(i,qSe,5),2&t){let s;It(s=Tt())&&(r._toolbarRows=s)}},hostAttrs:[1,"mat-toolbar"],hostVars:4,hostBindings:function(t,r){2&t&&Qt("mat-toolbar-multiple-rows",r._toolbarRows.length>0)("mat-toolbar-single-row",0===r._toolbarRows.length)},inputs:{color:"color"},exportAs:["matToolbar"],features:[Ae],ngContentSelectors:GSe,decls:2,vars:0,template:function(t,r){1&t&&($o(zSe),qn(0),qn(1,1))},styles:[".cdk-high-contrast-active .mat-toolbar{outline:solid 1px}.mat-toolbar-row,.mat-toolbar-single-row{display:flex;box-sizing:border-box;padding:0 16px;width:100%;flex-direction:row;align-items:center;white-space:nowrap}.mat-toolbar-multiple-rows{display:flex;box-sizing:border-box;flex-direction:column;width:100%}\n"],encapsulation:2,changeDetection:0}),n})(),YSe=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=ue({type:n}),n.\u0275inj=ce({imports:[[Wt],Wt]}),n})(),QSe=1;const db={};function A8(n){return n in db&&(delete db[n],!0)}const XSe={setImmediate(n){const e=QSe++;return db[e]=!0,AR||(AR=Promise.resolve()),AR.then(()=>A8(e)&&n()),e},clearImmediate(n){A8(n)}},{setImmediate:ZSe,clearImmediate:JSe}=XSe,hb={setImmediate(...n){const{delegate:e}=hb;return(e?.setImmediate||ZSe)(...n)},clearImmediate(n){const{delegate:e}=hb;return(e?.clearImmediate||JSe)(n)},delegate:void 0},MR=new class tDe extends Z_{flush(e){this._active=!0;const t=this._scheduled;this._scheduled=void 0;const{actions:r}=this;let i;e=e||r.shift();do{if(i=e.execute(e.state,e.delay))break}while((e=r[0])&&e.id===t&&r.shift());if(this._active=!1,i){for(;(e=r[0])&&e.id===t&&r.shift();)e.unsubscribe();throw i}}}(class eDe extends X_{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}requestAsyncId(e,t,r=0){return null!==r&&r>0?super.requestAsyncId(e,t,r):(e.actions.push(this),e._scheduled||(e._scheduled=hb.setImmediate(e.flush.bind(e,void 0))))}recycleAsyncId(e,t,r=0){var i;if(null!=r?r>0:this.delay>0)return super.recycleAsyncId(e,t,r);const{actions:s}=e;null!=t&&(null===(i=s[s.length-1])||void 0===i?void 0:i.id)!==t&&(hb.clearImmediate(t),e._scheduled=void 0)}});function M8(n,e){return e?t=>s_(e.pipe(Ir(1),function nDe(){return gt((n,e)=>{n.subscribe(tt(e,Eg))})}()),t.pipe(M8(n))):Kt((t,r)=>n(t,r).pipe(Ir(1),oU(t)))}function x8(n=0,e,t=Uhe){let r=-1;return null!=e&&(mP(e)?t=e:r=e),new je(i=>{let s=function rDe(n){return n instanceof Date&&!isNaN(n)}(n)?+n-t.now():n;s<0&&(s=0);let o=0;return t.schedule(function(){i.closed||(i.next(o++),0<=r?this.schedule(void 0,r):i.complete())},s)})}function k8(n,e=nf){const t=x8(n,e);return M8(()=>t)}class xR{attach(e){return this._attachedHost=e,e.attach(this)}detach(){let e=this._attachedHost;null!=e&&(this._attachedHost=null,e.detach())}get isAttached(){return null!=this._attachedHost}setAttachedHost(e){this._attachedHost=e}}class iDe extends xR{constructor(e,t,r,i){super(),this.component=e,this.viewContainerRef=t,this.injector=r,this.componentFactoryResolver=i}}class R8 extends xR{constructor(e,t,r){super(),this.templateRef=e,this.viewContainerRef=t,this.context=r}get origin(){return this.templateRef.elementRef}attach(e,t=this.context){return this.context=t,super.attach(e)}detach(){return this.context=void 0,super.detach()}}class sDe extends xR{constructor(e){super(),this.element=e instanceof et?e.nativeElement:e}}class aDe extends class oDe{constructor(){this._isDisposed=!1,this.attachDomPortal=null}hasAttached(){return!!this._attachedPortal}attach(e){return e instanceof iDe?(this._attachedPortal=e,this.attachComponentPortal(e)):e instanceof R8?(this._attachedPortal=e,this.attachTemplatePortal(e)):this.attachDomPortal&&e instanceof sDe?(this._attachedPortal=e,this.attachDomPortal(e)):void 0}detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(e){this._disposeFn=e}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}}{constructor(e,t,r,i,s){super(),this.outletElement=e,this._componentFactoryResolver=t,this._appRef=r,this._defaultInjector=i,this.attachDomPortal=o=>{const a=o.element,l=this._document.createComment("dom-portal");a.parentNode.insertBefore(l,a),this.outletElement.appendChild(a),this._attachedPortal=o,super.setDisposeFn(()=>{l.parentNode&&l.parentNode.replaceChild(a,l)})},this._document=s}attachComponentPortal(e){const r=(e.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(e.component);let i;return e.viewContainerRef?(i=e.viewContainerRef.createComponent(r,e.viewContainerRef.length,e.injector||e.viewContainerRef.injector),this.setDisposeFn(()=>i.destroy())):(i=r.create(e.injector||this._defaultInjector),this._appRef.attachView(i.hostView),this.setDisposeFn(()=>{this._appRef.detachView(i.hostView),i.destroy()})),this.outletElement.appendChild(this._getComponentRootNode(i)),this._attachedPortal=e,i}attachTemplatePortal(e){let t=e.viewContainerRef,r=t.createEmbeddedView(e.templateRef,e.context);return r.rootNodes.forEach(i=>this.outletElement.appendChild(i)),r.detectChanges(),this.setDisposeFn(()=>{let i=t.indexOf(r);-1!==i&&t.remove(i)}),this._attachedPortal=e,r}dispose(){super.dispose(),this.outletElement.remove()}_getComponentRootNode(e){return e.hostView.rootNodes[0]}}let lDe=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=ue({type:n}),n.\u0275inj=ce({}),n})();const $p={schedule(n){let e=requestAnimationFrame,t=cancelAnimationFrame;const{delegate:r}=$p;r&&(e=r.requestAnimationFrame,t=r.cancelAnimationFrame);const i=e(s=>{t=void 0,n(s)});return new Rt(()=>t?.(i))},requestAnimationFrame(...n){const{delegate:e}=$p;return(e?.requestAnimationFrame||requestAnimationFrame)(...n)},cancelAnimationFrame(...n){const{delegate:e}=$p;return(e?.cancelAnimationFrame||cancelAnimationFrame)(...n)},delegate:void 0};new class uDe extends Z_{flush(e){this._active=!0;const t=this._scheduled;this._scheduled=void 0;const{actions:r}=this;let i;e=e||r.shift();do{if(i=e.execute(e.state,e.delay))break}while((e=r[0])&&e.id===t&&r.shift());if(this._active=!1,i){for(;(e=r[0])&&e.id===t&&r.shift();)e.unsubscribe();throw i}}}(class cDe extends X_{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}requestAsyncId(e,t,r=0){return null!==r&&r>0?super.requestAsyncId(e,t,r):(e.actions.push(this),e._scheduled||(e._scheduled=$p.requestAnimationFrame(()=>e.flush(void 0))))}recycleAsyncId(e,t,r=0){var i;if(null!=r?r>0:this.delay>0)return super.recycleAsyncId(e,t,r);const{actions:s}=e;null!=t&&(null===(i=s[s.length-1])||void 0===i?void 0:i.id)!==t&&($p.cancelAnimationFrame(t),e._scheduled=void 0)}});function N8(n,e=nf){return function hDe(n){return gt((e,t)=>{let r=!1,i=null,s=null,o=!1;const a=()=>{if(s?.unsubscribe(),s=null,r){r=!1;const c=i;i=null,t.next(c)}o&&t.complete()},l=()=>{s=null,o&&t.complete()};e.subscribe(tt(t,c=>{r=!0,i=c,s||An(n(c)).subscribe(s=tt(t,a,l))},()=>{o=!0,(!r||!s||s.closed)&&t.complete()}))})}(()=>x8(n,e))}let pDe=(()=>{class n{constructor(t,r,i){this._ngZone=t,this._platform=r,this._scrolled=new Fe,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=i}register(t){this.scrollContainers.has(t)||this.scrollContainers.set(t,t.elementScrolled().subscribe(()=>this._scrolled.next(t)))}deregister(t){const r=this.scrollContainers.get(t);r&&(r.unsubscribe(),this.scrollContainers.delete(t))}scrolled(t=20){return this._platform.isBrowser?new je(r=>{this._globalSubscription||this._addGlobalListener();const i=t>0?this._scrolled.pipe(N8(t)).subscribe(r):this._scrolled.subscribe(r);return this._scrolledCount++,()=>{i.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):G()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((t,r)=>this.deregister(r)),this._scrolled.complete()}ancestorScrolled(t,r){const i=this.getAncestorScrollContainers(t);return this.scrolled(r).pipe(cn(s=>!s||i.indexOf(s)>-1))}getAncestorScrollContainers(t){const r=[];return this.scrollContainers.forEach((i,s)=>{this._scrollableContainsElement(s,t)&&r.push(s)}),r}_getWindow(){return this._document.defaultView||window}_scrollableContainsElement(t,r){let i=Co(r),s=t.getElementRef().nativeElement;do{if(i==s)return!0}while(i=i.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>Jv(this._getWindow().document,"scroll").subscribe(()=>this._scrolled.next()))}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}}return n.\u0275fac=function(t){return new(t||n)(w(ie),w(Zr),w(Ee,8))},n.\u0275prov=F({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),P8=(()=>{class n{constructor(t,r,i){this._platform=t,this._change=new Fe,this._changeListener=s=>{this._change.next(s)},this._document=i,r.runOutsideAngular(()=>{if(t.isBrowser){const s=this._getWindow();s.addEventListener("resize",this._changeListener),s.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){if(this._platform.isBrowser){const t=this._getWindow();t.removeEventListener("resize",this._changeListener),t.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();const t={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),t}getViewportRect(){const t=this.getViewportScrollPosition(),{width:r,height:i}=this.getViewportSize();return{top:t.top,left:t.left,bottom:t.top+i,right:t.left+r,height:i,width:r}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};const t=this._document,r=this._getWindow(),i=t.documentElement,s=i.getBoundingClientRect();return{top:-s.top||t.body.scrollTop||r.scrollY||i.scrollTop||0,left:-s.left||t.body.scrollLeft||r.scrollX||i.scrollLeft||0}}change(t=20){return t>0?this._change.pipe(N8(t)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){const t=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:t.innerWidth,height:t.innerHeight}:{width:0,height:0}}}return n.\u0275fac=function(t){return new(t||n)(w(Zr),w(ie),w(Ee,8))},n.\u0275prov=F({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),kR=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=ue({type:n}),n.\u0275inj=ce({}),n})(),O8=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=ue({type:n}),n.\u0275inj=ce({imports:[[Ep,Ov,kR],Ep,kR]}),n})();const F8=Zwe();class mDe{constructor(e,t){this._viewportRuler=e,this._previousHTMLStyles={top:"",left:""},this._isEnabled=!1,this._document=t}attach(){}enable(){if(this._canBeEnabled()){const e=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=e.style.left||"",this._previousHTMLStyles.top=e.style.top||"",e.style.left=rn(-this._previousScrollPosition.left),e.style.top=rn(-this._previousScrollPosition.top),e.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}}disable(){if(this._isEnabled){const e=this._document.documentElement,r=e.style,i=this._document.body.style,s=r.scrollBehavior||"",o=i.scrollBehavior||"";this._isEnabled=!1,r.left=this._previousHTMLStyles.left,r.top=this._previousHTMLStyles.top,e.classList.remove("cdk-global-scrollblock"),F8&&(r.scrollBehavior=i.scrollBehavior="auto"),window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),F8&&(r.scrollBehavior=s,i.scrollBehavior=o)}}_canBeEnabled(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;const t=this._document.body,r=this._viewportRuler.getViewportSize();return t.scrollHeight>r.height||t.scrollWidth>r.width}}class _De{constructor(e,t,r,i){this._scrollDispatcher=e,this._ngZone=t,this._viewportRuler=r,this._config=i,this._scrollSubscription=null,this._detach=()=>{this.disable(),this._overlayRef.hasAttached()&&this._ngZone.run(()=>this._overlayRef.detach())}}attach(e){this._overlayRef=e}enable(){if(this._scrollSubscription)return;const e=this._scrollDispatcher.scrolled(0);this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=e.subscribe(()=>{const t=this._viewportRuler.getViewportScrollPosition().top;Math.abs(t-this._initialScrollPosition)>this._config.threshold?this._detach():this._overlayRef.updatePosition()})):this._scrollSubscription=e.subscribe(this._detach)}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}class L8{enable(){}disable(){}attach(){}}function RR(n,e){return e.some(t=>n.bottom<t.top||n.top>t.bottom||n.right<t.left||n.left>t.right)}function V8(n,e){return e.some(t=>n.top<t.top||n.bottom>t.bottom||n.left<t.left||n.right>t.right)}class yDe{constructor(e,t,r,i){this._scrollDispatcher=e,this._viewportRuler=t,this._ngZone=r,this._config=i,this._scrollSubscription=null}attach(e){this._overlayRef=e}enable(){this._scrollSubscription||(this._scrollSubscription=this._scrollDispatcher.scrolled(this._config?this._config.scrollThrottle:0).subscribe(()=>{if(this._overlayRef.updatePosition(),this._config&&this._config.autoClose){const t=this._overlayRef.overlayElement.getBoundingClientRect(),{width:r,height:i}=this._viewportRuler.getViewportSize();RR(t,[{width:r,height:i,bottom:i,right:r,top:0,left:0}])&&(this.disable(),this._ngZone.run(()=>this._overlayRef.detach()))}}))}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}let vDe=(()=>{class n{constructor(t,r,i,s){this._scrollDispatcher=t,this._viewportRuler=r,this._ngZone=i,this.noop=()=>new L8,this.close=o=>new _De(this._scrollDispatcher,this._ngZone,this._viewportRuler,o),this.block=()=>new mDe(this._viewportRuler,this._document),this.reposition=o=>new yDe(this._scrollDispatcher,this._viewportRuler,this._ngZone,o),this._document=s}}return n.\u0275fac=function(t){return new(t||n)(w(pDe),w(P8),w(ie),w(Ee))},n.\u0275prov=F({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class B8{constructor(e){if(this.scrollStrategy=new L8,this.panelClass="",this.hasBackdrop=!1,this.backdropClass="cdk-overlay-dark-backdrop",this.disposeOnNavigation=!1,e){const t=Object.keys(e);for(const r of t)void 0!==e[r]&&(this[r]=e[r])}}}class bDe{constructor(e,t,r,i,s){this.offsetX=r,this.offsetY=i,this.panelClass=s,this.originX=e.originX,this.originY=e.originY,this.overlayX=t.overlayX,this.overlayY=t.overlayY}}class wDe{}let CDe=(()=>{let n=class{constructor(t,r){this.connectionPair=t,this.scrollableViewProperties=r}};return n=function OY(n,e,t,r){var o,i=arguments.length,s=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,t):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(i<3?o(s):i>3?o(e,t,s):o(e,t))||s);return i>3&&s&&Object.defineProperty(e,t,s),s}([FY(1,Ce()),LY("design:paramtypes",[bDe,wDe])],n),n})(),U8=(()=>{class n{constructor(t){this._attachedOverlays=[],this._document=t}ngOnDestroy(){this.detach()}add(t){this.remove(t),this._attachedOverlays.push(t)}remove(t){const r=this._attachedOverlays.indexOf(t);r>-1&&this._attachedOverlays.splice(r,1),0===this._attachedOverlays.length&&this.detach()}}return n.\u0275fac=function(t){return new(t||n)(w(Ee))},n.\u0275prov=F({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),EDe=(()=>{class n extends U8{constructor(t){super(t),this._keydownListener=r=>{const i=this._attachedOverlays;for(let s=i.length-1;s>-1;s--)if(i[s]._keydownEvents.observers.length>0){i[s]._keydownEvents.next(r);break}}}add(t){super.add(t),this._isAttached||(this._document.body.addEventListener("keydown",this._keydownListener),this._isAttached=!0)}detach(){this._isAttached&&(this._document.body.removeEventListener("keydown",this._keydownListener),this._isAttached=!1)}}return n.\u0275fac=function(t){return new(t||n)(w(Ee))},n.\u0275prov=F({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),IDe=(()=>{class n extends U8{constructor(t,r){super(t),this._platform=r,this._cursorStyleIsSet=!1,this._pointerDownListener=i=>{this._pointerDownEventTarget=ql(i)},this._clickListener=i=>{const s=ql(i),o="click"===i.type&&this._pointerDownEventTarget?this._pointerDownEventTarget:s;this._pointerDownEventTarget=null;const a=this._attachedOverlays.slice();for(let l=a.length-1;l>-1;l--){const c=a[l];if(!(c._outsidePointerEvents.observers.length<1)&&c.hasAttached()){if(c.overlayElement.contains(s)||c.overlayElement.contains(o))break;c._outsidePointerEvents.next(i)}}}}add(t){if(super.add(t),!this._isAttached){const r=this._document.body;r.addEventListener("pointerdown",this._pointerDownListener,!0),r.addEventListener("click",this._clickListener,!0),r.addEventListener("auxclick",this._clickListener,!0),r.addEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&!this._cursorStyleIsSet&&(this._cursorOriginalValue=r.style.cursor,r.style.cursor="pointer",this._cursorStyleIsSet=!0),this._isAttached=!0}}detach(){if(this._isAttached){const t=this._document.body;t.removeEventListener("pointerdown",this._pointerDownListener,!0),t.removeEventListener("click",this._clickListener,!0),t.removeEventListener("auxclick",this._clickListener,!0),t.removeEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&this._cursorStyleIsSet&&(t.style.cursor=this._cursorOriginalValue,this._cursorStyleIsSet=!1),this._isAttached=!1}}}return n.\u0275fac=function(t){return new(t||n)(w(Ee),w(Zr))},n.\u0275prov=F({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),$8=(()=>{class n{constructor(t,r){this._platform=r,this._document=t}ngOnDestroy(){this._containerElement?.remove()}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const t="cdk-overlay-container";if(this._platform.isBrowser||xk()){const i=this._document.querySelectorAll(`.${t}[platform="server"], .${t}[platform="test"]`);for(let s=0;s<i.length;s++)i[s].remove()}const r=this._document.createElement("div");r.classList.add(t),xk()?r.setAttribute("platform","test"):this._platform.isBrowser||r.setAttribute("platform","server"),this._document.body.appendChild(r),this._containerElement=r}}return n.\u0275fac=function(t){return new(t||n)(w(Ee),w(Zr))},n.\u0275prov=F({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class TDe{constructor(e,t,r,i,s,o,a,l,c){this._portalOutlet=e,this._host=t,this._pane=r,this._config=i,this._ngZone=s,this._keyboardDispatcher=o,this._document=a,this._location=l,this._outsideClickDispatcher=c,this._backdropElement=null,this._backdropClick=new Fe,this._attachments=new Fe,this._detachments=new Fe,this._locationChanges=Rt.EMPTY,this._backdropClickHandler=u=>this._backdropClick.next(u),this._keydownEvents=new Fe,this._outsidePointerEvents=new Fe,i.scrollStrategy&&(this._scrollStrategy=i.scrollStrategy,this._scrollStrategy.attach(this)),this._positionStrategy=i.positionStrategy}get overlayElement(){return this._pane}get backdropElement(){return this._backdropElement}get hostElement(){return this._host}attach(e){let t=this._portalOutlet.attach(e);return!this._host.parentElement&&this._previousHostParent&&this._previousHostParent.appendChild(this._host),this._positionStrategy&&this._positionStrategy.attach(this),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._scrollStrategy&&this._scrollStrategy.enable(),this._ngZone.onStable.pipe(Ir(1)).subscribe(()=>{this.hasAttached()&&this.updatePosition()}),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&(this._locationChanges=this._location.subscribe(()=>this.dispose())),this._outsideClickDispatcher.add(this),t}detach(){if(!this.hasAttached())return;this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._scrollStrategy&&this._scrollStrategy.disable();const e=this._portalOutlet.detach();return this._detachments.next(),this._keyboardDispatcher.remove(this),this._detachContentWhenStable(),this._locationChanges.unsubscribe(),this._outsideClickDispatcher.remove(this),e}dispose(){const e=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._disposeScrollStrategy(),this._disposeBackdrop(this._backdropElement),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._outsidePointerEvents.complete(),this._outsideClickDispatcher.remove(this),this._host?.remove(),this._previousHostParent=this._pane=this._host=null,e&&this._detachments.next(),this._detachments.complete()}hasAttached(){return this._portalOutlet.hasAttached()}backdropClick(){return this._backdropClick}attachments(){return this._attachments}detachments(){return this._detachments}keydownEvents(){return this._keydownEvents}outsidePointerEvents(){return this._outsidePointerEvents}getConfig(){return this._config}updatePosition(){this._positionStrategy&&this._positionStrategy.apply()}updatePositionStrategy(e){e!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=e,this.hasAttached()&&(e.attach(this),this.updatePosition()))}updateSize(e){this._config={...this._config,...e},this._updateElementSize()}setDirection(e){this._config={...this._config,direction:e},this._updateElementDirection()}addPanelClass(e){this._pane&&this._toggleClasses(this._pane,e,!0)}removePanelClass(e){this._pane&&this._toggleClasses(this._pane,e,!1)}getDirection(){const e=this._config.direction;return e?"string"==typeof e?e:e.value:"ltr"}updateScrollStrategy(e){e!==this._scrollStrategy&&(this._disposeScrollStrategy(),this._scrollStrategy=e,this.hasAttached()&&(e.attach(this),e.enable()))}_updateElementDirection(){this._host.setAttribute("dir",this.getDirection())}_updateElementSize(){if(!this._pane)return;const e=this._pane.style;e.width=rn(this._config.width),e.height=rn(this._config.height),e.minWidth=rn(this._config.minWidth),e.minHeight=rn(this._config.minHeight),e.maxWidth=rn(this._config.maxWidth),e.maxHeight=rn(this._config.maxHeight)}_togglePointerEvents(e){this._pane.style.pointerEvents=e?"":"none"}_attachBackdrop(){const e="cdk-overlay-backdrop-showing";this._backdropElement=this._document.createElement("div"),this._backdropElement.classList.add("cdk-overlay-backdrop"),this._config.backdropClass&&this._toggleClasses(this._backdropElement,this._config.backdropClass,!0),this._host.parentElement.insertBefore(this._backdropElement,this._host),this._backdropElement.addEventListener("click",this._backdropClickHandler),typeof requestAnimationFrame<"u"?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>{this._backdropElement&&this._backdropElement.classList.add(e)})}):this._backdropElement.classList.add(e)}_updateStackingOrder(){this._host.nextSibling&&this._host.parentNode.appendChild(this._host)}detachBackdrop(){const e=this._backdropElement;if(!e)return;let t;const r=()=>{e&&(e.removeEventListener("click",this._backdropClickHandler),e.removeEventListener("transitionend",r),this._disposeBackdrop(e)),this._config.backdropClass&&this._toggleClasses(e,this._config.backdropClass,!1),clearTimeout(t)};e.classList.remove("cdk-overlay-backdrop-showing"),this._ngZone.runOutsideAngular(()=>{e.addEventListener("transitionend",r)}),e.style.pointerEvents="none",t=this._ngZone.runOutsideAngular(()=>setTimeout(r,500))}_toggleClasses(e,t,r){const i=zW(t||[]).filter(s=>!!s);i.length&&(r?e.classList.add(...i):e.classList.remove(...i))}_detachContentWhenStable(){this._ngZone.runOutsideAngular(()=>{const e=this._ngZone.onStable.pipe(Gl(vc(this._attachments,this._detachments))).subscribe(()=>{(!this._pane||!this._host||0===this._pane.children.length)&&(this._pane&&this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!1),this._host&&this._host.parentElement&&(this._previousHostParent=this._host.parentElement,this._host.remove()),e.unsubscribe())})})}_disposeScrollStrategy(){const e=this._scrollStrategy;e&&(e.disable(),e.detach&&e.detach())}_disposeBackdrop(e){e&&(e.remove(),this._backdropElement===e&&(this._backdropElement=null))}}const j8="cdk-overlay-connected-position-bounding-box",SDe=/([A-Za-z%]+)$/;class DDe{constructor(e,t,r,i,s){this._viewportRuler=t,this._document=r,this._platform=i,this._overlayContainer=s,this._lastBoundingBoxSize={width:0,height:0},this._isPushed=!1,this._canPush=!0,this._growAfterOpen=!1,this._hasFlexibleDimensions=!0,this._positionLocked=!1,this._viewportMargin=0,this._scrollables=[],this._preferredPositions=[],this._positionChanges=new Fe,this._resizeSubscription=Rt.EMPTY,this._offsetX=0,this._offsetY=0,this._appliedPanelClasses=[],this.positionChanges=this._positionChanges,this.setOrigin(e)}get positions(){return this._preferredPositions}attach(e){this._validatePositions(),e.hostElement.classList.add(j8),this._overlayRef=e,this._boundingBox=e.hostElement,this._pane=e.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe(()=>{this._isInitialRender=!0,this.apply()})}apply(){if(this._isDisposed||!this._platform.isBrowser)return;if(!this._isInitialRender&&this._positionLocked&&this._lastPosition)return void this.reapplyLastPosition();this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect();const e=this._originRect,t=this._overlayRect,r=this._viewportRect,i=[];let s;for(let o of this._preferredPositions){let a=this._getOriginPoint(e,o),l=this._getOverlayPoint(a,t,o),c=this._getOverlayFit(l,t,r,o);if(c.isCompletelyWithinViewport)return this._isPushed=!1,void this._applyPosition(o,a);this._canFitWithFlexibleDimensions(c,l,r)?i.push({position:o,origin:a,overlayRect:t,boundingBoxRect:this._calculateBoundingBoxRect(a,o)}):(!s||s.overlayFit.visibleArea<c.visibleArea)&&(s={overlayFit:c,overlayPoint:l,originPoint:a,position:o,overlayRect:t})}if(i.length){let o=null,a=-1;for(const l of i){const c=l.boundingBoxRect.width*l.boundingBoxRect.height*(l.position.weight||1);c>a&&(a=c,o=l)}return this._isPushed=!1,void this._applyPosition(o.position,o.origin)}if(this._canPush)return this._isPushed=!0,void this._applyPosition(s.position,s.originPoint);this._applyPosition(s.position,s.originPoint)}detach(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe()}dispose(){this._isDisposed||(this._boundingBox&&ec(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove(j8),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0)}reapplyLastPosition(){if(!this._isDisposed&&(!this._platform||this._platform.isBrowser)){this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect();const e=this._lastPosition||this._preferredPositions[0],t=this._getOriginPoint(this._originRect,e);this._applyPosition(e,t)}}withScrollableContainers(e){return this._scrollables=e,this}withPositions(e){return this._preferredPositions=e,-1===e.indexOf(this._lastPosition)&&(this._lastPosition=null),this._validatePositions(),this}withViewportMargin(e){return this._viewportMargin=e,this}withFlexibleDimensions(e=!0){return this._hasFlexibleDimensions=e,this}withGrowAfterOpen(e=!0){return this._growAfterOpen=e,this}withPush(e=!0){return this._canPush=e,this}withLockedPosition(e=!0){return this._positionLocked=e,this}setOrigin(e){return this._origin=e,this}withDefaultOffsetX(e){return this._offsetX=e,this}withDefaultOffsetY(e){return this._offsetY=e,this}withTransformOriginOn(e){return this._transformOriginSelector=e,this}_getOriginPoint(e,t){let r,i;if("center"==t.originX)r=e.left+e.width/2;else{const s=this._isRtl()?e.right:e.left,o=this._isRtl()?e.left:e.right;r="start"==t.originX?s:o}return i="center"==t.originY?e.top+e.height/2:"top"==t.originY?e.top:e.bottom,{x:r,y:i}}_getOverlayPoint(e,t,r){let i,s;return i="center"==r.overlayX?-t.width/2:"start"===r.overlayX?this._isRtl()?-t.width:0:this._isRtl()?0:-t.width,s="center"==r.overlayY?-t.height/2:"top"==r.overlayY?0:-t.height,{x:e.x+i,y:e.y+s}}_getOverlayFit(e,t,r,i){const s=z8(t);let{x:o,y:a}=e,l=this._getOffset(i,"x"),c=this._getOffset(i,"y");l&&(o+=l),c&&(a+=c);let h=0-a,f=a+s.height-r.height,p=this._subtractOverflows(s.width,0-o,o+s.width-r.width),g=this._subtractOverflows(s.height,h,f),m=p*g;return{visibleArea:m,isCompletelyWithinViewport:s.width*s.height===m,fitsInViewportVertically:g===s.height,fitsInViewportHorizontally:p==s.width}}_canFitWithFlexibleDimensions(e,t,r){if(this._hasFlexibleDimensions){const i=r.bottom-t.y,s=r.right-t.x,o=H8(this._overlayRef.getConfig().minHeight),a=H8(this._overlayRef.getConfig().minWidth),c=e.fitsInViewportHorizontally||null!=a&&a<=s;return(e.fitsInViewportVertically||null!=o&&o<=i)&&c}return!1}_pushOverlayOnScreen(e,t,r){if(this._previousPushAmount&&this._positionLocked)return{x:e.x+this._previousPushAmount.x,y:e.y+this._previousPushAmount.y};const i=z8(t),s=this._viewportRect,o=Math.max(e.x+i.width-s.width,0),a=Math.max(e.y+i.height-s.height,0),l=Math.max(s.top-r.top-e.y,0),c=Math.max(s.left-r.left-e.x,0);let u=0,d=0;return u=i.width<=s.width?c||-o:e.x<this._viewportMargin?s.left-r.left-e.x:0,d=i.height<=s.height?l||-a:e.y<this._viewportMargin?s.top-r.top-e.y:0,this._previousPushAmount={x:u,y:d},{x:e.x+u,y:e.y+d}}_applyPosition(e,t){if(this._setTransformOrigin(e),this._setOverlayElementStyles(t,e),this._setBoundingBoxStyles(t,e),e.panelClass&&this._addPanelClasses(e.panelClass),this._lastPosition=e,this._positionChanges.observers.length){const r=this._getScrollVisibility(),i=new CDe(e,r);this._positionChanges.next(i)}this._isInitialRender=!1}_setTransformOrigin(e){if(!this._transformOriginSelector)return;const t=this._boundingBox.querySelectorAll(this._transformOriginSelector);let r,i=e.overlayY;r="center"===e.overlayX?"center":this._isRtl()?"start"===e.overlayX?"right":"left":"start"===e.overlayX?"left":"right";for(let s=0;s<t.length;s++)t[s].style.transformOrigin=`${r} ${i}`}_calculateBoundingBoxRect(e,t){const r=this._viewportRect,i=this._isRtl();let s,o,a,u,d,h;if("top"===t.overlayY)o=e.y,s=r.height-o+this._viewportMargin;else if("bottom"===t.overlayY)a=r.height-e.y+2*this._viewportMargin,s=r.height-a+this._viewportMargin;else{const f=Math.min(r.bottom-e.y+r.top,e.y),p=this._lastBoundingBoxSize.height;s=2*f,o=e.y-f,s>p&&!this._isInitialRender&&!this._growAfterOpen&&(o=e.y-p/2)}if("end"===t.overlayX&&!i||"start"===t.overlayX&&i)h=r.width-e.x+this._viewportMargin,u=e.x-this._viewportMargin;else if("start"===t.overlayX&&!i||"end"===t.overlayX&&i)d=e.x,u=r.right-e.x;else{const f=Math.min(r.right-e.x+r.left,e.x),p=this._lastBoundingBoxSize.width;u=2*f,d=e.x-f,u>p&&!this._isInitialRender&&!this._growAfterOpen&&(d=e.x-p/2)}return{top:o,left:d,bottom:a,right:h,width:u,height:s}}_setBoundingBoxStyles(e,t){const r=this._calculateBoundingBoxRect(e,t);!this._isInitialRender&&!this._growAfterOpen&&(r.height=Math.min(r.height,this._lastBoundingBoxSize.height),r.width=Math.min(r.width,this._lastBoundingBoxSize.width));const i={};if(this._hasExactPosition())i.top=i.left="0",i.bottom=i.right=i.maxHeight=i.maxWidth="",i.width=i.height="100%";else{const s=this._overlayRef.getConfig().maxHeight,o=this._overlayRef.getConfig().maxWidth;i.height=rn(r.height),i.top=rn(r.top),i.bottom=rn(r.bottom),i.width=rn(r.width),i.left=rn(r.left),i.right=rn(r.right),i.alignItems="center"===t.overlayX?"center":"end"===t.overlayX?"flex-end":"flex-start",i.justifyContent="center"===t.overlayY?"center":"bottom"===t.overlayY?"flex-end":"flex-start",s&&(i.maxHeight=rn(s)),o&&(i.maxWidth=rn(o))}this._lastBoundingBoxSize=r,ec(this._boundingBox.style,i)}_resetBoundingBoxStyles(){ec(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})}_resetOverlayElementStyles(){ec(this._pane.style,{top:"",left:"",bottom:"",right:"",position:"",transform:""})}_setOverlayElementStyles(e,t){const r={},i=this._hasExactPosition(),s=this._hasFlexibleDimensions,o=this._overlayRef.getConfig();if(i){const u=this._viewportRuler.getViewportScrollPosition();ec(r,this._getExactOverlayY(t,e,u)),ec(r,this._getExactOverlayX(t,e,u))}else r.position="static";let a="",l=this._getOffset(t,"x"),c=this._getOffset(t,"y");l&&(a+=`translateX(${l}px) `),c&&(a+=`translateY(${c}px)`),r.transform=a.trim(),o.maxHeight&&(i?r.maxHeight=rn(o.maxHeight):s&&(r.maxHeight="")),o.maxWidth&&(i?r.maxWidth=rn(o.maxWidth):s&&(r.maxWidth="")),ec(this._pane.style,r)}_getExactOverlayY(e,t,r){let i={top:"",bottom:""},s=this._getOverlayPoint(t,this._overlayRect,e);this._isPushed&&(s=this._pushOverlayOnScreen(s,this._overlayRect,r));let o=this._overlayContainer.getContainerElement().getBoundingClientRect().top;return s.y-=o,"bottom"===e.overlayY?i.bottom=this._document.documentElement.clientHeight-(s.y+this._overlayRect.height)+"px":i.top=rn(s.y),i}_getExactOverlayX(e,t,r){let o,i={left:"",right:""},s=this._getOverlayPoint(t,this._overlayRect,e);return this._isPushed&&(s=this._pushOverlayOnScreen(s,this._overlayRect,r)),o=this._isRtl()?"end"===e.overlayX?"left":"right":"end"===e.overlayX?"right":"left","right"===o?i.right=this._document.documentElement.clientWidth-(s.x+this._overlayRect.width)+"px":i.left=rn(s.x),i}_getScrollVisibility(){const e=this._getOriginRect(),t=this._pane.getBoundingClientRect(),r=this._scrollables.map(i=>i.getElementRef().nativeElement.getBoundingClientRect());return{isOriginClipped:V8(e,r),isOriginOutsideView:RR(e,r),isOverlayClipped:V8(t,r),isOverlayOutsideView:RR(t,r)}}_subtractOverflows(e,...t){return t.reduce((r,i)=>r-Math.max(i,0),e)}_getNarrowedViewportRect(){const e=this._document.documentElement.clientWidth,t=this._document.documentElement.clientHeight,r=this._viewportRuler.getViewportScrollPosition();return{top:r.top+this._viewportMargin,left:r.left+this._viewportMargin,right:r.left+e-this._viewportMargin,bottom:r.top+t-this._viewportMargin,width:e-2*this._viewportMargin,height:t-2*this._viewportMargin}}_isRtl(){return"rtl"===this._overlayRef.getDirection()}_hasExactPosition(){return!this._hasFlexibleDimensions||this._isPushed}_getOffset(e,t){return"x"===t?e.offsetX??this._offsetX:e.offsetY??this._offsetY}_validatePositions(){}_addPanelClasses(e){this._pane&&zW(e).forEach(t=>{""!==t&&-1===this._appliedPanelClasses.indexOf(t)&&(this._appliedPanelClasses.push(t),this._pane.classList.add(t))})}_clearPanelClasses(){this._pane&&(this._appliedPanelClasses.forEach(e=>{this._pane.classList.remove(e)}),this._appliedPanelClasses=[])}_getOriginRect(){const e=this._origin;if(e instanceof et)return e.nativeElement.getBoundingClientRect();if(e instanceof Element)return e.getBoundingClientRect();const t=e.width||0,r=e.height||0;return{top:e.y,bottom:e.y+r,left:e.x,right:e.x+t,height:r,width:t}}}function ec(n,e){for(let t in e)e.hasOwnProperty(t)&&(n[t]=e[t]);return n}function H8(n){if("number"!=typeof n&&null!=n){const[e,t]=n.split(SDe);return t&&"px"!==t?null:parseFloat(e)}return n||null}function z8(n){return{top:Math.floor(n.top),right:Math.floor(n.right),bottom:Math.floor(n.bottom),left:Math.floor(n.left),width:Math.floor(n.width),height:Math.floor(n.height)}}const G8="cdk-global-overlay-wrapper";class ADe{constructor(){this._cssPosition="static",this._topOffset="",this._bottomOffset="",this._leftOffset="",this._rightOffset="",this._alignItems="",this._justifyContent="",this._width="",this._height=""}attach(e){const t=e.getConfig();this._overlayRef=e,this._width&&!t.width&&e.updateSize({width:this._width}),this._height&&!t.height&&e.updateSize({height:this._height}),e.hostElement.classList.add(G8),this._isDisposed=!1}top(e=""){return this._bottomOffset="",this._topOffset=e,this._alignItems="flex-start",this}left(e=""){return this._rightOffset="",this._leftOffset=e,this._justifyContent="flex-start",this}bottom(e=""){return this._topOffset="",this._bottomOffset=e,this._alignItems="flex-end",this}right(e=""){return this._leftOffset="",this._rightOffset=e,this._justifyContent="flex-end",this}width(e=""){return this._overlayRef?this._overlayRef.updateSize({width:e}):this._width=e,this}height(e=""){return this._overlayRef?this._overlayRef.updateSize({height:e}):this._height=e,this}centerHorizontally(e=""){return this.left(e),this._justifyContent="center",this}centerVertically(e=""){return this.top(e),this._alignItems="center",this}apply(){if(!this._overlayRef||!this._overlayRef.hasAttached())return;const e=this._overlayRef.overlayElement.style,t=this._overlayRef.hostElement.style,r=this._overlayRef.getConfig(),{width:i,height:s,maxWidth:o,maxHeight:a}=r,l=!("100%"!==i&&"100vw"!==i||o&&"100%"!==o&&"100vw"!==o),c=!("100%"!==s&&"100vh"!==s||a&&"100%"!==a&&"100vh"!==a);e.position=this._cssPosition,e.marginLeft=l?"0":this._leftOffset,e.marginTop=c?"0":this._topOffset,e.marginBottom=this._bottomOffset,e.marginRight=this._rightOffset,l?t.justifyContent="flex-start":"center"===this._justifyContent?t.justifyContent="center":"rtl"===this._overlayRef.getConfig().direction?"flex-start"===this._justifyContent?t.justifyContent="flex-end":"flex-end"===this._justifyContent&&(t.justifyContent="flex-start"):t.justifyContent=this._justifyContent,t.alignItems=c?"flex-start":this._alignItems}dispose(){if(this._isDisposed||!this._overlayRef)return;const e=this._overlayRef.overlayElement.style,t=this._overlayRef.hostElement,r=t.style;t.classList.remove(G8),r.justifyContent=r.alignItems=e.marginTop=e.marginBottom=e.marginLeft=e.marginRight=e.position="",this._overlayRef=null,this._isDisposed=!0}}let MDe=(()=>{class n{constructor(t,r,i,s){this._viewportRuler=t,this._document=r,this._platform=i,this._overlayContainer=s}global(){return new ADe}flexibleConnectedTo(t){return new DDe(t,this._viewportRuler,this._document,this._platform,this._overlayContainer)}}return n.\u0275fac=function(t){return new(t||n)(w(P8),w(Ee),w(Zr),w($8))},n.\u0275prov=F({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),xDe=0,fb=(()=>{class n{constructor(t,r,i,s,o,a,l,c,u,d,h){this.scrollStrategies=t,this._overlayContainer=r,this._componentFactoryResolver=i,this._positionBuilder=s,this._keyboardDispatcher=o,this._injector=a,this._ngZone=l,this._document=c,this._directionality=u,this._location=d,this._outsideClickDispatcher=h}create(t){const r=this._createHostElement(),i=this._createPaneElement(r),s=this._createPortalOutlet(i),o=new B8(t);return o.direction=o.direction||this._directionality.value,new TDe(s,r,i,o,this._ngZone,this._keyboardDispatcher,this._document,this._location,this._outsideClickDispatcher)}position(){return this._positionBuilder}_createPaneElement(t){const r=this._document.createElement("div");return r.id="cdk-overlay-"+xDe++,r.classList.add("cdk-overlay-pane"),t.appendChild(r),r}_createHostElement(){const t=this._document.createElement("div");return this._overlayContainer.getContainerElement().appendChild(t),t}_createPortalOutlet(t){return this._appRef||(this._appRef=this._injector.get(el)),new aDe(t,this._componentFactoryResolver,this._appRef,this._injector,this._document)}}return n.\u0275fac=function(t){return new(t||n)(w(vDe),w($8),w(Vo),w(MDe),w(EDe),w(Xe),w(ie),w(Ee),w(Fk),w(Um),w(IDe))},n.\u0275prov=F({token:n,factory:n.\u0275fac}),n})();const NDe={provide:new P("cdk-connected-overlay-scroll-strategy"),deps:[fb],useFactory:function RDe(n){return()=>n.scrollStrategies.reposition()}};let PDe=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=ue({type:n}),n.\u0275inj=ce({providers:[fb,NDe],imports:[[Ep,lDe,O8],O8]}),n})();const ODe=["mat-menu-item",""];function FDe(n,e){1&n&&(function WP(){de.lFrame.currentNamespace="svg"}(),T(0,"svg",2),ye(1,"polygon",3),A())}const W8=["*"];function LDe(n,e){if(1&n){const t=es();T(0,"div",0),Me("keydown",function(i){return Ut(t),$t(Q()._handleKeydown(i))})("click",function(){return Ut(t),$t(Q().closed.emit("click"))})("@transformMenu.start",function(i){return Ut(t),$t(Q()._onAnimationStart(i))})("@transformMenu.done",function(i){return Ut(t),$t(Q()._onAnimationDone(i))}),T(1,"div",1),qn(2),A()()}if(2&n){const t=Q();L("id",t.panelId)("ngClass",t._classList)("@transformMenu",t._panelAnimationState),Et("aria-label",t.ariaLabel||null)("aria-labelledby",t.ariaLabelledby||null)("aria-describedby",t.ariaDescribedby||null)}}const pb={transformMenu:lR("transformMenu",[cR("void",To({opacity:0,transform:"scale(0.8)"})),tb("void => enter",eb("120ms cubic-bezier(0, 0, 0.2, 1)",To({opacity:1,transform:"scale(1)"}))),tb("* => void",eb("100ms 25ms linear",To({opacity:0})))]),fadeInItems:lR("fadeInItems",[cR("showing",To({opacity:1})),tb("void => *",[To({opacity:0}),eb("400ms 100ms cubic-bezier(0.55, 0, 0.55, 0.2)")])])},VDe=new P("MatMenuContent"),NR=new P("MAT_MENU_PANEL"),BDe=oq(Lk(class{}));let gb=(()=>{class n extends BDe{constructor(t,r,i,s,o){super(),this._elementRef=t,this._focusMonitor=i,this._parentMenu=s,this._changeDetectorRef=o,this.role="menuitem",this._hovered=new Fe,this._focused=new Fe,this._highlighted=!1,this._triggersSubmenu=!1,s&&s.addItem&&s.addItem(this)}focus(t,r){this._focusMonitor&&t?this._focusMonitor.focusVia(this._getHostElement(),t,r):this._getHostElement().focus(r),this._focused.next(this)}ngAfterViewInit(){this._focusMonitor&&this._focusMonitor.monitor(this._elementRef,!1)}ngOnDestroy(){this._focusMonitor&&this._focusMonitor.stopMonitoring(this._elementRef),this._parentMenu&&this._parentMenu.removeItem&&this._parentMenu.removeItem(this),this._hovered.complete(),this._focused.complete()}_getTabIndex(){return this.disabled?"-1":"0"}_getHostElement(){return this._elementRef.nativeElement}_checkDisabled(t){this.disabled&&(t.preventDefault(),t.stopPropagation())}_handleMouseEnter(){this._hovered.next(this)}getLabel(){const t=this._elementRef.nativeElement.cloneNode(!0),r=t.querySelectorAll("mat-icon, .material-icons");for(let i=0;i<r.length;i++)r[i].remove();return t.textContent?.trim()||""}_setHighlighted(t){this._highlighted=t,this._changeDetectorRef?.markForCheck()}}return n.\u0275fac=function(t){return new(t||n)(b(et),b(Ee),b(Pk),b(NR,8),b(Go))},n.\u0275cmp=Qe({type:n,selectors:[["","mat-menu-item",""]],hostAttrs:[1,"mat-focus-indicator"],hostVars:10,hostBindings:function(t,r){1&t&&Me("click",function(s){return r._checkDisabled(s)})("mouseenter",function(){return r._handleMouseEnter()}),2&t&&(Et("role",r.role)("tabindex",r._getTabIndex())("aria-disabled",r.disabled.toString())("disabled",r.disabled||null),Qt("mat-menu-item",!0)("mat-menu-item-highlighted",r._highlighted)("mat-menu-item-submenu-trigger",r._triggersSubmenu))},inputs:{disabled:"disabled",disableRipple:"disableRipple",role:"role"},exportAs:["matMenuItem"],features:[Ae],attrs:ODe,ngContentSelectors:W8,decls:3,vars:3,consts:[["matRipple","",1,"mat-menu-ripple",3,"matRippleDisabled","matRippleTrigger"],["class","mat-menu-submenu-icon","viewBox","0 0 5 10","focusable","false",4,"ngIf"],["viewBox","0 0 5 10","focusable","false",1,"mat-menu-submenu-icon"],["points","0,0 5,5 0,10"]],template:function(t,r){1&t&&($o(),qn(0),ye(1,"div",0),Z(2,FDe,2,0,"svg",1)),2&t&&(N(1),L("matRippleDisabled",r.disableRipple||r.disabled)("matRippleTrigger",r._getHostElement()),N(1),L("ngIf",r._triggersSubmenu))},dependencies:[Bk,Oi],encapsulation:2,changeDetection:0}),n})();const q8=new P("mat-menu-default-options",{providedIn:"root",factory:function UDe(){return{overlapTrigger:!1,xPosition:"after",yPosition:"below",backdropClass:"cdk-overlay-transparent-backdrop"}}});let $De=0,jp=(()=>{class n{constructor(t,r,i){this._elementRef=t,this._ngZone=r,this._defaultOptions=i,this._xPosition=this._defaultOptions.xPosition,this._yPosition=this._defaultOptions.yPosition,this._directDescendantItems=new iu,this._tabSubscription=Rt.EMPTY,this._classList={},this._panelAnimationState="void",this._animationDone=new Fe,this.overlayPanelClass=this._defaultOptions.overlayPanelClass||"",this.backdropClass=this._defaultOptions.backdropClass,this._overlapTrigger=this._defaultOptions.overlapTrigger,this._hasBackdrop=this._defaultOptions.hasBackdrop,this.closed=new Pe,this.close=this.closed,this.panelId="mat-menu-panel-"+$De++}get xPosition(){return this._xPosition}set xPosition(t){this._xPosition=t,this.setPositionClasses()}get yPosition(){return this._yPosition}set yPosition(t){this._yPosition=t,this.setPositionClasses()}get overlapTrigger(){return this._overlapTrigger}set overlapTrigger(t){this._overlapTrigger=mi(t)}get hasBackdrop(){return this._hasBackdrop}set hasBackdrop(t){this._hasBackdrop=mi(t)}set panelClass(t){const r=this._previousPanelClass;r&&r.length&&r.split(" ").forEach(i=>{this._classList[i]=!1}),this._previousPanelClass=t,t&&t.length&&(t.split(" ").forEach(i=>{this._classList[i]=!0}),this._elementRef.nativeElement.className="")}get classList(){return this.panelClass}set classList(t){this.panelClass=t}ngOnInit(){this.setPositionClasses()}ngAfterContentInit(){this._updateDirectDescendants(),this._keyManager=new lCe(this._directDescendantItems).withWrap().withTypeAhead().withHomeAndEnd(),this._tabSubscription=this._keyManager.tabOut.subscribe(()=>this.closed.emit("tab")),this._directDescendantItems.changes.pipe(qo(this._directDescendantItems),xn(t=>vc(...t.map(r=>r._focused)))).subscribe(t=>this._keyManager.updateActiveItem(t))}ngOnDestroy(){this._directDescendantItems.destroy(),this._tabSubscription.unsubscribe(),this.closed.complete()}_hovered(){return this._directDescendantItems.changes.pipe(qo(this._directDescendantItems),xn(r=>vc(...r.map(i=>i._hovered))))}addItem(t){}removeItem(t){}_handleKeydown(t){const r=t.keyCode,i=this._keyManager;switch(r){case 27:$W(t)||(t.preventDefault(),this.closed.emit("keydown"));break;case 37:this.parentMenu&&"ltr"===this.direction&&this.closed.emit("keydown");break;case 39:this.parentMenu&&"rtl"===this.direction&&this.closed.emit("keydown");break;default:(38===r||40===r)&&i.setFocusOrigin("keyboard"),i.onKeydown(t)}}focusFirstItem(t="program"){this.lazyContent?this._ngZone.onStable.pipe(Ir(1)).subscribe(()=>this._focusFirstItem(t)):this._focusFirstItem(t)}_focusFirstItem(t){const r=this._keyManager;if(r.setFocusOrigin(t).setFirstItemActive(),!r.activeItem&&this._directDescendantItems.length){let i=this._directDescendantItems.first._getHostElement().parentElement;for(;i;){if("menu"===i.getAttribute("role")){i.focus();break}i=i.parentElement}}}resetActiveItem(){this._keyManager.setActiveItem(-1)}setElevation(t){const r=Math.min(this._baseElevation+t,24),i=`${this._elevationPrefix}${r}`,s=Object.keys(this._classList).find(o=>o.startsWith(this._elevationPrefix));(!s||s===this._previousElevation)&&(this._previousElevation&&(this._classList[this._previousElevation]=!1),this._classList[i]=!0,this._previousElevation=i)}setPositionClasses(t=this.xPosition,r=this.yPosition){const i=this._classList;i["mat-menu-before"]="before"===t,i["mat-menu-after"]="after"===t,i["mat-menu-above"]="above"===r,i["mat-menu-below"]="below"===r}_startAnimation(){this._panelAnimationState="enter"}_resetAnimation(){this._panelAnimationState="void"}_onAnimationDone(t){this._animationDone.next(t),this._isAnimating=!1}_onAnimationStart(t){this._isAnimating=!0,"enter"===t.toState&&0===this._keyManager.activeItemIndex&&(t.element.scrollTop=0)}_updateDirectDescendants(){this._allItems.changes.pipe(qo(this._allItems)).subscribe(t=>{this._directDescendantItems.reset(t.filter(r=>r._parentMenu===this)),this._directDescendantItems.notifyOnChanges()})}}return n.\u0275fac=function(t){return new(t||n)(b(et),b(ie),b(q8))},n.\u0275dir=q({type:n,contentQueries:function(t,r,i){if(1&t&&(Kn(i,VDe,5),Kn(i,gb,5),Kn(i,gb,4)),2&t){let s;It(s=Tt())&&(r.lazyContent=s.first),It(s=Tt())&&(r._allItems=s),It(s=Tt())&&(r.items=s)}},viewQuery:function(t,r){if(1&t&&Ho(ui,5),2&t){let i;It(i=Tt())&&(r.templateRef=i.first)}},inputs:{backdropClass:"backdropClass",ariaLabel:["aria-label","ariaLabel"],ariaLabelledby:["aria-labelledby","ariaLabelledby"],ariaDescribedby:["aria-describedby","ariaDescribedby"],xPosition:"xPosition",yPosition:"yPosition",overlapTrigger:"overlapTrigger",hasBackdrop:"hasBackdrop",panelClass:["class","panelClass"],classList:"classList"},outputs:{closed:"closed",close:"close"}}),n})(),jDe=(()=>{class n extends jp{constructor(t,r,i){super(t,r,i),this._elevationPrefix="mat-elevation-z",this._baseElevation=4}}return n.\u0275fac=function(t){return new(t||n)(b(et),b(ie),b(q8))},n.\u0275cmp=Qe({type:n,selectors:[["mat-menu"]],hostVars:3,hostBindings:function(t,r){2&t&&Et("aria-label",null)("aria-labelledby",null)("aria-describedby",null)},exportAs:["matMenu"],features:[Ke([{provide:NR,useExisting:n}]),Ae],ngContentSelectors:W8,decls:1,vars:0,consts:[["tabindex","-1","role","menu",1,"mat-menu-panel",3,"id","ngClass","keydown","click"],[1,"mat-menu-content"]],template:function(t,r){1&t&&($o(),Z(0,LDe,3,6,"ng-template"))},dependencies:[m0],styles:["mat-menu{display:none}.mat-menu-panel{min-width:112px;max-width:280px;overflow:auto;-webkit-overflow-scrolling:touch;max-height:calc(100vh - 48px);border-radius:4px;outline:0;min-height:64px}.mat-menu-panel.ng-animating{pointer-events:none}.cdk-high-contrast-active .mat-menu-panel{outline:solid 1px}.mat-menu-content:not(:empty){padding-top:8px;padding-bottom:8px}.mat-menu-item{-webkit-user-select:none;-moz-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;display:block;line-height:48px;height:48px;padding:0 16px;text-align:left;text-decoration:none;max-width:100%;position:relative}.mat-menu-item::-moz-focus-inner{border:0}.mat-menu-item[disabled]{cursor:default}[dir=rtl] .mat-menu-item{text-align:right}.mat-menu-item .mat-icon{margin-right:16px;vertical-align:middle}.mat-menu-item .mat-icon svg{vertical-align:top}[dir=rtl] .mat-menu-item .mat-icon{margin-left:16px;margin-right:0}.mat-menu-item[disabled]{pointer-events:none}.cdk-high-contrast-active .mat-menu-item{margin-top:1px}.cdk-high-contrast-active .mat-menu-item.cdk-program-focused,.cdk-high-contrast-active .mat-menu-item.cdk-keyboard-focused,.cdk-high-contrast-active .mat-menu-item-highlighted{outline:dotted 1px}.mat-menu-item-submenu-trigger{padding-right:32px}[dir=rtl] .mat-menu-item-submenu-trigger{padding-right:16px;padding-left:32px}.mat-menu-submenu-icon{position:absolute;top:50%;right:16px;transform:translateY(-50%);width:5px;height:10px;fill:currentColor}[dir=rtl] .mat-menu-submenu-icon{right:auto;left:16px;transform:translateY(-50%) scaleX(-1)}.cdk-high-contrast-active .mat-menu-submenu-icon{fill:CanvasText}button.mat-menu-item{width:100%}.mat-menu-item .mat-menu-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}\n"],encapsulation:2,data:{animation:[pb.transformMenu,pb.fadeInItems]},changeDetection:0}),n})();const K8=new P("mat-menu-scroll-strategy"),zDe={provide:K8,deps:[fb],useFactory:function HDe(n){return()=>n.scrollStrategies.reposition()}},Q8=Cp({passive:!0});let GDe=(()=>{class n{constructor(t,r,i,s,o,a,l,c){this._overlay=t,this._element=r,this._viewContainerRef=i,this._menuItemInstance=a,this._dir=l,this._focusMonitor=c,this._overlayRef=null,this._menuOpen=!1,this._closingActionsSubscription=Rt.EMPTY,this._hoverSubscription=Rt.EMPTY,this._menuCloseSubscription=Rt.EMPTY,this._handleTouchStart=u=>{Nk(u)||(this._openedBy="touch")},this._openedBy=void 0,this._ariaHaspopup=!0,this.restoreFocus=!0,this.menuOpened=new Pe,this.onMenuOpen=this.menuOpened,this.menuClosed=new Pe,this.onMenuClose=this.menuClosed,this._scrollStrategy=s,this._parentMaterialMenu=o instanceof jp?o:void 0,r.nativeElement.addEventListener("touchstart",this._handleTouchStart,Q8),a&&(a._triggersSubmenu=this.triggersSubmenu())}get _ariaExpanded(){return this.menuOpen||null}get _ariaControl(){return this.menuOpen?this.menu.panelId:null}get _deprecatedMatMenuTriggerFor(){return this.menu}set _deprecatedMatMenuTriggerFor(t){this.menu=t}get menu(){return this._menu}set menu(t){t!==this._menu&&(this._menu=t,this._menuCloseSubscription.unsubscribe(),t&&(this._menuCloseSubscription=t.close.subscribe(r=>{this._destroyMenu(r),("click"===r||"tab"===r)&&this._parentMaterialMenu&&this._parentMaterialMenu.closed.emit(r)})))}ngAfterContentInit(){this._checkMenu(),this._handleHover()}ngOnDestroy(){this._overlayRef&&(this._overlayRef.dispose(),this._overlayRef=null),this._element.nativeElement.removeEventListener("touchstart",this._handleTouchStart,Q8),this._menuCloseSubscription.unsubscribe(),this._closingActionsSubscription.unsubscribe(),this._hoverSubscription.unsubscribe()}get menuOpen(){return this._menuOpen}get dir(){return this._dir&&"rtl"===this._dir.value?"rtl":"ltr"}triggersSubmenu(){return!(!this._menuItemInstance||!this._parentMaterialMenu)}toggleMenu(){return this._menuOpen?this.closeMenu():this.openMenu()}openMenu(){if(this._menuOpen)return;this._checkMenu();const t=this._createOverlay(),r=t.getConfig();this._setPosition(r.positionStrategy),r.hasBackdrop=this.menu.hasBackdrop??!this.triggersSubmenu(),t.attach(this._getPortal()),this.menu.lazyContent&&this.menu.lazyContent.attach(this.menuData),this._closingActionsSubscription=this._menuClosingActions().subscribe(()=>this.closeMenu()),this._initMenu(),this.menu instanceof jp&&this.menu._startAnimation()}closeMenu(){this.menu.close.emit()}focus(t,r){this._focusMonitor&&t?this._focusMonitor.focusVia(this._element,t,r):this._element.nativeElement.focus(r)}updatePosition(){this._overlayRef?.updatePosition()}_destroyMenu(t){if(!this._overlayRef||!this.menuOpen)return;const r=this.menu;this._closingActionsSubscription.unsubscribe(),this._overlayRef.detach(),this.restoreFocus&&("keydown"===t||!this._openedBy||!this.triggersSubmenu())&&this.focus(this._openedBy),this._openedBy=void 0,r instanceof jp?(r._resetAnimation(),r.lazyContent?r._animationDone.pipe(cn(i=>"void"===i.toState),Ir(1),Gl(r.lazyContent._attached)).subscribe({next:()=>r.lazyContent.detach(),complete:()=>this._setIsMenuOpen(!1)}):this._setIsMenuOpen(!1)):(this._setIsMenuOpen(!1),r.lazyContent&&r.lazyContent.detach())}_initMenu(){this.menu.parentMenu=this.triggersSubmenu()?this._parentMaterialMenu:void 0,this.menu.direction=this.dir,this._setMenuElevation(),this.menu.focusFirstItem(this._openedBy||"program"),this._setIsMenuOpen(!0)}_setMenuElevation(){if(this.menu.setElevation){let t=0,r=this.menu.parentMenu;for(;r;)t++,r=r.parentMenu;this.menu.setElevation(t)}}_setIsMenuOpen(t){this._menuOpen=t,this._menuOpen?this.menuOpened.emit():this.menuClosed.emit(),this.triggersSubmenu()&&this._menuItemInstance._setHighlighted(t)}_checkMenu(){}_createOverlay(){if(!this._overlayRef){const t=this._getOverlayConfig();this._subscribeToPositions(t.positionStrategy),this._overlayRef=this._overlay.create(t),this._overlayRef.keydownEvents().subscribe()}return this._overlayRef}_getOverlayConfig(){return new B8({positionStrategy:this._overlay.position().flexibleConnectedTo(this._element).withLockedPosition().withGrowAfterOpen().withTransformOriginOn(".mat-menu-panel, .mat-mdc-menu-panel"),backdropClass:this.menu.backdropClass||"cdk-overlay-transparent-backdrop",panelClass:this.menu.overlayPanelClass,scrollStrategy:this._scrollStrategy(),direction:this._dir})}_subscribeToPositions(t){this.menu.setPositionClasses&&t.positionChanges.subscribe(r=>{this.menu.setPositionClasses("start"===r.connectionPair.overlayX?"after":"before","top"===r.connectionPair.overlayY?"below":"above")})}_setPosition(t){let[r,i]="before"===this.menu.xPosition?["end","start"]:["start","end"],[s,o]="above"===this.menu.yPosition?["bottom","top"]:["top","bottom"],[a,l]=[s,o],[c,u]=[r,i],d=0;this.triggersSubmenu()?(u=r="before"===this.menu.xPosition?"start":"end",i=c="end"===r?"start":"end",d="bottom"===s?8:-8):this.menu.overlapTrigger||(a="top"===s?"bottom":"top",l="top"===o?"bottom":"top"),t.withPositions([{originX:r,originY:a,overlayX:c,overlayY:s,offsetY:d},{originX:i,originY:a,overlayX:u,overlayY:s,offsetY:d},{originX:r,originY:l,overlayX:c,overlayY:o,offsetY:-d},{originX:i,originY:l,overlayX:u,overlayY:o,offsetY:-d}])}_menuClosingActions(){const t=this._overlayRef.backdropClick(),r=this._overlayRef.detachments();return vc(t,this._parentMaterialMenu?this._parentMaterialMenu.closed:G(),this._parentMaterialMenu?this._parentMaterialMenu._hovered().pipe(cn(o=>o!==this._menuItemInstance),cn(()=>this._menuOpen)):G(),r)}_handleMousedown(t){Rk(t)||(this._openedBy=0===t.button?"mouse":void 0,this.triggersSubmenu()&&t.preventDefault())}_handleKeydown(t){const r=t.keyCode;(13===r||32===r)&&(this._openedBy="keyboard"),this.triggersSubmenu()&&(39===r&&"ltr"===this.dir||37===r&&"rtl"===this.dir)&&(this._openedBy="keyboard",this.openMenu())}_handleClick(t){this.triggersSubmenu()?(t.stopPropagation(),this.openMenu()):this.toggleMenu()}_handleHover(){!this.triggersSubmenu()||!this._parentMaterialMenu||(this._hoverSubscription=this._parentMaterialMenu._hovered().pipe(cn(t=>t===this._menuItemInstance&&!t.disabled),k8(0,MR)).subscribe(()=>{this._openedBy="mouse",this.menu instanceof jp&&this.menu._isAnimating?this.menu._animationDone.pipe(Ir(1),k8(0,MR),Gl(this._parentMaterialMenu._hovered())).subscribe(()=>this.openMenu()):this.openMenu()}))}_getPortal(){return(!this._portal||this._portal.templateRef!==this.menu.templateRef)&&(this._portal=new R8(this.menu.templateRef,this._viewContainerRef)),this._portal}}return n.\u0275fac=function(t){return new(t||n)(b(fb),b(et),b(zr),b(K8),b(NR,8),b(gb,10),b(Fk,8),b(Pk))},n.\u0275dir=q({type:n,hostVars:3,hostBindings:function(t,r){1&t&&Me("mousedown",function(s){return r._handleMousedown(s)})("keydown",function(s){return r._handleKeydown(s)})("click",function(s){return r._handleClick(s)}),2&t&&Et("aria-expanded",r._ariaExpanded)("aria-controls",r._ariaControl)("aria-haspopup",r._ariaHaspopup)},inputs:{_deprecatedMatMenuTriggerFor:["mat-menu-trigger-for","_deprecatedMatMenuTriggerFor"],menu:["matMenuTriggerFor","menu"],menuData:["matMenuTriggerData","menuData"],restoreFocus:["matMenuTriggerRestoreFocus","restoreFocus"]},outputs:{menuOpened:"menuOpened",onMenuOpen:"onMenuOpen",menuClosed:"menuClosed",onMenuClose:"onMenuClose"}}),n})(),WDe=(()=>{class n extends GDe{}return n.\u0275fac=function(){let e;return function(r){return(e||(e=Mn(n)))(r||n)}}(),n.\u0275dir=q({type:n,selectors:[["","mat-menu-trigger-for",""],["","matMenuTriggerFor",""]],hostAttrs:[1,"mat-menu-trigger"],exportAs:["matMenuTrigger"],features:[Ae]}),n})(),qDe=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=ue({type:n}),n.\u0275inj=ce({providers:[zDe],imports:[[Xm,Wt,hq,PDe],kR,Wt]}),n})(),KDe=0;const YDe=Lk(class{}),X8="mat-badge-content";let QDe=(()=>{class n extends YDe{constructor(t,r,i,s,o){super(),this._ngZone=t,this._elementRef=r,this._ariaDescriber=i,this._renderer=s,this._animationMode=o,this._color="primary",this._overlap=!0,this.position="above after",this.size="medium",this._id=KDe++,this._isInitialized=!1}get color(){return this._color}set color(t){this._setColor(t),this._color=t}get overlap(){return this._overlap}set overlap(t){this._overlap=mi(t)}get content(){return this._content}set content(t){this._updateRenderedContent(t)}get description(){return this._description}set description(t){this._updateHostAriaDescription(t)}get hidden(){return this._hidden}set hidden(t){this._hidden=mi(t)}isAbove(){return-1===this.position.indexOf("below")}isAfter(){return-1===this.position.indexOf("before")}getBadgeElement(){return this._badgeElement}ngOnInit(){this._clearExistingBadges(),this.content&&!this._badgeElement&&(this._badgeElement=this._createBadgeElement(),this._updateRenderedContent(this.content)),this._isInitialized=!0}ngOnDestroy(){this._renderer.destroyNode&&this._renderer.destroyNode(this._badgeElement),this._ariaDescriber.removeDescription(this._elementRef.nativeElement,this.description)}_createBadgeElement(){const t=this._renderer.createElement("span"),r="mat-badge-active";return t.setAttribute("id",`mat-badge-content-${this._id}`),t.setAttribute("aria-hidden","true"),t.classList.add(X8),"NoopAnimations"===this._animationMode&&t.classList.add("_mat-animation-noopable"),this._elementRef.nativeElement.appendChild(t),"function"==typeof requestAnimationFrame&&"NoopAnimations"!==this._animationMode?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>{t.classList.add(r)})}):t.classList.add(r),t}_updateRenderedContent(t){const r=`${t??""}`.trim();this._isInitialized&&r&&!this._badgeElement&&(this._badgeElement=this._createBadgeElement()),this._badgeElement&&(this._badgeElement.textContent=r),this._content=r}_updateHostAriaDescription(t){this._ariaDescriber.removeDescription(this._elementRef.nativeElement,this.description),t&&this._ariaDescriber.describe(this._elementRef.nativeElement,t),this._description=t}_setColor(t){const r=this._elementRef.nativeElement.classList;r.remove(`mat-badge-${this._color}`),t&&r.add(`mat-badge-${t}`)}_clearExistingBadges(){const t=this._elementRef.nativeElement.querySelectorAll(`:scope > .${X8}`);for(const r of Array.from(t))r!==this._badgeElement&&r.remove()}}return n.\u0275fac=function(t){return new(t||n)(b(ie),b(et),b(oCe),b(Di),b(au,8))},n.\u0275dir=q({type:n,selectors:[["","matBadge",""]],hostAttrs:[1,"mat-badge"],hostVars:20,hostBindings:function(t,r){2&t&&Qt("mat-badge-overlap",r.overlap)("mat-badge-above",r.isAbove())("mat-badge-below",!r.isAbove())("mat-badge-before",!r.isAfter())("mat-badge-after",r.isAfter())("mat-badge-small","small"===r.size)("mat-badge-medium","medium"===r.size)("mat-badge-large","large"===r.size)("mat-badge-hidden",r.hidden||!r.content)("mat-badge-disabled",r.disabled)},inputs:{disabled:["matBadgeDisabled","disabled"],color:["matBadgeColor","color"],overlap:["matBadgeOverlap","overlap"],position:["matBadgePosition","position"],content:["matBadge","content"],description:["matBadgeDescription","description"],size:["matBadgeSize","size"],hidden:["matBadgeHidden","hidden"]},features:[Ae]}),n})(),XDe=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=ue({type:n}),n.\u0275inj=ce({imports:[[vCe,Wt],Wt]}),n})();function ZDe(n,e){if(1&n&&(zs(0),T(1,"button",10),ye(2,"img",11),S(3),T(4,"mat-icon"),S(5,"expand_more"),A()(),Gs()),2&n){const t=e.ngIf;Q();const r=mn(23);let i;N(1),L("matMenuTriggerFor",r),N(1),L("src",null!==(i=t.photoURL)&&void 0!==i?i:"/assets/images/image-placeholder.png",qa),N(1),Ri(" ",t.displayName," ")}}function JDe(n,e){1&n&&(T(0,"button",12)(1,"mat-icon"),S(2,"login"),A(),S(3," \u0412\u043e\u0439\u0442\u0438 "),A())}let eAe=(()=>{class n{constructor(t,r,i,s){this.auth=t,this.router=r,this.usersService=i,this.drugService=s,this.count=this.drugService.getSum(),this.user$=this.usersService.currentUserProfile$}ngOnInit(){}logout(){this.auth.logout().subscribe(()=>{this.router.navigate(["/"])})}}return n.\u0275fac=function(t){return new(t||n)(b(Mu),b(Ft),b(Tk),b(R_))},n.\u0275cmp=Qe({type:n,selectors:[["app-header"]],decls:28,vars:5,consts:[["color","primary"],["mat-button","","routerLink","/"],["mat-button","","routerLink","store"],["mat-button","","routerLink","signup"],[4,"ngIf","ngIfElse"],["LoginButton",""],["mat-button","","routerLink","cart","matBadgeColor","accent","matBadgePosition","after",3,"matBadge"],["userMenu","matMenu"],["mat-menu-item","",3,"click"],["mat-menu-item","","routerLink","/profile"],["mat-button","",3,"matMenuTriggerFor"],["alt","","width","30","height","30",1,"profile-image-toolbar",3,"src"],["mat-button","","routerLink","login"]],template:function(t,r){if(1&t&&(T(0,"mat-toolbar",0)(1,"div")(2,"button",1)(3,"mat-icon"),S(4,"home"),A(),S(5," \u041e\u043d\u043b\u0430\u0439\u043d \u0410\u043f\u0442\u0435\u043a\u0430 "),A()(),T(6,"div")(7,"button",2)(8,"mat-icon"),S(9,"signup"),A(),S(10," Store "),A(),T(11,"button",3)(12,"mat-icon"),S(13,"signup"),A(),S(14," Signup "),A(),Z(15,ZDe,6,3,"ng-container",4),Ws(16,"async"),Z(17,JDe,4,0,"ng-template",null,5,Ch),T(19,"button",6)(20,"mat-icon"),S(21,"shopping_cart_checkout"),A()()()(),T(22,"mat-menu",null,7)(24,"button",8),Me("click",function(){return r.logout()}),S(25,"\u0412\u044b\u0439\u0442\u0438"),A(),T(26,"button",9),S(27,"\u041f\u0440\u043e\u0444\u0438\u043b\u044c"),A()()),2&t){const i=mn(18);N(15),L("ngIf",Mm(16,3,r.user$))("ngIfElse",i),N(4),L("matBadge",r.drugService.getSum()>0?r.drugService.getSum():"")}},dependencies:[Oi,Wh,KSe,aR,hd,jDe,gb,WDe,QDe,Qm],styles:["mat-toolbar[_ngcontent-%COMP%]{justify-content:space-between;background-color:#00f;overflow-x:hidden}"]}),n})(),tAe=(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=Qe({type:n,selectors:[["app-footer"]],decls:2,vars:0,template:function(t,r){1&t&&(T(0,"p"),S(1,"footer works!"),A())}}),n})(),nAe=(()=>{class n{constructor(){this.title="myProject"}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=Qe({type:n,selectors:[["app-root"]],decls:6,vars:0,consts:[[1,"header"],[1,"content"],[1,"footer"]],template:function(t,r){1&t&&(T(0,"div",0),ye(1,"app-header"),A(),T(2,"div",1),ye(3,"router-outlet"),A(),T(4,"div",2),ye(5,"app-footer"),A())},dependencies:[X0,eAe,tAe],styles:[".content[_ngcontent-%COMP%]{padding:80px 32px 32px;margin:0 auto}.footer[_ngcontent-%COMP%]{position:fixed;left:0;bottom:0;width:100%;background-color:#6338b0;color:#fff;text-align:center}.header[_ngcontent-%COMP%]{position:fixed;left:0;top:0;width:100%}"]}),n})();function Z8(n){return new M(3e3,!1)}function LAe(){return typeof window<"u"&&typeof window.document<"u"}function PR(){return typeof process<"u"&&"[object process]"==={}.toString.call(process)}function wa(n){switch(n.length){case 0:return new Op;case 1:return n[0];default:return new O5(n)}}function J8(n,e,t,r,i=new Map,s=new Map){const o=[],a=[];let l=-1,c=null;if(r.forEach(u=>{const d=u.get("offset"),h=d==l,f=h&&c||new Map;u.forEach((p,g)=>{let m=g,v=p;if("offset"!==g)switch(m=e.normalizePropertyName(m,o),v){case"!":v=i.get(g);break;case Io:v=s.get(g);break;default:v=e.normalizeStyleValue(g,m,v,o)}f.set(m,v)}),h||a.push(f),c=f,l=d}),o.length)throw function TAe(n){return new M(3502,!1)}();return a}function OR(n,e,t,r){switch(e){case"start":n.onStart(()=>r(t&&FR(t,"start",n)));break;case"done":n.onDone(()=>r(t&&FR(t,"done",n)));break;case"destroy":n.onDestroy(()=>r(t&&FR(t,"destroy",n)))}}function FR(n,e,t){const s=LR(n.element,n.triggerName,n.fromState,n.toState,e||n.phaseName,t.totalTime??n.totalTime,!!t.disabled),o=n._data;return null!=o&&(s._data=o),s}function LR(n,e,t,r,i="",s=0,o){return{element:n,triggerName:e,fromState:t,toState:r,phaseName:i,totalTime:s,disabled:!!o}}function ei(n,e,t){let r=n.get(e);return r||n.set(e,r=t),r}function eK(n){const e=n.indexOf(":");return[n.substring(1,e),n.slice(e+1)]}let VR=(n,e)=>!1,tK=(n,e,t)=>[],nK=null;function BR(n){const e=n.parentNode||n.host;return e===nK?null:e}(PR()||typeof Element<"u")&&(LAe()?(nK=(()=>document.documentElement)(),VR=(n,e)=>{for(;e;){if(e===n)return!0;e=BR(e)}return!1}):VR=(n,e)=>n.contains(e),tK=(n,e,t)=>{if(t)return Array.from(n.querySelectorAll(e));const r=n.querySelector(e);return r?[r]:[]});let tc=null,rK=!1;const iK=VR,sK=tK;let oK=(()=>{class n{validateStyleProperty(t){return function BAe(n){tc||(tc=function UAe(){return typeof document<"u"?document.body:null}()||{},rK=!!tc.style&&"WebkitAppearance"in tc.style);let e=!0;return tc.style&&!function VAe(n){return"ebkit"==n.substring(1,6)}(n)&&(e=n in tc.style,!e&&rK&&(e="Webkit"+n.charAt(0).toUpperCase()+n.slice(1)in tc.style)),e}(t)}matchesElement(t,r){return!1}containsElement(t,r){return iK(t,r)}getParentElement(t){return BR(t)}query(t,r,i){return sK(t,r,i)}computeStyle(t,r,i){return i||""}animate(t,r,i,s,o,a=[],l){return new Op(i,s)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=F({token:n,factory:n.\u0275fac}),n})(),UR=(()=>{class n{}return n.NOOP=new oK,n})();const $R="ng-enter",mb="ng-leave",_b="ng-trigger",yb=".ng-trigger",lK="ng-animating",jR=".ng-animating";function Ao(n){if("number"==typeof n)return n;const e=n.match(/^(-?[\.\d]+)(m?s)/);return!e||e.length<2?0:HR(parseFloat(e[1]),e[2])}function HR(n,e){return"s"===e?1e3*n:n}function vb(n,e,t){return n.hasOwnProperty("duration")?n:function HAe(n,e,t){let i,s=0,o="";if("string"==typeof n){const a=n.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===a)return e.push(Z8()),{duration:0,delay:0,easing:""};i=HR(parseFloat(a[1]),a[2]);const l=a[3];null!=l&&(s=HR(parseFloat(l),a[4]));const c=a[5];c&&(o=c)}else i=n;if(!t){let a=!1,l=e.length;i<0&&(e.push(function rAe(){return new M(3100,!1)}()),a=!0),s<0&&(e.push(function iAe(){return new M(3101,!1)}()),a=!0),a&&e.splice(l,0,Z8())}return{duration:i,delay:s,easing:o}}(n,e,t)}function Hp(n,e={}){return Object.keys(n).forEach(t=>{e[t]=n[t]}),e}function cK(n){const e=new Map;return Object.keys(n).forEach(t=>{e.set(t,n[t])}),e}function Ca(n,e=new Map,t){if(t)for(let[r,i]of t)e.set(r,i);for(let[r,i]of n)e.set(r,i);return e}function dK(n,e,t){return t?e+":"+t+";":""}function hK(n){let e="";for(let t=0;t<n.style.length;t++){const r=n.style.item(t);e+=dK(0,r,n.style.getPropertyValue(r))}for(const t in n.style)n.style.hasOwnProperty(t)&&!t.startsWith("_")&&(e+=dK(0,qAe(t),n.style[t]));n.setAttribute("style",e)}function Is(n,e,t){n.style&&(e.forEach((r,i)=>{const s=GR(i);t&&!t.has(i)&&t.set(i,n.style[s]),n.style[s]=r}),PR()&&hK(n))}function nc(n,e){n.style&&(e.forEach((t,r)=>{const i=GR(r);n.style[i]=""}),PR()&&hK(n))}function zp(n){return Array.isArray(n)?1==n.length?n[0]:N5(n):n}const zR=new RegExp("{{\\s*(.+?)\\s*}}","g");function fK(n){let e=[];if("string"==typeof n){let t;for(;t=zR.exec(n);)e.push(t[1]);zR.lastIndex=0}return e}function Gp(n,e,t){const r=n.toString(),i=r.replace(zR,(s,o)=>{let a=e[o];return null==a&&(t.push(function oAe(n){return new M(3003,!1)}()),a=""),a.toString()});return i==r?n:i}function bb(n){const e=[];let t=n.next();for(;!t.done;)e.push(t.value),t=n.next();return e}const WAe=/-+([a-z0-9])/g;function GR(n){return n.replace(WAe,(...e)=>e[1].toUpperCase())}function qAe(n){return n.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function ti(n,e,t){switch(e.type){case 7:return n.visitTrigger(e,t);case 0:return n.visitState(e,t);case 1:return n.visitTransition(e,t);case 2:return n.visitSequence(e,t);case 3:return n.visitGroup(e,t);case 4:return n.visitAnimate(e,t);case 5:return n.visitKeyframes(e,t);case 6:return n.visitStyle(e,t);case 8:return n.visitReference(e,t);case 9:return n.visitAnimateChild(e,t);case 10:return n.visitAnimateRef(e,t);case 11:return n.visitQuery(e,t);case 12:return n.visitStagger(e,t);default:throw function aAe(n){return new M(3004,!1)}()}}function pK(n,e){return window.getComputedStyle(n)[e]}function JAe(n,e){const t=[];return"string"==typeof n?n.split(/\s*,\s*/).forEach(r=>function eMe(n,e,t){if(":"==n[0]){const l=function tMe(n,e){switch(n){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(t,r)=>parseFloat(r)>parseFloat(t);case":decrement":return(t,r)=>parseFloat(r)<parseFloat(t);default:return e.push(function wAe(n){return new M(3016,!1)}()),"* => *"}}(n,t);if("function"==typeof l)return void e.push(l);n=l}const r=n.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==r||r.length<4)return t.push(function bAe(n){return new M(3015,!1)}()),e;const i=r[1],s=r[2],o=r[3];e.push(gK(i,o));"<"==s[0]&&!("*"==i&&"*"==o)&&e.push(gK(o,i))}(r,t,e)):t.push(n),t}const Ib=new Set(["true","1"]),Tb=new Set(["false","0"]);function gK(n,e){const t=Ib.has(n)||Tb.has(n),r=Ib.has(e)||Tb.has(e);return(i,s)=>{let o="*"==n||n==i,a="*"==e||e==s;return!o&&t&&"boolean"==typeof i&&(o=i?Ib.has(n):Tb.has(n)),!a&&r&&"boolean"==typeof s&&(a=s?Ib.has(e):Tb.has(e)),o&&a}}const nMe=new RegExp("s*:selfs*,?","g");function WR(n,e,t,r){return new rMe(n).build(e,t,r)}class rMe{constructor(e){this._driver=e}build(e,t,r){const i=new oMe(t);return this._resetContextStyleTimingState(i),ti(this,zp(e),i)}_resetContextStyleTimingState(e){e.currentQuerySelector="",e.collectedStyles=new Map,e.collectedStyles.set("",new Map),e.currentTime=0}visitTrigger(e,t){let r=t.queryCount=0,i=t.depCount=0;const s=[],o=[];return"@"==e.name.charAt(0)&&t.errors.push(function cAe(){return new M(3006,!1)}()),e.definitions.forEach(a=>{if(this._resetContextStyleTimingState(t),0==a.type){const l=a,c=l.name;c.toString().split(/\s*,\s*/).forEach(u=>{l.name=u,s.push(this.visitState(l,t))}),l.name=c}else if(1==a.type){const l=this.visitTransition(a,t);r+=l.queryCount,i+=l.depCount,o.push(l)}else t.errors.push(function uAe(){return new M(3007,!1)}())}),{type:7,name:e.name,states:s,transitions:o,queryCount:r,depCount:i,options:null}}visitState(e,t){const r=this.visitStyle(e.styles,t),i=e.options&&e.options.params||null;if(r.containsDynamicStyles){const s=new Set,o=i||{};r.styles.forEach(a=>{a instanceof Map&&a.forEach(l=>{fK(l).forEach(c=>{o.hasOwnProperty(c)||s.add(c)})})}),s.size&&(bb(s.values()),t.errors.push(function dAe(n,e){return new M(3008,!1)}()))}return{type:0,name:e.name,style:r,options:i?{params:i}:null}}visitTransition(e,t){t.queryCount=0,t.depCount=0;const r=ti(this,zp(e.animation),t);return{type:1,matchers:JAe(e.expr,t.errors),animation:r,queryCount:t.queryCount,depCount:t.depCount,options:rc(e.options)}}visitSequence(e,t){return{type:2,steps:e.steps.map(r=>ti(this,r,t)),options:rc(e.options)}}visitGroup(e,t){const r=t.currentTime;let i=0;const s=e.steps.map(o=>{t.currentTime=r;const a=ti(this,o,t);return i=Math.max(i,t.currentTime),a});return t.currentTime=i,{type:3,steps:s,options:rc(e.options)}}visitAnimate(e,t){const r=function lMe(n,e){if(n.hasOwnProperty("duration"))return n;if("number"==typeof n)return qR(vb(n,e).duration,0,"");const t=n;if(t.split(/\s+/).some(s=>"{"==s.charAt(0)&&"{"==s.charAt(1))){const s=qR(0,0,"");return s.dynamic=!0,s.strValue=t,s}const i=vb(t,e);return qR(i.duration,i.delay,i.easing)}(e.timings,t.errors);t.currentAnimateTimings=r;let i,s=e.styles?e.styles:To({});if(5==s.type)i=this.visitKeyframes(s,t);else{let o=e.styles,a=!1;if(!o){a=!0;const c={};r.easing&&(c.easing=r.easing),o=To(c)}t.currentTime+=r.duration+r.delay;const l=this.visitStyle(o,t);l.isEmptyStep=a,i=l}return t.currentAnimateTimings=null,{type:4,timings:r,style:i,options:null}}visitStyle(e,t){const r=this._makeStyleAst(e,t);return this._validateStyleAst(r,t),r}_makeStyleAst(e,t){const r=[],i=Array.isArray(e.styles)?e.styles:[e.styles];for(let a of i)"string"==typeof a?a===Io?r.push(a):t.errors.push(new M(3002,!1)):r.push(cK(a));let s=!1,o=null;return r.forEach(a=>{if(a instanceof Map&&(a.has("easing")&&(o=a.get("easing"),a.delete("easing")),!s))for(let l of a.values())if(l.toString().indexOf("{{")>=0){s=!0;break}}),{type:6,styles:r,easing:o,offset:e.offset,containsDynamicStyles:s,options:null}}_validateStyleAst(e,t){const r=t.currentAnimateTimings;let i=t.currentTime,s=t.currentTime;r&&s>0&&(s-=r.duration+r.delay),e.styles.forEach(o=>{"string"!=typeof o&&o.forEach((a,l)=>{const c=t.collectedStyles.get(t.currentQuerySelector),u=c.get(l);let d=!0;u&&(s!=i&&s>=u.startTime&&i<=u.endTime&&(t.errors.push(function fAe(n,e,t,r,i){return new M(3010,!1)}()),d=!1),s=u.startTime),d&&c.set(l,{startTime:s,endTime:i}),t.options&&function GAe(n,e,t){const r=e.params||{},i=fK(n);i.length&&i.forEach(s=>{r.hasOwnProperty(s)||t.push(function sAe(n){return new M(3001,!1)}())})}(a,t.options,t.errors)})})}visitKeyframes(e,t){const r={type:5,styles:[],options:null};if(!t.currentAnimateTimings)return t.errors.push(function pAe(){return new M(3011,!1)}()),r;let s=0;const o=[];let a=!1,l=!1,c=0;const u=e.steps.map(v=>{const C=this._makeStyleAst(v,t);let y=null!=C.offset?C.offset:function aMe(n){if("string"==typeof n)return null;let e=null;if(Array.isArray(n))n.forEach(t=>{if(t instanceof Map&&t.has("offset")){const r=t;e=parseFloat(r.get("offset")),r.delete("offset")}});else if(n instanceof Map&&n.has("offset")){const t=n;e=parseFloat(t.get("offset")),t.delete("offset")}return e}(C.styles),D=0;return null!=y&&(s++,D=C.offset=y),l=l||D<0||D>1,a=a||D<c,c=D,o.push(D),C});l&&t.errors.push(function gAe(){return new M(3012,!1)}()),a&&t.errors.push(function mAe(){return new M(3200,!1)}());const d=e.steps.length;let h=0;s>0&&s<d?t.errors.push(function _Ae(){return new M(3202,!1)}()):0==s&&(h=1/(d-1));const f=d-1,p=t.currentTime,g=t.currentAnimateTimings,m=g.duration;return u.forEach((v,C)=>{const y=h>0?C==f?1:h*C:o[C],D=y*m;t.currentTime=p+g.delay+D,g.duration=D,this._validateStyleAst(v,t),v.offset=y,r.styles.push(v)}),r}visitReference(e,t){return{type:8,animation:ti(this,zp(e.animation),t),options:rc(e.options)}}visitAnimateChild(e,t){return t.depCount++,{type:9,options:rc(e.options)}}visitAnimateRef(e,t){return{type:10,animation:this.visitReference(e.animation,t),options:rc(e.options)}}visitQuery(e,t){const r=t.currentQuerySelector,i=e.options||{};t.queryCount++,t.currentQuery=e;const[s,o]=function iMe(n){const e=!!n.split(/\s*,\s*/).find(t=>":self"==t);return e&&(n=n.replace(nMe,"")),n=n.replace(/@\*/g,yb).replace(/@\w+/g,t=>yb+"-"+t.slice(1)).replace(/:animating/g,jR),[n,e]}(e.selector);t.currentQuerySelector=r.length?r+" "+s:s,ei(t.collectedStyles,t.currentQuerySelector,new Map);const a=ti(this,zp(e.animation),t);return t.currentQuery=null,t.currentQuerySelector=r,{type:11,selector:s,limit:i.limit||0,optional:!!i.optional,includeSelf:o,animation:a,originalSelector:e.selector,options:rc(e.options)}}visitStagger(e,t){t.currentQuery||t.errors.push(function yAe(){return new M(3013,!1)}());const r="full"===e.timings?{duration:0,delay:0,easing:"full"}:vb(e.timings,t.errors,!0);return{type:12,animation:ti(this,zp(e.animation),t),timings:r,options:null}}}class oMe{constructor(e){this.errors=e,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function rc(n){return n?(n=Hp(n)).params&&(n.params=function sMe(n){return n?Hp(n):null}(n.params)):n={},n}function qR(n,e,t){return{duration:n,delay:e,easing:t}}function KR(n,e,t,r,i,s,o=null,a=!1){return{type:1,element:n,keyframes:e,preStyleProps:t,postStyleProps:r,duration:i,delay:s,totalTime:i+s,easing:o,subTimeline:a}}class Sb{constructor(){this._map=new Map}get(e){return this._map.get(e)||[]}append(e,t){let r=this._map.get(e);r||this._map.set(e,r=[]),r.push(...t)}has(e){return this._map.has(e)}clear(){this._map.clear()}}const dMe=new RegExp(":enter","g"),fMe=new RegExp(":leave","g");function YR(n,e,t,r,i,s=new Map,o=new Map,a,l,c=[]){return(new pMe).buildKeyframes(n,e,t,r,i,s,o,a,l,c)}class pMe{buildKeyframes(e,t,r,i,s,o,a,l,c,u=[]){c=c||new Sb;const d=new QR(e,t,c,i,s,u,[]);d.options=l;const h=l.delay?Ao(l.delay):0;d.currentTimeline.delayNextStep(h),d.currentTimeline.setStyles([o],null,d.errors,l),ti(this,r,d);const f=d.timelines.filter(p=>p.containsAnimation());if(f.length&&a.size){let p;for(let g=f.length-1;g>=0;g--){const m=f[g];if(m.element===t){p=m;break}}p&&!p.allowOnlyTimelineStyles()&&p.setStyles([a],null,d.errors,l)}return f.length?f.map(p=>p.buildKeyframes()):[KR(t,[],[],[],0,h,"",!1)]}visitTrigger(e,t){}visitState(e,t){}visitTransition(e,t){}visitAnimateChild(e,t){const r=t.subInstructions.get(t.element);if(r){const i=t.createSubContext(e.options),s=t.currentTimeline.currentTime,o=this._visitSubInstructions(r,i,i.options);s!=o&&t.transformIntoNewTimeline(o)}t.previousNode=e}visitAnimateRef(e,t){const r=t.createSubContext(e.options);r.transformIntoNewTimeline(),this._applyAnimationRefDelays([e.options,e.animation.options],t,r),this.visitReference(e.animation,r),t.transformIntoNewTimeline(r.currentTimeline.currentTime),t.previousNode=e}_applyAnimationRefDelays(e,t,r){for(const i of e){const s=i?.delay;if(s){const o="number"==typeof s?s:Ao(Gp(s,i?.params??{},t.errors));r.delayNextStep(o)}}}_visitSubInstructions(e,t,r){let s=t.currentTimeline.currentTime;const o=null!=r.duration?Ao(r.duration):null,a=null!=r.delay?Ao(r.delay):null;return 0!==o&&e.forEach(l=>{const c=t.appendInstructionToTimeline(l,o,a);s=Math.max(s,c.duration+c.delay)}),s}visitReference(e,t){t.updateOptions(e.options,!0),ti(this,e.animation,t),t.previousNode=e}visitSequence(e,t){const r=t.subContextCount;let i=t;const s=e.options;if(s&&(s.params||s.delay)&&(i=t.createSubContext(s),i.transformIntoNewTimeline(),null!=s.delay)){6==i.previousNode.type&&(i.currentTimeline.snapshotCurrentStyles(),i.previousNode=Db);const o=Ao(s.delay);i.delayNextStep(o)}e.steps.length&&(e.steps.forEach(o=>ti(this,o,i)),i.currentTimeline.applyStylesToKeyframe(),i.subContextCount>r&&i.transformIntoNewTimeline()),t.previousNode=e}visitGroup(e,t){const r=[];let i=t.currentTimeline.currentTime;const s=e.options&&e.options.delay?Ao(e.options.delay):0;e.steps.forEach(o=>{const a=t.createSubContext(e.options);s&&a.delayNextStep(s),ti(this,o,a),i=Math.max(i,a.currentTimeline.currentTime),r.push(a.currentTimeline)}),r.forEach(o=>t.currentTimeline.mergeTimelineCollectedStyles(o)),t.transformIntoNewTimeline(i),t.previousNode=e}_visitTiming(e,t){if(e.dynamic){const r=e.strValue;return vb(t.params?Gp(r,t.params,t.errors):r,t.errors)}return{duration:e.duration,delay:e.delay,easing:e.easing}}visitAnimate(e,t){const r=t.currentAnimateTimings=this._visitTiming(e.timings,t),i=t.currentTimeline;r.delay&&(t.incrementTime(r.delay),i.snapshotCurrentStyles());const s=e.style;5==s.type?this.visitKeyframes(s,t):(t.incrementTime(r.duration),this.visitStyle(s,t),i.applyStylesToKeyframe()),t.currentAnimateTimings=null,t.previousNode=e}visitStyle(e,t){const r=t.currentTimeline,i=t.currentAnimateTimings;!i&&r.hasCurrentStyleProperties()&&r.forwardFrame();const s=i&&i.easing||e.easing;e.isEmptyStep?r.applyEmptyStep(s):r.setStyles(e.styles,s,t.errors,t.options),t.previousNode=e}visitKeyframes(e,t){const r=t.currentAnimateTimings,i=t.currentTimeline.duration,s=r.duration,a=t.createSubContext().currentTimeline;a.easing=r.easing,e.styles.forEach(l=>{a.forwardTime((l.offset||0)*s),a.setStyles(l.styles,l.easing,t.errors,t.options),a.applyStylesToKeyframe()}),t.currentTimeline.mergeTimelineCollectedStyles(a),t.transformIntoNewTimeline(i+s),t.previousNode=e}visitQuery(e,t){const r=t.currentTimeline.currentTime,i=e.options||{},s=i.delay?Ao(i.delay):0;s&&(6===t.previousNode.type||0==r&&t.currentTimeline.hasCurrentStyleProperties())&&(t.currentTimeline.snapshotCurrentStyles(),t.previousNode=Db);let o=r;const a=t.invokeQuery(e.selector,e.originalSelector,e.limit,e.includeSelf,!!i.optional,t.errors);t.currentQueryTotal=a.length;let l=null;a.forEach((c,u)=>{t.currentQueryIndex=u;const d=t.createSubContext(e.options,c);s&&d.delayNextStep(s),c===t.element&&(l=d.currentTimeline),ti(this,e.animation,d),d.currentTimeline.applyStylesToKeyframe(),o=Math.max(o,d.currentTimeline.currentTime)}),t.currentQueryIndex=0,t.currentQueryTotal=0,t.transformIntoNewTimeline(o),l&&(t.currentTimeline.mergeTimelineCollectedStyles(l),t.currentTimeline.snapshotCurrentStyles()),t.previousNode=e}visitStagger(e,t){const r=t.parentContext,i=t.currentTimeline,s=e.timings,o=Math.abs(s.duration),a=o*(t.currentQueryTotal-1);let l=o*t.currentQueryIndex;switch(s.duration<0?"reverse":s.easing){case"reverse":l=a-l;break;case"full":l=r.currentStaggerTime}const u=t.currentTimeline;l&&u.delayNextStep(l);const d=u.currentTime;ti(this,e.animation,t),t.previousNode=e,r.currentStaggerTime=i.currentTime-d+(i.startTime-r.currentTimeline.startTime)}}const Db={};class QR{constructor(e,t,r,i,s,o,a,l){this._driver=e,this.element=t,this.subInstructions=r,this._enterClassName=i,this._leaveClassName=s,this.errors=o,this.timelines=a,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=Db,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=l||new Ab(this._driver,t,0),a.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(e,t){if(!e)return;const r=e;let i=this.options;null!=r.duration&&(i.duration=Ao(r.duration)),null!=r.delay&&(i.delay=Ao(r.delay));const s=r.params;if(s){let o=i.params;o||(o=this.options.params={}),Object.keys(s).forEach(a=>{(!t||!o.hasOwnProperty(a))&&(o[a]=Gp(s[a],o,this.errors))})}}_copyOptions(){const e={};if(this.options){const t=this.options.params;if(t){const r=e.params={};Object.keys(t).forEach(i=>{r[i]=t[i]})}}return e}createSubContext(e=null,t,r){const i=t||this.element,s=new QR(this._driver,i,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(i,r||0));return s.previousNode=this.previousNode,s.currentAnimateTimings=this.currentAnimateTimings,s.options=this._copyOptions(),s.updateOptions(e),s.currentQueryIndex=this.currentQueryIndex,s.currentQueryTotal=this.currentQueryTotal,s.parentContext=this,this.subContextCount++,s}transformIntoNewTimeline(e){return this.previousNode=Db,this.currentTimeline=this.currentTimeline.fork(this.element,e),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(e,t,r){const i={duration:t??e.duration,delay:this.currentTimeline.currentTime+(r??0)+e.delay,easing:""},s=new gMe(this._driver,e.element,e.keyframes,e.preStyleProps,e.postStyleProps,i,e.stretchStartingKeyframe);return this.timelines.push(s),i}incrementTime(e){this.currentTimeline.forwardTime(this.currentTimeline.duration+e)}delayNextStep(e){e>0&&this.currentTimeline.delayNextStep(e)}invokeQuery(e,t,r,i,s,o){let a=[];if(i&&a.push(this.element),e.length>0){e=(e=e.replace(dMe,"."+this._enterClassName)).replace(fMe,"."+this._leaveClassName);let c=this._driver.query(this.element,e,1!=r);0!==r&&(c=r<0?c.slice(c.length+r,c.length):c.slice(0,r)),a.push(...c)}return!s&&0==a.length&&o.push(function vAe(n){return new M(3014,!1)}()),a}}class Ab{constructor(e,t,r,i){this._driver=e,this.element=t,this.startTime=r,this._elementTimelineStylesLookup=i,this.duration=0,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(t),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(t,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(e){const t=1===this._keyframes.size&&this._pendingStyles.size;this.duration||t?(this.forwardTime(this.currentTime+e),t&&this.snapshotCurrentStyles()):this.startTime+=e}fork(e,t){return this.applyStylesToKeyframe(),new Ab(this._driver,e,t||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(e){this.applyStylesToKeyframe(),this.duration=e,this._loadKeyframe()}_updateStyle(e,t){this._localTimelineStyles.set(e,t),this._globalTimelineStyles.set(e,t),this._styleSummary.set(e,{time:this.currentTime,value:t})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(e){e&&this._previousKeyframe.set("easing",e);for(let[t,r]of this._globalTimelineStyles)this._backFill.set(t,r||Io),this._currentKeyframe.set(t,Io);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(e,t,r,i){t&&this._previousKeyframe.set("easing",t);const s=i&&i.params||{},o=function mMe(n,e){const t=new Map;let r;return n.forEach(i=>{if("*"===i){r=r||e.keys();for(let s of r)t.set(s,Io)}else Ca(i,t)}),t}(e,this._globalTimelineStyles);for(let[a,l]of o){const c=Gp(l,s,r);this._pendingStyles.set(a,c),this._localTimelineStyles.has(a)||this._backFill.set(a,this._globalTimelineStyles.get(a)??Io),this._updateStyle(a,c)}}applyStylesToKeyframe(){0!=this._pendingStyles.size&&(this._pendingStyles.forEach((e,t)=>{this._currentKeyframe.set(t,e)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((e,t)=>{this._currentKeyframe.has(t)||this._currentKeyframe.set(t,e)}))}snapshotCurrentStyles(){for(let[e,t]of this._localTimelineStyles)this._pendingStyles.set(e,t),this._updateStyle(e,t)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const e=[];for(let t in this._currentKeyframe)e.push(t);return e}mergeTimelineCollectedStyles(e){e._styleSummary.forEach((t,r)=>{const i=this._styleSummary.get(r);(!i||t.time>i.time)&&this._updateStyle(r,t.value)})}buildKeyframes(){this.applyStylesToKeyframe();const e=new Set,t=new Set,r=1===this._keyframes.size&&0===this.duration;let i=[];this._keyframes.forEach((a,l)=>{const c=Ca(a,new Map,this._backFill);c.forEach((u,d)=>{"!"===u?e.add(d):u===Io&&t.add(d)}),r||c.set("offset",l/this.duration),i.push(c)});const s=e.size?bb(e.values()):[],o=t.size?bb(t.values()):[];if(r){const a=i[0],l=new Map(a);a.set("offset",0),l.set("offset",1),i=[a,l]}return KR(this.element,i,s,o,this.duration,this.startTime,this.easing,!1)}}class gMe extends Ab{constructor(e,t,r,i,s,o,a=!1){super(e,t,o.delay),this.keyframes=r,this.preStyleProps=i,this.postStyleProps=s,this._stretchStartingKeyframe=a,this.timings={duration:o.duration,delay:o.delay,easing:o.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let e=this.keyframes,{delay:t,duration:r,easing:i}=this.timings;if(this._stretchStartingKeyframe&&t){const s=[],o=r+t,a=t/o,l=Ca(e[0]);l.set("offset",0),s.push(l);const c=Ca(e[0]);c.set("offset",yK(a)),s.push(c);const u=e.length-1;for(let d=1;d<=u;d++){let h=Ca(e[d]);const f=h.get("offset");h.set("offset",yK((t+f*r)/o)),s.push(h)}r=o,t=0,i="",e=s}return KR(this.element,e,this.preStyleProps,this.postStyleProps,r,t,i,!0)}}function yK(n,e=3){const t=Math.pow(10,e-1);return Math.round(n*t)/t}class XR{}const _Me=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]);class yMe extends XR{normalizePropertyName(e,t){return GR(e)}normalizeStyleValue(e,t,r,i){let s="";const o=r.toString().trim();if(_Me.has(t)&&0!==r&&"0"!==r)if("number"==typeof r)s="px";else{const a=r.match(/^[+-]?[\d\.]+([a-z]*)$/);a&&0==a[1].length&&i.push(function lAe(n,e){return new M(3005,!1)}())}return o+s}}function vK(n,e,t,r,i,s,o,a,l,c,u,d,h){return{type:0,element:n,triggerName:e,isRemovalTransition:i,fromState:t,fromStyles:s,toState:r,toStyles:o,timelines:a,queriedElements:l,preStyleProps:c,postStyleProps:u,totalTime:d,errors:h}}const ZR={};class bK{constructor(e,t,r){this._triggerName=e,this.ast=t,this._stateStyles=r}match(e,t,r,i){return function vMe(n,e,t,r,i){return n.some(s=>s(e,t,r,i))}(this.ast.matchers,e,t,r,i)}buildStyles(e,t,r){let i=this._stateStyles.get("*");return void 0!==e&&(i=this._stateStyles.get(e?.toString())||i),i?i.buildStyles(t,r):new Map}build(e,t,r,i,s,o,a,l,c,u){const d=[],h=this.ast.options&&this.ast.options.params||ZR,p=this.buildStyles(r,a&&a.params||ZR,d),g=l&&l.params||ZR,m=this.buildStyles(i,g,d),v=new Set,C=new Map,y=new Map,D="void"===i,O={params:bMe(g,h),delay:this.ast.options?.delay},B=u?[]:YR(e,t,this.ast.animation,s,o,p,m,O,c,d);let le=0;if(B.forEach(qt=>{le=Math.max(qt.duration+qt.delay,le)}),d.length)return vK(t,this._triggerName,r,i,D,p,m,[],[],C,y,le,d);B.forEach(qt=>{const br=qt.element,Nd=ei(C,br,new Set);qt.preStyleProps.forEach(qi=>Nd.add(qi));const ko=ei(y,br,new Set);qt.postStyleProps.forEach(qi=>ko.add(qi)),br!==t&&v.add(br)});const ot=bb(v.values());return vK(t,this._triggerName,r,i,D,p,m,B,ot,C,y,le)}}function bMe(n,e){const t=Hp(e);for(const r in n)n.hasOwnProperty(r)&&null!=n[r]&&(t[r]=n[r]);return t}class wMe{constructor(e,t,r){this.styles=e,this.defaultParams=t,this.normalizer=r}buildStyles(e,t){const r=new Map,i=Hp(this.defaultParams);return Object.keys(e).forEach(s=>{const o=e[s];null!==o&&(i[s]=o)}),this.styles.styles.forEach(s=>{"string"!=typeof s&&s.forEach((o,a)=>{o&&(o=Gp(o,i,t));const l=this.normalizer.normalizePropertyName(a,t);o=this.normalizer.normalizeStyleValue(a,l,o,t),r.set(l,o)})}),r}}class EMe{constructor(e,t,r){this.name=e,this.ast=t,this._normalizer=r,this.transitionFactories=[],this.states=new Map,t.states.forEach(i=>{this.states.set(i.name,new wMe(i.style,i.options&&i.options.params||{},r))}),wK(this.states,"true","1"),wK(this.states,"false","0"),t.transitions.forEach(i=>{this.transitionFactories.push(new bK(e,i,this.states))}),this.fallbackTransition=function IMe(n,e,t){return new bK(n,{type:1,animation:{type:2,steps:[],options:null},matchers:[(o,a)=>!0],options:null,queryCount:0,depCount:0},e)}(e,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(e,t,r,i){return this.transitionFactories.find(o=>o.match(e,t,r,i))||null}matchStyles(e,t,r){return this.fallbackTransition.buildStyles(e,t,r)}}function wK(n,e,t){n.has(e)?n.has(t)||n.set(t,n.get(e)):n.has(t)&&n.set(e,n.get(t))}const TMe=new Sb;class SMe{constructor(e,t,r){this.bodyNode=e,this._driver=t,this._normalizer=r,this._animations=new Map,this._playersById=new Map,this.players=[]}register(e,t){const r=[],s=WR(this._driver,t,r,[]);if(r.length)throw function SAe(n){return new M(3503,!1)}();this._animations.set(e,s)}_buildPlayer(e,t,r){const i=e.element,s=J8(0,this._normalizer,0,e.keyframes,t,r);return this._driver.animate(i,s,e.duration,e.delay,e.easing,[],!0)}create(e,t,r={}){const i=[],s=this._animations.get(e);let o;const a=new Map;if(s?(o=YR(this._driver,t,s,$R,mb,new Map,new Map,r,TMe,i),o.forEach(u=>{const d=ei(a,u.element,new Map);u.postStyleProps.forEach(h=>d.set(h,null))})):(i.push(function DAe(){return new M(3300,!1)}()),o=[]),i.length)throw function AAe(n){return new M(3504,!1)}();a.forEach((u,d)=>{u.forEach((h,f)=>{u.set(f,this._driver.computeStyle(d,f,Io))})});const c=wa(o.map(u=>{const d=a.get(u.element);return this._buildPlayer(u,new Map,d)}));return this._playersById.set(e,c),c.onDestroy(()=>this.destroy(e)),this.players.push(c),c}destroy(e){const t=this._getPlayer(e);t.destroy(),this._playersById.delete(e);const r=this.players.indexOf(t);r>=0&&this.players.splice(r,1)}_getPlayer(e){const t=this._playersById.get(e);if(!t)throw function MAe(n){return new M(3301,!1)}();return t}listen(e,t,r,i){const s=LR(t,"","","");return OR(this._getPlayer(e),r,s,i),()=>{}}command(e,t,r,i){if("register"==r)return void this.register(e,i[0]);if("create"==r)return void this.create(e,t,i[0]||{});const s=this._getPlayer(e);switch(r){case"play":s.play();break;case"pause":s.pause();break;case"reset":s.reset();break;case"restart":s.restart();break;case"finish":s.finish();break;case"init":s.init();break;case"setPosition":s.setPosition(parseFloat(i[0]));break;case"destroy":this.destroy(e)}}}const CK="ng-animate-queued",JR="ng-animate-disabled",kMe=[],EK={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},RMe={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},_i="__ng_removed";class e1{constructor(e,t=""){this.namespaceId=t;const r=e&&e.hasOwnProperty("value");if(this.value=function FMe(n){return n??null}(r?e.value:e),r){const s=Hp(e);delete s.value,this.options=s}else this.options={};this.options.params||(this.options.params={})}get params(){return this.options.params}absorbOptions(e){const t=e.params;if(t){const r=this.options.params;Object.keys(t).forEach(i=>{null==r[i]&&(r[i]=t[i])})}}}const Wp="void",t1=new e1(Wp);class NMe{constructor(e,t,r){this.id=e,this.hostElement=t,this._engine=r,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+e,yi(t,this._hostClassName)}listen(e,t,r,i){if(!this._triggers.has(t))throw function xAe(n,e){return new M(3302,!1)}();if(null==r||0==r.length)throw function kAe(n){return new M(3303,!1)}();if(!function LMe(n){return"start"==n||"done"==n}(r))throw function RAe(n,e){return new M(3400,!1)}();const s=ei(this._elementListeners,e,[]),o={name:t,phase:r,callback:i};s.push(o);const a=ei(this._engine.statesByElement,e,new Map);return a.has(t)||(yi(e,_b),yi(e,_b+"-"+t),a.set(t,t1)),()=>{this._engine.afterFlush(()=>{const l=s.indexOf(o);l>=0&&s.splice(l,1),this._triggers.has(t)||a.delete(t)})}}register(e,t){return!this._triggers.has(e)&&(this._triggers.set(e,t),!0)}_getTrigger(e){const t=this._triggers.get(e);if(!t)throw function NAe(n){return new M(3401,!1)}();return t}trigger(e,t,r,i=!0){const s=this._getTrigger(t),o=new n1(this.id,t,e);let a=this._engine.statesByElement.get(e);a||(yi(e,_b),yi(e,_b+"-"+t),this._engine.statesByElement.set(e,a=new Map));let l=a.get(t);const c=new e1(r,this.id);if(!(r&&r.hasOwnProperty("value"))&&l&&c.absorbOptions(l.options),a.set(t,c),l||(l=t1),c.value!==Wp&&l.value===c.value){if(!function UMe(n,e){const t=Object.keys(n),r=Object.keys(e);if(t.length!=r.length)return!1;for(let i=0;i<t.length;i++){const s=t[i];if(!e.hasOwnProperty(s)||n[s]!==e[s])return!1}return!0}(l.params,c.params)){const g=[],m=s.matchStyles(l.value,l.params,g),v=s.matchStyles(c.value,c.params,g);g.length?this._engine.reportError(g):this._engine.afterFlush(()=>{nc(e,m),Is(e,v)})}return}const h=ei(this._engine.playersByElement,e,[]);h.forEach(g=>{g.namespaceId==this.id&&g.triggerName==t&&g.queued&&g.destroy()});let f=s.matchTransition(l.value,c.value,e,c.params),p=!1;if(!f){if(!i)return;f=s.fallbackTransition,p=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:t,transition:f,fromState:l,toState:c,player:o,isFallbackTransition:p}),p||(yi(e,CK),o.onStart(()=>{_d(e,CK)})),o.onDone(()=>{let g=this.players.indexOf(o);g>=0&&this.players.splice(g,1);const m=this._engine.playersByElement.get(e);if(m){let v=m.indexOf(o);v>=0&&m.splice(v,1)}}),this.players.push(o),h.push(o),o}deregister(e){this._triggers.delete(e),this._engine.statesByElement.forEach(t=>t.delete(e)),this._elementListeners.forEach((t,r)=>{this._elementListeners.set(r,t.filter(i=>i.name!=e))})}clearElementCache(e){this._engine.statesByElement.delete(e),this._elementListeners.delete(e);const t=this._engine.playersByElement.get(e);t&&(t.forEach(r=>r.destroy()),this._engine.playersByElement.delete(e))}_signalRemovalForInnerTriggers(e,t){const r=this._engine.driver.query(e,yb,!0);r.forEach(i=>{if(i[_i])return;const s=this._engine.fetchNamespacesByElement(i);s.size?s.forEach(o=>o.triggerLeaveAnimation(i,t,!1,!0)):this.clearElementCache(i)}),this._engine.afterFlushAnimationsDone(()=>r.forEach(i=>this.clearElementCache(i)))}triggerLeaveAnimation(e,t,r,i){const s=this._engine.statesByElement.get(e),o=new Map;if(s){const a=[];if(s.forEach((l,c)=>{if(o.set(c,l.value),this._triggers.has(c)){const u=this.trigger(e,c,Wp,i);u&&a.push(u)}}),a.length)return this._engine.markElementAsRemoved(this.id,e,!0,t,o),r&&wa(a).onDone(()=>this._engine.processLeaveNode(e)),!0}return!1}prepareLeaveAnimationListeners(e){const t=this._elementListeners.get(e),r=this._engine.statesByElement.get(e);if(t&&r){const i=new Set;t.forEach(s=>{const o=s.name;if(i.has(o))return;i.add(o);const l=this._triggers.get(o).fallbackTransition,c=r.get(o)||t1,u=new e1(Wp),d=new n1(this.id,o,e);this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:o,transition:l,fromState:c,toState:u,player:d,isFallbackTransition:!0})})}}removeNode(e,t){const r=this._engine;if(e.childElementCount&&this._signalRemovalForInnerTriggers(e,t),this.triggerLeaveAnimation(e,t,!0))return;let i=!1;if(r.totalAnimations){const s=r.players.length?r.playersByQueriedElement.get(e):[];if(s&&s.length)i=!0;else{let o=e;for(;o=o.parentNode;)if(r.statesByElement.get(o)){i=!0;break}}}if(this.prepareLeaveAnimationListeners(e),i)r.markElementAsRemoved(this.id,e,!1,t);else{const s=e[_i];(!s||s===EK)&&(r.afterFlush(()=>this.clearElementCache(e)),r.destroyInnerAnimations(e),r._onRemovalComplete(e,t))}}insertNode(e,t){yi(e,this._hostClassName)}drainQueuedTransitions(e){const t=[];return this._queue.forEach(r=>{const i=r.player;if(i.destroyed)return;const s=r.element,o=this._elementListeners.get(s);o&&o.forEach(a=>{if(a.name==r.triggerName){const l=LR(s,r.triggerName,r.fromState.value,r.toState.value);l._data=e,OR(r.player,a.phase,l,a.callback)}}),i.markedForDestroy?this._engine.afterFlush(()=>{i.destroy()}):t.push(r)}),this._queue=[],t.sort((r,i)=>{const s=r.transition.ast.depCount,o=i.transition.ast.depCount;return 0==s||0==o?s-o:this._engine.driver.containsElement(r.element,i.element)?1:-1})}destroy(e){this.players.forEach(t=>t.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,e)}elementContainsData(e){let t=!1;return this._elementListeners.has(e)&&(t=!0),t=!!this._queue.find(r=>r.element===e)||t,t}}class PMe{constructor(e,t,r){this.bodyNode=e,this.driver=t,this._normalizer=r,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(i,s)=>{}}_onRemovalComplete(e,t){this.onRemovalComplete(e,t)}get queuedPlayers(){const e=[];return this._namespaceList.forEach(t=>{t.players.forEach(r=>{r.queued&&e.push(r)})}),e}createNamespace(e,t){const r=new NMe(e,t,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,t)?this._balanceNamespaceList(r,t):(this.newHostElements.set(t,r),this.collectEnterElement(t)),this._namespaceLookup[e]=r}_balanceNamespaceList(e,t){const r=this._namespaceList,i=this.namespacesByHostElement;if(r.length-1>=0){let o=!1,a=this.driver.getParentElement(t);for(;a;){const l=i.get(a);if(l){const c=r.indexOf(l);r.splice(c+1,0,e),o=!0;break}a=this.driver.getParentElement(a)}o||r.unshift(e)}else r.push(e);return i.set(t,e),e}register(e,t){let r=this._namespaceLookup[e];return r||(r=this.createNamespace(e,t)),r}registerTrigger(e,t,r){let i=this._namespaceLookup[e];i&&i.register(t,r)&&this.totalAnimations++}destroy(e,t){if(!e)return;const r=this._fetchNamespace(e);this.afterFlush(()=>{this.namespacesByHostElement.delete(r.hostElement),delete this._namespaceLookup[e];const i=this._namespaceList.indexOf(r);i>=0&&this._namespaceList.splice(i,1)}),this.afterFlushAnimationsDone(()=>r.destroy(t))}_fetchNamespace(e){return this._namespaceLookup[e]}fetchNamespacesByElement(e){const t=new Set,r=this.statesByElement.get(e);if(r)for(let i of r.values())if(i.namespaceId){const s=this._fetchNamespace(i.namespaceId);s&&t.add(s)}return t}trigger(e,t,r,i){if(Mb(t)){const s=this._fetchNamespace(e);if(s)return s.trigger(t,r,i),!0}return!1}insertNode(e,t,r,i){if(!Mb(t))return;const s=t[_i];if(s&&s.setForRemoval){s.setForRemoval=!1,s.setForMove=!0;const o=this.collectedLeaveElements.indexOf(t);o>=0&&this.collectedLeaveElements.splice(o,1)}if(e){const o=this._fetchNamespace(e);o&&o.insertNode(t,r)}i&&this.collectEnterElement(t)}collectEnterElement(e){this.collectedEnterElements.push(e)}markElementAsDisabled(e,t){t?this.disabledNodes.has(e)||(this.disabledNodes.add(e),yi(e,JR)):this.disabledNodes.has(e)&&(this.disabledNodes.delete(e),_d(e,JR))}removeNode(e,t,r,i){if(Mb(t)){const s=e?this._fetchNamespace(e):null;if(s?s.removeNode(t,i):this.markElementAsRemoved(e,t,!1,i),r){const o=this.namespacesByHostElement.get(t);o&&o.id!==e&&o.removeNode(t,i)}}else this._onRemovalComplete(t,i)}markElementAsRemoved(e,t,r,i,s){this.collectedLeaveElements.push(t),t[_i]={namespaceId:e,setForRemoval:i,hasAnimation:r,removedBeforeQueried:!1,previousTriggersValues:s}}listen(e,t,r,i,s){return Mb(t)?this._fetchNamespace(e).listen(t,r,i,s):()=>{}}_buildInstruction(e,t,r,i,s){return e.transition.build(this.driver,e.element,e.fromState.value,e.toState.value,r,i,e.fromState.options,e.toState.options,t,s)}destroyInnerAnimations(e){let t=this.driver.query(e,yb,!0);t.forEach(r=>this.destroyActiveAnimationsForElement(r)),0!=this.playersByQueriedElement.size&&(t=this.driver.query(e,jR,!0),t.forEach(r=>this.finishActiveQueriedAnimationOnElement(r)))}destroyActiveAnimationsForElement(e){const t=this.playersByElement.get(e);t&&t.forEach(r=>{r.queued?r.markedForDestroy=!0:r.destroy()})}finishActiveQueriedAnimationOnElement(e){const t=this.playersByQueriedElement.get(e);t&&t.forEach(r=>r.finish())}whenRenderingDone(){return new Promise(e=>{if(this.players.length)return wa(this.players).onDone(()=>e());e()})}processLeaveNode(e){const t=e[_i];if(t&&t.setForRemoval){if(e[_i]=EK,t.namespaceId){this.destroyInnerAnimations(e);const r=this._fetchNamespace(t.namespaceId);r&&r.clearElementCache(e)}this._onRemovalComplete(e,t.setForRemoval)}e.classList?.contains(JR)&&this.markElementAsDisabled(e,!1),this.driver.query(e,".ng-animate-disabled",!0).forEach(r=>{this.markElementAsDisabled(r,!1)})}flush(e=-1){let t=[];if(this.newHostElements.size&&(this.newHostElements.forEach((r,i)=>this._balanceNamespaceList(r,i)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let r=0;r<this.collectedEnterElements.length;r++)yi(this.collectedEnterElements[r],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const r=[];try{t=this._flushAnimations(r,e)}finally{for(let i=0;i<r.length;i++)r[i]()}}else for(let r=0;r<this.collectedLeaveElements.length;r++)this.processLeaveNode(this.collectedLeaveElements[r]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(r=>r()),this._flushFns=[],this._whenQuietFns.length){const r=this._whenQuietFns;this._whenQuietFns=[],t.length?wa(t).onDone(()=>{r.forEach(i=>i())}):r.forEach(i=>i())}}reportError(e){throw function PAe(n){return new M(3402,!1)}()}_flushAnimations(e,t){const r=new Sb,i=[],s=new Map,o=[],a=new Map,l=new Map,c=new Map,u=new Set;this.disabledNodes.forEach(W=>{u.add(W);const X=this.driver.query(W,".ng-animate-queued",!0);for(let oe=0;oe<X.length;oe++)u.add(X[oe])});const d=this.bodyNode,h=Array.from(this.statesByElement.keys()),f=SK(h,this.collectedEnterElements),p=new Map;let g=0;f.forEach((W,X)=>{const oe=$R+g++;p.set(X,oe),W.forEach($e=>yi($e,oe))});const m=[],v=new Set,C=new Set;for(let W=0;W<this.collectedLeaveElements.length;W++){const X=this.collectedLeaveElements[W],oe=X[_i];oe&&oe.setForRemoval&&(m.push(X),v.add(X),oe.hasAnimation?this.driver.query(X,".ng-star-inserted",!0).forEach($e=>v.add($e)):C.add(X))}const y=new Map,D=SK(h,Array.from(v));D.forEach((W,X)=>{const oe=mb+g++;y.set(X,oe),W.forEach($e=>yi($e,oe))}),e.push(()=>{f.forEach((W,X)=>{const oe=p.get(X);W.forEach($e=>_d($e,oe))}),D.forEach((W,X)=>{const oe=y.get(X);W.forEach($e=>_d($e,oe))}),m.forEach(W=>{this.processLeaveNode(W)})});const O=[],B=[];for(let W=this._namespaceList.length-1;W>=0;W--)this._namespaceList[W].drainQueuedTransitions(t).forEach(oe=>{const $e=oe.player,Dn=oe.element;if(O.push($e),this.collectedEnterElements.length){const nr=Dn[_i];if(nr&&nr.setForMove){if(nr.previousTriggersValues&&nr.previousTriggersValues.has(oe.triggerName)){const mc=nr.previousTriggersValues.get(oe.triggerName),wi=this.statesByElement.get(oe.element);if(wi&&wi.has(oe.triggerName)){const _w=wi.get(oe.triggerName);_w.value=mc,wi.set(oe.triggerName,_w)}}return void $e.destroy()}}const ks=!d||!this.driver.containsElement(d,Dn),si=y.get(Dn),Pa=p.get(Dn),kt=this._buildInstruction(oe,r,Pa,si,ks);if(kt.errors&&kt.errors.length)return void B.push(kt);if(ks)return $e.onStart(()=>nc(Dn,kt.fromStyles)),$e.onDestroy(()=>Is(Dn,kt.toStyles)),void i.push($e);if(oe.isFallbackTransition)return $e.onStart(()=>nc(Dn,kt.fromStyles)),$e.onDestroy(()=>Is(Dn,kt.toStyles)),void i.push($e);const EY=[];kt.timelines.forEach(nr=>{nr.stretchStartingKeyframe=!0,this.disabledNodes.has(nr.element)||EY.push(nr)}),kt.timelines=EY,r.append(Dn,kt.timelines),o.push({instruction:kt,player:$e,element:Dn}),kt.queriedElements.forEach(nr=>ei(a,nr,[]).push($e)),kt.preStyleProps.forEach((nr,mc)=>{if(nr.size){let wi=l.get(mc);wi||l.set(mc,wi=new Set),nr.forEach((_w,GN)=>wi.add(GN))}}),kt.postStyleProps.forEach((nr,mc)=>{let wi=c.get(mc);wi||c.set(mc,wi=new Set),nr.forEach((_w,GN)=>wi.add(GN))})});if(B.length){const W=[];B.forEach(X=>{W.push(function OAe(n,e){return new M(3505,!1)}())}),O.forEach(X=>X.destroy()),this.reportError(W)}const le=new Map,ot=new Map;o.forEach(W=>{const X=W.element;r.has(X)&&(ot.set(X,X),this._beforeAnimationBuild(W.player.namespaceId,W.instruction,le))}),i.forEach(W=>{const X=W.element;this._getPreviousPlayers(X,!1,W.namespaceId,W.triggerName,null).forEach($e=>{ei(le,X,[]).push($e),$e.destroy()})});const qt=m.filter(W=>AK(W,l,c)),br=new Map;TK(br,this.driver,C,c,Io).forEach(W=>{AK(W,l,c)&&qt.push(W)});const ko=new Map;f.forEach((W,X)=>{TK(ko,this.driver,new Set(W),l,"!")}),qt.forEach(W=>{const X=br.get(W),oe=ko.get(W);br.set(W,new Map([...Array.from(X?.entries()??[]),...Array.from(oe?.entries()??[])]))});const qi=[],Pd=[],Od={};o.forEach(W=>{const{element:X,player:oe,instruction:$e}=W;if(r.has(X)){if(u.has(X))return oe.onDestroy(()=>Is(X,$e.toStyles)),oe.disabled=!0,oe.overrideTotalTime($e.totalTime),void i.push(oe);let Dn=Od;if(ot.size>1){let si=X;const Pa=[];for(;si=si.parentNode;){const kt=ot.get(si);if(kt){Dn=kt;break}Pa.push(si)}Pa.forEach(kt=>ot.set(kt,Dn))}const ks=this._buildAnimation(oe.namespaceId,$e,le,s,ko,br);if(oe.setRealPlayer(ks),Dn===Od)qi.push(oe);else{const si=this.playersByElement.get(Dn);si&&si.length&&(oe.parentPlayer=wa(si)),i.push(oe)}}else nc(X,$e.fromStyles),oe.onDestroy(()=>Is(X,$e.toStyles)),Pd.push(oe),u.has(X)&&i.push(oe)}),Pd.forEach(W=>{const X=s.get(W.element);if(X&&X.length){const oe=wa(X);W.setRealPlayer(oe)}}),i.forEach(W=>{W.parentPlayer?W.syncPlayerEvents(W.parentPlayer):W.destroy()});for(let W=0;W<m.length;W++){const X=m[W],oe=X[_i];if(_d(X,mb),oe&&oe.hasAnimation)continue;let $e=[];if(a.size){let ks=a.get(X);ks&&ks.length&&$e.push(...ks);let si=this.driver.query(X,jR,!0);for(let Pa=0;Pa<si.length;Pa++){let kt=a.get(si[Pa]);kt&&kt.length&&$e.push(...kt)}}const Dn=$e.filter(ks=>!ks.destroyed);Dn.length?VMe(this,X,Dn):this.processLeaveNode(X)}return m.length=0,qi.forEach(W=>{this.players.push(W),W.onDone(()=>{W.destroy();const X=this.players.indexOf(W);this.players.splice(X,1)}),W.play()}),qi}elementContainsData(e,t){let r=!1;const i=t[_i];return i&&i.setForRemoval&&(r=!0),this.playersByElement.has(t)&&(r=!0),this.playersByQueriedElement.has(t)&&(r=!0),this.statesByElement.has(t)&&(r=!0),this._fetchNamespace(e).elementContainsData(t)||r}afterFlush(e){this._flushFns.push(e)}afterFlushAnimationsDone(e){this._whenQuietFns.push(e)}_getPreviousPlayers(e,t,r,i,s){let o=[];if(t){const a=this.playersByQueriedElement.get(e);a&&(o=a)}else{const a=this.playersByElement.get(e);if(a){const l=!s||s==Wp;a.forEach(c=>{c.queued||!l&&c.triggerName!=i||o.push(c)})}}return(r||i)&&(o=o.filter(a=>!(r&&r!=a.namespaceId||i&&i!=a.triggerName))),o}_beforeAnimationBuild(e,t,r){const s=t.element,o=t.isRemovalTransition?void 0:e,a=t.isRemovalTransition?void 0:t.triggerName;for(const l of t.timelines){const c=l.element,u=c!==s,d=ei(r,c,[]);this._getPreviousPlayers(c,u,o,a,t.toState).forEach(f=>{const p=f.getRealPlayer();p.beforeDestroy&&p.beforeDestroy(),f.destroy(),d.push(f)})}nc(s,t.fromStyles)}_buildAnimation(e,t,r,i,s,o){const a=t.triggerName,l=t.element,c=[],u=new Set,d=new Set,h=t.timelines.map(p=>{const g=p.element;u.add(g);const m=g[_i];if(m&&m.removedBeforeQueried)return new Op(p.duration,p.delay);const v=g!==l,C=function BMe(n){const e=[];return DK(n,e),e}((r.get(g)||kMe).map(le=>le.getRealPlayer())).filter(le=>!!le.element&&le.element===g),y=s.get(g),D=o.get(g),O=J8(0,this._normalizer,0,p.keyframes,y,D),B=this._buildPlayer(p,O,C);if(p.subTimeline&&i&&d.add(g),v){const le=new n1(e,a,g);le.setRealPlayer(B),c.push(le)}return B});c.forEach(p=>{ei(this.playersByQueriedElement,p.element,[]).push(p),p.onDone(()=>function OMe(n,e,t){let r=n.get(e);if(r){if(r.length){const i=r.indexOf(t);r.splice(i,1)}0==r.length&&n.delete(e)}return r}(this.playersByQueriedElement,p.element,p))}),u.forEach(p=>yi(p,lK));const f=wa(h);return f.onDestroy(()=>{u.forEach(p=>_d(p,lK)),Is(l,t.toStyles)}),d.forEach(p=>{ei(i,p,[]).push(f)}),f}_buildPlayer(e,t,r){return t.length>0?this.driver.animate(e.element,t,e.duration,e.delay,e.easing,r):new Op(e.duration,e.delay)}}class n1{constructor(e,t,r){this.namespaceId=e,this.triggerName=t,this.element=r,this._player=new Op,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(e){this._containsRealPlayer||(this._player=e,this._queuedCallbacks.forEach((t,r)=>{t.forEach(i=>OR(e,r,void 0,i))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(e.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(e){this.totalTime=e}syncPlayerEvents(e){const t=this._player;t.triggerCallback&&e.onStart(()=>t.triggerCallback("start")),e.onDone(()=>this.finish()),e.onDestroy(()=>this.destroy())}_queueEvent(e,t){ei(this._queuedCallbacks,e,[]).push(t)}onDone(e){this.queued&&this._queueEvent("done",e),this._player.onDone(e)}onStart(e){this.queued&&this._queueEvent("start",e),this._player.onStart(e)}onDestroy(e){this.queued&&this._queueEvent("destroy",e),this._player.onDestroy(e)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(e){this.queued||this._player.setPosition(e)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(e){const t=this._player;t.triggerCallback&&t.triggerCallback(e)}}function Mb(n){return n&&1===n.nodeType}function IK(n,e){const t=n.style.display;return n.style.display=e??"none",t}function TK(n,e,t,r,i){const s=[];t.forEach(l=>s.push(IK(l)));const o=[];r.forEach((l,c)=>{const u=new Map;l.forEach(d=>{const h=e.computeStyle(c,d,i);u.set(d,h),(!h||0==h.length)&&(c[_i]=RMe,o.push(c))}),n.set(c,u)});let a=0;return t.forEach(l=>IK(l,s[a++])),o}function SK(n,e){const t=new Map;if(n.forEach(a=>t.set(a,[])),0==e.length)return t;const i=new Set(e),s=new Map;function o(a){if(!a)return 1;let l=s.get(a);if(l)return l;const c=a.parentNode;return l=t.has(c)?c:i.has(c)?1:o(c),s.set(a,l),l}return e.forEach(a=>{const l=o(a);1!==l&&t.get(l).push(a)}),t}function yi(n,e){n.classList?.add(e)}function _d(n,e){n.classList?.remove(e)}function VMe(n,e,t){wa(t).onDone(()=>n.processLeaveNode(e))}function DK(n,e){for(let t=0;t<n.length;t++){const r=n[t];r instanceof O5?DK(r.players,e):e.push(r)}}function AK(n,e,t){const r=t.get(n);if(!r)return!1;let i=e.get(n);return i?r.forEach(s=>i.add(s)):e.set(n,r),t.delete(n),!0}class xb{constructor(e,t,r){this.bodyNode=e,this._driver=t,this._normalizer=r,this._triggerCache={},this.onRemovalComplete=(i,s)=>{},this._transitionEngine=new PMe(e,t,r),this._timelineEngine=new SMe(e,t,r),this._transitionEngine.onRemovalComplete=(i,s)=>this.onRemovalComplete(i,s)}registerTrigger(e,t,r,i,s){const o=e+"-"+i;let a=this._triggerCache[o];if(!a){const l=[],u=WR(this._driver,s,l,[]);if(l.length)throw function IAe(n,e){return new M(3404,!1)}();a=function CMe(n,e,t){return new EMe(n,e,t)}(i,u,this._normalizer),this._triggerCache[o]=a}this._transitionEngine.registerTrigger(t,i,a)}register(e,t){this._transitionEngine.register(e,t)}destroy(e,t){this._transitionEngine.destroy(e,t)}onInsert(e,t,r,i){this._transitionEngine.insertNode(e,t,r,i)}onRemove(e,t,r,i){this._transitionEngine.removeNode(e,t,i||!1,r)}disableAnimations(e,t){this._transitionEngine.markElementAsDisabled(e,t)}process(e,t,r,i){if("@"==r.charAt(0)){const[s,o]=eK(r);this._timelineEngine.command(s,t,o,i)}else this._transitionEngine.trigger(e,t,r,i)}listen(e,t,r,i,s){if("@"==r.charAt(0)){const[o,a]=eK(r);return this._timelineEngine.listen(o,t,a,s)}return this._transitionEngine.listen(e,t,r,i,s)}flush(e=-1){this._transitionEngine.flush(e)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}let jMe=(()=>{class n{constructor(t,r,i){this._element=t,this._startStyles=r,this._endStyles=i,this._state=0;let s=n.initialStylesByElement.get(t);s||n.initialStylesByElement.set(t,s=new Map),this._initialStyles=s}start(){this._state<1&&(this._startStyles&&Is(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(Is(this._element,this._initialStyles),this._endStyles&&(Is(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(n.initialStylesByElement.delete(this._element),this._startStyles&&(nc(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(nc(this._element,this._endStyles),this._endStyles=null),Is(this._element,this._initialStyles),this._state=3)}}return n.initialStylesByElement=new WeakMap,n})();function r1(n){let e=null;return n.forEach((t,r)=>{(function HMe(n){return"display"===n||"position"===n})(r)&&(e=e||new Map,e.set(r,t))}),e}class MK{constructor(e,t,r,i){this.element=e,this.keyframes=t,this.options=r,this._specialStyles=i,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=r.duration,this._delay=r.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const e=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,e,this.options),this._finalKeyframe=e.length?e[e.length-1]:new Map,this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(e){const t=[];return e.forEach(r=>{t.push(Object.fromEntries(r))}),t}_triggerWebAnimation(e,t,r){return e.animate(this._convertKeyframesToObject(t),r)}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(e=>e()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}setPosition(e){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=e*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const e=new Map;this.hasStarted()&&this._finalKeyframe.forEach((r,i)=>{"offset"!==i&&e.set(i,this._finished?r:pK(this.element,i))}),this.currentSnapshot=e}triggerCallback(e){const t="start"===e?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}}class zMe{validateStyleProperty(e){return!0}validateAnimatableStyleProperty(e){return!0}matchesElement(e,t){return!1}containsElement(e,t){return iK(e,t)}getParentElement(e){return BR(e)}query(e,t,r){return sK(e,t,r)}computeStyle(e,t,r){return window.getComputedStyle(e)[t]}animate(e,t,r,i,s,o=[]){const l={duration:r,delay:i,fill:0==i?"both":"forwards"};s&&(l.easing=s);const c=new Map,u=o.filter(f=>f instanceof MK);(function KAe(n,e){return 0===n||0===e})(r,i)&&u.forEach(f=>{f.currentSnapshot.forEach((p,g)=>c.set(g,p))});let d=function zAe(n){return n.length?n[0]instanceof Map?n:n.map(e=>cK(e)):[]}(t).map(f=>Ca(f));d=function YAe(n,e,t){if(t.size&&e.length){let r=e[0],i=[];if(t.forEach((s,o)=>{r.has(o)||i.push(o),r.set(o,s)}),i.length)for(let s=1;s<e.length;s++){let o=e[s];i.forEach(a=>o.set(a,pK(n,a)))}}return e}(e,d,c);const h=function $Me(n,e){let t=null,r=null;return Array.isArray(e)&&e.length?(t=r1(e[0]),e.length>1&&(r=r1(e[e.length-1]))):e instanceof Map&&(t=r1(e)),t||r?new jMe(n,t,r):null}(e,d);return new MK(e,d,l,h)}}let GMe=(()=>{class n extends R5{constructor(t,r){super(),this._nextAnimationId=0,this._renderer=t.createRenderer(r.body,{id:"0",encapsulation:Ei.None,styles:[],data:{animation:[]}})}build(t){const r=this._nextAnimationId.toString();this._nextAnimationId++;const i=Array.isArray(t)?N5(t):t;return xK(this._renderer,null,r,"register",[i]),new WMe(r,this._renderer)}}return n.\u0275fac=function(t){return new(t||n)(w(lh),w(Ee))},n.\u0275prov=F({token:n,factory:n.\u0275fac}),n})();class WMe extends class $0e{}{constructor(e,t){super(),this._id=e,this._renderer=t}create(e,t){return new qMe(this._id,e,t||{},this._renderer)}}class qMe{constructor(e,t,r,i){this.id=e,this.element=t,this._renderer=i,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",r)}_listen(e,t){return this._renderer.listen(this.element,`@@${this.id}:${e}`,t)}_command(e,...t){return xK(this._renderer,this.element,this.id,e,t)}onDone(e){this._listen("done",e)}onStart(e){this._listen("start",e)}onDestroy(e){this._listen("destroy",e)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(e){this._command("setPosition",e)}getPosition(){return this._renderer.engine.players[+this.id]?.getPosition()??0}}function xK(n,e,t,r,i){return n.setProperty(e,`@@${t}:${r}`,i)}const kK="@.disabled";let KMe=(()=>{class n{constructor(t,r,i){this.delegate=t,this.engine=r,this._zone=i,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),r.onRemovalComplete=(s,o)=>{const a=o?.parentNode(s);a&&o.removeChild(a,s)}}createRenderer(t,r){const s=this.delegate.createRenderer(t,r);if(!(t&&r&&r.data&&r.data.animation)){let u=this._rendererCache.get(s);return u||(u=new RK("",s,this.engine,()=>this._rendererCache.delete(s)),this._rendererCache.set(s,u)),u}const o=r.id,a=r.id+"-"+this._currentId;this._currentId++,this.engine.register(a,t);const l=u=>{Array.isArray(u)?u.forEach(l):this.engine.registerTrigger(o,a,t,u.name,u)};return r.data.animation.forEach(l),new YMe(this,a,s,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(t,r,i){t>=0&&t<this._microtaskId?this._zone.run(()=>r(i)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(s=>{const[o,a]=s;o(a)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([r,i]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return n.\u0275fac=function(t){return new(t||n)(w(lh),w(xb),w(ie))},n.\u0275prov=F({token:n,factory:n.\u0275fac}),n})();class RK{constructor(e,t,r,i){this.namespaceId=e,this.delegate=t,this.engine=r,this._onDestroy=i,this.destroyNode=this.delegate.destroyNode?s=>t.destroyNode(s):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy(),this._onDestroy?.()}createElement(e,t){return this.delegate.createElement(e,t)}createComment(e){return this.delegate.createComment(e)}createText(e){return this.delegate.createText(e)}appendChild(e,t){this.delegate.appendChild(e,t),this.engine.onInsert(this.namespaceId,t,e,!1)}insertBefore(e,t,r,i=!0){this.delegate.insertBefore(e,t,r),this.engine.onInsert(this.namespaceId,t,e,i)}removeChild(e,t,r){this.engine.onRemove(this.namespaceId,t,this.delegate,r)}selectRootElement(e,t){return this.delegate.selectRootElement(e,t)}parentNode(e){return this.delegate.parentNode(e)}nextSibling(e){return this.delegate.nextSibling(e)}setAttribute(e,t,r,i){this.delegate.setAttribute(e,t,r,i)}removeAttribute(e,t,r){this.delegate.removeAttribute(e,t,r)}addClass(e,t){this.delegate.addClass(e,t)}removeClass(e,t){this.delegate.removeClass(e,t)}setStyle(e,t,r,i){this.delegate.setStyle(e,t,r,i)}removeStyle(e,t,r){this.delegate.removeStyle(e,t,r)}setProperty(e,t,r){"@"==t.charAt(0)&&t==kK?this.disableAnimations(e,!!r):this.delegate.setProperty(e,t,r)}setValue(e,t){this.delegate.setValue(e,t)}listen(e,t,r){return this.delegate.listen(e,t,r)}disableAnimations(e,t){this.engine.disableAnimations(e,t)}}class YMe extends RK{constructor(e,t,r,i,s){super(t,r,i,s),this.factory=e,this.namespaceId=t}setProperty(e,t,r){"@"==t.charAt(0)?"."==t.charAt(1)&&t==kK?this.disableAnimations(e,r=void 0===r||!!r):this.engine.process(this.namespaceId,e,t.slice(1),r):this.delegate.setProperty(e,t,r)}listen(e,t,r){if("@"==t.charAt(0)){const i=function QMe(n){switch(n){case"body":return document.body;case"document":return document;case"window":return window;default:return n}}(e);let s=t.slice(1),o="";return"@"!=s.charAt(0)&&([s,o]=function XMe(n){const e=n.indexOf(".");return[n.substring(0,e),n.slice(e+1)]}(s)),this.engine.listen(this.namespaceId,i,s,o,a=>{this.factory.scheduleListenerCallback(a._data||-1,r,a)})}return this.delegate.listen(e,t,r)}}let ZMe=(()=>{class n extends xb{constructor(t,r,i,s){super(t.body,r,i)}ngOnDestroy(){this.flush()}}return n.\u0275fac=function(t){return new(t||n)(w(Ee),w(UR),w(XR),w(el))},n.\u0275prov=F({token:n,factory:n.\u0275fac}),n})();const NK=[{provide:R5,useClass:GMe},{provide:XR,useFactory:function JMe(){return new yMe}},{provide:xb,useClass:ZMe},{provide:lh,useFactory:function exe(n,e,t){return new KMe(n,e,t)},deps:[r_,xb,ie]}],s1=[{provide:UR,useFactory:()=>new zMe},{provide:au,useValue:"BrowserAnimations"},...NK],PK=[{provide:UR,useClass:oK},{provide:au,useValue:"NoopAnimations"},...NK];let txe=(()=>{class n{static withConfig(t){return{ngModule:n,providers:t.disableAnimations?PK:s1}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=ue({type:n}),n.\u0275inj=ce({providers:s1,imports:[K2]}),n})(),nxe=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=ue({type:n}),n.\u0275inj=ce({imports:[[Wt],Wt]}),n})(),sxe=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=ue({type:n}),n.\u0275inj=ce({imports:[[lq,Wt],lq,Wt]}),n})();const FK_firebase={projectId:"pharm-delivery-5d5cd",appId:"1:779134555117:web:2f0da6f9bc36f994184de4",storageBucket:"pharm-delivery-5d5cd.appspot.com",apiKey:"AIzaSyC_9fjpf2pusEobvVHlJYI4AimD01C9g4o",authDomain:"pharm-delivery-5d5cd.firebaseapp.com",messagingSenderId:"779134555117"};class qp{constructor(e){return e}}const LK="analytics",VK=ty.async,cxe=Dt(khe,!0),uxe=Dt(Uj,!0),dxe=Dt(Phe,!0);let o1=(()=>{class n{constructor(t,r,i){let s;this.disposables=[],Te("angularfire",qr.full,"user-tracking"),this.initialized=r.runOutsideAngular(()=>new Promise(o=>{s=o})),VK().then(()=>{const o=i.get(qp);o?this.disposables=[y4(t).subscribe(a=>{dxe(o,a?.uid),s()})]:s()})}ngOnDestroy(){this.disposables.forEach(t=>t.unsubscribe())}}return n.\u0275fac=function(t){return new(t||n)(w(Au),w(ie),w(Xe))},n.\u0275prov=F({token:n,factory:n.\u0275fac}),n})();const BK="firebase_screen_id",a1="outlet",Kp="screen_class",UK="screen_name";let Exe=Math.floor(Math.random()*(Math.pow(2,32)-1))-Math.pow(2,31);const l1={},Ixe=n=>{const e=[n[Kp],n[a1]].join("#");if(l1.hasOwnProperty(e))return l1[e];{const t=Exe++;return l1[e]=t,t}},Txe=(n,e,t)=>n.events.pipe(cn(i=>i instanceof SU)).pipe(xn(i=>{var s;const a=(null===(s=n.parseUrl(n.url.replace(/(?:\().+(?:\))/g,f=>f.replace("://",":///"))).root.children[i.snapshot.outlet])||void 0===s?void 0:s.toString())||"",l=n.routerState.root.children.map(f=>f).find(f=>f.outlet===i.snapshot.outlet);if(!l)return G(null);let c=l;for(;c.firstChild;)c=c.firstChild;const u=c.pathFromRoot.map(f=>{var p;return null===(p=f.routeConfig)||void 0===p?void 0:p.path}).filter(f=>f).join("/")||"/",d={[UK]:u,page_path:`/${a}`,firebase_event_origin:"auto",firebase_screen:u,[a1]:i.snapshot.outlet};e&&(d.page_title=e.getTitle());let h=l.component;if(h){if(h===__){let f=i.snapshot;for(;f.firstChild;)f=f.firstChild;h=f.component}}else h=i.snapshot.component;if("string"==typeof h)return G(Object.assign(Object.assign({},d),{[Kp]:h}));if(h){const f=t.resolveComponentFactory(h);return G(Object.assign(Object.assign({},d),{[Kp]:f.selector}))}return G(null)}),cn(i=>!!i),ee(i=>Object.assign({firebase_screen_class:i[Kp],[BK]:Ixe(i)},i)),function oxe(n,e,t,r){return gt((i,s)=>{let o;e&&"function"!=typeof e?({duration:t,element:o,connector:r}=e):o=e;const a=new Map,l=p=>{a.forEach(p),p(s)},c=p=>l(g=>g.error(p));let u=0,d=!1;const h=new tP(s,p=>{try{const g=n(p);let m=a.get(g);if(!m){a.set(g,m=r?r():new Fe);const v=function f(p,g){const m=new je(v=>{u++;const C=g.subscribe(v);return()=>{C.unsubscribe(),0==--u&&d&&h.unsubscribe()}});return m.key=p,m}(g,m);if(s.next(v),t){const C=tt(m,()=>{m.complete(),C?.unsubscribe()},void 0,void 0,()=>a.delete(g));h.add(An(t(v)).subscribe(C))}}m.next(o?o(p):p)}catch(g){c(g)}},()=>l(p=>p.complete()),c,()=>a.clear(),()=>(d=!0,0===u));i.subscribe(h)})}(i=>i[a1]),Kt(i=>i.pipe(HW((s,o)=>JSON.stringify(s)===JSON.stringify(o)),qo(void 0),function axe(){return gt((n,e)=>{let t,r=!1;n.subscribe(tt(e,i=>{const s=t;t=i,r&&e.next([s,i]),r=!0}))})}(),ee(([s,o])=>s?Object.assign({firebase_previous_class:s[Kp],firebase_previous_screen:s[UK],firebase_previous_id:s[BK]},o):o))));let $K=(()=>{class n{constructor(t,r,i,s,o,a){Te("angularfire",qr.full,"screen-tracking"),VK().then(()=>{const l=a.get(qp);!t||!l||s.runOutsideAngular(()=>{this.disposable=Txe(t,r,i).pipe(xn(c=>iP(this,void 0,void 0,function*(){return o&&(yield o.initialized),uxe(l,"screen_view",c)}))).subscribe()})})}ngOnDestroy(){this.disposable&&this.disposable.unsubscribe()}}return n.\u0275fac=function(t){return new(t||n)(w(Ft,8),w(x0,8),w(Vo),w(ie),w(o1,8),w(Xe))},n.\u0275prov=F({token:n,factory:n.\u0275fac}),n})();const c1=new P("angularfire2.analytics-instances");function Dxe(n){return(e,t)=>{if(!ty.sync())return null;const r=e.runOutsideAngular(()=>n(t));return new qp(r)}}const Axe={provide:class lxe{constructor(){return cs(LK)}},deps:[[new Ce,c1]]},Mxe={provide:qp,useFactory:function Sxe(n,e){if(!ty.sync())return null;const t=ls(LK,n,e);return t&&new qp(t)},deps:[[new Ce,c1],Kr]};let xxe=(()=>{class n{constructor(t,r){Te("angularfire",qr.full,"analytics")}}return n.\u0275fac=function(t){return new(t||n)(w($K,8),w(o1,8))},n.\u0275mod=ue({type:n}),n.\u0275inj=ce({providers:[Mxe,Axe,{provide:Ja,useValue:ty.async,multi:!0}]}),n})();function kxe(n,...e){return{ngModule:xxe,providers:[{provide:c1,useFactory:Dxe(n),multi:!0,deps:[ie,Xe,us,ds,...e]}]}}const jK="@firebase/database",HK="0.13.10";let u1="";class Nxe{constructor(e){this.domStorage_=e,this.prefix_="firebase:"}set(e,t){null==t?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),Rn(t))}get(e){const t=this.domStorage_.getItem(this.prefixedName_(e));return null==t?null:Kh(t)}remove(e){this.domStorage_.removeItem(this.prefixedName_(e))}prefixedName_(e){return this.prefix_+e}toString(){return this.domStorage_.toString()}}class Pxe{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(e,t){null==t?delete this.cache_[e]:this.cache_[e]=t}get(e){return ro(this.cache_,e)?this.cache_[e]:null}remove(e){delete this.cache_[e]}}const zK=function(n){try{if(typeof window<"u"&&typeof window[n]<"u"){const e=window[n];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new Nxe(e)}}catch{}return new Pxe},sc=zK("localStorage"),d1=zK("sessionStorage"),yd=new Zo("@firebase/database"),GK=function(){let n=1;return function(){return n++}}(),WK=function(n){const e=function(n){const e=[];let t=0;for(let r=0;r<n.length;r++){let i=n.charCodeAt(r);if(i>=55296&&i<=56319){const s=i-55296;r++,$(r<n.length,"Surrogate pair missing trail surrogate."),i=65536+(s<<10)+(n.charCodeAt(r)-56320)}i<128?e[t++]=i:i<2048?(e[t++]=i>>6|192,e[t++]=63&i|128):i<65536?(e[t++]=i>>12|224,e[t++]=i>>6&63|128,e[t++]=63&i|128):(e[t++]=i>>18|240,e[t++]=i>>12&63|128,e[t++]=i>>6&63|128,e[t++]=63&i|128)}return e}(n),t=new jle;t.update(e);const r=t.digest();return N_.encodeByteArray(r)},Yp=function(...n){let e="";for(let t=0;t<n.length;t++){const r=n[t];Array.isArray(r)||r&&"object"==typeof r&&"number"==typeof r.length?e+=Yp.apply(null,r):e+="object"==typeof r?Rn(r):r,e+=" "}return e};let oc=null,qK=!0;const In=function(...n){if(!0===qK&&(qK=!1,null===oc&&!0===d1.get("logging_enabled")&&function(n,e){$(!e||!0===n||!1===n,"Can't turn on custom loggers persistently."),!0===n?(yd.logLevel=Ne.VERBOSE,oc=yd.log.bind(yd),e&&d1.set("logging_enabled",!0)):"function"==typeof n?oc=n:(oc=null,d1.remove("logging_enabled"))}(!0)),oc){const e=Yp.apply(null,n);oc(e)}},Qp=function(n){return function(...e){In(n,...e)}},h1=function(...n){const e="FIREBASE INTERNAL ERROR: "+Yp(...n);yd.error(e)},Ts=function(...n){const e=`FIREBASE FATAL ERROR: ${Yp(...n)}`;throw yd.error(e),new Error(e)},tr=function(...n){const e="FIREBASE WARNING: "+Yp(...n);yd.warn(e)},Rb=function(n){return"number"==typeof n&&(n!=n||n===Number.POSITIVE_INFINITY||n===Number.NEGATIVE_INFINITY)},Mo="[MIN_NAME]",Ss="[MAX_NAME]",ac=function(n,e){if(n===e)return 0;if(n===Mo||e===Ss)return-1;if(e===Mo||n===Ss)return 1;{const t=Nb(n),r=Nb(e);return null!==t?null!==r?t-r==0?n.length-e.length:t-r:-1:null!==r?1:n<e?-1:1}},Lxe=function(n,e){return n===e?0:n<e?-1:1},Xp=function(n,e){if(e&&n in e)return e[n];throw new Error("Missing required key ("+n+") in object: "+Rn(e))},f1=function(n){if("object"!=typeof n||null===n)return Rn(n);const e=[];for(const r in n)e.push(r);e.sort();let t="{";for(let r=0;r<e.length;r++)0!==r&&(t+=","),t+=Rn(e[r]),t+=":",t+=f1(n[e[r]]);return t+="}",t},YK=function(n,e){const t=n.length;if(t<=e)return[n];const r=[];for(let i=0;i<t;i+=e)r.push(n.substring(i,i+e>t?t:i+e));return r};function Tn(n,e){for(const t in n)n.hasOwnProperty(t)&&e(t,n[t])}const QK=function(n){$(!Rb(n),"Invalid JSON number");const r=1023;let i,s,o,a,l;0===n?(s=0,o=0,i=1/n==-1/0?1:0):(i=n<0,(n=Math.abs(n))>=Math.pow(2,1-r)?(a=Math.min(Math.floor(Math.log(n)/Math.LN2),r),s=a+r,o=Math.round(n*Math.pow(2,52-a)-Math.pow(2,52))):(s=0,o=Math.round(n/Math.pow(2,-1074))));const c=[];for(l=52;l;l-=1)c.push(o%2?1:0),o=Math.floor(o/2);for(l=11;l;l-=1)c.push(s%2?1:0),s=Math.floor(s/2);c.push(i?1:0),c.reverse();const u=c.join("");let d="";for(l=0;l<64;l+=8){let h=parseInt(u.substr(l,8),2).toString(16);1===h.length&&(h="0"+h),d+=h}return d.toLowerCase()},$xe=new RegExp("^-?(0*)\\d{1,10}$"),Nb=function(n){if($xe.test(n)){const e=Number(n);if(e>=-2147483648&&e<=2147483647)return e}return null},vd=function(n){try{n()}catch(e){setTimeout(()=>{throw tr("Exception was thrown by user callback.",e.stack||""),e},Math.floor(0))}},Zp=function(n,e){const t=setTimeout(n,e);return"number"==typeof t&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(t):"object"==typeof t&&t.unref&&t.unref(),t};class Hxe{constructor(e,t){this.appName_=e,this.appCheckProvider=t,this.appCheck=t?.getImmediate({optional:!0}),this.appCheck||t?.get().then(r=>this.appCheck=r)}getToken(e){return this.appCheck?this.appCheck.getToken(e):new Promise((t,r)=>{setTimeout(()=>{this.appCheck?this.getToken(e).then(t,r):t(null)},0)})}addTokenChangeListener(e){var t;null===(t=this.appCheckProvider)||void 0===t||t.get().then(r=>r.addTokenListener(e))}notifyForInvalidToken(){tr(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}}class zxe{constructor(e,t,r){this.appName_=e,this.firebaseOptions_=t,this.authProvider_=r,this.auth_=null,this.auth_=r.getImmediate({optional:!0}),this.auth_||r.onInit(i=>this.auth_=i)}getToken(e){return this.auth_?this.auth_.getToken(e).catch(t=>t&&"auth/token-not-initialized"===t.code?(In("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(t)):new Promise((t,r)=>{setTimeout(()=>{this.auth_?this.getToken(e).then(t,r):t(null)},0)})}addTokenChangeListener(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then(t=>t.addAuthTokenListener(e))}removeTokenChangeListener(e){this.authProvider_.get().then(t=>t.removeAuthTokenListener(e))}notifyForInvalidToken(){let e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';e+="credential"in this.firebaseOptions_?'Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?'Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':'Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',tr(e)}}let Jp=(()=>{class n{constructor(t){this.accessToken=t}getToken(t){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(t){t(this.accessToken)}removeTokenChangeListener(t){}notifyForInvalidToken(){}}return n.OWNER="owner",n})();const n6=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,s6="websocket",o6="long_polling";class m1{constructor(e,t,r,i,s=!1,o="",a=!1){this.secure=t,this.namespace=r,this.webSocketOnly=i,this.nodeAdmin=s,this.persistenceKey=o,this.includeNamespaceInQueryParams=a,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=sc.get("host:"+e)||this._host}isCacheableHost(){return"s-"===this.internalHost.substr(0,2)}isCustomHost(){return"firebaseio.com"!==this._domain&&"firebaseio-demo.com"!==this._domain}get host(){return this._host}set host(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&sc.set("host:"+this._host,this.internalHost))}toString(){let e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}toURLString(){return`${this.secure?"https://":"http://"}${this.host}/${this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:""}`}}function a6(n,e,t){let r;if($("string"==typeof e,"typeof type must == string"),$("object"==typeof t,"typeof params must == object"),e===s6)r=(n.secure?"wss://":"ws://")+n.internalHost+"/.ws?";else{if(e!==o6)throw new Error("Unknown connection type: "+e);r=(n.secure?"https://":"http://")+n.internalHost+"/.lp?"}(function Gxe(n){return n.host!==n.internalHost||n.isCustomHost()||n.includeNamespaceInQueryParams})(n)&&(t.ns=n.namespace);const i=[];return Tn(t,(s,o)=>{i.push(s+"="+o)}),r+i.join("&")}class Wxe{constructor(){this.counters_={}}incrementCounter(e,t=1){ro(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=t}get(){return Mle(this.counters_)}}const _1={},y1={};function v1(n){const e=n.toString();return _1[e]||(_1[e]=new Wxe),_1[e]}class Kxe{constructor(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(e,t){this.closeAfterResponse=e,this.onClose=t,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(e,t){for(this.pendingResponses[e]=t;this.pendingResponses[this.currentResponseNum];){const r=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let i=0;i<r.length;++i)r[i]&&vd(()=>{this.onMessage_(r[i])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}class Ea{constructor(e,t,r,i,s,o,a){this.connId=e,this.repoInfo=t,this.applicationId=r,this.appCheckToken=i,this.authToken=s,this.transportSessionId=o,this.lastSessionId=a,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=Qp(e),this.stats_=v1(t),this.urlFn=l=>(this.appCheckToken&&(l.ac=this.appCheckToken),a6(t,o6,l))}open(e,t){this.curSegmentNum=0,this.onDisconnect_=t,this.myPacketOrderer=new Kxe(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(3e4)),function(n){if("complete"===document.readyState)n();else{let e=!1;const t=function(){document.body?e||(e=!0,n()):setTimeout(t,Math.floor(10))};document.addEventListener?(document.addEventListener("DOMContentLoaded",t,!1),window.addEventListener("load",t,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{"complete"===document.readyState&&t()}),window.attachEvent("onload",t))}}(()=>{if(this.isClosed_)return;this.scriptTagHolder=new b1((...s)=>{const[o,a,l,c,u]=s;if(this.incrementIncomingBytes_(s),this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,"start"===o)this.id=a,this.password=l;else{if("close"!==o)throw new Error("Unrecognized command received: "+o);a?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(a,()=>{this.onClosed_()})):this.onClosed_()}},(...s)=>{const[o,a]=s;this.incrementIncomingBytes_(s),this.myPacketOrderer.handleResponse(o,a)},()=>{this.onClosed_()},this.urlFn);const r={start:"t"};r.ser=Math.floor(1e8*Math.random()),this.scriptTagHolder.uniqueCallbackIdentifier&&(r.cb=this.scriptTagHolder.uniqueCallbackIdentifier),r.v="5",this.transportSessionId&&(r.s=this.transportSessionId),this.lastSessionId&&(r.ls=this.lastSessionId),this.applicationId&&(r.p=this.applicationId),this.appCheckToken&&(r.ac=this.appCheckToken),typeof location<"u"&&location.hostname&&n6.test(location.hostname)&&(r.r="f");const i=this.urlFn(r);this.log_("Connecting via long-poll to "+i),this.scriptTagHolder.addTag(i,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){Ea.forceAllow_=!0}static forceDisallow(){Ea.forceDisallow_=!0}static isAvailable(){return!(!Ea.forceAllow_&&(Ea.forceDisallow_||!(typeof document<"u")||null==document.createElement||"object"==typeof window&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href)||"object"==typeof Windows&&"object"==typeof Windows.UI))}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(e){const t=Rn(e);this.bytesSent+=t.length,this.stats_.incrementCounter("bytes_sent",t.length);const r=D$(t),i=YK(r,1840);for(let s=0;s<i.length;s++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,i.length,i[s]),this.curSegmentNum++}addDisconnectPingFrame(e,t){this.myDisconnFrame=document.createElement("iframe");const r={dframe:"t"};r.id=e,r.pw=t,this.myDisconnFrame.src=this.urlFn(r),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(e){const t=Rn(e).length;this.bytesReceived+=t,this.stats_.incrementCounter("bytes_received",t)}}class b1{constructor(e,t,r,i){this.onDisconnect=r,this.urlFn=i,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(1e8*Math.random()),this.sendNewPolls=!0;{this.uniqueCallbackIdentifier=GK(),window["pLPCommand"+this.uniqueCallbackIdentifier]=e,window["pRTLPCB"+this.uniqueCallbackIdentifier]=t,this.myIFrame=b1.createIFrame_();let s="";this.myIFrame.src&&"javascript:"===this.myIFrame.src.substr(0,11)&&(s='<script>document.domain="'+document.domain+'";<\/script>');const o="<html><body>"+s+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(o),this.myIFrame.doc.close()}catch(a){In("frame writing exception"),a.stack&&In(a.stack),In(a)}}}static createIFrame_(){const e=document.createElement("iframe");if(e.style.display="none",!document.body)throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";document.body.appendChild(e);try{e.contentWindow.document||In("No IE domain setting required")}catch{const r=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+r+"';document.close();})())"}return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.innerHTML="",setTimeout(()=>{null!==this.myIFrame&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const e=this.onDisconnect;e&&(this.onDisconnect=null,e())}startLongPoll(e,t){for(this.myID=e,this.myPW=t,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const e={};e.id=this.myID,e.pw=this.myPW,e.ser=this.currentSerial;let t=this.urlFn(e),r="",i=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+30+r.length<=1870;){const o=this.pendingSegs.shift();r=r+"&seg"+i+"="+o.seg+"&ts"+i+"="+o.ts+"&d"+i+"="+o.d,i++}return t+=r,this.addLongPollTag_(t,this.currentSerial),!0}return!1}enqueueSegment(e,t,r){this.pendingSegs.push({seg:e,ts:t,d:r}),this.alive&&this.newRequest_()}addLongPollTag_(e,t){this.outstandingRequests.add(t);const r=()=>{this.outstandingRequests.delete(t),this.newRequest_()},i=setTimeout(r,Math.floor(25e3));this.addTag(e,()=>{clearTimeout(i),r()})}addTag(e,t){setTimeout(()=>{try{if(!this.sendNewPolls)return;const r=this.myIFrame.doc.createElement("script");r.type="text/javascript",r.async=!0,r.src=e,r.onload=r.onreadystatechange=function(){const i=r.readyState;(!i||"loaded"===i||"complete"===i)&&(r.onload=r.onreadystatechange=null,r.parentNode&&r.parentNode.removeChild(r),t())},r.onerror=()=>{In("Long-poll script failed to load: "+e),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(r)}catch{}},Math.floor(1))}}let Ob=null;typeof MozWebSocket<"u"?Ob=MozWebSocket:typeof WebSocket<"u"&&(Ob=WebSocket);let bd=(()=>{class n{constructor(t,r,i,s,o,a,l){this.connId=t,this.applicationId=i,this.appCheckToken=s,this.authToken=o,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=Qp(this.connId),this.stats_=v1(r),this.connURL=n.connectionURL_(r,a,l,s,i),this.nodeAdmin=r.nodeAdmin}static connectionURL_(t,r,i,s,o){const a={v:"5"};return typeof location<"u"&&location.hostname&&n6.test(location.hostname)&&(a.r="f"),r&&(a.s=r),i&&(a.ls=i),s&&(a.ac=s),o&&(a.p=o),a6(t,s6,a)}open(t,r){this.onDisconnect=r,this.onMessage=t,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,sc.set("previous_websocket_failure",!0);try{let i;0,this.mySock=new Ob(this.connURL,[],i)}catch(i){this.log_("Error instantiating WebSocket.");const s=i.message||i.data;return s&&this.log_(s),void this.onClosed_()}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=i=>{this.handleIncomingFrame(i)},this.mySock.onerror=i=>{this.log_("WebSocket error.  Closing connection.");const s=i.message||i.data;s&&this.log_(s),this.onClosed_()}}start(){}static forceDisallow(){n.forceDisallow_=!0}static isAvailable(){let t=!1;if(typeof navigator<"u"&&navigator.userAgent){const i=navigator.userAgent.match(/Android ([0-9]{0,}\.[0-9]{0,})/);i&&i.length>1&&parseFloat(i[1])<4.4&&(t=!0)}return!t&&null!==Ob&&!n.forceDisallow_}static previouslyFailed(){return sc.isInMemoryStorage||!0===sc.get("previous_websocket_failure")}markConnectionHealthy(){sc.remove("previous_websocket_failure")}appendFrame_(t){if(this.frames.push(t),this.frames.length===this.totalFrames){const r=this.frames.join("");this.frames=null;const i=Kh(r);this.onMessage(i)}}handleNewFrameCount_(t){this.totalFrames=t,this.frames=[]}extractFrameCount_(t){if($(null===this.frames,"We already have a frame buffer"),t.length<=6){const r=Number(t);if(!isNaN(r))return this.handleNewFrameCount_(r),null}return this.handleNewFrameCount_(1),t}handleIncomingFrame(t){if(null===this.mySock)return;const r=t.data;if(this.bytesReceived+=r.length,this.stats_.incrementCounter("bytes_received",r.length),this.resetKeepAlive(),null!==this.frames)this.appendFrame_(r);else{const i=this.extractFrameCount_(r);null!==i&&this.appendFrame_(i)}}send(t){this.resetKeepAlive();const r=Rn(t);this.bytesSent+=r.length,this.stats_.incrementCounter("bytes_sent",r.length);const i=YK(r,16384);i.length>1&&this.sendString_(String(i.length));for(let s=0;s<i.length;s++)this.sendString_(i[s])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(45e3))}sendString_(t){try{this.mySock.send(t)}catch(r){this.log_("Exception thrown from WebSocket.send():",r.message||r.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}return n.responsesRequiredToBeHealthy=2,n.healthyTimeout=3e4,n})(),p6=(()=>{class n{constructor(t){this.initTransports_(t)}static get ALL_TRANSPORTS(){return[Ea,bd]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}initTransports_(t){const r=bd&&bd.isAvailable();let i=r&&!bd.previouslyFailed();if(t.webSocketOnly&&(r||tr("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),i=!0),i)this.transports_=[bd];else{const s=this.transports_=[];for(const o of n.ALL_TRANSPORTS)o&&o.isAvailable()&&s.push(o);n.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}return n.globalTransportInitialized_=!1,n})();class w6{constructor(e,t,r,i,s,o,a,l,c,u){this.id=e,this.repoInfo_=t,this.applicationId_=r,this.appCheckToken_=i,this.authToken_=s,this.onMessage_=o,this.onReady_=a,this.onDisconnect_=l,this.onKill_=c,this.lastSessionId=u,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=Qp("c:"+this.id+":"),this.transportManager_=new p6(t),this.log_("Connection created"),this.start_()}start_(){const e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const t=this.connReceiver_(this.conn_),r=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(t,r)},Math.floor(0));const i=e.healthyTimeout||0;i>0&&(this.healthyTimeout_=Zp(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>102400?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>10240?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(i)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(e){return t=>{e===this.conn_?this.onConnectionLost_(t):e===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(e){return t=>{2!==this.state_&&(e===this.rx_?this.onPrimaryMessageReceived_(t):e===this.secondaryConn_?this.onSecondaryMessageReceived_(t):this.log_("message on old connection"))}}sendRequest(e){this.sendData_({t:"d",d:e})}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(e){if("t"in e){const t=e.t;"a"===t?this.upgradeIfSecondaryHealthy_():"r"===t?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):"o"===t&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(e){const t=Xp("t",e),r=Xp("d",e);if("c"===t)this.onSecondaryControl_(r);else{if("d"!==t)throw new Error("Unknown protocol layer: "+t);this.pendingDataMessages.push(r)}}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:"p",d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:"a",d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:"n",d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(e){const t=Xp("t",e),r=Xp("d",e);"c"===t?this.onControl_(r):"d"===t&&this.onDataMessage_(r)}onDataMessage_(e){this.onPrimaryResponse_(),this.onMessage_(e)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(e){const t=Xp("t",e);if("d"in e){const r=e.d;if("h"===t)this.onHandshake_(r);else if("n"===t){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let i=0;i<this.pendingDataMessages.length;++i)this.onDataMessage_(this.pendingDataMessages[i]);this.pendingDataMessages=[],this.tryCleanupConnection()}else"s"===t?this.onConnectionShutdown_(r):"r"===t?this.onReset_(r):"e"===t?h1("Server Error: "+r):"o"===t?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):h1("Unknown control packet command: "+t)}}onHandshake_(e){const t=e.ts,r=e.v,i=e.h;this.sessionId=e.s,this.repoInfo_.host=i,0===this.state_&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,t),"5"!==r&&tr("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}startUpgrade_(e){this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const t=this.connReceiver_(this.secondaryConn_),r=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(t,r),Zp(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(6e4))}onReset_(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,1===this.state_?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(e,t){this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(t,this.sessionId),this.onReady_=null),0===this.primaryResponsesRequired_?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):Zp(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(5e3))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&1===this.state_&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:"p",d:{}}}))}onSecondaryConnectionLost_(){const e=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===e||this.rx_===e)&&this.close()}onConnectionLost_(e){this.conn_=null,e||0!==this.state_?1===this.state_&&this.log_("Realtime connection lost."):(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(sc.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)),this.close()}onConnectionShutdown_(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(e){if(1!==this.state_)throw"Connection is not connected";this.tx_.send(e)}close(){2!==this.state_&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}class C6{put(e,t,r,i){}merge(e,t,r,i){}refreshAuthToken(e){}refreshAppCheckToken(e){}onDisconnectPut(e,t,r){}onDisconnectMerge(e,t,r){}onDisconnectCancel(e,t){}reportStats(e){}}class E6{constructor(e){this.allowedEvents_=e,this.listeners_={},$(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}trigger(e,...t){if(Array.isArray(this.listeners_[e])){const r=[...this.listeners_[e]];for(let i=0;i<r.length;i++)r[i].callback.apply(r[i].context,t)}}on(e,t,r){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:t,context:r});const i=this.getInitialEvent(e);i&&t.apply(r,i)}off(e,t,r){this.validateEventType_(e);const i=this.listeners_[e]||[];for(let s=0;s<i.length;s++)if(i[s].callback===t&&(!r||r===i[s].context))return void i.splice(s,1)}validateEventType_(e){$(this.allowedEvents_.find(t=>t===e),"Unknown event: "+e)}}class Fb extends E6{constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!_I()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}static getInstance(){return new Fb}getInitialEvent(e){return $("online"===e,"Unknown event type: "+e),[this.online_]}currentlyOnline(){return this.online_}}class Ze{constructor(e,t){if(void 0===t){this.pieces_=e.split("/");let r=0;for(let i=0;i<this.pieces_.length;i++)this.pieces_[i].length>0&&(this.pieces_[r]=this.pieces_[i],r++);this.pieces_.length=r,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=t}toString(){let e="";for(let t=this.pieceNum_;t<this.pieces_.length;t++)""!==this.pieces_[t]&&(e+="/"+this.pieces_[t]);return e||"/"}}function ze(){return new Ze("")}function Se(n){return n.pieceNum_>=n.pieces_.length?null:n.pieces_[n.pieceNum_]}function Ia(n){return n.pieces_.length-n.pieceNum_}function st(n){let e=n.pieceNum_;return e<n.pieces_.length&&e++,new Ze(n.pieces_,e)}function C1(n){return n.pieceNum_<n.pieces_.length?n.pieces_[n.pieces_.length-1]:null}function eg(n,e=0){return n.pieces_.slice(n.pieceNum_+e)}function S6(n){if(n.pieceNum_>=n.pieces_.length)return null;const e=[];for(let t=n.pieceNum_;t<n.pieces_.length-1;t++)e.push(n.pieces_[t]);return new Ze(e,0)}function wt(n,e){const t=[];for(let r=n.pieceNum_;r<n.pieces_.length;r++)t.push(n.pieces_[r]);if(e instanceof Ze)for(let r=e.pieceNum_;r<e.pieces_.length;r++)t.push(e.pieces_[r]);else{const r=e.split("/");for(let i=0;i<r.length;i++)r[i].length>0&&t.push(r[i])}return new Ze(t,0)}function De(n){return n.pieceNum_>=n.pieces_.length}function vr(n,e){const t=Se(n),r=Se(e);if(null===t)return e;if(t===r)return vr(st(n),st(e));throw new Error("INTERNAL ERROR: innerPath ("+e+") is not within outerPath ("+n+")")}function E1(n,e){if(Ia(n)!==Ia(e))return!1;for(let t=n.pieceNum_,r=e.pieceNum_;t<=n.pieces_.length;t++,r++)if(n.pieces_[t]!==e.pieces_[r])return!1;return!0}function vi(n,e){let t=n.pieceNum_,r=e.pieceNum_;if(Ia(n)>Ia(e))return!1;for(;t<n.pieces_.length;){if(n.pieces_[t]!==e.pieces_[r])return!1;++t,++r}return!0}class _ke{constructor(e,t){this.errorPrefix_=t,this.parts_=eg(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(let r=0;r<this.parts_.length;r++)this.byteLength_+=$_(this.parts_[r]);D6(this)}}function D6(n){if(n.byteLength_>768)throw new Error(n.errorPrefix_+"has a key path longer than 768 bytes ("+n.byteLength_+").");if(n.parts_.length>32)throw new Error(n.errorPrefix_+"path specified exceeds the maximum depth that can be written (32) or object contains a cycle "+lc(n))}function lc(n){return 0===n.parts_.length?"":"in property '"+n.parts_.join(".")+"'"}class I1 extends E6{constructor(){let e,t;super(["visible"]),typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(t="visibilitychange",e="hidden"):typeof document.mozHidden<"u"?(t="mozvisibilitychange",e="mozHidden"):typeof document.msHidden<"u"?(t="msvisibilitychange",e="msHidden"):typeof document.webkitHidden<"u"&&(t="webkitvisibilitychange",e="webkitHidden")),this.visible_=!0,t&&document.addEventListener(t,()=>{const r=!document[e];r!==this.visible_&&(this.visible_=r,this.trigger("visible",r))},!1)}static getInstance(){return new I1}getInitialEvent(e){return $("visible"===e,"Unknown event type: "+e),[this.visible_]}}const tg=1e3;let Vb,cc=(()=>{class n extends C6{constructor(t,r,i,s,o,a,l,c){if(super(),this.repoInfo_=t,this.applicationId_=r,this.onDataUpdate_=i,this.onConnectStatus_=s,this.onServerInfoUpdate_=o,this.authTokenProvider_=a,this.appCheckTokenProvider_=l,this.authOverride_=c,this.id=n.nextPersistentConnectionId_++,this.log_=Qp("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=tg,this.maxReconnectDelay_=3e5,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,c)throw new Error("Auth override specified in options, but not supported on non Node.js platforms");I1.getInstance().on("visible",this.onVisible_,this),-1===t.host.indexOf("fblocal")&&Fb.getInstance().on("online",this.onOnline_,this)}sendRequest(t,r,i){const s=++this.requestNumber_,o={r:s,a:t,b:r};this.log_(Rn(o)),$(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(o),i&&(this.requestCBHash_[s]=i)}get(t){this.initConnection_();const r=new yu,i={p:t._path.toString(),q:t._queryObject};return this.outstandingGets_.push({action:"g",request:i,onComplete:a=>{const l=a.d;"ok"===a.s?r.resolve(l):r.reject(l)}}),this.outstandingGetCount_++,this.connected_&&this.sendGet_(this.outstandingGets_.length-1),r.promise}listen(t,r,i,s){this.initConnection_();const o=t._queryIdentifier,a=t._path.toString();this.log_("Listen called for "+a+" "+o),this.listens.has(a)||this.listens.set(a,new Map),$(t._queryParams.isDefault()||!t._queryParams.loadsAllData(),"listen() called for non-default but complete query"),$(!this.listens.get(a).has(o),"listen() called twice for same path/queryId.");const l={onComplete:s,hashFn:r,query:t,tag:i};this.listens.get(a).set(o,l),this.connected_&&this.sendListen_(l)}sendGet_(t){const r=this.outstandingGets_[t];this.sendRequest("g",r.request,i=>{delete this.outstandingGets_[t],this.outstandingGetCount_--,0===this.outstandingGetCount_&&(this.outstandingGets_=[]),r.onComplete&&r.onComplete(i)})}sendListen_(t){const r=t.query,i=r._path.toString(),s=r._queryIdentifier;this.log_("Listen on "+i+" for "+s);const o={p:i};t.tag&&(o.q=r._queryObject,o.t=t.tag),o.h=t.hashFn(),this.sendRequest("q",o,l=>{const c=l.d,u=l.s;n.warnOnListenWarnings_(c,r),(this.listens.get(i)&&this.listens.get(i).get(s))===t&&(this.log_("listen response",l),"ok"!==u&&this.removeListen_(i,s),t.onComplete&&t.onComplete(u,c))})}static warnOnListenWarnings_(t,r){if(t&&"object"==typeof t&&ro(t,"w")){const i=vu(t,"w");if(Array.isArray(i)&&~i.indexOf("no_index")){const s='".indexOn": "'+r._queryParams.getIndex().toString()+'"',o=r._path.toString();tr(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${s} at ${o} to your security rules for better performance.`)}}}refreshAuthToken(t){this.authToken_=t,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(t)}reduceReconnectDelayIfAdminCredential_(t){(t&&40===t.length||function(n){const e=V_(n).claims;return"object"==typeof e&&!0===e.admin}(t))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=3e4)}refreshAppCheckToken(t){this.appCheckToken_=t,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const t=this.authToken_,r=function(n){const t=V_(n).claims;return!!t&&"object"==typeof t&&t.hasOwnProperty("iat")}(t)?"auth":"gauth",i={cred:t};null===this.authOverride_?i.noauth=!0:"object"==typeof this.authOverride_&&(i.authvar=this.authOverride_),this.sendRequest(r,i,s=>{const o=s.s,a=s.d||"error";this.authToken_===t&&("ok"===o?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(o,a))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},t=>{const r=t.s,i=t.d||"error";"ok"===r?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(r,i)})}unlisten(t,r){const i=t._path.toString(),s=t._queryIdentifier;this.log_("Unlisten called for "+i+" "+s),$(t._queryParams.isDefault()||!t._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(i,s)&&this.connected_&&this.sendUnlisten_(i,s,t._queryObject,r)}sendUnlisten_(t,r,i,s){this.log_("Unlisten on "+t+" for "+r);const o={p:t};s&&(o.q=i,o.t=s),this.sendRequest("n",o)}onDisconnectPut(t,r,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",t,r,i):this.onDisconnectRequestQueue_.push({pathString:t,action:"o",data:r,onComplete:i})}onDisconnectMerge(t,r,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",t,r,i):this.onDisconnectRequestQueue_.push({pathString:t,action:"om",data:r,onComplete:i})}onDisconnectCancel(t,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",t,null,r):this.onDisconnectRequestQueue_.push({pathString:t,action:"oc",data:null,onComplete:r})}sendOnDisconnect_(t,r,i,s){const o={p:r,d:i};this.log_("onDisconnect "+t,o),this.sendRequest(t,o,a=>{s&&setTimeout(()=>{s(a.s,a.d)},Math.floor(0))})}put(t,r,i,s){this.putInternal("p",t,r,i,s)}merge(t,r,i,s){this.putInternal("m",t,r,i,s)}putInternal(t,r,i,s,o){this.initConnection_();const a={p:r,d:i};void 0!==o&&(a.h=o),this.outstandingPuts_.push({action:t,request:a,onComplete:s}),this.outstandingPutCount_++,this.connected_?this.sendPut_(this.outstandingPuts_.length-1):this.log_("Buffering put: "+r)}sendPut_(t){const r=this.outstandingPuts_[t].action,i=this.outstandingPuts_[t].request,s=this.outstandingPuts_[t].onComplete;this.outstandingPuts_[t].queued=this.connected_,this.sendRequest(r,i,o=>{this.log_(r+" response",o),delete this.outstandingPuts_[t],this.outstandingPutCount_--,0===this.outstandingPutCount_&&(this.outstandingPuts_=[]),s&&s(o.s,o.d)})}reportStats(t){if(this.connected_){const r={c:t};this.log_("reportStats",r),this.sendRequest("s",r,i=>{"ok"!==i.s&&this.log_("reportStats","Error sending stats: "+i.d)})}}onDataMessage_(t){if("r"in t){this.log_("from server: "+Rn(t));const r=t.r,i=this.requestCBHash_[r];i&&(delete this.requestCBHash_[r],i(t.b))}else{if("error"in t)throw"A server-side error has occurred: "+t.error;"a"in t&&this.onDataPush_(t.a,t.b)}}onDataPush_(t,r){this.log_("handleServerMessage",t,r),"d"===t?this.onDataUpdate_(r.p,r.d,!1,r.t):"m"===t?this.onDataUpdate_(r.p,r.d,!0,r.t):"c"===t?this.onListenRevoked_(r.p,r.q):"ac"===t?this.onAuthRevoked_(r.s,r.d):"apc"===t?this.onAppCheckRevoked_(r.s,r.d):"sd"===t?this.onSecurityDebugPacket_(r):h1("Unrecognized action received from server: "+Rn(t)+"\nAre you using the latest client?")}onReady_(t,r){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=(new Date).getTime(),this.handleTimestamp_(t),this.lastSessionId=r,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(t){$(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(t))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(t){t&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=tg,this.realtime_||this.scheduleConnect_(0)),this.visible_=t}onOnline_(t){t?(this.log_("Browser went online."),this.reconnectDelay_=tg,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&((new Date).getTime()-this.lastConnectionEstablishedTime_>3e4&&(this.reconnectDelay_=tg),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=(new Date).getTime());const t=(new Date).getTime()-this.lastConnectionAttemptTime_;let r=Math.max(0,this.reconnectDelay_-t);r=Math.random()*r,this.log_("Trying to reconnect in "+r+"ms"),this.scheduleConnect_(r),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,1.3*this.reconnectDelay_)}this.onConnectStatus_(!1)}establishConnection_(){var t=this;return _(function*(){if(t.shouldReconnect_()){t.log_("Making a connection attempt"),t.lastConnectionAttemptTime_=(new Date).getTime(),t.lastConnectionEstablishedTime_=null;const r=t.onDataMessage_.bind(t),i=t.onReady_.bind(t),s=t.onRealtimeDisconnect_.bind(t),o=t.id+":"+n.nextConnectionId_++,a=t.lastSessionId;let l=!1,c=null;const u=function(){c?c.close():(l=!0,s())};t.realtime_={close:u,sendRequest:function(f){$(c,"sendRequest call when we're not connected not allowed."),c.sendRequest(f)}};const h=t.forceTokenRefresh_;t.forceTokenRefresh_=!1;try{const[f,p]=yield Promise.all([t.authTokenProvider_.getToken(h),t.appCheckTokenProvider_.getToken(h)]);l?In("getToken() completed but was canceled"):(In("getToken() completed. Creating connection."),t.authToken_=f&&f.accessToken,t.appCheckToken_=p&&p.token,c=new w6(o,t.repoInfo_,t.applicationId_,t.appCheckToken_,t.authToken_,r,i,s,g=>{tr(g+" ("+t.repoInfo_.toString()+")"),t.interrupt("server_kill")},a))}catch(f){t.log_("Failed to get token: "+f),l||(t.repoInfo_.nodeAdmin&&tr(f),u())}}})()}interrupt(t){In("Interrupting connection for reason: "+t),this.interruptReasons_[t]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(t){In("Resuming connection for reason: "+t),delete this.interruptReasons_[t],wI(this.interruptReasons_)&&(this.reconnectDelay_=tg,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(t){const r=t-(new Date).getTime();this.onServerInfoUpdate_({serverTimeOffset:r})}cancelSentTransactions_(){for(let t=0;t<this.outstandingPuts_.length;t++){const r=this.outstandingPuts_[t];r&&"h"in r.request&&r.queued&&(r.onComplete&&r.onComplete("disconnect"),delete this.outstandingPuts_[t],this.outstandingPutCount_--)}0===this.outstandingPutCount_&&(this.outstandingPuts_=[])}onListenRevoked_(t,r){let i;i=r?r.map(o=>f1(o)).join("$"):"default";const s=this.removeListen_(t,i);s&&s.onComplete&&s.onComplete("permission_denied")}removeListen_(t,r){const i=new Ze(t).toString();let s;if(this.listens.has(i)){const o=this.listens.get(i);s=o.get(r),o.delete(r),0===o.size&&this.listens.delete(i)}else s=void 0;return s}onAuthRevoked_(t,r){In("Auth token revoked: "+t+"/"+r),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),("invalid_token"===t||"permission_denied"===t)&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=3&&(this.reconnectDelay_=3e4,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(t,r){In("App check token revoked: "+t+"/"+r),this.appCheckToken_=null,this.forceTokenRefresh_=!0,("invalid_token"===t||"permission_denied"===t)&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=3&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(t){this.securityDebugCallback_?this.securityDebugCallback_(t):"msg"in t&&console.log("FIREBASE: "+t.msg.replace("\n","\nFIREBASE: "))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const t of this.listens.values())for(const r of t.values())this.sendListen_(r);for(let t=0;t<this.outstandingPuts_.length;t++)this.outstandingPuts_[t]&&this.sendPut_(t);for(;this.onDisconnectRequestQueue_.length;){const t=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(t.action,t.pathString,t.data,t.onComplete)}for(let t=0;t<this.outstandingGets_.length;t++)this.outstandingGets_[t]&&this.sendGet_(t)}sendConnectStats_(){const t={};let r="js";t["sdk."+r+"."+u1.replace(/\./g,"-")]=1,_I()?t["framework.cordova"]=1:x$()&&(t["framework.reactnative"]=1),this.reportStats(t)}shouldReconnect_(){const t=Fb.getInstance().currentlyOnline();return wI(this.interruptReasons_)&&t}}return n.nextPersistentConnectionId_=0,n.nextConnectionId_=0,n})();class ke{constructor(e,t){this.name=e,this.node=t}static Wrap(e,t){return new ke(e,t)}}class Lb{getCompare(){return this.compare.bind(this)}indexedValueChanged(e,t){const r=new ke(Mo,e),i=new ke(Mo,t);return 0!==this.compare(r,i)}minPost(){return ke.MIN}}class x6 extends Lb{static get __EMPTY_NODE(){return Vb}static set __EMPTY_NODE(e){Vb=e}compare(e,t){return ac(e.name,t.name)}isDefinedOn(e){throw mu("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(e,t){return!1}minPost(){return ke.MIN}maxPost(){return new ke(Ss,Vb)}makePost(e,t){return $("string"==typeof e,"KeyIndex indexValue must always be a string."),new ke(e,Vb)}toString(){return".key"}}const Ds=new x6;class Bb{constructor(e,t,r,i,s=null){this.isReverse_=i,this.resultGenerator_=s,this.nodeStack_=[];let o=1;for(;!e.isEmpty();)if(o=t?r(e.key,t):1,i&&(o*=-1),o<0)e=this.isReverse_?e.left:e.right;else{if(0===o){this.nodeStack_.push(e);break}this.nodeStack_.push(e),e=this.isReverse_?e.right:e.left}}getNext(){if(0===this.nodeStack_.length)return null;let t,e=this.nodeStack_.pop();if(t=this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return t}hasNext(){return this.nodeStack_.length>0}peek(){if(0===this.nodeStack_.length)return null;const e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}}let S1,Hi=(()=>{class n{constructor(t,r,i,s,o){this.key=t,this.value=r,this.color=i??n.RED,this.left=s??Nr.EMPTY_NODE,this.right=o??Nr.EMPTY_NODE}copy(t,r,i,s,o){return new n(t??this.key,r??this.value,i??this.color,s??this.left,o??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||!!t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,r,i){let s=this;const o=i(t,s.key);return s=o<0?s.copy(null,null,null,s.left.insert(t,r,i),null):0===o?s.copy(null,r,null,null,null):s.copy(null,null,null,null,s.right.insert(t,r,i)),s.fixUp_()}removeMin_(){if(this.left.isEmpty())return Nr.EMPTY_NODE;let t=this;return!t.left.isRed_()&&!t.left.left.isRed_()&&(t=t.moveRedLeft_()),t=t.copy(null,null,null,t.left.removeMin_(),null),t.fixUp_()}remove(t,r){let i,s;if(i=this,r(t,i.key)<0)!i.left.isEmpty()&&!i.left.isRed_()&&!i.left.left.isRed_()&&(i=i.moveRedLeft_()),i=i.copy(null,null,null,i.left.remove(t,r),null);else{if(i.left.isRed_()&&(i=i.rotateRight_()),!i.right.isEmpty()&&!i.right.isRed_()&&!i.right.left.isRed_()&&(i=i.moveRedRight_()),0===r(t,i.key)){if(i.right.isEmpty())return Nr.EMPTY_NODE;s=i.right.min_(),i=i.copy(s.key,s.value,null,null,i.right.removeMin_())}i=i.copy(null,null,null,null,i.right.remove(t,r))}return i.fixUp_()}isRed_(){return this.color}fixUp_(){let t=this;return t.right.isRed_()&&!t.left.isRed_()&&(t=t.rotateLeft_()),t.left.isRed_()&&t.left.left.isRed_()&&(t=t.rotateRight_()),t.left.isRed_()&&t.right.isRed_()&&(t=t.colorFlip_()),t}moveRedLeft_(){let t=this.colorFlip_();return t.right.left.isRed_()&&(t=t.copy(null,null,null,null,t.right.rotateRight_()),t=t.rotateLeft_(),t=t.colorFlip_()),t}moveRedRight_(){let t=this.colorFlip_();return t.left.left.isRed_()&&(t=t.rotateRight_(),t=t.colorFlip_()),t}rotateLeft_(){const t=this.copy(null,null,n.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight_(){const t=this.copy(null,null,n.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip_(){const t=this.left.copy(null,null,!this.left.color,null,null),r=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,r)}checkMaxDepth_(){const t=this.check_();return Math.pow(2,t)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const t=this.left.check_();if(t!==this.right.check_())throw new Error("Black depths differ");return t+(this.isRed_()?0:1)}}return n.RED=!0,n.BLACK=!1,n})();class Nr{constructor(e,t=Nr.EMPTY_NODE){this.comparator_=e,this.root_=t}insert(e,t){return new Nr(this.comparator_,this.root_.insert(e,t,this.comparator_).copy(null,null,Hi.BLACK,null,null))}remove(e){return new Nr(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,Hi.BLACK,null,null))}get(e){let t,r=this.root_;for(;!r.isEmpty();){if(t=this.comparator_(e,r.key),0===t)return r.value;t<0?r=r.left:t>0&&(r=r.right)}return null}getPredecessorKey(e){let t,r=this.root_,i=null;for(;!r.isEmpty();){if(t=this.comparator_(e,r.key),0===t){if(r.left.isEmpty())return i?i.key:null;for(r=r.left;!r.right.isEmpty();)r=r.right;return r.key}t<0?r=r.left:t>0&&(i=r,r=r.right)}throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(e){return this.root_.inorderTraversal(e)}reverseTraversal(e){return this.root_.reverseTraversal(e)}getIterator(e){return new Bb(this.root_,null,this.comparator_,!1,e)}getIteratorFrom(e,t){return new Bb(this.root_,e,this.comparator_,!1,t)}getReverseIteratorFrom(e,t){return new Bb(this.root_,e,this.comparator_,!0,t)}getReverseIterator(e){return new Bb(this.root_,null,this.comparator_,!0,e)}}function Tke(n,e){return ac(n.name,e.name)}function T1(n,e){return ac(n,e)}Nr.EMPTY_NODE=new class Ike{copy(e,t,r,i,s){return this}insert(e,t,r){return new Hi(e,t,null)}remove(e,t){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}};const k6=function(n){return"number"==typeof n?"number:"+QK(n):"string:"+n},R6=function(n){if(n.isLeafNode()){const e=n.val();$("string"==typeof e||"number"==typeof e||"object"==typeof e&&ro(e,".sv"),"Priority must be a string or number.")}else $(n===S1||n.isEmpty(),"priority of unexpected type.");$(n===S1||n.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};let N6,P6,O6,wd=(()=>{class n{constructor(t,r=n.__childrenNodeConstructor.EMPTY_NODE){this.value_=t,this.priorityNode_=r,this.lazyHash_=null,$(null!=this.value_,"LeafNode shouldn't be created with null/undefined value."),R6(this.priorityNode_)}static set __childrenNodeConstructor(t){N6=t}static get __childrenNodeConstructor(){return N6}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(t){return new n(this.value_,t)}getImmediateChild(t){return".priority"===t?this.priorityNode_:n.__childrenNodeConstructor.EMPTY_NODE}getChild(t){return De(t)?this:".priority"===Se(t)?this.priorityNode_:n.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(t,r){return null}updateImmediateChild(t,r){return".priority"===t?this.updatePriority(r):r.isEmpty()&&".priority"!==t?this:n.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(t,r).updatePriority(this.priorityNode_)}updateChild(t,r){const i=Se(t);return null===i?r:r.isEmpty()&&".priority"!==i?this:($(".priority"!==i||1===Ia(t),".priority must be the last token in a path"),this.updateImmediateChild(i,n.__childrenNodeConstructor.EMPTY_NODE.updateChild(st(t),r)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(t,r){return!1}val(t){return t&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(null===this.lazyHash_){let t="";this.priorityNode_.isEmpty()||(t+="priority:"+k6(this.priorityNode_.val())+":");const r=typeof this.value_;t+=r+":",t+="number"===r?QK(this.value_):this.value_,this.lazyHash_=WK(t)}return this.lazyHash_}getValue(){return this.value_}compareTo(t){return t===n.__childrenNodeConstructor.EMPTY_NODE?1:t instanceof n.__childrenNodeConstructor?-1:($(t.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(t))}compareToLeafNode_(t){const r=typeof t.value_,i=typeof this.value_,s=n.VALUE_TYPE_ORDER.indexOf(r),o=n.VALUE_TYPE_ORDER.indexOf(i);return $(s>=0,"Unknown leaf type: "+r),$(o>=0,"Unknown leaf type: "+i),s===o?"object"===i?0:this.value_<t.value_?-1:this.value_===t.value_?0:1:o-s}withIndex(){return this}isIndexed(){return!0}equals(t){if(t===this)return!0;if(t.isLeafNode()){const r=t;return this.value_===r.value_&&this.priorityNode_.equals(r.priorityNode_)}return!1}}return n.VALUE_TYPE_ORDER=["object","boolean","number","string"],n})();const ft=new class Mke extends Lb{compare(e,t){const r=e.node.getPriority(),i=t.node.getPriority(),s=r.compareTo(i);return 0===s?ac(e.name,t.name):s}isDefinedOn(e){return!e.getPriority().isEmpty()}indexedValueChanged(e,t){return!e.getPriority().equals(t.getPriority())}minPost(){return ke.MIN}maxPost(){return new ke(Ss,new wd("[PRIORITY-POST]",O6))}makePost(e,t){const r=P6(e);return new ke(t,new wd("[PRIORITY-POST]",r))}toString(){return".priority"}},xke=Math.log(2);class kke{constructor(e){this.count=parseInt(Math.log(e+1)/xke,10),this.current_=this.count-1;const i=(s=>parseInt(Array(this.count+1).join("1"),2))();this.bits_=e+1&i}nextBitIsOne(){const e=!(this.bits_&1<<this.current_);return this.current_--,e}}const Ub=function(n,e,t,r){n.sort(e);const i=function(l,c){const u=c-l;let d,h;if(0===u)return null;if(1===u)return d=n[l],h=t?t(d):d,new Hi(h,d.node,Hi.BLACK,null,null);{const f=parseInt(u/2,10)+l,p=i(l,f),g=i(f+1,c);return d=n[f],h=t?t(d):d,new Hi(h,d.node,Hi.BLACK,p,g)}},a=function(l){let c=null,u=null,d=n.length;const h=function(p,g){const m=d-p,v=d;d-=p;const C=i(m+1,v),y=n[m],D=t?t(y):y;f(new Hi(D,y.node,g,null,C))},f=function(p){c?(c.left=p,c=p):(u=p,c=p)};for(let p=0;p<l.count;++p){const g=l.nextBitIsOne(),m=Math.pow(2,l.count-(p+1));g?h(m,Hi.BLACK):(h(m,Hi.BLACK),h(m,Hi.RED))}return u}(new kke(n.length));return new Nr(r||e,a)};let D1;const Cd={};class xo{constructor(e,t){this.indexes_=e,this.indexSet_=t}static get Default(){return $(Cd&&ft,"ChildrenNode.ts has not been loaded"),D1=D1||new xo({".priority":Cd},{".priority":ft}),D1}get(e){const t=vu(this.indexes_,e);if(!t)throw new Error("No index defined for "+e);return t instanceof Nr?t:null}hasIndex(e){return ro(this.indexSet_,e.toString())}addIndex(e,t){$(e!==Ds,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const r=[];let i=!1;const s=t.getIterator(ke.Wrap);let a,o=s.getNext();for(;o;)i=i||e.isDefinedOn(o.node),r.push(o),o=s.getNext();a=i?Ub(r,e.getCompare()):Cd;const l=e.toString(),c=Object.assign({},this.indexSet_);c[l]=e;const u=Object.assign({},this.indexes_);return u[l]=a,new xo(u,c)}addToIndexes(e,t){const r=B_(this.indexes_,(i,s)=>{const o=vu(this.indexSet_,s);if($(o,"Missing index implementation for "+s),i===Cd){if(o.isDefinedOn(e.node)){const a=[],l=t.getIterator(ke.Wrap);let c=l.getNext();for(;c;)c.name!==e.name&&a.push(c),c=l.getNext();return a.push(e),Ub(a,o.getCompare())}return Cd}{const a=t.get(e.name);let l=i;return a&&(l=l.remove(new ke(e.name,a))),l.insert(e,e.node)}});return new xo(r,this.indexSet_)}removeFromIndexes(e,t){const r=B_(this.indexes_,i=>{if(i===Cd)return i;{const s=t.get(e.name);return s?i.remove(new ke(e.name,s)):i}});return new xo(r,this.indexSet_)}}let ng,me=(()=>{class n{constructor(t,r,i){this.children_=t,this.priorityNode_=r,this.indexMap_=i,this.lazyHash_=null,this.priorityNode_&&R6(this.priorityNode_),this.children_.isEmpty()&&$(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return ng||(ng=new n(new Nr(T1),null,xo.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||ng}updatePriority(t){return this.children_.isEmpty()?this:new n(this.children_,t,this.indexMap_)}getImmediateChild(t){if(".priority"===t)return this.getPriority();{const r=this.children_.get(t);return null===r?ng:r}}getChild(t){const r=Se(t);return null===r?this:this.getImmediateChild(r).getChild(st(t))}hasChild(t){return null!==this.children_.get(t)}updateImmediateChild(t,r){if($(r,"We should always be passing snapshot nodes"),".priority"===t)return this.updatePriority(r);{const i=new ke(t,r);let s,o;r.isEmpty()?(s=this.children_.remove(t),o=this.indexMap_.removeFromIndexes(i,this.children_)):(s=this.children_.insert(t,r),o=this.indexMap_.addToIndexes(i,this.children_));const a=s.isEmpty()?ng:this.priorityNode_;return new n(s,a,o)}}updateChild(t,r){const i=Se(t);if(null===i)return r;{$(".priority"!==Se(t)||1===Ia(t),".priority must be the last token in a path");const s=this.getImmediateChild(i).updateChild(st(t),r);return this.updateImmediateChild(i,s)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(t){if(this.isEmpty())return null;const r={};let i=0,s=0,o=!0;if(this.forEachChild(ft,(a,l)=>{r[a]=l.val(t),i++,o&&n.INTEGER_REGEXP_.test(a)?s=Math.max(s,Number(a)):o=!1}),!t&&o&&s<2*i){const a=[];for(const l in r)a[l]=r[l];return a}return t&&!this.getPriority().isEmpty()&&(r[".priority"]=this.getPriority().val()),r}hash(){if(null===this.lazyHash_){let t="";this.getPriority().isEmpty()||(t+="priority:"+k6(this.getPriority().val())+":"),this.forEachChild(ft,(r,i)=>{const s=i.hash();""!==s&&(t+=":"+r+":"+s)}),this.lazyHash_=""===t?"":WK(t)}return this.lazyHash_}getPredecessorChildName(t,r,i){const s=this.resolveIndex_(i);if(s){const o=s.getPredecessorKey(new ke(t,r));return o?o.name:null}return this.children_.getPredecessorKey(t)}getFirstChildName(t){const r=this.resolveIndex_(t);if(r){const i=r.minKey();return i&&i.name}return this.children_.minKey()}getFirstChild(t){const r=this.getFirstChildName(t);return r?new ke(r,this.children_.get(r)):null}getLastChildName(t){const r=this.resolveIndex_(t);if(r){const i=r.maxKey();return i&&i.name}return this.children_.maxKey()}getLastChild(t){const r=this.getLastChildName(t);return r?new ke(r,this.children_.get(r)):null}forEachChild(t,r){const i=this.resolveIndex_(t);return i?i.inorderTraversal(s=>r(s.name,s.node)):this.children_.inorderTraversal(r)}getIterator(t){return this.getIteratorFrom(t.minPost(),t)}getIteratorFrom(t,r){const i=this.resolveIndex_(r);if(i)return i.getIteratorFrom(t,s=>s);{const s=this.children_.getIteratorFrom(t.name,ke.Wrap);let o=s.peek();for(;null!=o&&r.compare(o,t)<0;)s.getNext(),o=s.peek();return s}}getReverseIterator(t){return this.getReverseIteratorFrom(t.maxPost(),t)}getReverseIteratorFrom(t,r){const i=this.resolveIndex_(r);if(i)return i.getReverseIteratorFrom(t,s=>s);{const s=this.children_.getReverseIteratorFrom(t.name,ke.Wrap);let o=s.peek();for(;null!=o&&r.compare(o,t)>0;)s.getNext(),o=s.peek();return s}}compareTo(t){return this.isEmpty()?t.isEmpty()?0:-1:t.isLeafNode()||t.isEmpty()?1:t===rg?-1:0}withIndex(t){if(t===Ds||this.indexMap_.hasIndex(t))return this;{const r=this.indexMap_.addIndex(t,this.children_);return new n(this.children_,this.priorityNode_,r)}}isIndexed(t){return t===Ds||this.indexMap_.hasIndex(t)}equals(t){if(t===this)return!0;if(t.isLeafNode())return!1;{const r=t;if(this.getPriority().equals(r.getPriority())){if(this.children_.count()===r.children_.count()){const i=this.getIterator(ft),s=r.getIterator(ft);let o=i.getNext(),a=s.getNext();for(;o&&a;){if(o.name!==a.name||!o.node.equals(a.node))return!1;o=i.getNext(),a=s.getNext()}return null===o&&null===a}return!1}return!1}}resolveIndex_(t){return t===Ds?null:this.indexMap_.get(t.toString())}}return n.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/,n})();const rg=new class Rke extends me{constructor(){super(new Nr(T1),me.EMPTY_NODE,xo.Default)}compareTo(e){return e===this?0:1}equals(e){return e===this}getPriority(){return this}getImmediateChild(e){return me.EMPTY_NODE}isEmpty(){return!1}};function xt(n,e=null){if(null===n)return me.EMPTY_NODE;if("object"==typeof n&&".priority"in n&&(e=n[".priority"]),$(null===e||"string"==typeof e||"number"==typeof e||"object"==typeof e&&".sv"in e,"Invalid priority type found: "+typeof e),"object"==typeof n&&".value"in n&&null!==n[".value"]&&(n=n[".value"]),"object"!=typeof n||".sv"in n)return new wd(n,xt(e));if(n instanceof Array){let t=me.EMPTY_NODE;return Tn(n,(r,i)=>{if(ro(n,r)&&"."!==r.substring(0,1)){const s=xt(i);(s.isLeafNode()||!s.isEmpty())&&(t=t.updateImmediateChild(r,s))}}),t.updatePriority(xt(e))}{const t=[];let r=!1;if(Tn(n,(o,a)=>{if("."!==o.substring(0,1)){const l=xt(a);l.isEmpty()||(r=r||!l.getPriority().isEmpty(),t.push(new ke(o,l)))}}),0===t.length)return me.EMPTY_NODE;const s=Ub(t,Tke,o=>o.name,T1);if(r){const o=Ub(t,ft.getCompare());return new me(s,xt(e),new xo({".priority":o},{".priority":ft}))}return new me(s,xt(e),xo.Default)}}Object.defineProperties(ke,{MIN:{value:new ke(Mo,me.EMPTY_NODE)},MAX:{value:new ke(Ss,rg)}}),x6.__EMPTY_NODE=me.EMPTY_NODE,wd.__childrenNodeConstructor=me,function Ske(n){S1=n}(rg),function Ake(n){O6=n}(rg),function Dke(n){P6=n}(xt);class A1 extends Lb{constructor(e){super(),this.indexPath_=e,$(!De(e)&&".priority"!==Se(e),"Can't create PathIndex with empty path or .priority key")}extractChild(e){return e.getChild(this.indexPath_)}isDefinedOn(e){return!e.getChild(this.indexPath_).isEmpty()}compare(e,t){const r=this.extractChild(e.node),i=this.extractChild(t.node),s=r.compareTo(i);return 0===s?ac(e.name,t.name):s}makePost(e,t){const r=xt(e),i=me.EMPTY_NODE.updateChild(this.indexPath_,r);return new ke(t,i)}maxPost(){const e=me.EMPTY_NODE.updateChild(this.indexPath_,rg);return new ke(Ss,e)}toString(){return eg(this.indexPath_,0).join("/")}}const M1=new class Pke extends Lb{compare(e,t){const r=e.node.compareTo(t.node);return 0===r?ac(e.name,t.name):r}isDefinedOn(e){return!0}indexedValueChanged(e,t){return!e.equals(t)}minPost(){return ke.MIN}maxPost(){return ke.MAX}makePost(e,t){const r=xt(e);return new ke(t,r)}toString(){return".value"}};function sg(n,e,t){return{type:"child_changed",snapshotNode:e,childName:n,oldSnap:t}}class R1{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=ft}hasStart(){return this.startSet_}hasStartAfter(){return this.startAfterSet_}hasEndBefore(){return this.endBeforeSet_}isViewFromLeft(){return""===this.viewFrom_?this.startSet_:"l"===this.viewFrom_}getIndexStartValue(){return $(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return $(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:Mo}hasEnd(){return this.endSet_}getIndexEndValue(){return $(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return $(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:Ss}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&""!==this.viewFrom_}getLimit(){return $(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===ft}copy(){const e=new R1;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e}}function $6(n){const e={};if(n.isDefault())return e;let t;return n.index_===ft?t="$priority":n.index_===M1?t="$value":n.index_===Ds?t="$key":($(n.index_ instanceof A1,"Unrecognized index type!"),t=n.index_.toString()),e.orderBy=Rn(t),n.startSet_&&(e.startAt=Rn(n.indexStartValue_),n.startNameSet_&&(e.startAt+=","+Rn(n.indexStartName_))),n.endSet_&&(e.endAt=Rn(n.indexEndValue_),n.endNameSet_&&(e.endAt+=","+Rn(n.indexEndName_))),n.limitSet_&&(n.isViewFromLeft()?e.limitToFirst=n.limit_:e.limitToLast=n.limit_),e}function j6(n){const e={};if(n.startSet_&&(e.sp=n.indexStartValue_,n.startNameSet_&&(e.sn=n.indexStartName_)),n.endSet_&&(e.ep=n.indexEndValue_,n.endNameSet_&&(e.en=n.indexEndName_)),n.limitSet_){e.l=n.limit_;let t=n.viewFrom_;""===t&&(t=n.isViewFromLeft()?"l":"r"),e.vf=t}return n.index_!==ft&&(e.i=n.index_.toString()),e}class jb extends C6{constructor(e,t,r,i){super(),this.repoInfo_=e,this.onDataUpdate_=t,this.authTokenProvider_=r,this.appCheckTokenProvider_=i,this.log_=Qp("p:rest:"),this.listens_={}}reportStats(e){throw new Error("Method not implemented.")}static getListenId_(e,t){return void 0!==t?"tag$"+t:($(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}listen(e,t,r,i){const s=e._path.toString();this.log_("Listen called for "+s+" "+e._queryIdentifier);const o=jb.getListenId_(e,r),a={};this.listens_[o]=a;const l=$6(e._queryParams);this.restRequest_(s+".json",l,(c,u)=>{let d=u;if(404===c&&(d=null,c=null),null===c&&this.onDataUpdate_(s,d,!1,r),vu(this.listens_,o)===a){let h;h=c?401===c?"permission_denied":"rest_error:"+c:"ok",i(h,null)}})}unlisten(e,t){const r=jb.getListenId_(e,t);delete this.listens_[r]}get(e){const t=$6(e._queryParams),r=e._path.toString(),i=new yu;return this.restRequest_(r+".json",t,(s,o)=>{let a=o;404===s&&(a=null,s=null),null===s?(this.onDataUpdate_(r,a,!1,null),i.resolve(a)):i.reject(new Error(a))}),i.promise}refreshAuthToken(e){}restRequest_(e,t={},r){return t.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([i,s])=>{i&&i.accessToken&&(t.auth=i.accessToken),s&&s.token&&(t.ac=s.token);const o=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+e+"?ns="+this.repoInfo_.namespace+Qh(t);this.log_("Sending REST request for "+o);const a=new XMLHttpRequest;a.onreadystatechange=()=>{if(r&&4===a.readyState){this.log_("REST Response for "+o+" received. status:",a.status,"response:",a.responseText);let l=null;if(a.status>=200&&a.status<300){try{l=Kh(a.responseText)}catch{tr("Failed to parse JSON response for "+o+": "+a.responseText)}r(null,l)}else 401!==a.status&&404!==a.status&&tr("Got unsuccessful REST response for "+o+" Status: "+a.status),r(a.status);r=null}},a.open("GET",o,!0),a.send()})}}class Hke{constructor(){this.rootNode_=me.EMPTY_NODE}getNode(e){return this.rootNode_.getChild(e)}updateSnapshot(e,t){this.rootNode_=this.rootNode_.updateChild(e,t)}}function Hb(){return{value:null,children:new Map}}function Td(n,e,t){if(De(e))n.value=t,n.children.clear();else if(null!==n.value)n.value=n.value.updateChild(e,t);else{const r=Se(e);n.children.has(r)||n.children.set(r,Hb()),Td(n.children.get(r),e=st(e),t)}}function F1(n,e,t){null!==n.value?t(e,n.value):function zke(n,e){n.children.forEach((t,r)=>{e(r,t)})}(n,(r,i)=>{F1(i,new Ze(e.toString()+"/"+r),t)})}class Gke{constructor(e){this.collection_=e,this.last_=null}get(){const e=this.collection_.get(),t=Object.assign({},e);return this.last_&&Tn(this.last_,(r,i)=>{t[r]=t[r]-i}),this.last_=e,t}}class Kke{constructor(e,t){this.server_=t,this.statsToReport_={},this.statsListener_=new Gke(e);const r=1e4+2e4*Math.random();Zp(this.reportStats_.bind(this),Math.floor(r))}reportStats_(){const e=this.statsListener_.get(),t={};let r=!1;Tn(e,(i,s)=>{s>0&&ro(this.statsToReport_,i)&&(t[i]=s,r=!0)}),r&&this.server_.reportStats(t),Zp(this.reportStats_.bind(this),Math.floor(2*Math.random()*3e5))}}var bi=(()=>(function(n){n[n.OVERWRITE=0]="OVERWRITE",n[n.MERGE=1]="MERGE",n[n.ACK_USER_WRITE=2]="ACK_USER_WRITE",n[n.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"}(bi||(bi={})),bi))();function B1(n){return{fromUser:!1,fromServer:!0,queryId:n,tagged:!0}}class zb{constructor(e,t,r){this.path=e,this.affectedTree=t,this.revert=r,this.type=bi.ACK_USER_WRITE,this.source={fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}operationForChild(e){if(De(this.path)){if(null!=this.affectedTree.value)return $(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const t=this.affectedTree.subtree(new Ze(e));return new zb(ze(),t,this.revert)}}return $(Se(this.path)===e,"operationForChild called for unrelated child."),new zb(st(this.path),this.affectedTree,this.revert)}}class uc{constructor(e,t,r){this.source=e,this.path=t,this.snap=r,this.type=bi.OVERWRITE}operationForChild(e){return De(this.path)?new uc(this.source,ze(),this.snap.getImmediateChild(e)):new uc(this.source,st(this.path),this.snap)}}class Sd{constructor(e,t,r){this.source=e,this.path=t,this.children=r,this.type=bi.MERGE}operationForChild(e){if(De(this.path)){const t=this.children.subtree(new Ze(e));return t.isEmpty()?null:t.value?new uc(this.source,ze(),t.value):new Sd(this.source,ze(),t)}return $(Se(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new Sd(this.source,st(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}class Ta{constructor(e,t,r){this.node_=e,this.fullyInitialized_=t,this.filtered_=r}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(e){if(De(e))return this.isFullyInitialized()&&!this.filtered_;const t=Se(e);return this.isCompleteForChild(t)}isCompleteForChild(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}getNode(){return this.node_}}function lg(n,e,t,r,i,s){const o=r.filter(a=>a.type===t);o.sort((a,l)=>function Zke(n,e,t){if(null==e.childName||null==t.childName)throw mu("Should only compare child_ events.");const r=new ke(e.childName,e.snapshotNode),i=new ke(t.childName,t.snapshotNode);return n.index_.compare(r,i)}(n,a,l)),o.forEach(a=>{const l=function Xke(n,e,t){return"value"===e.type||"child_removed"===e.type||(e.prevName=t.getPredecessorChildName(e.childName,e.snapshotNode,n.index_)),e}(n,a,s);i.forEach(c=>{c.respondsTo(a.type)&&e.push(c.createEvent(l,n.query_))})})}function Gb(n,e){return{eventCache:n,serverCache:e}}function cg(n,e,t,r){return Gb(new Ta(e,t,r),n.serverCache)}function z6(n,e,t,r){return Gb(n.eventCache,new Ta(e,t,r))}function Wb(n){return n.eventCache.isFullyInitialized()?n.eventCache.getNode():null}function dc(n){return n.serverCache.isFullyInitialized()?n.serverCache.getNode():null}let U1;class pt{constructor(e,t=(()=>(U1||(U1=new Nr(Lxe)),U1))()){this.value=e,this.children=t}static fromObject(e){let t=new pt(null);return Tn(e,(r,i)=>{t=t.set(new Ze(r),i)}),t}isEmpty(){return null===this.value&&this.children.isEmpty()}findRootMostMatchingPathAndValue(e,t){if(null!=this.value&&t(this.value))return{path:ze(),value:this.value};if(De(e))return null;{const r=Se(e),i=this.children.get(r);if(null!==i){const s=i.findRootMostMatchingPathAndValue(st(e),t);return null!=s?{path:wt(new Ze(r),s.path),value:s.value}:null}return null}}findRootMostValueAndPath(e){return this.findRootMostMatchingPathAndValue(e,()=>!0)}subtree(e){if(De(e))return this;{const t=Se(e),r=this.children.get(t);return null!==r?r.subtree(st(e)):new pt(null)}}set(e,t){if(De(e))return new pt(t,this.children);{const r=Se(e),s=(this.children.get(r)||new pt(null)).set(st(e),t),o=this.children.insert(r,s);return new pt(this.value,o)}}remove(e){if(De(e))return this.children.isEmpty()?new pt(null):new pt(null,this.children);{const t=Se(e),r=this.children.get(t);if(r){const i=r.remove(st(e));let s;return s=i.isEmpty()?this.children.remove(t):this.children.insert(t,i),null===this.value&&s.isEmpty()?new pt(null):new pt(this.value,s)}return this}}get(e){if(De(e))return this.value;{const t=Se(e),r=this.children.get(t);return r?r.get(st(e)):null}}setTree(e,t){if(De(e))return t;{const r=Se(e),s=(this.children.get(r)||new pt(null)).setTree(st(e),t);let o;return o=s.isEmpty()?this.children.remove(r):this.children.insert(r,s),new pt(this.value,o)}}fold(e){return this.fold_(ze(),e)}fold_(e,t){const r={};return this.children.inorderTraversal((i,s)=>{r[i]=s.fold_(wt(e,i),t)}),t(e,this.value,r)}findOnPath(e,t){return this.findOnPath_(e,ze(),t)}findOnPath_(e,t,r){const i=!!this.value&&r(t,this.value);if(i)return i;if(De(e))return null;{const s=Se(e),o=this.children.get(s);return o?o.findOnPath_(st(e),wt(t,s),r):null}}foreachOnPath(e,t){return this.foreachOnPath_(e,ze(),t)}foreachOnPath_(e,t,r){if(De(e))return this;{this.value&&r(t,this.value);const i=Se(e),s=this.children.get(i);return s?s.foreachOnPath_(st(e),wt(t,i),r):new pt(null)}}foreach(e){this.foreach_(ze(),e)}foreach_(e,t){this.children.inorderTraversal((r,i)=>{i.foreach_(wt(e,r),t)}),this.value&&t(e,this.value)}foreachChild(e){this.children.inorderTraversal((t,r)=>{r.value&&e(t,r.value)})}}class zi{constructor(e){this.writeTree_=e}static empty(){return new zi(new pt(null))}}function ug(n,e,t){if(De(e))return new zi(new pt(t));{const r=n.writeTree_.findRootMostValueAndPath(e);if(null!=r){const i=r.path;let s=r.value;const o=vr(i,e);return s=s.updateChild(o,t),new zi(n.writeTree_.set(i,s))}{const i=new pt(t),s=n.writeTree_.setTree(e,i);return new zi(s)}}}function $1(n,e,t){let r=n;return Tn(t,(i,s)=>{r=ug(r,wt(e,i),s)}),r}function G6(n,e){if(De(e))return zi.empty();{const t=n.writeTree_.setTree(e,new pt(null));return new zi(t)}}function j1(n,e){return null!=hc(n,e)}function hc(n,e){const t=n.writeTree_.findRootMostValueAndPath(e);return null!=t?n.writeTree_.get(t.path).getChild(vr(t.path,e)):null}function W6(n){const e=[],t=n.writeTree_.value;return null!=t?t.isLeafNode()||t.forEachChild(ft,(r,i)=>{e.push(new ke(r,i))}):n.writeTree_.children.inorderTraversal((r,i)=>{null!=i.value&&e.push(new ke(r,i.value))}),e}function Sa(n,e){if(De(e))return n;{const t=hc(n,e);return new zi(null!=t?new pt(t):n.writeTree_.subtree(e))}}function H1(n){return n.writeTree_.isEmpty()}function Dd(n,e){return q6(ze(),n.writeTree_,e)}function q6(n,e,t){if(null!=e.value)return t.updateChild(n,e.value);{let r=null;return e.children.inorderTraversal((i,s)=>{".priority"===i?($(null!==s.value,"Priority writes must always be leaf nodes"),r=s.value):t=q6(wt(n,i),s,t)}),!t.getChild(n).isEmpty()&&null!==r&&(t=t.updateChild(wt(n,".priority"),r)),t}}function qb(n,e){return Z6(e,n)}function iRe(n,e){if(n.snap)return vi(n.path,e);for(const t in n.children)if(n.children.hasOwnProperty(t)&&vi(wt(n.path,t),e))return!0;return!1}function oRe(n){return n.visible}function K6(n,e,t){let r=zi.empty();for(let i=0;i<n.length;++i){const s=n[i];if(e(s)){const o=s.path;let a;if(s.snap)vi(t,o)?(a=vr(t,o),r=ug(r,a,s.snap)):vi(o,t)&&(a=vr(o,t),r=ug(r,ze(),s.snap.getChild(a)));else{if(!s.children)throw mu("WriteRecord should have .snap or .children");if(vi(t,o))a=vr(t,o),r=$1(r,a,s.children);else if(vi(o,t))if(a=vr(o,t),De(a))r=$1(r,ze(),s.children);else{const l=vu(s.children,Se(a));if(l){const c=l.getChild(st(a));r=ug(r,ze(),c)}}}}}return r}function Y6(n,e,t,r,i){if(r||i){const s=Sa(n.visibleWrites,e);return!i&&H1(s)?t:i||null!=t||j1(s,ze())?Dd(K6(n.allWrites,function(c){return(c.visible||i)&&(!r||!~r.indexOf(c.writeId))&&(vi(c.path,e)||vi(e,c.path))},e),t||me.EMPTY_NODE):null}{const s=hc(n.visibleWrites,e);if(null!=s)return s;{const o=Sa(n.visibleWrites,e);return H1(o)?t:null!=t||j1(o,ze())?Dd(o,t||me.EMPTY_NODE):null}}}function Kb(n,e,t,r){return Y6(n.writeTree,n.treePath,e,t,r)}function z1(n,e){return function aRe(n,e,t){let r=me.EMPTY_NODE;const i=hc(n.visibleWrites,e);if(i)return i.isLeafNode()||i.forEachChild(ft,(s,o)=>{r=r.updateImmediateChild(s,o)}),r;if(t){const s=Sa(n.visibleWrites,e);return t.forEachChild(ft,(o,a)=>{const l=Dd(Sa(s,new Ze(o)),a);r=r.updateImmediateChild(o,l)}),W6(s).forEach(o=>{r=r.updateImmediateChild(o.name,o.node)}),r}return W6(Sa(n.visibleWrites,e)).forEach(o=>{r=r.updateImmediateChild(o.name,o.node)}),r}(n.writeTree,n.treePath,e)}function Q6(n,e,t,r){return function lRe(n,e,t,r,i){$(r||i,"Either existingEventSnap or existingServerSnap must exist");const s=wt(e,t);if(j1(n.visibleWrites,s))return null;{const o=Sa(n.visibleWrites,s);return H1(o)?i.getChild(t):Dd(o,i.getChild(t))}}(n.writeTree,n.treePath,e,t,r)}function Yb(n,e){return function uRe(n,e){return hc(n.visibleWrites,e)}(n.writeTree,wt(n.treePath,e))}function G1(n,e,t){return function cRe(n,e,t,r){const i=wt(e,t),s=hc(n.visibleWrites,i);return null!=s?s:r.isCompleteForChild(t)?Dd(Sa(n.visibleWrites,i),r.getNode().getImmediateChild(t)):null}(n.writeTree,n.treePath,e,t)}function X6(n,e){return Z6(wt(n.treePath,e),n.writeTree)}function Z6(n,e){return{treePath:n,writeTree:e}}class pRe{constructor(){this.changeMap=new Map}trackChildChange(e){const t=e.type,r=e.childName;$("child_added"===t||"child_changed"===t||"child_removed"===t,"Only child changes supported for tracking"),$(".priority"!==r,"Only non-priority child changes can be tracked.");const i=this.changeMap.get(r);if(i){const s=i.type;if("child_added"===t&&"child_removed"===s)this.changeMap.set(r,sg(r,e.snapshotNode,i.snapshotNode));else if("child_removed"===t&&"child_added"===s)this.changeMap.delete(r);else if("child_removed"===t&&"child_changed"===s)this.changeMap.set(r,function ig(n,e){return{type:"child_removed",snapshotNode:e,childName:n}}(r,i.oldSnap));else if("child_changed"===t&&"child_added"===s)this.changeMap.set(r,function Id(n,e){return{type:"child_added",snapshotNode:e,childName:n}}(r,e.snapshotNode));else{if("child_changed"!==t||"child_changed"!==s)throw mu("Illegal combination of changes: "+e+" occurred after "+i);this.changeMap.set(r,sg(r,e.snapshotNode,i.oldSnap))}}else this.changeMap.set(r,e)}getChanges(){return Array.from(this.changeMap.values())}}const J6=new class gRe{getCompleteChild(e){return null}getChildAfterChild(e,t,r){return null}};class W1{constructor(e,t,r=null){this.writes_=e,this.viewCache_=t,this.optCompleteServerCache_=r}getCompleteChild(e){const t=this.viewCache_.eventCache;if(t.isCompleteForChild(e))return t.getNode().getImmediateChild(e);{const r=null!=this.optCompleteServerCache_?new Ta(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return G1(this.writes_,e,r)}}getChildAfterChild(e,t,r){const i=null!=this.optCompleteServerCache_?this.optCompleteServerCache_:dc(this.viewCache_),s=function fRe(n,e,t,r,i,s){return function dRe(n,e,t,r,i,s,o){let a;const l=Sa(n.visibleWrites,e),c=hc(l,ze());if(null!=c)a=c;else{if(null==t)return[];a=Dd(l,t)}if(a=a.withIndex(o),a.isEmpty()||a.isLeafNode())return[];{const u=[],d=o.getCompare(),h=s?a.getReverseIteratorFrom(r,o):a.getIteratorFrom(r,o);let f=h.getNext();for(;f&&u.length<i;)0!==d(f,r)&&u.push(f),f=h.getNext();return u}}(n.writeTree,n.treePath,e,t,r,i,s)}(this.writes_,i,t,1,r,e);return 0===s.length?null:s[0]}}function e7(n,e,t,r,i,s){const o=e.eventCache;if(null!=Yb(r,t))return e;{let a,l;if(De(t))if($(e.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),e.serverCache.isFiltered()){const c=dc(e),d=z1(r,c instanceof me?c:me.EMPTY_NODE);a=n.filter.updateFullNode(e.eventCache.getNode(),d,s)}else{const c=Kb(r,dc(e));a=n.filter.updateFullNode(e.eventCache.getNode(),c,s)}else{const c=Se(t);if(".priority"===c){$(1===Ia(t),"Can't have a priority with additional path components");const u=o.getNode();l=e.serverCache.getNode();const d=Q6(r,t,u,l);a=null!=d?n.filter.updatePriority(u,d):o.getNode()}else{const u=st(t);let d;if(o.isCompleteForChild(c)){l=e.serverCache.getNode();const h=Q6(r,t,o.getNode(),l);d=null!=h?o.getNode().getImmediateChild(c).updateChild(u,h):o.getNode().getImmediateChild(c)}else d=G1(r,c,e.serverCache);a=null!=d?n.filter.updateChild(o.getNode(),c,d,u,i,s):o.getNode()}}return cg(e,a,o.isFullyInitialized()||De(t),n.filter.filtersNodes())}}function Qb(n,e,t,r,i,s,o,a){const l=e.serverCache;let c;const u=o?n.filter:n.filter.getIndexedFilter();if(De(t))c=u.updateFullNode(l.getNode(),r,null);else if(u.filtersNodes()&&!l.isFiltered()){const f=l.getNode().updateChild(t,r);c=u.updateFullNode(l.getNode(),f,null)}else{const f=Se(t);if(!l.isCompleteForPath(t)&&Ia(t)>1)return e;const p=st(t),m=l.getNode().getImmediateChild(f).updateChild(p,r);c=".priority"===f?u.updatePriority(l.getNode(),m):u.updateChild(l.getNode(),f,m,p,J6,null)}const d=z6(e,c,l.isFullyInitialized()||De(t),u.filtersNodes());return e7(n,d,t,i,new W1(i,d,s),a)}function q1(n,e,t,r,i,s,o){const a=e.eventCache;let l,c;const u=new W1(i,e,s);if(De(t))c=n.filter.updateFullNode(e.eventCache.getNode(),r,o),l=cg(e,c,!0,n.filter.filtersNodes());else{const d=Se(t);if(".priority"===d)c=n.filter.updatePriority(e.eventCache.getNode(),r),l=cg(e,c,a.isFullyInitialized(),a.isFiltered());else{const h=st(t),f=a.getNode().getImmediateChild(d);let p;if(De(h))p=r;else{const g=u.getCompleteChild(d);p=null!=g?".priority"===C1(h)&&g.getChild(S6(h)).isEmpty()?g:g.updateChild(h,r):me.EMPTY_NODE}l=f.equals(p)?e:cg(e,n.filter.updateChild(a.getNode(),d,p,h,u,o),a.isFullyInitialized(),n.filter.filtersNodes())}}return l}function t7(n,e){return n.eventCache.isCompleteForChild(e)}function n7(n,e,t){return t.foreach((r,i)=>{e=e.updateChild(r,i)}),e}function K1(n,e,t,r,i,s,o,a){if(e.serverCache.getNode().isEmpty()&&!e.serverCache.isFullyInitialized())return e;let c,l=e;c=De(t)?r:new pt(null).setTree(t,r);const u=e.serverCache.getNode();return c.children.inorderTraversal((d,h)=>{if(u.hasChild(d)){const p=n7(0,e.serverCache.getNode().getImmediateChild(d),h);l=Qb(n,l,new Ze(d),p,i,s,o,a)}}),c.children.inorderTraversal((d,h)=>{const f=!e.serverCache.isCompleteForChild(d)&&null===h.value;if(!u.hasChild(d)&&!f){const g=n7(0,e.serverCache.getNode().getImmediateChild(d),h);l=Qb(n,l,new Ze(d),g,i,s,o,a)}}),l}function DRe(n,e){const t=dc(n.viewCache_);return t&&(n.query._queryParams.loadsAllData()||!De(e)&&!t.getImmediateChild(Se(e)).isEmpty())?t.getChild(e):null}function s7(n,e,t,r){e.type===bi.MERGE&&null!==e.source.queryId&&($(dc(n.viewCache_),"We should always have a full cache before handling merges"),$(Wb(n.viewCache_),"Missing event cache, even though we have a server cache"));const i=n.viewCache_,s=function yRe(n,e,t,r,i){const s=new pRe;let o,a;if(t.type===bi.OVERWRITE){const c=t;c.source.fromUser?o=q1(n,e,c.path,c.snap,r,i,s):($(c.source.fromServer,"Unknown source."),a=c.source.tagged||e.serverCache.isFiltered()&&!De(c.path),o=Qb(n,e,c.path,c.snap,r,i,a,s))}else if(t.type===bi.MERGE){const c=t;c.source.fromUser?o=function bRe(n,e,t,r,i,s,o){let a=e;return r.foreach((l,c)=>{const u=wt(t,l);t7(e,Se(u))&&(a=q1(n,a,u,c,i,s,o))}),r.foreach((l,c)=>{const u=wt(t,l);t7(e,Se(u))||(a=q1(n,a,u,c,i,s,o))}),a}(n,e,c.path,c.children,r,i,s):($(c.source.fromServer,"Unknown source."),a=c.source.tagged||e.serverCache.isFiltered(),o=K1(n,e,c.path,c.children,r,i,a,s))}else if(t.type===bi.ACK_USER_WRITE){const c=t;o=c.revert?function ERe(n,e,t,r,i,s){let o;if(null!=Yb(r,t))return e;{const a=new W1(r,e,i),l=e.eventCache.getNode();let c;if(De(t)||".priority"===Se(t)){let u;if(e.serverCache.isFullyInitialized())u=Kb(r,dc(e));else{const d=e.serverCache.getNode();$(d instanceof me,"serverChildren would be complete if leaf node"),u=z1(r,d)}c=n.filter.updateFullNode(l,u,s)}else{const u=Se(t);let d=G1(r,u,e.serverCache);null==d&&e.serverCache.isCompleteForChild(u)&&(d=l.getImmediateChild(u)),c=null!=d?n.filter.updateChild(l,u,d,st(t),a,s):e.eventCache.getNode().hasChild(u)?n.filter.updateChild(l,u,me.EMPTY_NODE,st(t),a,s):l,c.isEmpty()&&e.serverCache.isFullyInitialized()&&(o=Kb(r,dc(e)),o.isLeafNode()&&(c=n.filter.updateFullNode(c,o,s)))}return o=e.serverCache.isFullyInitialized()||null!=Yb(r,ze()),cg(e,c,o,n.filter.filtersNodes())}}(n,e,c.path,r,i,s):function wRe(n,e,t,r,i,s,o){if(null!=Yb(i,t))return e;const a=e.serverCache.isFiltered(),l=e.serverCache;if(null!=r.value){if(De(t)&&l.isFullyInitialized()||l.isCompleteForPath(t))return Qb(n,e,t,l.getNode().getChild(t),i,s,a,o);if(De(t)){let c=new pt(null);return l.getNode().forEachChild(Ds,(u,d)=>{c=c.set(new Ze(u),d)}),K1(n,e,t,c,i,s,a,o)}return e}{let c=new pt(null);return r.foreach((u,d)=>{const h=wt(t,u);l.isCompleteForPath(h)&&(c=c.set(u,l.getNode().getChild(h)))}),K1(n,e,t,c,i,s,a,o)}}(n,e,c.path,c.affectedTree,r,i,s)}else{if(t.type!==bi.LISTEN_COMPLETE)throw mu("Unknown operation type: "+t.type);o=function CRe(n,e,t,r,i){const s=e.serverCache;return e7(n,z6(e,s.getNode(),s.isFullyInitialized()||De(t),s.isFiltered()),t,r,J6,i)}(n,e,t.path,r,s)}const l=s.getChanges();return function vRe(n,e,t){const r=e.eventCache;if(r.isFullyInitialized()){const i=r.getNode().isLeafNode()||r.getNode().isEmpty(),s=Wb(n);(t.length>0||!n.eventCache.isFullyInitialized()||i&&!r.getNode().equals(s)||!r.getNode().getPriority().equals(s.getPriority()))&&t.push(function U6(n){return{type:"value",snapshotNode:n}}(Wb(e)))}}(e,o,l),{viewCache:o,changes:l}}(n.processor_,i,e,t,r);return function _Re(n,e){$(e.eventCache.getNode().isIndexed(n.filter.getIndex()),"Event snap not indexed"),$(e.serverCache.getNode().isIndexed(n.filter.getIndex()),"Server snap not indexed")}(n.processor_,s.viewCache),$(s.viewCache.serverCache.isFullyInitialized()||!i.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),n.viewCache_=s.viewCache,function o7(n,e,t,r){return function Qke(n,e,t,r){const i=[],s=[];return e.forEach(o=>{"child_changed"===o.type&&n.index_.indexedValueChanged(o.oldSnap,o.snapshotNode)&&s.push(function Fke(n,e){return{type:"child_moved",snapshotNode:e,childName:n}}(o.childName,o.snapshotNode))}),lg(n,i,"child_removed",e,r,t),lg(n,i,"child_added",e,r,t),lg(n,i,"child_moved",s,r,t),lg(n,i,"child_changed",e,r,t),lg(n,i,"value",e,r,t),i}(n.eventGenerator_,e,t,r?[r]:n.eventRegistrations_)}(n,s.changes,s.viewCache.eventCache.getNode(),null)}let Xb,Jb;function Y1(n,e,t,r){const i=e.source.queryId;if(null!==i){const s=n.views.get(i);return $(null!=s,"SyncTree gave us an op for an invalid query."),s7(s,e,t,r)}{let s=[];for(const o of n.views.values())s=s.concat(s7(o,e,t,r));return s}}function Da(n,e){let t=null;for(const r of n.views.values())t=t||DRe(r,e);return t}class h7{constructor(e){this.listenProvider_=e,this.syncPointTree_=new pt(null),this.pendingWriteTree_=function hRe(){return{visibleWrites:zi.empty(),allWrites:[],lastWriteId:-1}}(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function Q1(n,e,t,r,i){return function eRe(n,e,t,r,i){$(r>n.lastWriteId,"Stacking an older write on top of newer ones"),void 0===i&&(i=!0),n.allWrites.push({path:e,snap:t,writeId:r,visible:i}),i&&(n.visibleWrites=ug(n.visibleWrites,e,t)),n.lastWriteId=r}(n.pendingWriteTree_,e,t,r,i),i?Ad(n,new uc({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},e,t)):[]}function Ma(n,e,t=!1){const r=function nRe(n,e){for(let t=0;t<n.allWrites.length;t++){const r=n.allWrites[t];if(r.writeId===e)return r}return null}(n.pendingWriteTree_,e);if(function rRe(n,e){const t=n.allWrites.findIndex(a=>a.writeId===e);$(t>=0,"removeWrite called with nonexistent writeId.");const r=n.allWrites[t];n.allWrites.splice(t,1);let i=r.visible,s=!1,o=n.allWrites.length-1;for(;i&&o>=0;){const a=n.allWrites[o];a.visible&&(o>=t&&iRe(a,r.path)?i=!1:vi(r.path,a.path)&&(s=!0)),o--}return!!i&&(s?(function sRe(n){n.visibleWrites=K6(n.allWrites,oRe,ze()),n.lastWriteId=n.allWrites.length>0?n.allWrites[n.allWrites.length-1].writeId:-1}(n),!0):(r.snap?n.visibleWrites=G6(n.visibleWrites,r.path):Tn(r.children,l=>{n.visibleWrites=G6(n.visibleWrites,wt(r.path,l))}),!0))}(n.pendingWriteTree_,e)){let s=new pt(null);return null!=r.snap?s=s.set(ze(),!0):Tn(r.children,o=>{s=s.set(new Ze(o),!0)}),Ad(n,new zb(r.path,s,t))}return[]}function dg(n,e,t){return Ad(n,new uc({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},e,t))}function tw(n,e,t){const i=n.pendingWriteTree_,s=n.syncPointTree_.findOnPath(e,(o,a)=>{const c=Da(a,vr(o,e));if(c)return c});return Y6(i,e,s,t,!0)}function Ad(n,e){return p7(e,n.syncPointTree_,null,qb(n.pendingWriteTree_,ze()))}function p7(n,e,t,r){if(De(n.path))return g7(n,e,t,r);{const i=e.get(ze());null==t&&null!=i&&(t=Da(i,ze()));let s=[];const o=Se(n.path),a=n.operationForChild(o),l=e.children.get(o);if(l&&a){const c=t?t.getImmediateChild(o):null,u=X6(r,o);s=s.concat(p7(a,l,c,u))}return i&&(s=s.concat(Y1(i,n,r,t))),s}}function g7(n,e,t,r){const i=e.get(ze());null==t&&null!=i&&(t=Da(i,ze()));let s=[];return e.children.inorderTraversal((o,a)=>{const l=t?t.getImmediateChild(o):null,c=X6(r,o),u=n.operationForChild(o);u&&(s=s.concat(g7(u,a,l,c)))}),i&&(s=s.concat(Y1(i,n,r,t))),s}function Z1(n,e){return n.tagToQueryMap.get(e)}function J1(n){const e=n.indexOf("$");return $(-1!==e&&e<n.length-1,"Bad queryKey."),{queryId:n.substr(e+1),path:new Ze(n.substr(0,e))}}function eN(n,e,t){const r=n.syncPointTree_.get(e);return $(r,"Missing sync point for query tag that we're tracking"),Y1(r,t,qb(n.pendingWriteTree_,e),null)}class tN{constructor(e){this.node_=e}getImmediateChild(e){const t=this.node_.getImmediateChild(e);return new tN(t)}node(){return this.node_}}class nN{constructor(e,t){this.syncTree_=e,this.path_=t}getImmediateChild(e){const t=wt(this.path_,e);return new nN(this.syncTree_,t)}node(){return tw(this.syncTree_,this.path_)}}const _7=function(n,e,t){return n&&"object"==typeof n?($(".sv"in n,"Unexpected leaf node or priority contents"),"string"==typeof n[".sv"]?YRe(n[".sv"],e,t):"object"==typeof n[".sv"]?QRe(n[".sv"],e):void $(!1,"Unexpected server value: "+JSON.stringify(n,null,2))):n},YRe=function(n,e,t){if("timestamp"===n)return t.timestamp;$(!1,"Unexpected server value: "+n)},QRe=function(n,e,t){n.hasOwnProperty("increment")||$(!1,"Unexpected server value: "+JSON.stringify(n,null,2));const r=n.increment;"number"!=typeof r&&$(!1,"Unexpected increment value: "+r);const i=e.node();if($(null!==i&&typeof i<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!i.isLeafNode())return r;const o=i.getValue();return"number"!=typeof o?r:o+r},rN=function(n,e,t){return iN(n,new tN(e),t)};function iN(n,e,t){const r=n.getPriority().val(),i=_7(r,e.getImmediateChild(".priority"),t);let s;if(n.isLeafNode()){const o=n,a=_7(o.getValue(),e,t);return a!==o.getValue()||i!==o.getPriority().val()?new wd(a,xt(i)):n}{const o=n;return s=o,i!==o.getPriority().val()&&(s=s.updatePriority(new wd(i))),o.forEachChild(ft,(a,l)=>{const c=iN(l,e.getImmediateChild(a),t);c!==l&&(s=s.updateImmediateChild(a,c))}),s}}class sN{constructor(e="",t=null,r={children:{},childCount:0}){this.name=e,this.parent=t,this.node=r}}function rw(n,e){let t=e instanceof Ze?e:new Ze(e),r=n,i=Se(t);for(;null!==i;){const s=vu(r.node.children,i)||{children:{},childCount:0};r=new sN(i,r,s),t=st(t),i=Se(t)}return r}function fc(n){return n.node.value}function oN(n,e){n.node.value=e,aN(n)}function v7(n){return n.node.childCount>0}function iw(n,e){Tn(n.node.children,(t,r)=>{e(new sN(t,n,r))})}function b7(n,e,t,r){t&&!r&&e(n),iw(n,i=>{b7(i,e,!0,r)}),t&&r&&e(n)}function pg(n){return new Ze(null===n.parent?n.name:pg(n.parent)+"/"+n.name)}function aN(n){null!==n.parent&&function JRe(n,e,t){const r=function XRe(n){return void 0===fc(n)&&!v7(n)}(t),i=ro(n.node.children,e);r&&i?(delete n.node.children[e],n.node.childCount--,aN(n)):!r&&!i&&(n.node.children[e]=t.node,n.node.childCount++,aN(n))}(n.parent,n.name,n)}const e1e=/[\[\].#$\/\u0000-\u001F\u007F]/,t1e=/[\[\].#$\u0000-\u001F\u007F]/,lN=10485760,sw=function(n){return"string"==typeof n&&0!==n.length&&!e1e.test(n)},mg=function(n,e,t){const r=t instanceof Ze?new _ke(t,n):t;if(void 0===e)throw new Error(n+"contains undefined "+lc(r));if("function"==typeof e)throw new Error(n+"contains a function "+lc(r)+" with contents = "+e.toString());if(Rb(e))throw new Error(n+"contains "+e.toString()+" "+lc(r));if("string"==typeof e&&e.length>lN/3&&$_(e)>lN)throw new Error(n+"contains a string greater than "+lN+" utf8 bytes "+lc(r)+" ('"+e.substring(0,50)+"...')");if(e&&"object"==typeof e){let i=!1,s=!1;if(Tn(e,(o,a)=>{if(".value"===o)i=!0;else if(".priority"!==o&&".sv"!==o&&(s=!0,!sw(o)))throw new Error(n+" contains an invalid key ("+o+") "+lc(r)+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');(function yke(n,e){n.parts_.length>0&&(n.byteLength_+=1),n.parts_.push(e),n.byteLength_+=$_(e),D6(n)})(r,o),mg(n,a,r),function vke(n){const e=n.parts_.pop();n.byteLength_-=$_(e),n.parts_.length>0&&(n.byteLength_-=1)}(r)}),i&&s)throw new Error(n+' contains ".value" child '+lc(r)+" in addition to actual children.")}},E7=function(n,e){const t=e.path.toString();if("string"!=typeof e.repoInfo.host||0===e.repoInfo.host.length||!sw(e.repoInfo.namespace)&&"localhost"!==e.repoInfo.host.split(":")[0]||0!==t.length&&!function(n){return n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),function(n){return"string"==typeof n&&0!==n.length&&!t1e.test(n)}(n)}(t))throw new Error(function U_(n,e){return`${n} failed: ${e} argument `}(n,"url")+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".')};class s1e{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function ni(n,e,t){(function ow(n,e){let t=null;for(let r=0;r<e.length;r++){const i=e[r],s=i.getPath();null!==t&&!E1(s,t.path)&&(n.eventLists_.push(t),t=null),null===t&&(t={events:[],path:s}),t.events.push(i)}t&&n.eventLists_.push(t)})(n,t),function T7(n,e){n.recursionDepth_++;let t=!0;for(let r=0;r<n.eventLists_.length;r++){const i=n.eventLists_[r];i&&(e(i.path)?(o1e(n.eventLists_[r]),n.eventLists_[r]=null):t=!1)}t&&(n.eventLists_=[]),n.recursionDepth_--}(n,r=>vi(r,e)||vi(e,r))}function o1e(n){for(let e=0;e<n.events.length;e++){const t=n.events[e];if(null!==t){n.events[e]=null;const r=t.getEventRunner();oc&&In("event: "+t.toString()),vd(r)}}}class l1e{constructor(e,t,r,i){this.repoInfo_=e,this.forceRestClient_=t,this.authTokenProvider_=r,this.appCheckProvider_=i,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new s1e,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=Hb(),this.transactionQueueTree_=new sN,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function D7(n){const t=n.infoData_.getNode(new Ze(".info/serverTimeOffset")).val()||0;return(new Date).getTime()+t}function yg(n){return function(n){return(n=n||{}).timestamp=n.timestamp||(new Date).getTime(),n}({timestamp:D7(n)})}function A7(n,e,t,r,i){n.dataUpdateCount++;const s=new Ze(e);t=n.interceptServerDataCallback_?n.interceptServerDataCallback_(e,t):t;let o=[];if(i)if(r){const l=B_(t,c=>xt(c));o=function jRe(n,e,t,r){const i=Z1(n,r);if(i){const s=J1(i),o=s.path,a=s.queryId,l=vr(o,e),c=pt.fromObject(t);return eN(n,o,new Sd(B1(a),l,c))}return[]}(n.serverSyncTree_,s,l,i)}else{const l=xt(t);o=function f7(n,e,t,r){const i=Z1(n,r);if(null!=i){const s=J1(i),o=s.path,a=s.queryId,l=vr(o,e);return eN(n,o,new uc(B1(a),l,t))}return[]}(n.serverSyncTree_,s,l,i)}else if(r){const l=B_(t,c=>xt(c));o=function BRe(n,e,t){const r=pt.fromObject(t);return Ad(n,new Sd({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},e,r))}(n.serverSyncTree_,s,l)}else{const l=xt(t);o=dg(n.serverSyncTree_,s,l)}let a=s;o.length>0&&(a=xd(n,s)),ni(n.eventQueue_,a,o)}function M7(n,e){dN(n,"connected",e),!1===e&&function f1e(n){Md(n,"onDisconnectEvents");const e=yg(n),t=Hb();F1(n.onDisconnect_,ze(),(i,s)=>{const o=function(n,e,t,r){return iN(e,new nN(t,n),r)}(i,s,n.serverSyncTree_,e);Td(t,i,o)});let r=[];F1(t,ze(),(i,s)=>{r=r.concat(dg(n.serverSyncTree_,i,s));const o=function gN(n,e){const t=pg(R7(n,e)),r=rw(n.transactionQueueTree_,e);return function ZRe(n,e,t){let r=t?n:n.parent;for(;null!==r;){if(e(r))return!0;r=r.parent}}(r,i=>{mN(n,i)}),mN(n,r),b7(r,i=>{mN(n,i)}),t}(n,i);xd(n,o)}),n.onDisconnect_=Hb(),ni(n.eventQueue_,ze(),r)}(n)}function dN(n,e,t){const r=new Ze("/.info/"+e),i=xt(t);n.infoData_.updateSnapshot(r,i);const s=dg(n.infoSyncTree_,r,i);ni(n.eventQueue_,r,s)}function aw(n){return n.nextWriteId_++}function Md(n,...e){let t="";n.persistentConnection_&&(t=n.persistentConnection_.id+":"),In(t,...e)}function pN(n,e,t){return tw(n.serverSyncTree_,e,t)||me.EMPTY_NODE}function lw(n,e=n.transactionQueueTree_){if(e||cw(n,e),fc(e)){const t=N7(n,e);$(t.length>0,"Sending zero length transaction queue"),t.every(i=>0===i.status)&&function b1e(n,e,t){const r=t.map(c=>c.currentWriteId),i=pN(n,e,r);let s=i;const o=i.hash();for(let c=0;c<t.length;c++){const u=t[c];$(0===u.status,"tryToSendTransactionQueue_: items in queue should all be run."),u.status=1,u.retryCount++;const d=vr(e,u.path);s=s.updateChild(d,u.currentOutputSnapshotRaw)}const a=s.val(!0),l=e;n.server_.put(l.toString(),a,c=>{Md(n,"transaction put response",{path:l.toString(),status:c});let u=[];if("ok"===c){const d=[];for(let h=0;h<t.length;h++)t[h].status=2,u=u.concat(Ma(n.serverSyncTree_,t[h].currentWriteId)),t[h].onComplete&&d.push(()=>t[h].onComplete(null,!0,t[h].currentOutputSnapshotResolved)),t[h].unwatcher();cw(n,rw(n.transactionQueueTree_,e)),lw(n,n.transactionQueueTree_),ni(n.eventQueue_,e,u);for(let h=0;h<d.length;h++)vd(d[h])}else{if("datastale"===c)for(let d=0;d<t.length;d++)t[d].status=3===t[d].status?4:0;else{tr("transaction at "+l.toString()+" failed: "+c);for(let d=0;d<t.length;d++)t[d].status=4,t[d].abortReason=c}xd(n,e)}},o)}(n,pg(e),t)}else v7(e)&&iw(e,t=>{lw(n,t)})}function xd(n,e){const t=R7(n,e),r=pg(t);return function w1e(n,e,t){if(0===e.length)return;const r=[];let i=[];const o=e.filter(a=>0===a.status).map(a=>a.currentWriteId);for(let a=0;a<e.length;a++){const l=e[a],c=vr(t,l.path);let d,u=!1;if($(null!==c,"rerunTransactionsUnderNode_: relativePath should not be null."),4===l.status)u=!0,d=l.abortReason,i=i.concat(Ma(n.serverSyncTree_,l.currentWriteId,!0));else if(0===l.status)if(l.retryCount>=25)u=!0,d="maxretry",i=i.concat(Ma(n.serverSyncTree_,l.currentWriteId,!0));else{const h=pN(n,l.path,o);l.currentInputSnapshot=h;const f=e[a].update(h.val());if(void 0!==f){mg("transaction failed: Data returned ",f,l.path);let p=xt(f);"object"==typeof f&&null!=f&&ro(f,".priority")||(p=p.updatePriority(h.getPriority()));const m=l.currentWriteId,v=yg(n),C=rN(p,h,v);l.currentOutputSnapshotRaw=p,l.currentOutputSnapshotResolved=C,l.currentWriteId=aw(n),o.splice(o.indexOf(m),1),i=i.concat(Q1(n.serverSyncTree_,l.path,C,l.currentWriteId,l.applyLocally)),i=i.concat(Ma(n.serverSyncTree_,m,!0))}else u=!0,d="nodata",i=i.concat(Ma(n.serverSyncTree_,l.currentWriteId,!0))}ni(n.eventQueue_,t,i),i=[],u&&(e[a].status=2,setTimeout(e[a].unwatcher,Math.floor(0)),e[a].onComplete&&r.push("nodata"===d?()=>e[a].onComplete(null,!1,e[a].currentInputSnapshot):()=>e[a].onComplete(new Error(d),!1,null)))}cw(n,n.transactionQueueTree_);for(let a=0;a<r.length;a++)vd(r[a]);lw(n,n.transactionQueueTree_)}(n,N7(n,t),r),r}function R7(n,e){let t,r=n.transactionQueueTree_;for(t=Se(e);null!==t&&void 0===fc(r);)r=rw(r,t),t=Se(e=st(e));return r}function N7(n,e){const t=[];return P7(n,e,t),t.sort((r,i)=>r.order-i.order),t}function P7(n,e,t){const r=fc(e);if(r)for(let i=0;i<r.length;i++)t.push(r[i]);iw(e,i=>{P7(n,i,t)})}function cw(n,e){const t=fc(e);if(t){let r=0;for(let i=0;i<t.length;i++)2!==t[i].status&&(t[r]=t[i],r++);t.length=r,oN(e,t.length>0?t:void 0)}iw(e,r=>{cw(n,r)})}function mN(n,e){const t=fc(e);if(t){const r=[];let i=[],s=-1;for(let o=0;o<t.length;o++)3===t[o].status||(1===t[o].status?($(s===o-1,"All SENT items should be at beginning of queue."),s=o,t[o].status=3,t[o].abortReason="set"):($(0===t[o].status,"Unexpected transaction status in abort"),t[o].unwatcher(),i=i.concat(Ma(n.serverSyncTree_,t[o].currentWriteId,!0)),t[o].onComplete&&r.push(t[o].onComplete.bind(null,new Error("set"),!1,null))));-1===s?oN(e,void 0):t.length=s+1,ni(n.eventQueue_,pg(e),i);for(let o=0;o<r.length;o++)vd(r[o])}}const _N=function(n,e){const t=I1e(n),r=t.namespace;return"firebase.com"===t.domain&&Ts(t.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!r||"undefined"===r)&&"localhost"!==t.domain&&Ts("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),t.secure||typeof window<"u"&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&tr("Insecure Firebase access from a secure page. Please use https in calls to new Firebase()."),{repoInfo:new m1(t.host,t.secure,r,"ws"===t.scheme||"wss"===t.scheme,e,"",r!==t.subdomain),path:new Ze(t.pathString)}},I1e=function(n){let e="",t="",r="",i="",s="",o=!0,a="https",l=443;if("string"==typeof n){let c=n.indexOf("//");c>=0&&(a=n.substring(0,c-1),n=n.substring(c+2));let u=n.indexOf("/");-1===u&&(u=n.length);let d=n.indexOf("?");-1===d&&(d=n.length),e=n.substring(0,Math.min(u,d)),u<d&&(i=function C1e(n){let e="";const t=n.split("/");for(let r=0;r<t.length;r++)if(t[r].length>0){let i=t[r];try{i=decodeURIComponent(i.replace(/\+/g," "))}catch{}e+="/"+i}return e}(n.substring(u,d)));const h=function E1e(n){const e={};"?"===n.charAt(0)&&(n=n.substring(1));for(const t of n.split("&")){if(0===t.length)continue;const r=t.split("=");2===r.length?e[decodeURIComponent(r[0])]=decodeURIComponent(r[1]):tr(`Invalid query segment '${t}' in query '${n}'`)}return e}(n.substring(Math.min(n.length,d)));c=e.indexOf(":"),c>=0?(o="https"===a||"wss"===a,l=parseInt(e.substring(c+1),10)):c=e.length;const f=e.slice(0,c);if("localhost"===f.toLowerCase())t="localhost";else if(f.split(".").length<=2)t=f;else{const p=e.indexOf(".");r=e.substring(0,p).toLowerCase(),t=e.substring(p+1),s=r}"ns"in h&&(s=h.ns)}return{host:e,port:l,domain:t,subdomain:r,secure:o,scheme:a,pathString:i,namespace:s}};class ri{constructor(e,t,r,i){this._repo=e,this._path=t,this._queryParams=r,this._orderByCalled=i}get key(){return De(this._path)?null:C1(this._path)}get ref(){return new Gi(this._repo,this._path)}get _queryIdentifier(){const e=j6(this._queryParams),t=f1(e);return"{}"===t?"default":t}get _queryObject(){return j6(this._queryParams)}isEqual(e){if(!((e=He(e))instanceof ri))return!1;const t=this._repo===e._repo,r=E1(this._path,e._path);return t&&r&&this._queryIdentifier===e._queryIdentifier}toJSON(){return this.toString()}toString(){return this._repo.toString()+function gke(n){let e="";for(let t=n.pieceNum_;t<n.pieces_.length;t++)""!==n.pieces_[t]&&(e+="/"+encodeURIComponent(String(n.pieces_[t])));return e||"/"}(this._path)}}class Gi extends ri{constructor(e,t){super(e,t,new R1,!1)}get parent(){const e=S6(this._path);return null===e?null:new Gi(this._repo,e)}get root(){let e=this;for(;null!==e.parent;)e=e.parent;return e}}(function xRe(n){$(!Xb,"__referenceConstructor has already been defined"),Xb=n})(Gi),function ORe(n){$(!Jb,"__referenceConstructor has already been defined"),Jb=n}(Gi);const vN={};class H1e{constructor(e,t){this._repoInternal=e,this.app=t,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(function c1e(n,e,t){if(n.stats_=v1(n.repoInfo_),n.forceRestClient_||("object"==typeof window&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0)n.server_=new jb(n.repoInfo_,(r,i,s,o)=>{A7(n,r,i,s,o)},n.authTokenProvider_,n.appCheckProvider_),setTimeout(()=>M7(n,!0),0);else{if(typeof t<"u"&&null!==t){if("object"!=typeof t)throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{Rn(t)}catch(r){throw new Error("Invalid authOverride provided: "+r)}}n.persistentConnection_=new cc(n.repoInfo_,e,(r,i,s,o)=>{A7(n,r,i,s,o)},r=>{M7(n,r)},r=>{!function u1e(n,e){Tn(e,(t,r)=>{dN(n,t,r)})}(n,r)},n.authTokenProvider_,n.appCheckProvider_,t),n.server_=n.persistentConnection_}n.authTokenProvider_.addTokenChangeListener(r=>{n.server_.refreshAuthToken(r)}),n.appCheckProvider_.addTokenChangeListener(r=>{n.server_.refreshAppCheckToken(r.token)}),n.statsReporter_=function qxe(n,e){const t=n.toString();return y1[t]||(y1[t]=e()),y1[t]}(n.repoInfo_,()=>new Kke(n.stats_,n.server_)),n.infoData_=new Hke,n.infoSyncTree_=new h7({startListening:(r,i,s,o)=>{let a=[];const l=n.infoData_.getNode(r._path);return l.isEmpty()||(a=dg(n.infoSyncTree_,r._path,l),setTimeout(()=>{o("ok")},0)),a},stopListening:()=>{}}),dN(n,"connected",!1),n.serverSyncTree_=new h7({startListening:(r,i,s,o)=>(n.server_.listen(r,s,i,(a,l)=>{const c=o(a,l);ni(n.eventQueue_,r._path,c)}),[]),stopListening:(r,i)=>{n.server_.unlisten(r,i)}})}(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new Gi(this._repo,ze())),this._rootInternal}_delete(){return null!==this._rootInternal&&(function U1e(n,e){const t=vN[e];(!t||t[n.key]!==n)&&Ts(`Database ${e}(${n.repoInfo_}) has already been deleted.`),function k7(n){n.persistentConnection_&&n.persistentConnection_.interrupt("repo_interrupt")}(n),delete t[n.key]}(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(e){null===this._rootInternal&&Ts("Cannot call "+e+" on a deleted database.")}}function z1e(n=as(),e){const t=Tr(n,"database").getImmediate({identifier:e}),r=L_("database");return r&&function G1e(n,e,t,r={}){(n=He(n))._checkNotDeleted("useEmulator"),n._instanceStarted&&Ts("Cannot call useEmulator() after instance has already been initialized.");const i=n._repoInternal;let s;if(i.repoInfo_.nodeAdmin)r.mockUserToken&&Ts('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),s=new Jp(Jp.OWNER);else if(r.mockUserToken){const o="string"==typeof r.mockUserToken?r.mockUserToken:bI(r.mockUserToken,n.app.options.projectId);s=new Jp(o)}!function V1e(n,e,t,r){n.repoInfo_=new m1(`${e}:${t}`,!1,n.repoInfo_.namespace,n.repoInfo_.webSocketOnly,n.repoInfo_.nodeAdmin,n.repoInfo_.persistenceKey,n.repoInfo_.includeNamespaceInQueryParams),r&&(n.authTokenProvider_=r)}(i,e,t,s)}(t,...r),t}cc.prototype.simpleListen=function(n,e){this.sendRequest("q",{p:n},e)},cc.prototype.echo=function(n,e){this.sendRequest("echo",{d:n},e)},function W1e(n){(function Rxe(n){u1=n})(Jo),un(new en("database",(e,{instanceIdentifier:t})=>function B1e(n,e,t,r,i){let s=r||n.options.databaseURL;void 0===s&&(n.options.projectId||Ts("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),In("Using default host for project ",n.options.projectId),s=`${n.options.projectId}-default-rtdb.firebaseio.com`);let l,c,o=_N(s,i),a=o.repoInfo;typeof process<"u"&&process.env&&(c=process.env.FIREBASE_DATABASE_EMULATOR_HOST),c?(l=!0,s=`http://${c}?ns=${a.namespace}`,o=_N(s,i),a=o.repoInfo):l=!o.repoInfo.secure;const u=i&&l?new Jp(Jp.OWNER):new zxe(n.name,n.options,e);E7("Invalid Firebase Database URL",o),De(o.path)||Ts("Database URL must point to the root of a Firebase Database (not including a child path).");const d=function $1e(n,e,t,r){let i=vN[e.name];i||(i={},vN[e.name]=i);let s=i[n.toURLString()];return s&&Ts("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),s=new l1e(n,!1,t,r),i[n.toURLString()]=s,s}(a,n,u,new Hxe(n.name,t));return new H1e(d,n)}(e.getProvider("app").getImmediate(),e.getProvider("auth-internal"),e.getProvider("app-check-internal"),t),"PUBLIC").setMultipleInstances(!0)),Te(jK,HK,n),Te(jK,HK,"esm2017")}();class bN{constructor(e){return e}}const j7="database",wN=new P("angularfire2.database-instances");function X1e(n){return(e,t)=>{const r=e.runOutsideAngular(()=>n(t));return new bN(r)}}const Z1e={provide:class Y1e{constructor(){return cs(j7)}},deps:[[new Ce,wN]]},J1e={provide:bN,useFactory:function Q1e(n,e){const t=ls(j7,n,e);return t&&new bN(t)},deps:[[new Ce,wN],Kr]};let eNe=(()=>{class n{constructor(){Te("angularfire",qr.full,"rtdb")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=ue({type:n}),n.\u0275inj=ce({providers:[J1e,Z1e]}),n})();function tNe(n,...e){return{ngModule:eNe,providers:[{provide:wN,useFactory:X1e(n),multi:!0,deps:[ie,Xe,us,ds,[new Ce,bf],[new Ce,Tu],...e]}]}}const nNe=Dt(z1e,!0),EN="functions";class aNe{constructor(e,t,r){this.auth=null,this.messaging=null,this.appCheck=null,this.auth=e.getImmediate({optional:!0}),this.messaging=t.getImmediate({optional:!0}),this.auth||e.get().then(i=>this.auth=i,()=>{}),this.messaging||t.get().then(i=>this.messaging=i,()=>{}),this.appCheck||r.get().then(i=>this.appCheck=i,()=>{})}getAuthToken(){var e=this;return _(function*(){if(e.auth)try{return(yield e.auth.getToken())?.accessToken}catch{return}})()}getMessagingToken(){var e=this;return _(function*(){if(e.messaging&&"Notification"in self&&"granted"===Notification.permission)try{return yield e.messaging.getToken()}catch{return}})()}getAppCheckToken(){var e=this;return _(function*(){if(e.appCheck){const t=yield e.appCheck.getToken();return t.error?null:t.token}return null})()}getContext(){var e=this;return _(function*(){return{authToken:yield e.getAuthToken(),messagingToken:yield e.getMessagingToken(),appCheckToken:yield e.getAppCheckToken()}})()}}const IN="us-central1";class cNe{constructor(e,t,r,i,s=IN,o){this.app=e,this.fetchImpl=o,this.emulatorOrigin=null,this.contextProvider=new aNe(t,r,i),this.cancelAllRequests=new Promise(a=>{this.deleteService=()=>Promise.resolve(a())});try{const a=new URL(s);this.customDomain=a.origin,this.region=IN}catch{this.customDomain=null,this.region=s}}_delete(){return this.deleteService()}_url(e){const t=this.app.options.projectId;return null!==this.emulatorOrigin?`${this.emulatorOrigin}/${t}/${this.region}/${e}`:null!==this.customDomain?`${this.customDomain}/${e}`:`https://${this.region}-${t}.cloudfunctions.net/${e}`}}const W7="@firebase/functions";function vNe(n=as(),e=IN){const r=Tr(He(n),EN).getImmediate({identifier:e}),i=L_("functions");return i&&function bNe(n,e,t){!function uNe(n,e,t){n.emulatorOrigin=`http://${e}:${t}`}(He(n),e,t)}(r,...i),r}!function yNe(n,e){un(new en(EN,(r,{instanceIdentifier:i})=>{const s=r.getProvider("app").getImmediate(),o=r.getProvider("auth-internal"),a=r.getProvider("messaging-internal"),l=r.getProvider("app-check-internal");return new cNe(s,o,a,l,i,n)},"PUBLIC").setMultipleInstances(!0)),Te(W7,"0.8.8",e),Te(W7,"0.8.8","esm2017")}(fetch.bind(self));class DN{constructor(e){return e}}const K7="functions",AN=new P("angularfire2.functions-instances");function ENe(n){return(e,t)=>{const r=e.runOutsideAngular(()=>n(t));return new DN(r)}}const INe={provide:class wNe{constructor(){return cs(K7)}},deps:[[new Ce,AN]]},TNe={provide:DN,useFactory:function CNe(n,e){const t=ls(K7,n,e);return t&&new DN(t)},deps:[[new Ce,AN],Kr]};let SNe=(()=>{class n{constructor(){Te("angularfire",qr.full,"fn")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=ue({type:n}),n.\u0275inj=ce({providers:[TNe,INe]}),n})();function DNe(n,...e){return{ngModule:SNe,providers:[{provide:AN,useFactory:ENe(n),multi:!0,deps:[ie,Xe,us,ds,[new Ce,bf],[new Ce,Tu],...e]}]}}const ANe=Dt(vNe,!0);class MN{constructor(e){return e}}const Y7="messaging",xN=new P("angularfire2.messaging-instances");function kNe(n){return(e,t)=>{if(!J_.sync())return null;const r=e.runOutsideAngular(()=>n(t));return new MN(r)}}const RNe={provide:class MNe{constructor(){return cs(Y7)}},deps:[[new Ce,xN]]},NNe={provide:MN,useFactory:function xNe(n,e){if(!J_.sync())return null;const t=ls(Y7,n,e);return t&&new MN(t)},deps:[[new Ce,xN],Kr]};let PNe=(()=>{class n{constructor(){Te("angularfire",qr.full,"fcm")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=ue({type:n}),n.\u0275inj=ce({providers:[NNe,RNe,{provide:Ja,useValue:J_.async,multi:!0}]}),n})();function ONe(n,...e){return{ngModule:PNe,providers:[{provide:xN,useFactory:kNe(n),multi:!0,deps:[ie,Xe,us,ds,...e]}]}}const FNe=Dt(Jde,!0),Q7="@firebase/performance",kN="0.5.17",RN="FB-PERF-TRACE-MEASURE",nY="@firebase/performance/config",rY="@firebase/performance/configexpire",iY="Performance",$n=new Li("performance",iY,{"trace started":"Trace {$traceName} was started before.","trace stopped":"Trace {$traceName} is not running.","nonpositive trace startTime":"Trace {$traceName} startTime should be positive.","nonpositive trace duration":"Trace {$traceName} duration should be positive.","no window":"Window is not available.","no app id":"App id is not available.","no project id":"Project id is not available.","no api key":"Api key is not available.","invalid cc log":"Attempted to queue invalid cc event","FB not default":"Performance can only start when Firebase app instance is the default one.","RC response not ok":"RC response is not ok","invalid attribute name":"Attribute name {$attributeName} is invalid.","invalid attribute value":"Attribute value {$attributeValue} is invalid.","invalid custom metric name":"Custom metric name {$customMetricName} is invalid","invalid String merger input":"Input for String merger is invalid, contact support team to resolve.","already initialized":"initializePerformance() has already been called with different options. To avoid this error, call initializePerformance() with the same options as when it was originally called, or call getPerformance() to return the already initialized instance."}),xs=new Zo(iY);let NN,sY,oY,ON;xs.logLevel=Ne.INFO;class Sn{constructor(e){if(this.window=e,!e)throw $n.create("no window");this.performance=e.performance,this.PerformanceObserver=e.PerformanceObserver,this.windowLocation=e.location,this.navigator=e.navigator,this.document=e.document,this.navigator&&this.navigator.cookieEnabled&&(this.localStorage=e.localStorage),e.perfMetrics&&e.perfMetrics.onFirstInputDelay&&(this.onFirstInputDelay=e.perfMetrics.onFirstInputDelay)}getUrl(){return this.windowLocation.href.split("?")[0]}mark(e){!this.performance||!this.performance.mark||this.performance.mark(e)}measure(e,t,r){!this.performance||!this.performance.measure||this.performance.measure(e,t,r)}getEntriesByType(e){return this.performance&&this.performance.getEntriesByType?this.performance.getEntriesByType(e):[]}getEntriesByName(e){return this.performance&&this.performance.getEntriesByName?this.performance.getEntriesByName(e):[]}getTimeOrigin(){return this.performance&&(this.performance.timeOrigin||this.performance.timing.navigationStart)}requiredApisAvailable(){return fetch&&Promise&&F_()?!!Xo()||(xs.info("IndexedDB is not supported by current browswer"),!1):(xs.info("Firebase Performance cannot start if browser does not support fetch and Promise or cookie is disabled."),!1)}setupObserver(e,t){this.PerformanceObserver&&new this.PerformanceObserver(i=>{for(const s of i.getEntries())t(s)}).observe({entryTypes:[e]})}static getInstance(){return void 0===NN&&(NN=new Sn(sY)),NN}}function PN(){return oY}function aY(n,e){const t=n.length-e.length;if(t<0||t>1)throw $n.create("invalid String merger input");const r=[];for(let i=0;i<n.length;i++)r.push(n.charAt(i)),e.length>i&&r.push(e.charAt(i));return r.join("")}class ii{constructor(){this.instrumentationEnabled=!0,this.dataCollectionEnabled=!0,this.loggingEnabled=!1,this.tracesSamplingRate=1,this.networkRequestsSamplingRate=1,this.logEndPointUrl="https://firebaselogging.googleapis.com/v0cc/log?format=json_proto",this.flTransportEndpointUrl=aY("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),this.transportKey=aY("AzSC8r6ReiGqFMyfvgow","Iayx0u-XT3vksVM-pIV"),this.logSource=462,this.logTraceAfterSampling=!1,this.logNetworkAfterSampling=!1,this.configTimeToLive=12}getFlTransportFullUrl(){return this.flTransportEndpointUrl.concat("?key=",this.transportKey)}static getInstance(){return void 0===ON&&(ON=new ii),ON}}var gc=(()=>(function(n){n[n.UNKNOWN=0]="UNKNOWN",n[n.VISIBLE=1]="VISIBLE",n[n.HIDDEN=2]="HIDDEN"}(gc||(gc={})),gc))();const zNe=["firebase_","google_","ga_"],GNe=new RegExp("^[a-zA-Z]\\w*$");function KNe(){const n=Sn.getInstance().navigator;return n?.serviceWorker?n.serviceWorker.controller?2:3:1}function lY(){switch(Sn.getInstance().document.visibilityState){case"visible":return gc.VISIBLE;case"hidden":return gc.HIDDEN;default:return gc.UNKNOWN}}function YNe(){const e=Sn.getInstance().navigator.connection;switch(e&&e.effectiveType){case"slow-2g":return 1;case"2g":return 2;case"3g":return 3;case"4g":return 4;default:return 0}}function cY(n){var e;const t=null===(e=n.options)||void 0===e?void 0:e.appId;if(!t)throw $n.create("no app id");return t}const Wi={loggingEnabled:!0};const sPe="Could not fetch config, will use default configs";function uY(n){if(!n)return n;const e=ii.getInstance(),t=n.entries||{};return e.loggingEnabled=void 0!==t.fpr_enabled?"true"===String(t.fpr_enabled):Wi.loggingEnabled,t.fpr_log_source?e.logSource=Number(t.fpr_log_source):Wi.logSource&&(e.logSource=Wi.logSource),t.fpr_log_endpoint_url?e.logEndPointUrl=t.fpr_log_endpoint_url:Wi.logEndPointUrl&&(e.logEndPointUrl=Wi.logEndPointUrl),t.fpr_log_transport_key?e.transportKey=t.fpr_log_transport_key:Wi.transportKey&&(e.transportKey=Wi.transportKey),void 0!==t.fpr_vc_network_request_sampling_rate?e.networkRequestsSamplingRate=Number(t.fpr_vc_network_request_sampling_rate):void 0!==Wi.networkRequestsSamplingRate&&(e.networkRequestsSamplingRate=Wi.networkRequestsSamplingRate),void 0!==t.fpr_vc_trace_sampling_rate?e.tracesSamplingRate=Number(t.fpr_vc_trace_sampling_rate):void 0!==Wi.tracesSamplingRate&&(e.tracesSamplingRate=Wi.tracesSamplingRate),e.logTraceAfterSampling=dY(e.tracesSamplingRate),e.logNetworkAfterSampling=dY(e.networkRequestsSamplingRate),n}function dY(n){return Math.random()<=n}let LN,FN=1;function hY(n){return FN=2,LN=LN||function cPe(n){return function uPe(){const n=Sn.getInstance().document;return new Promise(e=>{if(n&&"complete"!==n.readyState){const t=()=>{"complete"===n.readyState&&(n.removeEventListener("readystatechange",t),e())};n.addEventListener("readystatechange",t)}else e()})}().then(()=>function jNe(n){const e=n.getId();return e.then(t=>{oY=t}),e}(n.installations)).then(e=>function nPe(n,e){const t=function rPe(){const n=Sn.getInstance().localStorage;if(!n)return;const e=n.getItem(rY);if(!e||!function aPe(n){return Number(n)>Date.now()}(e))return;const t=n.getItem(nY);if(t)try{return JSON.parse(t)}catch{return}}();return t?(uY(t),Promise.resolve()):function oPe(n,e){return function HNe(n){const e=n.getToken();return e.then(t=>{}),e}(n.installations).then(t=>{const r=function ZNe(n){var e;const t=null===(e=n.options)||void 0===e?void 0:e.projectId;if(!t)throw $n.create("no project id");return t}(n.app),i=function JNe(n){var e;const t=null===(e=n.options)||void 0===e?void 0:e.apiKey;if(!t)throw $n.create("no api key");return t}(n.app),o=new Request(`https://firebaseremoteconfig.googleapis.com/v1/projects/${r}/namespaces/fireperf:fetch?key=${i}`,{method:"POST",headers:{Authorization:`FIREBASE_INSTALLATIONS_AUTH ${t}`},body:JSON.stringify({app_instance_id:e,app_instance_id_token:t,app_id:cY(n.app),app_version:"0.5.17",sdk_version:"0.0.1"})});return fetch(o).then(a=>{if(a.ok)return a.json();throw $n.create("RC response not ok")})}).catch(()=>{xs.info(sPe)})}(n,e).then(uY).then(r=>function iPe(n){const e=Sn.getInstance().localStorage;!n||!e||(e.setItem(nY,JSON.stringify(n)),e.setItem(rY,String(Date.now()+60*ii.getInstance().configTimeToLive*60*1e3)))}(r),()=>{})}(n,e)).then(()=>fY(),()=>fY())}(n),LN}function fY(){FN=3}let BN,pw=3,Ra=[],gY=!1;function gw(n){setTimeout(()=>{if(0!==pw){if(!Ra.length)return gw(1e4);!function pPe(){const n=Ra.splice(0,1e3),e=n.map(r=>({source_extension_json_proto3:r.message,event_time_ms:String(r.eventTime)}));(function gPe(n,e){return function mPe(n){const e=ii.getInstance().getFlTransportFullUrl();return fetch(e,{method:"POST",body:JSON.stringify(n)})}(n).then(t=>(t.ok||xs.info("Call to Firebase backend failed."),t.json())).then(t=>{const r=Number(t.nextRequestWaitMillis);let i=1e4;isNaN(r)||(i=Math.max(r,i));const s=t.logResponseDetails;Array.isArray(s)&&s.length>0&&"RETRY_REQUEST_LATER"===s[0].responseAction&&(Ra=[...e,...Ra],xs.info("Retry transport request later.")),pw=3,gw(i)})})({request_time_ms:String(Date.now()),client_info:{client_type:1,js_client_info:{}},log_source:ii.getInstance().logSource,log_event:e},n).catch(()=>{Ra=[...n,...Ra],pw--,xs.info(`Tries left: ${pw}.`),gw(1e4)})}()}},n)}function mY(n,e){BN||(BN=function yPe(n){return(...e)=>{!function _Pe(n){if(!n.eventTime||!n.message)throw $n.create("invalid cc log");Ra=[...Ra,n]}({message:n(...e),eventTime:Date.now()})}}(bPe)),BN(n,e)}function mw(n){const e=ii.getInstance();!e.instrumentationEnabled&&n.isAuto||!e.dataCollectionEnabled&&!n.isAuto||!Sn.getInstance().requiredApisAvailable()||n.isAuto&&lY()!==gc.VISIBLE||(function lPe(){return 3===FN}()?UN(n):hY(n.performanceController).then(()=>UN(n),()=>UN(n)))}function UN(n){if(!PN())return;const e=ii.getInstance();!e.loggingEnabled||!e.logTraceAfterSampling||setTimeout(()=>mY(n,1),0)}function bPe(n,e){return 0===e?function wPe(n){const e={url:n.url,http_method:n.httpMethod||0,http_response_code:200,response_payload_bytes:n.responsePayloadBytes,client_start_time_us:n.startTimeUs,time_to_response_initiated_us:n.timeToResponseInitiatedUs,time_to_response_completed_us:n.timeToResponseCompletedUs},t={application_info:_Y(n.performanceController.app),network_request_metric:e};return JSON.stringify(t)}(n):function CPe(n){const e={name:n.name,is_auto:n.isAuto,client_start_time_us:n.startTimeUs,duration_us:n.durationUs};0!==Object.keys(n.counters).length&&(e.counters=n.counters);const t=n.getAttributes();0!==Object.keys(t).length&&(e.custom_attributes=t);const r={application_info:_Y(n.performanceController.app),trace_metric:e};return JSON.stringify(r)}(n)}function _Y(n){return{google_app_id:cY(n),app_instance_id:PN(),web_app_info:{sdk_version:"0.5.17",page_url:Sn.getInstance().getUrl(),service_worker_status:KNe(),visibility_state:lY(),effective_connection_type:YNe()},application_process_state:0}}const TPe=["_fp","_fcp","_fid"];class Na{constructor(e,t,r=!1,i){this.performanceController=e,this.name=t,this.isAuto=r,this.state=1,this.customAttributes={},this.counters={},this.api=Sn.getInstance(),this.randomId=Math.floor(1e6*Math.random()),this.isAuto||(this.traceStartMark=`FB-PERF-TRACE-START-${this.randomId}-${this.name}`,this.traceStopMark=`FB-PERF-TRACE-STOP-${this.randomId}-${this.name}`,this.traceMeasure=i||`${RN}-${this.randomId}-${this.name}`,i&&this.calculateTraceMetrics())}start(){if(1!==this.state)throw $n.create("trace started",{traceName:this.name});this.api.mark(this.traceStartMark),this.state=2}stop(){if(2!==this.state)throw $n.create("trace stopped",{traceName:this.name});this.state=3,this.api.mark(this.traceStopMark),this.api.measure(this.traceMeasure,this.traceStartMark,this.traceStopMark),this.calculateTraceMetrics(),mw(this)}record(e,t,r){if(e<=0)throw $n.create("nonpositive trace startTime",{traceName:this.name});if(t<=0)throw $n.create("nonpositive trace duration",{traceName:this.name});if(this.durationUs=Math.floor(1e3*t),this.startTimeUs=Math.floor(1e3*e),r&&r.attributes&&(this.customAttributes=Object.assign({},r.attributes)),r&&r.metrics)for(const i of Object.keys(r.metrics))isNaN(Number(r.metrics[i]))||(this.counters[i]=Math.floor(Number(r.metrics[i])));mw(this)}incrementMetric(e,t=1){this.putMetric(e,void 0===this.counters[e]?t:this.counters[e]+t)}putMetric(e,t){if(!function SPe(n,e){return!(0===n.length||n.length>100)&&(e&&e.startsWith("_wt_")&&TPe.indexOf(n)>-1||!n.startsWith("_"))}(e,this.name))throw $n.create("invalid custom metric name",{customMetricName:e});this.counters[e]=function DPe(n){const e=Math.floor(n);return e<n&&xs.info(`Metric value should be an Integer, setting the value as : ${e}.`),e}(t??0)}getMetric(e){return this.counters[e]||0}putAttribute(e,t){const r=function QNe(n){return!(0===n.length||n.length>40||zNe.some(t=>n.startsWith(t))||!n.match(GNe))}(e),i=function XNe(n){return 0!==n.length&&n.length<=100}(t);if(r&&i)this.customAttributes[e]=t;else{if(!r)throw $n.create("invalid attribute name",{attributeName:e});if(!i)throw $n.create("invalid attribute value",{attributeValue:t})}}getAttribute(e){return this.customAttributes[e]}removeAttribute(e){void 0!==this.customAttributes[e]&&delete this.customAttributes[e]}getAttributes(){return Object.assign({},this.customAttributes)}setStartTime(e){this.startTimeUs=e}setDuration(e){this.durationUs=e}calculateTraceMetrics(){const e=this.api.getEntriesByName(this.traceMeasure),t=e&&e[0];t&&(this.durationUs=Math.floor(1e3*t.duration),this.startTimeUs=Math.floor(1e3*(t.startTime+this.api.getTimeOrigin())))}static createOobTrace(e,t,r,i){const s=Sn.getInstance().getUrl();if(!s)return;const o=new Na(e,"_wt_"+s,!0),a=Math.floor(1e3*Sn.getInstance().getTimeOrigin());if(o.setStartTime(a),t&&t[0]&&(o.setDuration(Math.floor(1e3*t[0].duration)),o.putMetric("domInteractive",Math.floor(1e3*t[0].domInteractive)),o.putMetric("domContentLoadedEventEnd",Math.floor(1e3*t[0].domContentLoadedEventEnd)),o.putMetric("loadEventEnd",Math.floor(1e3*t[0].loadEventEnd))),r){const u=r.find(h=>"first-paint"===h.name);u&&u.startTime&&o.putMetric("_fp",Math.floor(1e3*u.startTime));const d=r.find(h=>"first-contentful-paint"===h.name);d&&d.startTime&&o.putMetric("_fcp",Math.floor(1e3*d.startTime)),i&&o.putMetric("_fid",Math.floor(1e3*i))}mw(o)}static createUserTimingTrace(e,t){mw(new Na(e,t,!1,t))}}function yY(n,e){const t=e;if(!t||void 0===t.responseStart)return;const r=Sn.getInstance().getTimeOrigin(),i=Math.floor(1e3*(t.startTime+r)),s=t.responseStart?Math.floor(1e3*(t.responseStart-t.startTime)):void 0,o=Math.floor(1e3*(t.responseEnd-t.startTime));!function vPe(n){const e=ii.getInstance();if(!e.instrumentationEnabled)return;const t=n.url,r=e.logEndPointUrl.split("?")[0],i=e.flTransportEndpointUrl.split("?")[0];t===r||t===i||!e.loggingEnabled||!e.logNetworkAfterSampling||setTimeout(()=>mY(n,0),0)}({performanceController:n,url:t.name&&t.name.split("?")[0],responsePayloadBytes:t.transferSize,startTimeUs:i,timeToResponseInitiatedUs:s,timeToResponseCompletedUs:o})}function vY(n){!PN()||(setTimeout(()=>function xPe(n){const e=Sn.getInstance(),t=e.getEntriesByType("navigation"),r=e.getEntriesByType("paint");if(e.onFirstInputDelay){let i=setTimeout(()=>{Na.createOobTrace(n,t,r),i=void 0},5e3);e.onFirstInputDelay(s=>{i&&(clearTimeout(i),Na.createOobTrace(n,t,r,s))})}else Na.createOobTrace(n,t,r)}(n),0),setTimeout(()=>function MPe(n){const e=Sn.getInstance(),t=e.getEntriesByType("resource");for(const r of t)yY(n,r);e.setupObserver("resource",r=>yY(n,r))}(n),0),setTimeout(()=>function kPe(n){const e=Sn.getInstance(),t=e.getEntriesByType("measure");for(const r of t)bY(n,r);e.setupObserver("measure",r=>bY(n,r))}(n),0))}function bY(n,e){const t=e.name;t.substring(0,RN.length)!==RN&&Na.createUserTimingTrace(n,t)}class RPe{constructor(e,t){this.app=e,this.installations=t,this.initialized=!1}_init(e){this.initialized||(void 0!==e?.dataCollectionEnabled&&(this.dataCollectionEnabled=e.dataCollectionEnabled),void 0!==e?.instrumentationEnabled&&(this.instrumentationEnabled=e.instrumentationEnabled),Sn.getInstance().requiredApisAvailable()?_u().then(t=>{t&&(function fPe(){gY||(gw(5500),gY=!0)}(),hY(this).then(()=>vY(this),()=>vY(this)),this.initialized=!0)}).catch(t=>{xs.info(`Environment doesn't support IndexedDB: ${t}`)}):xs.info('Firebase Performance cannot start if the browser does not support "Fetch" and "Promise", or cookies are disabled.'))}set instrumentationEnabled(e){ii.getInstance().instrumentationEnabled=e}get instrumentationEnabled(){return ii.getInstance().instrumentationEnabled}set dataCollectionEnabled(e){ii.getInstance().dataCollectionEnabled=e}get dataCollectionEnabled(){return ii.getInstance().dataCollectionEnabled}}function PPe(n=as()){return Tr(n=He(n),"performance").getImmediate()}const OPe=(n,{options:e})=>{const t=n.getProvider("app").getImmediate(),r=n.getProvider("installations-internal").getImmediate();if("[DEFAULT]"!==t.name)throw $n.create("FB not default");if(typeof window>"u")throw $n.create("no window");!function $Ne(n){sY=n}(window);const i=new RPe(t,r);return i._init(e),i};!function FPe(){un(new en("performance",OPe,"PUBLIC")),Te(Q7,kN),Te(Q7,kN,"esm2017")}();class $N{constructor(e){return e}}const wY="performance",jN=new P("angularfire2.performance-instances");function BPe(n){return(e,t,r)=>{if(!C0(t))return null;const i=e.runOutsideAngular(()=>n(r));return new $N(i)}}const UPe={provide:class LPe{constructor(){return cs(wY)}},deps:[[new Ce,jN]]},$Pe={provide:$N,useFactory:function VPe(n,e,t){if(!C0(t))return null;const r=ls(wY,n,e);return r&&new $N(r)},deps:[[new Ce,jN],Kr,qs]};let jPe=(()=>{class n{constructor(){Te("angularfire",qr.full,"perf")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=ue({type:n}),n.\u0275inj=ce({providers:[$Pe,UPe]}),n})();function HPe(n,...e){return{ngModule:jPe,providers:[{provide:jN,useFactory:BPe(n),multi:!0,deps:[ie,qs,Xe,us,ds,...e]}]}}const zPe=Dt(PPe,!0);class HN{constructor(e){return e}}const CY="remote-config",zN=new P("angularfire2.remote-config-instances");function qPe(n){return(e,t)=>{if(!ey.sync())return null;const r=e.runOutsideAngular(()=>n(t));return new HN(r)}}const KPe={provide:class GPe{constructor(){return cs(CY)}},deps:[[new Ce,zN]]},YPe={provide:HN,useFactory:function WPe(n,e){if(!ey.sync())return null;const t=ls(CY,n,e);return t&&new HN(t)},deps:[[new Ce,zN],Kr]};let QPe=(()=>{class n{constructor(){Te("angularfire",qr.full,"rc")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=ue({type:n}),n.\u0275inj=ce({providers:[YPe,KPe,{provide:Ja,useValue:ey.async,multi:!0}]}),n})();function XPe(n,...e){return{ngModule:QPe,providers:[{provide:zN,useFactory:qPe(n),multi:!0,deps:[ie,Xe,us,ds,...e]}]}}const ZPe=Dt(Yue,!0);let JPe=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=ue({type:n,bootstrap:[nAe]}),n.\u0275inj=ce({providers:[$K,o1],imports:[K2,HSe,txe,YSe,P0e,LCe,rb,rb,yIe,LEe,qDe,nxe,XDe,OSe,sxe,Xhe(()=>Zhe(FK_firebase)),kxe(()=>cxe()),Rme(()=>Ome()),tNe(()=>nNe()),Dwe(()=>Mwe()),DNe(()=>ANe()),ONe(()=>FNe()),HPe(()=>zPe()),XPe(()=>ZPe()),fSe(()=>gSe()),Tle,FEe]}),n})();(function sre(){if(qB)throw new Error("Cannot enable prod mode after platform setup.");WB=!1})(),Mse().bootstrapModule(JPe).catch(n=>console.error(n))}},Ue=>{Ue(Ue.s=140)}]);