"use strict";(self.webpackChunkmyProject=self.webpackChunkmyProject||[]).push([[179],{407:()=>{function He(n){return"function"==typeof n}function $d(n){const t=n(r=>{Error.call(r),r.stack=(new Error).stack});return t.prototype=Object.create(Error.prototype),t.prototype.constructor=t,t}const km=$d(n=>function(t){n(this),this.message=t?`${t.length} errors occurred during unsubscription:\n${t.map((r,i)=>`${i+1}) ${r.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=t});function Ec(n,e){if(n){const t=n.indexOf(e);0<=t&&n.splice(t,1)}}class Ft{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;const{_parentage:t}=this;if(t)if(this._parentage=null,Array.isArray(t))for(const s of t)s.remove(this);else t.remove(this);const{initialTeardown:r}=this;if(He(r))try{r()}catch(s){e=s instanceof km?s.errors:[s]}const{_finalizers:i}=this;if(i){this._finalizers=null;for(const s of i)try{iO(s)}catch(o){e=e??[],o instanceof km?e=[...e,...o.errors]:e.push(o)}}if(e)throw new km(e)}}add(e){var t;if(e&&e!==this)if(this.closed)iO(e);else{if(e instanceof Ft){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=null!==(t=this._finalizers)&&void 0!==t?t:[]).push(e)}}_hasParent(e){const{_parentage:t}=this;return t===e||Array.isArray(t)&&t.includes(e)}_addParent(e){const{_parentage:t}=this;this._parentage=Array.isArray(t)?(t.push(e),t):t?[t,e]:e}_removeParent(e){const{_parentage:t}=this;t===e?this._parentage=null:Array.isArray(t)&&Ec(t,e)}remove(e){const{_finalizers:t}=this;t&&Ec(t,e),e instanceof Ft&&e._removeParent(this)}}Ft.EMPTY=(()=>{const n=new Ft;return n.closed=!0,n})();const nO=Ft.EMPTY;function rO(n){return n instanceof Ft||n&&"closed"in n&&He(n.remove)&&He(n.add)&&He(n.unsubscribe)}function iO(n){He(n)?n():n.unsubscribe()}const Ba={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},Rm={setTimeout(n,e,...t){const{delegate:r}=Rm;return r?.setTimeout?r.setTimeout(n,e,...t):setTimeout(n,e,...t)},clearTimeout(n){const{delegate:e}=Rm;return(e?.clearTimeout||clearTimeout)(n)},delegate:void 0};function sO(n){Rm.setTimeout(()=>{const{onUnhandledError:e}=Ba;if(!e)throw n;e(n)})}function Pm(){}const jY=Mw("C",void 0,void 0);function Mw(n,e,t){return{kind:n,value:e,error:t}}let Ua=null;function Om(n){if(Ba.useDeprecatedSynchronousErrorHandling){const e=!Ua;if(e&&(Ua={errorThrown:!1,error:null}),n(),e){const{errorThrown:t,error:r}=Ua;if(Ua=null,t)throw r}}else n()}class xw extends Ft{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,rO(e)&&e.add(this)):this.destination=QY}static create(e,t,r){return new jd(e,t,r)}next(e){this.isStopped?Rw(function GY(n){return Mw("N",n,void 0)}(e),this):this._next(e)}error(e){this.isStopped?Rw(function zY(n){return Mw("E",void 0,n)}(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?Rw(jY,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const qY=Function.prototype.bind;function kw(n,e){return qY.call(n,e)}class KY{constructor(e){this.partialObserver=e}next(e){const{partialObserver:t}=this;if(t.next)try{t.next(e)}catch(r){Nm(r)}}error(e){const{partialObserver:t}=this;if(t.error)try{t.error(e)}catch(r){Nm(r)}else Nm(e)}complete(){const{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(t){Nm(t)}}}class jd extends xw{constructor(e,t,r){let i;if(super(),He(e)||!e)i={next:e??void 0,error:t??void 0,complete:r??void 0};else{let s;this&&Ba.useDeprecatedNextContext?(s=Object.create(e),s.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&kw(e.next,s),error:e.error&&kw(e.error,s),complete:e.complete&&kw(e.complete,s)}):i=e}this.destination=new KY(i)}}function Nm(n){Ba.useDeprecatedSynchronousErrorHandling?function WY(n){Ba.useDeprecatedSynchronousErrorHandling&&Ua&&(Ua.errorThrown=!0,Ua.error=n)}(n):sO(n)}function Rw(n,e){const{onStoppedNotification:t}=Ba;t&&Rm.setTimeout(()=>t(n,e))}const QY={closed:!0,next:Pm,error:function YY(n){throw n},complete:Pm},Pw="function"==typeof Symbol&&Symbol.observable||"@@observable";function Fo(n){return n}function oO(...n){return aO(n)}function aO(n){return 0===n.length?Fo:1===n.length?n[0]:function(t){return n.reduce((r,i)=>i(r),t)}}let ze=(()=>{class n{constructor(t){t&&(this._subscribe=t)}lift(t){const r=new n;return r.source=this,r.operator=t,r}subscribe(t,r,i){const s=function ZY(n){return n&&n instanceof xw||function XY(n){return n&&He(n.next)&&He(n.error)&&He(n.complete)}(n)&&rO(n)}(t)?t:new jd(t,r,i);return Om(()=>{const{operator:o,source:a}=this;s.add(o?o.call(s,a):a?this._subscribe(s):this._trySubscribe(s))}),s}_trySubscribe(t){try{return this._subscribe(t)}catch(r){t.error(r)}}forEach(t,r){return new(r=lO(r))((i,s)=>{const o=new jd({next:a=>{try{t(a)}catch(l){s(l),o.unsubscribe()}},error:s,complete:i});this.subscribe(o)})}_subscribe(t){var r;return null===(r=this.source)||void 0===r?void 0:r.subscribe(t)}[Pw](){return this}pipe(...t){return aO(t)(this)}toPromise(t){return new(t=lO(t))((r,i)=>{let s;this.subscribe(o=>s=o,o=>i(o),()=>r(s))})}}return n.create=e=>new n(e),n})();function lO(n){var e;return null!==(e=n??Ba.Promise)&&void 0!==e?e:Promise}const JY=$d(n=>function(){n(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});let Le=(()=>{class n extends ze{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(t){const r=new cO(this,this);return r.operator=t,r}_throwIfClosed(){if(this.closed)throw new JY}next(t){Om(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const r of this.currentObservers)r.next(t)}})}error(t){Om(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=t;const{observers:r}=this;for(;r.length;)r.shift().error(t)}})}complete(){Om(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:t}=this;for(;t.length;)t.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var t;return(null===(t=this.observers)||void 0===t?void 0:t.length)>0}_trySubscribe(t){return this._throwIfClosed(),super._trySubscribe(t)}_subscribe(t){return this._throwIfClosed(),this._checkFinalizedStatuses(t),this._innerSubscribe(t)}_innerSubscribe(t){const{hasError:r,isStopped:i,observers:s}=this;return r||i?nO:(this.currentObservers=null,s.push(t),new Ft(()=>{this.currentObservers=null,Ec(s,t)}))}_checkFinalizedStatuses(t){const{hasError:r,thrownError:i,isStopped:s}=this;r?t.error(i):s&&t.complete()}asObservable(){const t=new ze;return t.source=this,t}}return n.create=(e,t)=>new cO(e,t),n})();class cO extends Le{constructor(e,t){super(),this.destination=e,this.source=t}next(e){var t,r;null===(r=null===(t=this.destination)||void 0===t?void 0:t.next)||void 0===r||r.call(t,e)}error(e){var t,r;null===(r=null===(t=this.destination)||void 0===t?void 0:t.error)||void 0===r||r.call(t,e)}complete(){var e,t;null===(t=null===(e=this.destination)||void 0===e?void 0:e.complete)||void 0===t||t.call(e)}_subscribe(e){var t,r;return null!==(r=null===(t=this.source)||void 0===t?void 0:t.subscribe(e))&&void 0!==r?r:nO}}function uO(n){return He(n?.lift)}function yt(n){return e=>{if(uO(e))return e.lift(function(t){try{return n(t,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function nt(n,e,t,r,i){return new dO(n,e,t,r,i)}class dO extends xw{constructor(e,t,r,i,s,o){super(e),this.onFinalize=s,this.shouldUnsubscribe=o,this._next=t?function(a){try{t(a)}catch(l){e.error(l)}}:super._next,this._error=i?function(a){try{i(a)}catch(l){e.error(l)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:t}=this;super.unsubscribe(),!t&&(null===(e=this.onFinalize)||void 0===e||e.call(this))}}}function re(n,e){return yt((t,r)=>{let i=0;t.subscribe(nt(r,s=>{r.next(n.call(e,s,i++))}))})}function fO(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(null!=n&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(n);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(t[r[i]]=n[r[i]])}return t}function tQ(n,e){return function(t,r){e(t,r,n)}}function nQ(n,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(n,e)}function pO(n,e,t,r){return new(t||(t=Promise))(function(s,o){function a(u){try{c(r.next(u))}catch(d){o(d)}}function l(u){try{c(r.throw(u))}catch(d){o(d)}}function c(u){u.done?s(u.value):function i(s){return s instanceof t?s:new t(function(o){o(s)})}(u.value).then(a,l)}c((r=r.apply(n,e||[])).next())})}function Ha(n){return this instanceof Ha?(this.v=n,this):new Ha(n)}function iQ(n,e,t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i,r=t.apply(n,e||[]),s=[];return i={},o("next"),o("throw"),o("return"),i[Symbol.asyncIterator]=function(){return this},i;function o(h){r[h]&&(i[h]=function(f){return new Promise(function(p,m){s.push([h,f,p,m])>1||a(h,f)})})}function a(h,f){try{!function l(h){h.value instanceof Ha?Promise.resolve(h.value.v).then(c,u):d(s[0][2],h)}(r[h](f))}catch(p){d(s[0][3],p)}}function c(h){a("next",h)}function u(h){a("throw",h)}function d(h,f){h(f),s.shift(),s.length&&a(s[0][0],s[0][1])}}function sQ(n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,e=n[Symbol.asyncIterator];return e?e.call(n):(n=function gO(n){var e="function"==typeof Symbol&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&"number"==typeof n.length)return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}(n),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(s){t[s]=n[s]&&function(o){return new Promise(function(a,l){!function i(s,o,a,l){Promise.resolve(l).then(function(c){s({value:c,done:a})},o)}(a,l,(o=n[s](o)).done,o.value)})}}}const Nw=n=>n&&"number"==typeof n.length&&"function"!=typeof n;function _O(n){return He(n?.then)}function yO(n){return He(n[Pw])}function vO(n){return Symbol.asyncIterator&&He(n?.[Symbol.asyncIterator])}function bO(n){return new TypeError(`You provided ${null!==n&&"object"==typeof n?"an invalid object":`'${n}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}const wO=function aQ(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}();function CO(n){return He(n?.[wO])}function EO(n){return iQ(this,arguments,function*(){const t=n.getReader();try{for(;;){const{value:r,done:i}=yield Ha(t.read());if(i)return yield Ha(void 0);yield yield Ha(r)}}finally{t.releaseLock()}})}function IO(n){return He(n?.getReader)}function kn(n){if(n instanceof ze)return n;if(null!=n){if(yO(n))return function lQ(n){return new ze(e=>{const t=n[Pw]();if(He(t.subscribe))return t.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(n);if(Nw(n))return function cQ(n){return new ze(e=>{for(let t=0;t<n.length&&!e.closed;t++)e.next(n[t]);e.complete()})}(n);if(_O(n))return function uQ(n){return new ze(e=>{n.then(t=>{e.closed||(e.next(t),e.complete())},t=>e.error(t)).then(null,sO)})}(n);if(vO(n))return TO(n);if(CO(n))return function dQ(n){return new ze(e=>{for(const t of n)if(e.next(t),e.closed)return;e.complete()})}(n);if(IO(n))return function hQ(n){return TO(EO(n))}(n)}throw bO(n)}function TO(n){return new ze(e=>{(function fQ(n,e){var t,r,i,s;return pO(this,void 0,void 0,function*(){try{for(t=sQ(n);!(r=yield t.next()).done;)if(e.next(r.value),e.closed)return}catch(o){i={error:o}}finally{try{r&&!r.done&&(s=t.return)&&(yield s.call(t))}finally{if(i)throw i.error}}e.complete()})})(n,e).catch(t=>e.error(t))})}function Fs(n,e,t,r=0,i=!1){const s=e.schedule(function(){t(),i?n.add(this.schedule(null,r)):this.unsubscribe()},r);if(n.add(s),!i)return s}function Xt(n,e,t=1/0){return He(e)?Xt((r,i)=>re((s,o)=>e(r,s,i,o))(kn(n(r,i))),t):("number"==typeof e&&(t=e),yt((r,i)=>function pQ(n,e,t,r,i,s,o,a){const l=[];let c=0,u=0,d=!1;const h=()=>{d&&!l.length&&!c&&e.complete()},f=m=>c<r?p(m):l.push(m),p=m=>{s&&e.next(m),c++;let g=!1;kn(t(m,u++)).subscribe(nt(e,b=>{i?.(b),s?f(b):e.next(b)},()=>{g=!0},void 0,()=>{if(g)try{for(c--;l.length&&c<r;){const b=l.shift();o?Fs(e,o,()=>p(b)):p(b)}h()}catch(b){e.error(b)}}))};return n.subscribe(nt(e,f,()=>{d=!0,h()})),()=>{a?.()}}(r,i,n,t)))}function Ic(n=1/0){return Xt(Fo,n)}const Ji=new ze(n=>n.complete());function SO(n){return n&&He(n.schedule)}function Fw(n){return n[n.length-1]}function DO(n){return He(Fw(n))?n.pop():void 0}function zd(n){return SO(Fw(n))?n.pop():void 0}function Fm(n,e=0){return yt((t,r)=>{t.subscribe(nt(r,i=>Fs(r,n,()=>r.next(i),e),()=>Fs(r,n,()=>r.complete(),e),i=>Fs(r,n,()=>r.error(i),e)))})}function Lm(n,e=0){return yt((t,r)=>{r.add(n.schedule(()=>t.subscribe(r),e))})}function AO(n,e){if(!n)throw new Error("Iterable cannot be null");return new ze(t=>{Fs(t,e,()=>{const r=n[Symbol.asyncIterator]();Fs(t,e,()=>{r.next().then(i=>{i.done?t.complete():t.next(i.value)})},0,!0)})})}function ut(n,e){return e?function CQ(n,e){if(null!=n){if(yO(n))return function _Q(n,e){return kn(n).pipe(Lm(e),Fm(e))}(n,e);if(Nw(n))return function vQ(n,e){return new ze(t=>{let r=0;return e.schedule(function(){r===n.length?t.complete():(t.next(n[r++]),t.closed||this.schedule())})})}(n,e);if(_O(n))return function yQ(n,e){return kn(n).pipe(Lm(e),Fm(e))}(n,e);if(vO(n))return AO(n,e);if(CO(n))return function bQ(n,e){return new ze(t=>{let r;return Fs(t,e,()=>{r=n[wO](),Fs(t,e,()=>{let i,s;try{({value:i,done:s}=r.next())}catch(o){return void t.error(o)}s?t.complete():t.next(i)},0,!0)}),()=>He(r?.return)&&r.return()})}(n,e);if(IO(n))return function wQ(n,e){return AO(EO(n),e)}(n,e)}throw bO(n)}(n,e):kn(n)}function Tc(...n){const e=zd(n),t=function gQ(n,e){return"number"==typeof Fw(n)?n.pop():e}(n,1/0),r=n;return r.length?1===r.length?kn(r[0]):Ic(t)(ut(r,e)):Ji}function MO(n={}){const{connector:e=(()=>new Le),resetOnError:t=!0,resetOnComplete:r=!0,resetOnRefCountZero:i=!0}=n;return s=>{let o,a,l,c=0,u=!1,d=!1;const h=()=>{a?.unsubscribe(),a=void 0},f=()=>{h(),o=l=void 0,u=d=!1},p=()=>{const m=o;f(),m?.unsubscribe()};return yt((m,g)=>{c++,!d&&!u&&h();const b=l=l??e();g.add(()=>{c--,0===c&&!d&&!u&&(a=Lw(p,i))}),b.subscribe(g),!o&&c>0&&(o=new jd({next:E=>b.next(E),error:E=>{d=!0,h(),a=Lw(f,t,E),b.error(E)},complete:()=>{u=!0,h(),a=Lw(f,r),b.complete()}}),kn(m).subscribe(o))})(s)}}function Lw(n,e,...t){if(!0===e)return void n();if(!1===e)return;const r=new jd({next:()=>{r.unsubscribe(),n()}});return e(...t).subscribe(r)}function st(n){for(let e in n)if(n[e]===st)return e;throw Error("Could not find renamed property on target object.")}function Vw(n,e){for(const t in e)e.hasOwnProperty(t)&&!n.hasOwnProperty(t)&&(n[t]=e[t])}function ot(n){if("string"==typeof n)return n;if(Array.isArray(n))return"["+n.map(ot).join(", ")+"]";if(null==n)return""+n;if(n.overriddenName)return`${n.overriddenName}`;if(n.name)return`${n.name}`;const e=n.toString();if(null==e)return""+e;const t=e.indexOf("\n");return-1===t?e:e.substring(0,t)}function Bw(n,e){return null==n||""===n?null===e?"":e:null==e||""===e?n:n+" "+e}const EQ=st({__forward_ref__:st});function rt(n){return n.__forward_ref__=rt,n.toString=function(){return ot(this())},n}function ue(n){return Uw(n)?n():n}function Uw(n){return"function"==typeof n&&n.hasOwnProperty(EQ)&&n.__forward_ref__===rt}class x extends Error{constructor(e,t){super(function Vm(n,e){return`NG0${Math.abs(n)}${e?": "+e.trim():""}`}(e,t)),this.code=e}}function ge(n){return"string"==typeof n?n:null==n?"":String(n)}function Bm(n,e){throw new x(-201,!1)}function Vr(n,e){null==n&&function Xe(n,e,t,r){throw new Error(`ASSERTION ERROR: ${n}`+(null==r?"":` [Expected=> ${t} ${r} ${e} <=Actual]`))}(e,n,null,"!=")}function V(n){return{token:n.token,providedIn:n.providedIn||null,factory:n.factory,value:void 0}}function ee(n){return{providers:n.providers||[],imports:n.imports||[]}}function Um(n){return xO(n,Hm)||xO(n,RO)}function xO(n,e){return n.hasOwnProperty(e)?n[e]:null}function kO(n){return n&&(n.hasOwnProperty(Hw)||n.hasOwnProperty(RQ))?n[Hw]:null}const Hm=st({\u0275prov:st}),Hw=st({\u0275inj:st}),RO=st({ngInjectableDef:st}),RQ=st({ngInjectorDef:st});var ie=(()=>((ie=ie||{})[ie.Default=0]="Default",ie[ie.Host=1]="Host",ie[ie.Self=2]="Self",ie[ie.SkipSelf=4]="SkipSelf",ie[ie.Optional=8]="Optional",ie))();let $w;function di(n){const e=$w;return $w=n,e}function PO(n,e,t){const r=Um(n);return r&&"root"==r.providedIn?void 0===r.value?r.value=r.factory():r.value:t&ie.Optional?null:void 0!==e?e:void Bm(ot(n))}function Lo(n){return{toString:n}.toString()}var Si=(()=>((Si=Si||{})[Si.OnPush=0]="OnPush",Si[Si.Default=1]="Default",Si))(),Di=(()=>{return(n=Di||(Di={}))[n.Emulated=0]="Emulated",n[n.None=2]="None",n[n.ShadowDom=3]="ShadowDom",Di;var n})();const dt=(()=>typeof globalThis<"u"&&globalThis||typeof global<"u"&&global||typeof window<"u"&&window||typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self)(),Sc={},Ke=[],$m=st({\u0275cmp:st}),jw=st({\u0275dir:st}),zw=st({\u0275pipe:st}),OO=st({\u0275mod:st}),Vs=st({\u0275fac:st}),Gd=st({__NG_ELEMENT_ID__:st});let OQ=0;function Ye(n){return Lo(()=>{const t=!0===n.standalone,r={},i={type:n.type,providersResolver:null,decls:n.decls,vars:n.vars,factory:null,template:n.template||null,consts:n.consts||null,ngContentSelectors:n.ngContentSelectors,hostBindings:n.hostBindings||null,hostVars:n.hostVars||0,hostAttrs:n.hostAttrs||null,contentQueries:n.contentQueries||null,declaredInputs:r,inputs:null,outputs:null,exportAs:n.exportAs||null,onPush:n.changeDetection===Si.OnPush,directiveDefs:null,pipeDefs:null,standalone:t,dependencies:t&&n.dependencies||null,getStandaloneInjector:null,selectors:n.selectors||Ke,viewQuery:n.viewQuery||null,features:n.features||null,data:n.data||{},encapsulation:n.encapsulation||Di.Emulated,id:"c"+OQ++,styles:n.styles||Ke,_:null,setInput:null,schemas:n.schemas||null,tView:null},s=n.dependencies,o=n.features;return i.inputs=LO(n.inputs,r),i.outputs=LO(n.outputs),o&&o.forEach(a=>a(i)),i.directiveDefs=s?()=>("function"==typeof s?s():s).map(NO).filter(FO):null,i.pipeDefs=s?()=>("function"==typeof s?s():s).map(ar).filter(FO):null,i})}function NO(n){return tt(n)||or(n)}function FO(n){return null!==n}function te(n){return Lo(()=>({type:n.type,bootstrap:n.bootstrap||Ke,declarations:n.declarations||Ke,imports:n.imports||Ke,exports:n.exports||Ke,transitiveCompileScopes:null,schemas:n.schemas||null,id:n.id||null}))}function LO(n,e){if(null==n)return Sc;const t={};for(const r in n)if(n.hasOwnProperty(r)){let i=n[r],s=i;Array.isArray(i)&&(s=i[1],i=i[0]),t[i]=r,e&&(e[i]=s)}return t}const q=Ye;function Rn(n){return{type:n.type,name:n.name,factory:null,pure:!1!==n.pure,standalone:!0===n.standalone,onDestroy:n.type.prototype.ngOnDestroy||null}}function tt(n){return n[$m]||null}function or(n){return n[jw]||null}function ar(n){return n[zw]||null}function Br(n,e){const t=n[OO]||null;if(!t&&!0===e)throw new Error(`Type ${ot(n)} does not have '\u0275mod' property.`);return t}function Ir(n){return Array.isArray(n)&&"object"==typeof n[1]}function Mi(n){return Array.isArray(n)&&!0===n[1]}function qw(n){return 0!=(8&n.flags)}function Wm(n){return 2==(2&n.flags)}function qm(n){return 1==(1&n.flags)}function xi(n){return null!==n.template}function UQ(n){return 0!=(256&n[2])}function Wa(n,e){return n.hasOwnProperty(Vs)?n[Vs]:null}class jQ{constructor(e,t,r){this.previousValue=e,this.currentValue=t,this.firstChange=r}isFirstChange(){return this.firstChange}}function lr(){return UO}function UO(n){return n.type.prototype.ngOnChanges&&(n.setInput=GQ),zQ}function zQ(){const n=$O(this),e=n?.current;if(e){const t=n.previous;if(t===Sc)n.previous=e;else for(let r in e)t[r]=e[r];n.current=null,this.ngOnChanges(e)}}function GQ(n,e,t,r){const i=$O(n)||function WQ(n,e){return n[HO]=e}(n,{previous:Sc,current:null}),s=i.current||(i.current={}),o=i.previous,a=this.declaredInputs[t],l=o[a];s[a]=new jQ(l&&l.currentValue,e,o===Sc),n[r]=e}lr.ngInherit=!0;const HO="__ngSimpleChanges__";function $O(n){return n[HO]||null}function Zt(n){for(;Array.isArray(n);)n=n[0];return n}function Km(n,e){return Zt(e[n])}function Hr(n,e){return Zt(e[n.index])}function Zw(n,e){return n.data[e]}function kc(n,e){return n[e]}function $r(n,e){const t=e[n];return Ir(t)?t:t[0]}function Ym(n){return 64==(64&n[2])}function Vo(n,e){return null==e?null:n[e]}function jO(n){n[18]=0}function Jw(n,e){n[5]+=e;let t=n,r=n[3];for(;null!==r&&(1===e&&1===t[5]||-1===e&&0===t[5]);)r[5]+=e,t=r,r=r[3]}const fe={lFrame:JO(null),bindingsEnabled:!0};function GO(){return fe.bindingsEnabled}function k(){return fe.lFrame.lView}function Ve(){return fe.lFrame.tView}function Dt(n){return fe.lFrame.contextLView=n,n[8]}function At(n){return fe.lFrame.contextLView=null,n}function an(){let n=WO();for(;null!==n&&64===n.type;)n=n.parent;return n}function WO(){return fe.lFrame.currentTNode}function es(n,e){const t=fe.lFrame;t.currentTNode=n,t.isParent=e}function eC(){return fe.lFrame.isParent}function tC(){fe.lFrame.isParent=!1}function cr(){const n=fe.lFrame;let e=n.bindingRootIndex;return-1===e&&(e=n.bindingRootIndex=n.tView.bindingStartIndex),e}function Rc(){return fe.lFrame.bindingIndex++}function Us(n){const e=fe.lFrame,t=e.bindingIndex;return e.bindingIndex=e.bindingIndex+n,t}function a9(n,e){const t=fe.lFrame;t.bindingIndex=t.bindingRootIndex=n,nC(e)}function nC(n){fe.lFrame.currentDirectiveIndex=n}function QO(){return fe.lFrame.currentQueryIndex}function iC(n){fe.lFrame.currentQueryIndex=n}function c9(n){const e=n[1];return 2===e.type?e.declTNode:1===e.type?n[6]:null}function XO(n,e,t){if(t&ie.SkipSelf){let i=e,s=n;for(;!(i=i.parent,null!==i||t&ie.Host||(i=c9(s),null===i||(s=s[15],10&i.type))););if(null===i)return!1;e=i,n=s}const r=fe.lFrame=ZO();return r.currentTNode=e,r.lView=n,!0}function sC(n){const e=ZO(),t=n[1];fe.lFrame=e,e.currentTNode=t.firstChild,e.lView=n,e.tView=t,e.contextLView=n,e.bindingIndex=t.bindingStartIndex,e.inI18n=!1}function ZO(){const n=fe.lFrame,e=null===n?null:n.child;return null===e?JO(n):e}function JO(n){const e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:n,child:null,inI18n:!1};return null!==n&&(n.child=e),e}function eN(){const n=fe.lFrame;return fe.lFrame=n.parent,n.currentTNode=null,n.lView=null,n}const tN=eN;function oC(){const n=eN();n.isParent=!0,n.tView=null,n.selectedIndex=-1,n.contextLView=null,n.elementDepthCount=0,n.currentDirectiveIndex=-1,n.currentNamespace=null,n.bindingRootIndex=-1,n.bindingIndex=-1,n.currentQueryIndex=0}function ur(){return fe.lFrame.selectedIndex}function Bo(n){fe.lFrame.selectedIndex=n}function Mt(){const n=fe.lFrame;return Zw(n.tView,n.selectedIndex)}function Qm(n,e){for(let t=e.directiveStart,r=e.directiveEnd;t<r;t++){const s=n.data[t].type.prototype,{ngAfterContentInit:o,ngAfterContentChecked:a,ngAfterViewInit:l,ngAfterViewChecked:c,ngOnDestroy:u}=s;o&&(n.contentHooks||(n.contentHooks=[])).push(-t,o),a&&((n.contentHooks||(n.contentHooks=[])).push(t,a),(n.contentCheckHooks||(n.contentCheckHooks=[])).push(t,a)),l&&(n.viewHooks||(n.viewHooks=[])).push(-t,l),c&&((n.viewHooks||(n.viewHooks=[])).push(t,c),(n.viewCheckHooks||(n.viewCheckHooks=[])).push(t,c)),null!=u&&(n.destroyHooks||(n.destroyHooks=[])).push(t,u)}}function Xm(n,e,t){rN(n,e,3,t)}function Zm(n,e,t,r){(3&n[2])===t&&rN(n,e,t,r)}function lC(n,e){let t=n[2];(3&t)===e&&(t&=2047,t+=1,n[2]=t)}function rN(n,e,t,r){const s=r??-1,o=e.length-1;let a=0;for(let l=void 0!==r?65535&n[18]:0;l<o;l++)if("number"==typeof e[l+1]){if(a=e[l],null!=r&&a>=r)break}else e[l]<0&&(n[18]+=65536),(a<s||-1==s)&&(g9(n,t,e,l),n[18]=(4294901760&n[18])+l+2),l++}function g9(n,e,t,r){const i=t[r]<0,s=t[r+1],a=n[i?-t[r]:t[r]];if(i){if(n[2]>>11<n[18]>>16&&(3&n[2])===e){n[2]+=2048;try{s.call(a)}finally{}}}else try{s.call(a)}finally{}}class Xd{constructor(e,t,r){this.factory=e,this.resolving=!1,this.canSeeViewProviders=t,this.injectImpl=r}}function Jm(n,e,t){let r=0;for(;r<t.length;){const i=t[r];if("number"==typeof i){if(0!==i)break;r++;const s=t[r++],o=t[r++],a=t[r++];n.setAttribute(e,o,a,s)}else{const s=i,o=t[++r];sN(s)?n.setProperty(e,s,o):n.setAttribute(e,s,o),r++}}return r}function iN(n){return 3===n||4===n||6===n}function sN(n){return 64===n.charCodeAt(0)}function eg(n,e){if(null!==e&&0!==e.length)if(null===n||0===n.length)n=e.slice();else{let t=-1;for(let r=0;r<e.length;r++){const i=e[r];"number"==typeof i?t=i:0===t||oN(n,t,i,null,-1===t||2===t?e[++r]:null)}}return n}function oN(n,e,t,r,i){let s=0,o=n.length;if(-1===e)o=-1;else for(;s<n.length;){const a=n[s++];if("number"==typeof a){if(a===e){o=-1;break}if(a>e){o=s-1;break}}}for(;s<n.length;){const a=n[s];if("number"==typeof a)break;if(a===t){if(null===r)return void(null!==i&&(n[s+1]=i));if(r===n[s+1])return void(n[s+2]=i)}s++,null!==r&&s++,null!==i&&s++}-1!==o&&(n.splice(o,0,e),s=o+1),n.splice(s++,0,t),null!==r&&n.splice(s++,0,r),null!==i&&n.splice(s++,0,i)}function aN(n){return-1!==n}function Pc(n){return 32767&n}function Oc(n,e){let t=function w9(n){return n>>16}(n),r=e;for(;t>0;)r=r[15],t--;return r}let uC=!0;function tg(n){const e=uC;return uC=n,e}let C9=0;const ts={};function Jd(n,e){const t=hC(n,e);if(-1!==t)return t;const r=e[1];r.firstCreatePass&&(n.injectorIndex=e.length,dC(r.data,n),dC(e,null),dC(r.blueprint,null));const i=ng(n,e),s=n.injectorIndex;if(aN(i)){const o=Pc(i),a=Oc(i,e),l=a[1].data;for(let c=0;c<8;c++)e[s+c]=a[o+c]|l[o+c]}return e[s+8]=i,s}function dC(n,e){n.push(0,0,0,0,0,0,0,0,e)}function hC(n,e){return-1===n.injectorIndex||n.parent&&n.parent.injectorIndex===n.injectorIndex||null===e[n.injectorIndex+8]?-1:n.injectorIndex}function ng(n,e){if(n.parent&&-1!==n.parent.injectorIndex)return n.parent.injectorIndex;let t=0,r=null,i=e;for(;null!==i;){if(r=gN(i),null===r)return-1;if(t++,i=i[15],-1!==r.injectorIndex)return r.injectorIndex|t<<16}return-1}function rg(n,e,t){!function E9(n,e,t){let r;"string"==typeof t?r=t.charCodeAt(0)||0:t.hasOwnProperty(Gd)&&(r=t[Gd]),null==r&&(r=t[Gd]=C9++);const i=255&r;e.data[n+(i>>5)]|=1<<i}(n,e,t)}function uN(n,e,t){if(t&ie.Optional||void 0!==n)return n;Bm()}function dN(n,e,t,r){if(t&ie.Optional&&void 0===r&&(r=null),0==(t&(ie.Self|ie.Host))){const i=n[9],s=di(void 0);try{return i?i.get(e,r,t&ie.Optional):PO(e,r,t&ie.Optional)}finally{di(s)}}return uN(r,0,t)}function hN(n,e,t,r=ie.Default,i){if(null!==n){if(1024&e[2]){const o=function A9(n,e,t,r,i){let s=n,o=e;for(;null!==s&&null!==o&&1024&o[2]&&!(256&o[2]);){const a=fN(s,o,t,r|ie.Self,ts);if(a!==ts)return a;let l=s.parent;if(!l){const c=o[21];if(c){const u=c.get(t,ts,r);if(u!==ts)return u}l=gN(o),o=o[15]}s=l}return i}(n,e,t,r,ts);if(o!==ts)return o}const s=fN(n,e,t,r,ts);if(s!==ts)return s}return dN(e,t,r,i)}function fN(n,e,t,r,i){const s=function S9(n){if("string"==typeof n)return n.charCodeAt(0)||0;const e=n.hasOwnProperty(Gd)?n[Gd]:void 0;return"number"==typeof e?e>=0?255&e:D9:e}(t);if("function"==typeof s){if(!XO(e,n,r))return r&ie.Host?uN(i,0,r):dN(e,t,r,i);try{const o=s(r);if(null!=o||r&ie.Optional)return o;Bm()}finally{tN()}}else if("number"==typeof s){let o=null,a=hC(n,e),l=-1,c=r&ie.Host?e[16][6]:null;for((-1===a||r&ie.SkipSelf)&&(l=-1===a?ng(n,e):e[a+8],-1!==l&&mN(r,!1)?(o=e[1],a=Pc(l),e=Oc(l,e)):a=-1);-1!==a;){const u=e[1];if(pN(s,a,u.data)){const d=T9(a,e,t,o,r,c);if(d!==ts)return d}l=e[a+8],-1!==l&&mN(r,e[1].data[a+8]===c)&&pN(s,a,e)?(o=u,a=Pc(l),e=Oc(l,e)):a=-1}}return i}function T9(n,e,t,r,i,s){const o=e[1],a=o.data[n+8],u=ig(a,o,t,null==r?Wm(a)&&uC:r!=o&&0!=(3&a.type),i&ie.Host&&s===a);return null!==u?eh(e,o,u,a):ts}function ig(n,e,t,r,i){const s=n.providerIndexes,o=e.data,a=1048575&s,l=n.directiveStart,u=s>>20,h=i?a+u:n.directiveEnd;for(let f=r?a:a+u;f<h;f++){const p=o[f];if(f<l&&t===p||f>=l&&p.type===t)return f}if(i){const f=o[l];if(f&&xi(f)&&f.type===t)return l}return null}function eh(n,e,t,r){let i=n[t];const s=e.data;if(function _9(n){return n instanceof Xd}(i)){const o=i;o.resolving&&function IQ(n,e){const t=e?`. Dependency path: ${e.join(" > ")} > ${n}`:"";throw new x(-200,`Circular dependency in DI detected for ${n}${t}`)}(function qe(n){return"function"==typeof n?n.name||n.toString():"object"==typeof n&&null!=n&&"function"==typeof n.type?n.type.name||n.type.toString():ge(n)}(s[t]));const a=tg(o.canSeeViewProviders);o.resolving=!0;const l=o.injectImpl?di(o.injectImpl):null;XO(n,r,ie.Default);try{i=n[t]=o.factory(void 0,s,n,r),e.firstCreatePass&&t>=r.directiveStart&&function m9(n,e,t){const{ngOnChanges:r,ngOnInit:i,ngDoCheck:s}=e.type.prototype;if(r){const o=UO(e);(t.preOrderHooks||(t.preOrderHooks=[])).push(n,o),(t.preOrderCheckHooks||(t.preOrderCheckHooks=[])).push(n,o)}i&&(t.preOrderHooks||(t.preOrderHooks=[])).push(0-n,i),s&&((t.preOrderHooks||(t.preOrderHooks=[])).push(n,s),(t.preOrderCheckHooks||(t.preOrderCheckHooks=[])).push(n,s))}(t,s[t],e)}finally{null!==l&&di(l),tg(a),o.resolving=!1,tN()}}return i}function pN(n,e,t){return!!(t[e+(n>>5)]&1<<n)}function mN(n,e){return!(n&ie.Self||n&ie.Host&&e)}class Nc{constructor(e,t){this._tNode=e,this._lView=t}get(e,t,r){return hN(this._tNode,this._lView,e,r,t)}}function D9(){return new Nc(an(),k())}function vn(n){return Lo(()=>{const e=n.prototype.constructor,t=e[Vs]||fC(e),r=Object.prototype;let i=Object.getPrototypeOf(n.prototype).constructor;for(;i&&i!==r;){const s=i[Vs]||fC(i);if(s&&s!==t)return s;i=Object.getPrototypeOf(i)}return s=>new s})}function fC(n){return Uw(n)?()=>{const e=fC(ue(n));return e&&e()}:Wa(n)}function gN(n){const e=n[1],t=e.type;return 2===t?e.declTNode:1===t?n[6]:null}function Ho(n){return function I9(n,e){if("class"===e)return n.classes;if("style"===e)return n.styles;const t=n.attrs;if(t){const r=t.length;let i=0;for(;i<r;){const s=t[i];if(iN(s))break;if(0===s)i+=2;else if("number"==typeof s)for(i++;i<r&&"string"==typeof t[i];)i++;else{if(s===e)return t[i+1];i+=2}}}return null}(an(),n)}const Lc="__parameters__";function Bc(n,e,t){return Lo(()=>{const r=function pC(n){return function(...t){if(n){const r=n(...t);for(const i in r)this[i]=r[i]}}}(e);function i(...s){if(this instanceof i)return r.apply(this,s),this;const o=new i(...s);return a.annotation=o,a;function a(l,c,u){const d=l.hasOwnProperty(Lc)?l[Lc]:Object.defineProperty(l,Lc,{value:[]})[Lc];for(;d.length<=u;)d.push(null);return(d[u]=d[u]||[]).push(o),l}}return t&&(i.prototype=Object.create(t.prototype)),i.prototype.ngMetadataName=n,i.annotationCls=i,i})}class N{constructor(e,t){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof t?this.__NG_ELEMENT_ID__=t:void 0!==t&&(this.\u0275prov=V({token:this,providedIn:t.providedIn||"root",factory:t.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function jr(n,e){void 0===e&&(e=n);for(let t=0;t<n.length;t++){let r=n[t];Array.isArray(r)?(e===n&&(e=n.slice(0,t)),jr(r,e)):e!==n&&e.push(r)}return e}function Hs(n,e){n.forEach(t=>Array.isArray(t)?Hs(t,e):e(t))}function yN(n,e,t){e>=n.length?n.push(t):n.splice(e,0,t)}function sg(n,e){return e>=n.length-1?n.pop():n.splice(e,1)[0]}function rh(n,e){const t=[];for(let r=0;r<n;r++)t.push(e);return t}function zr(n,e,t){let r=Uc(n,e);return r>=0?n[1|r]=t:(r=~r,function R9(n,e,t,r){let i=n.length;if(i==e)n.push(t,r);else if(1===i)n.push(r,n[0]),n[0]=t;else{for(i--,n.push(n[i-1],n[i]);i>e;)n[i]=n[i-2],i--;n[e]=t,n[e+1]=r}}(n,r,e,t)),r}function gC(n,e){const t=Uc(n,e);if(t>=0)return n[1|t]}function Uc(n,e){return function wN(n,e,t){let r=0,i=n.length>>t;for(;i!==r;){const s=r+(i-r>>1),o=n[s<<t];if(e===o)return s<<t;o>e?i=s:r=s+1}return~(i<<t)}(n,e,1)}const ih={},yC="__NG_DI_FLAG__",ag="ngTempTokenPath",U9=/\n/gm,CN="__source";let sh;function Hc(n){const e=sh;return sh=n,e}function $9(n,e=ie.Default){if(void 0===sh)throw new x(-203,!1);return null===sh?PO(n,void 0,e):sh.get(n,e&ie.Optional?null:void 0,e)}function w(n,e=ie.Default){return(function PQ(){return $w}()||$9)(ue(n),e)}function Et(n,e=ie.Default){return"number"!=typeof e&&(e=0|(e.optional&&8)|(e.host&&1)|(e.self&&2)|(e.skipSelf&&4)),w(n,e)}function vC(n){const e=[];for(let t=0;t<n.length;t++){const r=ue(n[t]);if(Array.isArray(r)){if(0===r.length)throw new x(900,!1);let i,s=ie.Default;for(let o=0;o<r.length;o++){const a=r[o],l=j9(a);"number"==typeof l?-1===l?i=a.token:s|=l:i=a}e.push(w(i,s))}else e.push(w(r))}return e}function oh(n,e){return n[yC]=e,n.prototype[yC]=e,n}function j9(n){return n[yC]}const Ie=oh(Bc("Optional"),8),$c=oh(Bc("SkipSelf"),4);var Tr=(()=>((Tr=Tr||{})[Tr.Important=1]="Important",Tr[Tr.DashCase=2]="DashCase",Tr))();const IC=new Map;let aX=0;const SC="__ngContext__";function Yn(n,e){Ir(e)?(n[SC]=e[20],function cX(n){IC.set(n[20],n)}(e)):n[SC]=e}function AC(n,e){return undefined(n,e)}function uh(n){const e=n[3];return Mi(e)?e[3]:e}function MC(n){return jN(n[13])}function xC(n){return jN(n[4])}function jN(n){for(;null!==n&&!Mi(n);)n=n[4];return n}function zc(n,e,t,r,i){if(null!=r){let s,o=!1;Mi(r)?s=r:Ir(r)&&(o=!0,r=r[0]);const a=Zt(r);0===n&&null!==t?null==i?YN(e,t,a):qa(e,t,a,i||null,!0):1===n&&null!==t?qa(e,t,a,i||null,!0):2===n?function LC(n,e,t){const r=ug(n,e);r&&function kX(n,e,t,r){n.removeChild(e,t,r)}(n,r,e,t)}(e,a,o):3===n&&e.destroyNode(a),null!=s&&function OX(n,e,t,r,i){const s=t[7];s!==Zt(t)&&zc(e,n,r,s,i);for(let a=10;a<t.length;a++){const l=t[a];dh(l[1],l,n,e,r,s)}}(e,n,s,t,i)}}function RC(n,e,t){return n.createElement(e,t)}function GN(n,e){const t=n[9],r=t.indexOf(e),i=e[3];512&e[2]&&(e[2]&=-513,Jw(i,-1)),t.splice(r,1)}function PC(n,e){if(n.length<=10)return;const t=10+e,r=n[t];if(r){const i=r[17];null!==i&&i!==n&&GN(i,r),e>0&&(n[t-1][4]=r[4]);const s=sg(n,10+e);!function EX(n,e){dh(n,e,e[11],2,null,null),e[0]=null,e[6]=null}(r[1],r);const o=s[19];null!==o&&o.detachView(s[1]),r[3]=null,r[4]=null,r[2]&=-65}return r}function WN(n,e){if(!(128&e[2])){const t=e[11];t.destroyNode&&dh(n,e,t,3,null,null),function SX(n){let e=n[13];if(!e)return OC(n[1],n);for(;e;){let t=null;if(Ir(e))t=e[13];else{const r=e[10];r&&(t=r)}if(!t){for(;e&&!e[4]&&e!==n;)Ir(e)&&OC(e[1],e),e=e[3];null===e&&(e=n),Ir(e)&&OC(e[1],e),t=e&&e[4]}e=t}}(e)}}function OC(n,e){if(!(128&e[2])){e[2]&=-65,e[2]|=128,function xX(n,e){let t;if(null!=n&&null!=(t=n.destroyHooks))for(let r=0;r<t.length;r+=2){const i=e[t[r]];if(!(i instanceof Xd)){const s=t[r+1];if(Array.isArray(s))for(let o=0;o<s.length;o+=2){const a=i[s[o]],l=s[o+1];try{l.call(a)}finally{}}else try{s.call(i)}finally{}}}}(n,e),function MX(n,e){const t=n.cleanup,r=e[7];let i=-1;if(null!==t)for(let s=0;s<t.length-1;s+=2)if("string"==typeof t[s]){const o=t[s+1],a="function"==typeof o?o(e):Zt(e[o]),l=r[i=t[s+2]],c=t[s+3];"boolean"==typeof c?a.removeEventListener(t[s],l,c):c>=0?r[i=c]():r[i=-c].unsubscribe(),s+=2}else{const o=r[i=t[s+1]];t[s].call(o)}if(null!==r){for(let s=i+1;s<r.length;s++)(0,r[s])();e[7]=null}}(n,e),1===e[1].type&&e[11].destroy();const t=e[17];if(null!==t&&Mi(e[3])){t!==e[3]&&GN(t,e);const r=e[19];null!==r&&r.detachView(n)}!function uX(n){IC.delete(n[20])}(e)}}function qN(n,e,t){return function KN(n,e,t){let r=e;for(;null!==r&&40&r.type;)r=(e=r).parent;if(null===r)return t[0];if(2&r.flags){const i=n.data[r.directiveStart].encapsulation;if(i===Di.None||i===Di.Emulated)return null}return Hr(r,t)}(n,e.parent,t)}function qa(n,e,t,r,i){n.insertBefore(e,t,r,i)}function YN(n,e,t){n.appendChild(e,t)}function QN(n,e,t,r,i){null!==r?qa(n,e,t,r,i):YN(n,e,t)}function ug(n,e){return n.parentNode(e)}function XN(n,e,t){return JN(n,e,t)}let fg,HC,pg,JN=function ZN(n,e,t){return 40&n.type?Hr(n,t):null};function dg(n,e,t,r){const i=qN(n,r,e),s=e[11],a=XN(r.parent||e[6],r,e);if(null!=i)if(Array.isArray(t))for(let l=0;l<t.length;l++)QN(s,i,t[l],a,!1);else QN(s,i,t,a,!1)}function hg(n,e){if(null!==e){const t=e.type;if(3&t)return Hr(e,n);if(4&t)return FC(-1,n[e.index]);if(8&t){const r=e.child;if(null!==r)return hg(n,r);{const i=n[e.index];return Mi(i)?FC(-1,i):Zt(i)}}if(32&t)return AC(e,n)()||Zt(n[e.index]);{const r=tF(n,e);return null!==r?Array.isArray(r)?r[0]:hg(uh(n[16]),r):hg(n,e.next)}}return null}function tF(n,e){return null!==e?n[16][6].projection[e.projection]:null}function FC(n,e){const t=10+n+1;if(t<e.length){const r=e[t],i=r[1].firstChild;if(null!==i)return hg(r,i)}return e[7]}function VC(n,e,t,r,i,s,o){for(;null!=t;){const a=r[t.index],l=t.type;if(o&&0===e&&(a&&Yn(Zt(a),r),t.flags|=4),64!=(64&t.flags))if(8&l)VC(n,e,t.child,r,i,s,!1),zc(e,n,i,a,s);else if(32&l){const c=AC(t,r);let u;for(;u=c();)zc(e,n,i,u,s);zc(e,n,i,a,s)}else 16&l?nF(n,e,r,t,i,s):zc(e,n,i,a,s);t=o?t.projectionNext:t.next}}function dh(n,e,t,r,i,s){VC(t,r,n.firstChild,e,i,s,!1)}function nF(n,e,t,r,i,s){const o=t[16],l=o[6].projection[r.projection];if(Array.isArray(l))for(let c=0;c<l.length;c++)zc(e,n,i,l[c],s);else VC(n,e,l,o[3],i,s,!0)}function rF(n,e,t){n.setAttribute(e,"style",t)}function BC(n,e,t){""===t?n.removeAttribute(e,"class"):n.setAttribute(e,"class",t)}function Ka(n){return function UC(){if(void 0===fg&&(fg=null,dt.trustedTypes))try{fg=dt.trustedTypes.createPolicy("angular",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch{}return fg}()?.createHTML(n)||n}function sF(n){return function $C(){if(void 0===pg&&(pg=null,dt.trustedTypes))try{pg=dt.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch{}return pg}()?.createHTML(n)||n}class Ya{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}class UX extends Ya{getTypeName(){return"HTML"}}class HX extends Ya{getTypeName(){return"Style"}}class $X extends Ya{getTypeName(){return"Script"}}class jX extends Ya{getTypeName(){return"URL"}}class zX extends Ya{getTypeName(){return"ResourceURL"}}function Gr(n){return n instanceof Ya?n.changingThisBreaksApplicationSecurity:n}function ns(n,e){const t=function GX(n){return n instanceof Ya&&n.getTypeName()||null}(n);if(null!=t&&t!==e){if("ResourceURL"===t&&"URL"===e)return!0;throw new Error(`Required a safe ${e}, got a ${t} (see https://g.co/ng/security#xss)`)}return t===e}class XX{constructor(e){this.inertDocumentHelper=e}getInertBodyElement(e){e="<body><remove></remove>"+e;try{const t=(new window.DOMParser).parseFromString(Ka(e),"text/html").body;return null===t?this.inertDocumentHelper.getInertBodyElement(e):(t.removeChild(t.firstChild),t)}catch{return null}}}class ZX{constructor(e){if(this.defaultDoc=e,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const t=this.inertDocument.createElement("html");this.inertDocument.appendChild(t);const r=this.inertDocument.createElement("body");t.appendChild(r)}}getInertBodyElement(e){const t=this.inertDocument.createElement("template");if("content"in t)return t.innerHTML=Ka(e),t;const r=this.inertDocument.createElement("body");return r.innerHTML=Ka(e),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(r),r}stripCustomNsAttrs(e){const t=e.attributes;for(let i=t.length-1;0<i;i--){const o=t.item(i).name;("xmlns:ns1"===o||0===o.indexOf("ns1:"))&&e.removeAttribute(o)}let r=e.firstChild;for(;r;)r.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(r),r=r.nextSibling}}const eZ=/^(?:(?:https?|mailto|data|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi;function mg(n){return(n=String(n)).match(eZ)?n:"unsafe:"+n}function $s(n){const e={};for(const t of n.split(","))e[t]=!0;return e}function hh(...n){const e={};for(const t of n)for(const r in t)t.hasOwnProperty(r)&&(e[r]=!0);return e}const cF=$s("area,br,col,hr,img,wbr"),uF=$s("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),dF=$s("rp,rt"),jC=hh(cF,hh(uF,$s("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),hh(dF,$s("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),hh(dF,uF)),zC=$s("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),hF=hh(zC,$s("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),$s("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),tZ=$s("script,style,template");class nZ{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(e){let t=e.firstChild,r=!0;for(;t;)if(t.nodeType===Node.ELEMENT_NODE?r=this.startElement(t):t.nodeType===Node.TEXT_NODE?this.chars(t.nodeValue):this.sanitizedSomething=!0,r&&t.firstChild)t=t.firstChild;else for(;t;){t.nodeType===Node.ELEMENT_NODE&&this.endElement(t);let i=this.checkClobberedElement(t,t.nextSibling);if(i){t=i;break}t=this.checkClobberedElement(t,t.parentNode)}return this.buf.join("")}startElement(e){const t=e.nodeName.toLowerCase();if(!jC.hasOwnProperty(t))return this.sanitizedSomething=!0,!tZ.hasOwnProperty(t);this.buf.push("<"),this.buf.push(t);const r=e.attributes;for(let i=0;i<r.length;i++){const s=r.item(i),o=s.name,a=o.toLowerCase();if(!hF.hasOwnProperty(a)){this.sanitizedSomething=!0;continue}let l=s.value;zC[a]&&(l=mg(l)),this.buf.push(" ",o,'="',fF(l),'"')}return this.buf.push(">"),!0}endElement(e){const t=e.nodeName.toLowerCase();jC.hasOwnProperty(t)&&!cF.hasOwnProperty(t)&&(this.buf.push("</"),this.buf.push(t),this.buf.push(">"))}chars(e){this.buf.push(fF(e))}checkClobberedElement(e,t){if(t&&(e.compareDocumentPosition(t)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${e.outerHTML}`);return t}}const rZ=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,iZ=/([^\#-~ |!])/g;function fF(n){return n.replace(/&/g,"&amp;").replace(rZ,function(e){return"&#"+(1024*(e.charCodeAt(0)-55296)+(e.charCodeAt(1)-56320)+65536)+";"}).replace(iZ,function(e){return"&#"+e.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let gg;function pF(n,e){let t=null;try{gg=gg||function lF(n){const e=new ZX(n);return function JX(){try{return!!(new window.DOMParser).parseFromString(Ka(""),"text/html")}catch{return!1}}()?new XX(e):e}(n);let r=e?String(e):"";t=gg.getInertBodyElement(r);let i=5,s=r;do{if(0===i)throw new Error("Failed to sanitize html because the input is unstable");i--,r=s,s=t.innerHTML,t=gg.getInertBodyElement(r)}while(r!==s);return Ka((new nZ).sanitizeChildren(GC(t)||t))}finally{if(t){const r=GC(t)||t;for(;r.firstChild;)r.removeChild(r.firstChild)}}}function GC(n){return"content"in n&&function sZ(n){return n.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===n.nodeName}(n)?n.content:null}var Qe=(()=>((Qe=Qe||{})[Qe.NONE=0]="NONE",Qe[Qe.HTML=1]="HTML",Qe[Qe.STYLE=2]="STYLE",Qe[Qe.SCRIPT=3]="SCRIPT",Qe[Qe.URL=4]="URL",Qe[Qe.RESOURCE_URL=5]="RESOURCE_URL",Qe))();function mF(n){const e=fh();return e?sF(e.sanitize(Qe.HTML,n)||""):ns(n,"HTML")?sF(Gr(n)):pF(function iF(){return void 0!==HC?HC:typeof document<"u"?document:void 0}(),ge(n))}function Qa(n){const e=fh();return e?e.sanitize(Qe.URL,n)||"":ns(n,"URL")?Gr(n):mg(ge(n))}function fh(){const n=k();return n&&n[12]}const WC=new N("ENVIRONMENT_INITIALIZER"),_F=new N("INJECTOR",-1),yF=new N("INJECTOR_DEF_TYPES");class vF{get(e,t=ih){if(t===ih){const r=new Error(`NullInjectorError: No provider for ${ot(e)}!`);throw r.name="NullInjectorError",r}return t}}function hZ(...n){return{\u0275providers:bF(0,n)}}function bF(n,...e){const t=[],r=new Set;let i;return Hs(e,s=>{const o=s;qC(o,t,[],r)&&(i||(i=[]),i.push(o))}),void 0!==i&&wF(i,t),t}function wF(n,e){for(let t=0;t<n.length;t++){const{providers:i}=n[t];Hs(i,s=>{e.push(s)})}}function qC(n,e,t,r){if(!(n=ue(n)))return!1;let i=null,s=kO(n);const o=!s&&tt(n);if(s||o){if(o&&!o.standalone)return!1;i=n}else{const l=n.ngModule;if(s=kO(l),!s)return!1;i=l}const a=r.has(i);if(o){if(a)return!1;if(r.add(i),o.dependencies){const l="function"==typeof o.dependencies?o.dependencies():o.dependencies;for(const c of l)qC(c,e,t,r)}}else{if(!s)return!1;{if(null!=s.imports&&!a){let c;r.add(i);try{Hs(s.imports,u=>{qC(u,e,t,r)&&(c||(c=[]),c.push(u))})}finally{}void 0!==c&&wF(c,e)}if(!a){const c=Wa(i)||(()=>new i);e.push({provide:i,useFactory:c,deps:Ke},{provide:yF,useValue:i,multi:!0},{provide:WC,useValue:()=>w(i),multi:!0})}const l=s.providers;null==l||a||Hs(l,u=>{e.push(u)})}}return i!==n&&void 0!==n.providers}const fZ=st({provide:String,useValue:st});function KC(n){return null!==n&&"object"==typeof n&&fZ in n}function Xa(n){return"function"==typeof n}const YC=new N("Set Injector scope."),_g={},mZ={};let QC;function yg(){return void 0===QC&&(QC=new vF),QC}class $o{}class IF extends $o{constructor(e,t,r,i){super(),this.parent=t,this.source=r,this.scopes=i,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,ZC(e,o=>this.processProvider(o)),this.records.set(_F,Gc(void 0,this)),i.has("environment")&&this.records.set($o,Gc(void 0,this));const s=this.records.get(YC);null!=s&&"string"==typeof s.value&&this.scopes.add(s.value),this.injectorDefTypes=new Set(this.get(yF.multi,Ke,ie.Self))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const e of this._ngOnDestroyHooks)e.ngOnDestroy();for(const e of this._onDestroyHooks)e()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),this._onDestroyHooks.length=0}}onDestroy(e){this._onDestroyHooks.push(e)}runInContext(e){this.assertNotDestroyed();const t=Hc(this),r=di(void 0);try{return e()}finally{Hc(t),di(r)}}get(e,t=ih,r=ie.Default){this.assertNotDestroyed();const i=Hc(this),s=di(void 0);try{if(!(r&ie.SkipSelf)){let a=this.records.get(e);if(void 0===a){const l=function bZ(n){return"function"==typeof n||"object"==typeof n&&n instanceof N}(e)&&Um(e);a=l&&this.injectableDefInScope(l)?Gc(XC(e),_g):null,this.records.set(e,a)}if(null!=a)return this.hydrate(e,a)}return(r&ie.Self?yg():this.parent).get(e,t=r&ie.Optional&&t===ih?null:t)}catch(o){if("NullInjectorError"===o.name){if((o[ag]=o[ag]||[]).unshift(ot(e)),i)throw o;return function z9(n,e,t,r){const i=n[ag];throw e[CN]&&i.unshift(e[CN]),n.message=function G9(n,e,t,r=null){n=n&&"\n"===n.charAt(0)&&"\u0275"==n.charAt(1)?n.slice(2):n;let i=ot(e);if(Array.isArray(e))i=e.map(ot).join(" -> ");else if("object"==typeof e){let s=[];for(let o in e)if(e.hasOwnProperty(o)){let a=e[o];s.push(o+":"+("string"==typeof a?JSON.stringify(a):ot(a)))}i=`{${s.join(", ")}}`}return`${t}${r?"("+r+")":""}[${i}]: ${n.replace(U9,"\n  ")}`}("\n"+n.message,i,t,r),n.ngTokenPath=i,n[ag]=null,n}(o,e,"R3InjectorError",this.source)}throw o}finally{di(s),Hc(i)}}resolveInjectorInitializers(){const e=Hc(this),t=di(void 0);try{const r=this.get(WC.multi,Ke,ie.Self);for(const i of r)i()}finally{Hc(e),di(t)}}toString(){const e=[],t=this.records;for(const r of t.keys())e.push(ot(r));return`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new x(205,!1)}processProvider(e){let t=Xa(e=ue(e))?e:ue(e&&e.provide);const r=function _Z(n){return KC(n)?Gc(void 0,n.useValue):Gc(TF(n),_g)}(e);if(Xa(e)||!0!==e.multi)this.records.get(t);else{let i=this.records.get(t);i||(i=Gc(void 0,_g,!0),i.factory=()=>vC(i.multi),this.records.set(t,i)),t=e,i.multi.push(e)}this.records.set(t,r)}hydrate(e,t){return t.value===_g&&(t.value=mZ,t.value=t.factory()),"object"==typeof t.value&&t.value&&function vZ(n){return null!==n&&"object"==typeof n&&"function"==typeof n.ngOnDestroy}(t.value)&&this._ngOnDestroyHooks.add(t.value),t.value}injectableDefInScope(e){if(!e.providedIn)return!1;const t=ue(e.providedIn);return"string"==typeof t?"any"===t||this.scopes.has(t):this.injectorDefTypes.has(t)}}function XC(n){const e=Um(n),t=null!==e?e.factory:Wa(n);if(null!==t)return t;if(n instanceof N)throw new x(204,!1);if(n instanceof Function)return function gZ(n){const e=n.length;if(e>0)throw rh(e,"?"),new x(204,!1);const t=function xQ(n){const e=n&&(n[Hm]||n[RO]);if(e){const t=function kQ(n){if(n.hasOwnProperty("name"))return n.name;const e=(""+n).match(/^function\s*([^\s(]+)/);return null===e?"":e[1]}(n);return console.warn(`DEPRECATED: DI is instantiating a token "${t}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${t}" class.`),e}return null}(n);return null!==t?()=>t.factory(n):()=>new n}(n);throw new x(204,!1)}function TF(n,e,t){let r;if(Xa(n)){const i=ue(n);return Wa(i)||XC(i)}if(KC(n))r=()=>ue(n.useValue);else if(function EF(n){return!(!n||!n.useFactory)}(n))r=()=>n.useFactory(...vC(n.deps||[]));else if(function CF(n){return!(!n||!n.useExisting)}(n))r=()=>w(ue(n.useExisting));else{const i=ue(n&&(n.useClass||n.provide));if(!function yZ(n){return!!n.deps}(n))return Wa(i)||XC(i);r=()=>new i(...vC(n.deps))}return r}function Gc(n,e,t=!1){return{factory:n,value:e,multi:t?[]:void 0}}function wZ(n){return!!n.\u0275providers}function ZC(n,e){for(const t of n)Array.isArray(t)?ZC(t,e):wZ(t)?ZC(t.\u0275providers,e):e(t)}class SF{}class IZ{resolveComponentFactory(e){throw function EZ(n){const e=Error(`No component factory found for ${ot(n)}. Did you add it to @NgModule.entryComponents?`);return e.ngComponent=n,e}(e)}}let jo=(()=>{class n{}return n.NULL=new IZ,n})();function TZ(){return Wc(an(),k())}function Wc(n,e){return new Ze(Hr(n,e))}let Ze=(()=>{class n{constructor(t){this.nativeElement=t}}return n.__NG_ELEMENT_ID__=TZ,n})();function SZ(n){return n instanceof Ze?n.nativeElement:n}class ph{}let ki=(()=>{class n{}return n.__NG_ELEMENT_ID__=()=>function DZ(){const n=k(),t=$r(an().index,n);return(Ir(t)?t:n)[11]}(),n})(),AZ=(()=>{class n{}return n.\u0275prov=V({token:n,providedIn:"root",factory:()=>null}),n})();class js{constructor(e){this.full=e,this.major=e.split(".")[0],this.minor=e.split(".")[1],this.patch=e.split(".").slice(2).join(".")}}const AF=new js("14.2.12"),JC={};function t0(n){return n.ngOriginalError}class zs{constructor(){this._console=console}handleError(e){const t=this._findOriginalError(e);this._console.error("ERROR",e),t&&this._console.error("ORIGINAL ERROR",t)}_findOriginalError(e){let t=e&&t0(e);for(;t&&t0(t);)t=t0(t);return t||null}}function Gs(n){return n instanceof Function?n():n}function xF(n,e,t){let r=n.length;for(;;){const i=n.indexOf(e,t);if(-1===i)return i;if(0===i||n.charCodeAt(i-1)<=32){const s=e.length;if(i+s===r||n.charCodeAt(i+s)<=32)return i}t=i+1}}const kF="ng-template";function BZ(n,e,t){let r=0;for(;r<n.length;){let i=n[r++];if(t&&"class"===i){if(i=n[r],-1!==xF(i.toLowerCase(),e,0))return!0}else if(1===i){for(;r<n.length&&"string"==typeof(i=n[r++]);)if(i.toLowerCase()===e)return!0;return!1}}return!1}function RF(n){return 4===n.type&&n.value!==kF}function UZ(n,e,t){return e===(4!==n.type||t?n.value:kF)}function HZ(n,e,t){let r=4;const i=n.attrs||[],s=function zZ(n){for(let e=0;e<n.length;e++)if(iN(n[e]))return e;return n.length}(i);let o=!1;for(let a=0;a<e.length;a++){const l=e[a];if("number"!=typeof l){if(!o)if(4&r){if(r=2|1&r,""!==l&&!UZ(n,l,t)||""===l&&1===e.length){if(Ri(r))return!1;o=!0}}else{const c=8&r?l:e[++a];if(8&r&&null!==n.attrs){if(!BZ(n.attrs,c,t)){if(Ri(r))return!1;o=!0}continue}const d=$Z(8&r?"class":l,i,RF(n),t);if(-1===d){if(Ri(r))return!1;o=!0;continue}if(""!==c){let h;h=d>s?"":i[d+1].toLowerCase();const f=8&r?h:null;if(f&&-1!==xF(f,c,0)||2&r&&c!==h){if(Ri(r))return!1;o=!0}}}}else{if(!o&&!Ri(r)&&!Ri(l))return!1;if(o&&Ri(l))continue;o=!1,r=l|1&r}}return Ri(r)||o}function Ri(n){return 0==(1&n)}function $Z(n,e,t,r){if(null===e)return-1;let i=0;if(r||!t){let s=!1;for(;i<e.length;){const o=e[i];if(o===n)return i;if(3===o||6===o)s=!0;else{if(1===o||2===o){let a=e[++i];for(;"string"==typeof a;)a=e[++i];continue}if(4===o)break;if(0===o){i+=4;continue}}i+=s?1:2}return-1}return function GZ(n,e){let t=n.indexOf(4);if(t>-1)for(t++;t<n.length;){const r=n[t];if("number"==typeof r)return-1;if(r===e)return t;t++}return-1}(e,n)}function PF(n,e,t=!1){for(let r=0;r<e.length;r++)if(HZ(n,e[r],t))return!0;return!1}function WZ(n,e){e:for(let t=0;t<e.length;t++){const r=e[t];if(n.length===r.length){for(let i=0;i<n.length;i++)if(n[i]!==r[i])continue e;return!0}}return!1}function OF(n,e){return n?":not("+e.trim()+")":e}function qZ(n){let e=n[0],t=1,r=2,i="",s=!1;for(;t<n.length;){let o=n[t];if("string"==typeof o)if(2&r){const a=n[++t];i+="["+o+(a.length>0?'="'+a+'"':"")+"]"}else 8&r?i+="."+o:4&r&&(i+=" "+o);else""!==i&&!Ri(o)&&(e+=OF(s,i),i=""),r=o,s=s||!Ri(r);t++}return""!==i&&(e+=OF(s,i)),e}const _e={};function R(n){NF(Ve(),k(),ur()+n,!1)}function NF(n,e,t,r){if(!r)if(3==(3&e[2])){const s=n.preOrderCheckHooks;null!==s&&Xm(e,s,t)}else{const s=n.preOrderHooks;null!==s&&Zm(e,s,0,t)}Bo(t)}function BF(n,e=null,t=null,r){const i=UF(n,e,t,r);return i.resolveInjectorInitializers(),i}function UF(n,e=null,t=null,r,i=new Set){const s=[t||Ke,hZ(n)];return r=r||("object"==typeof n?void 0:ot(n)),new IF(s,e||yg(),r||null,i)}let Je=(()=>{class n{static create(t,r){if(Array.isArray(t))return BF({name:""},r,t,"");{const i=t.name??"";return BF({name:i},t.parent,t.providers,i)}}}return n.THROW_IF_NOT_FOUND=ih,n.NULL=new vF,n.\u0275prov=V({token:n,providedIn:"any",factory:()=>w(_F)}),n.__NG_ELEMENT_ID__=-1,n})();function y(n,e=ie.Default){const t=k();return null===t?w(n,e):hN(an(),t,ue(n),e)}function a0(){throw new Error("invalid")}function bg(n,e){return n<<17|e<<2}function Pi(n){return n>>17&32767}function l0(n){return 2|n}function Ws(n){return(131068&n)>>2}function c0(n,e){return-131069&n|e<<2}function u0(n){return 1|n}function rL(n,e){const t=n.contentQueries;if(null!==t)for(let r=0;r<t.length;r+=2){const i=t[r],s=t[r+1];if(-1!==s){const o=n.data[s];iC(i),o.contentQueries(2,e[s],s)}}}function Eg(n,e,t,r,i,s,o,a,l,c,u){const d=e.blueprint.slice();return d[0]=i,d[2]=76|r,(null!==u||n&&1024&n[2])&&(d[2]|=1024),jO(d),d[3]=d[15]=n,d[8]=t,d[10]=o||n&&n[10],d[11]=a||n&&n[11],d[12]=l||n&&n[12]||null,d[9]=c||n&&n[9]||null,d[6]=s,d[20]=function lX(){return aX++}(),d[21]=u,d[16]=2==e.type?n[16]:d,d}function Yc(n,e,t,r,i){let s=n.data[e];if(null===s)s=function y0(n,e,t,r,i){const s=WO(),o=eC(),l=n.data[e]=function MJ(n,e,t,r,i,s){return{type:t,index:r,insertBeforeIndex:null,injectorIndex:e?e.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:i,attrs:s,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,o?s:s&&s.parent,t,e,r,i);return null===n.firstChild&&(n.firstChild=l),null!==s&&(o?null==s.child&&null!==l.parent&&(s.child=l):null===s.next&&(s.next=l)),l}(n,e,t,r,i),function o9(){return fe.lFrame.inI18n}()&&(s.flags|=64);else if(64&s.type){s.type=t,s.value=r,s.attrs=i;const o=function Qd(){const n=fe.lFrame,e=n.currentTNode;return n.isParent?e:e.parent}();s.injectorIndex=null===o?-1:o.injectorIndex}return es(s,!0),s}function Qc(n,e,t,r){if(0===t)return-1;const i=e.length;for(let s=0;s<t;s++)e.push(r),n.blueprint.push(r),n.data.push(null);return i}function v0(n,e,t){sC(e);try{const r=n.viewQuery;null!==r&&D0(1,r,t);const i=n.template;null!==i&&iL(n,e,i,1,t),n.firstCreatePass&&(n.firstCreatePass=!1),n.staticContentQueries&&rL(n,e),n.staticViewQueries&&D0(2,n.viewQuery,t);const s=n.components;null!==s&&function SJ(n,e){for(let t=0;t<e.length;t++)GJ(n,e[t])}(e,s)}catch(r){throw n.firstCreatePass&&(n.incompleteFirstPass=!0,n.firstCreatePass=!1),r}finally{e[2]&=-5,oC()}}function Ig(n,e,t,r){const i=e[2];if(128!=(128&i)){sC(e);try{jO(e),function KO(n){return fe.lFrame.bindingIndex=n}(n.bindingStartIndex),null!==t&&iL(n,e,t,2,r);const o=3==(3&i);if(o){const c=n.preOrderCheckHooks;null!==c&&Xm(e,c,null)}else{const c=n.preOrderHooks;null!==c&&Zm(e,c,0,null),lC(e,0)}if(function jJ(n){for(let e=MC(n);null!==e;e=xC(e)){if(!e[2])continue;const t=e[9];for(let r=0;r<t.length;r++){const i=t[r],s=i[3];0==(512&i[2])&&Jw(s,1),i[2]|=512}}}(e),function $J(n){for(let e=MC(n);null!==e;e=xC(e))for(let t=10;t<e.length;t++){const r=e[t],i=r[1];Ym(r)&&Ig(i,r,i.template,r[8])}}(e),null!==n.contentQueries&&rL(n,e),o){const c=n.contentCheckHooks;null!==c&&Xm(e,c)}else{const c=n.contentHooks;null!==c&&Zm(e,c,1),lC(e,1)}!function IJ(n,e){const t=n.hostBindingOpCodes;if(null!==t)try{for(let r=0;r<t.length;r++){const i=t[r];if(i<0)Bo(~i);else{const s=i,o=t[++r],a=t[++r];a9(o,s),a(2,e[s])}}}finally{Bo(-1)}}(n,e);const a=n.components;null!==a&&function TJ(n,e){for(let t=0;t<e.length;t++)zJ(n,e[t])}(e,a);const l=n.viewQuery;if(null!==l&&D0(2,l,r),o){const c=n.viewCheckHooks;null!==c&&Xm(e,c)}else{const c=n.viewHooks;null!==c&&Zm(e,c,2),lC(e,2)}!0===n.firstUpdatePass&&(n.firstUpdatePass=!1),e[2]&=-41,512&e[2]&&(e[2]&=-513,Jw(e[3],-1))}finally{oC()}}}function iL(n,e,t,r,i){const s=ur(),o=2&r;try{Bo(-1),o&&e.length>22&&NF(n,e,22,!1),t(r,i)}finally{Bo(s)}}function sL(n,e,t){if(qw(e)){const i=e.directiveEnd;for(let s=e.directiveStart;s<i;s++){const o=n.data[s];o.contentQueries&&o.contentQueries(1,t[s],s)}}}function b0(n,e,t){!GO()||(function OJ(n,e,t,r){const i=t.directiveStart,s=t.directiveEnd;n.firstCreatePass||Jd(t,e),Yn(r,e);const o=t.initialInputs;for(let a=i;a<s;a++){const l=n.data[a],c=xi(l);c&&BJ(e,t,l);const u=eh(e,n,a,t);Yn(u,e),null!==o&&UJ(0,a-i,u,l,0,o),c&&($r(t.index,e)[8]=u)}}(n,e,t,Hr(t,e)),128==(128&t.flags)&&function NJ(n,e,t){const r=t.directiveStart,i=t.directiveEnd,s=t.index,o=function l9(){return fe.lFrame.currentDirectiveIndex}();try{Bo(s);for(let a=r;a<i;a++){const l=n.data[a],c=e[a];nC(a),(null!==l.hostBindings||0!==l.hostVars||null!==l.hostAttrs)&&hL(l,c)}}finally{Bo(-1),nC(o)}}(n,e,t))}function w0(n,e,t=Hr){const r=e.localNames;if(null!==r){let i=e.index+1;for(let s=0;s<r.length;s+=2){const o=r[s+1],a=-1===o?t(e,n):n[o];n[i++]=a}}}function oL(n){const e=n.tView;return null===e||e.incompleteFirstPass?n.tView=C0(1,null,n.template,n.decls,n.vars,n.directiveDefs,n.pipeDefs,n.viewQuery,n.schemas,n.consts):e}function C0(n,e,t,r,i,s,o,a,l,c){const u=22+r,d=u+i,h=function DJ(n,e){const t=[];for(let r=0;r<e;r++)t.push(r<n?null:_e);return t}(u,d),f="function"==typeof c?c():c;return h[1]={type:n,blueprint:h,template:t,queries:null,viewQuery:a,declTNode:e,data:h.slice().fill(null,u),bindingStartIndex:u,expandoStartIndex:d,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof s?s():s,pipeRegistry:"function"==typeof o?o():o,firstChild:null,schemas:l,consts:f,incompleteFirstPass:!1}}function aL(n,e,t,r){const i=_L(e);null===t?i.push(r):(i.push(t),n.firstCreatePass&&yL(n).push(r,i.length-1))}function lL(n,e,t){for(let r in n)if(n.hasOwnProperty(r)){const i=n[r];(t=null===t?{}:t).hasOwnProperty(r)?t[r].push(e,i):t[r]=[e,i]}return t}function cL(n,e){const r=e.directiveEnd,i=n.data,s=e.attrs,o=[];let a=null,l=null;for(let c=e.directiveStart;c<r;c++){const u=i[c],d=u.inputs,h=null===s||RF(e)?null:HJ(d,s);o.push(h),a=lL(d,c,a),l=lL(u.outputs,c,l)}null!==a&&(a.hasOwnProperty("class")&&(e.flags|=16),a.hasOwnProperty("style")&&(e.flags|=32)),e.initialInputs=o,e.inputs=a,e.outputs=l}function Wr(n,e,t,r,i,s,o,a){const l=Hr(e,t);let u,c=e.inputs;!a&&null!=c&&(u=c[r])?(A0(n,t,u,r,i),Wm(e)&&uL(t,e.index)):3&e.type&&(r=function xJ(n){return"class"===n?"className":"for"===n?"htmlFor":"formaction"===n?"formAction":"innerHtml"===n?"innerHTML":"readonly"===n?"readOnly":"tabindex"===n?"tabIndex":n}(r),i=null!=o?o(i,e.value||"",r):i,s.setProperty(l,r,i))}function uL(n,e){const t=$r(e,n);16&t[2]||(t[2]|=32)}function E0(n,e,t,r){let i=!1;if(GO()){const s=function FJ(n,e,t){const r=n.directiveRegistry;let i=null;if(r)for(let s=0;s<r.length;s++){const o=r[s];PF(t,o.selectors,!1)&&(i||(i=[]),rg(Jd(t,e),n,o.type),xi(o)?(fL(n,t),i.unshift(o)):i.push(o))}return i}(n,e,t),o=null===r?null:{"":-1};if(null!==s){i=!0,pL(t,n.data.length,s.length);for(let u=0;u<s.length;u++){const d=s[u];d.providersResolver&&d.providersResolver(d)}let a=!1,l=!1,c=Qc(n,e,s.length,null);for(let u=0;u<s.length;u++){const d=s[u];t.mergedAttrs=eg(t.mergedAttrs,d.hostAttrs),mL(n,t,e,c,d),VJ(c,d,o),null!==d.contentQueries&&(t.flags|=8),(null!==d.hostBindings||null!==d.hostAttrs||0!==d.hostVars)&&(t.flags|=128);const h=d.type.prototype;!a&&(h.ngOnChanges||h.ngOnInit||h.ngDoCheck)&&((n.preOrderHooks||(n.preOrderHooks=[])).push(t.index),a=!0),!l&&(h.ngOnChanges||h.ngDoCheck)&&((n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(t.index),l=!0),c++}cL(n,t)}o&&function LJ(n,e,t){if(e){const r=n.localNames=[];for(let i=0;i<e.length;i+=2){const s=t[e[i+1]];if(null==s)throw new x(-301,!1);r.push(e[i],s)}}}(t,r,o)}return t.mergedAttrs=eg(t.mergedAttrs,t.attrs),i}function dL(n,e,t,r,i,s){const o=s.hostBindings;if(o){let a=n.hostBindingOpCodes;null===a&&(a=n.hostBindingOpCodes=[]);const l=~e.index;(function PJ(n){let e=n.length;for(;e>0;){const t=n[--e];if("number"==typeof t&&t<0)return t}return 0})(a)!=l&&a.push(l),a.push(r,i,o)}}function hL(n,e){null!==n.hostBindings&&n.hostBindings(1,e)}function fL(n,e){e.flags|=2,(n.components||(n.components=[])).push(e.index)}function VJ(n,e,t){if(t){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)t[e.exportAs[r]]=n;xi(e)&&(t[""]=n)}}function pL(n,e,t){n.flags|=1,n.directiveStart=e,n.directiveEnd=e+t,n.providerIndexes=e}function mL(n,e,t,r,i){n.data[r]=i;const s=i.factory||(i.factory=Wa(i.type)),o=new Xd(s,xi(i),y);n.blueprint[r]=o,t[r]=o,dL(n,e,0,r,Qc(n,t,i.hostVars,_e),i)}function BJ(n,e,t){const r=Hr(e,n),i=oL(t),s=n[10],o=Tg(n,Eg(n,i,null,t.onPush?32:16,r,e,s,s.createRenderer(r,t),null,null,null));n[e.index]=o}function rs(n,e,t,r,i,s){const o=Hr(n,e);!function I0(n,e,t,r,i,s,o){if(null==s)n.removeAttribute(e,i,t);else{const a=null==o?ge(s):o(s,r||"",i);n.setAttribute(e,i,a,t)}}(e[11],o,s,n.value,t,r,i)}function UJ(n,e,t,r,i,s){const o=s[e];if(null!==o){const a=r.setInput;for(let l=0;l<o.length;){const c=o[l++],u=o[l++],d=o[l++];null!==a?r.setInput(t,d,c,u):t[u]=d}}}function HJ(n,e){let t=null,r=0;for(;r<e.length;){const i=e[r];if(0!==i)if(5!==i){if("number"==typeof i)break;n.hasOwnProperty(i)&&(null===t&&(t=[]),t.push(i,n[i],e[r+1])),r+=2}else r+=2;else r+=4}return t}function gL(n,e,t,r){return new Array(n,!0,!1,e,null,0,r,t,null,null)}function zJ(n,e){const t=$r(e,n);if(Ym(t)){const r=t[1];48&t[2]?Ig(r,t,r.template,t[8]):t[5]>0&&T0(t)}}function T0(n){for(let r=MC(n);null!==r;r=xC(r))for(let i=10;i<r.length;i++){const s=r[i];if(Ym(s))if(512&s[2]){const o=s[1];Ig(o,s,o.template,s[8])}else s[5]>0&&T0(s)}const t=n[1].components;if(null!==t)for(let r=0;r<t.length;r++){const i=$r(t[r],n);Ym(i)&&i[5]>0&&T0(i)}}function GJ(n,e){const t=$r(e,n),r=t[1];(function WJ(n,e){for(let t=e.length;t<n.blueprint.length;t++)e.push(n.blueprint[t])})(r,t),v0(r,t,t[8])}function Tg(n,e){return n[13]?n[14][4]=e:n[13]=e,n[14]=e,e}function S0(n){for(;n;){n[2]|=32;const e=uh(n);if(UQ(n)&&!e)return n;n=e}return null}function Sg(n,e,t,r=!0){const i=e[10];i.begin&&i.begin();try{Ig(n,e,n.template,t)}catch(o){throw r&&bL(e,o),o}finally{i.end&&i.end()}}function D0(n,e,t){iC(0),e(n,t)}function _L(n){return n[7]||(n[7]=[])}function yL(n){return n.cleanup||(n.cleanup=[])}function bL(n,e){const t=n[9],r=t?t.get(zs,null):null;r&&r.handleError(e)}function A0(n,e,t,r,i){for(let s=0;s<t.length;){const o=t[s++],a=t[s++],l=e[o],c=n.data[o];null!==c.setInput?c.setInput(l,i,r,a):l[a]=i}}function qs(n,e,t){const r=Km(e,n);!function zN(n,e,t){n.setValue(e,t)}(n[11],r,t)}function Dg(n,e,t){let r=t?n.styles:null,i=t?n.classes:null,s=0;if(null!==e)for(let o=0;o<e.length;o++){const a=e[o];"number"==typeof a?s=a:1==s?i=Bw(i,a):2==s&&(r=Bw(r,a+": "+e[++o]+";"))}t?n.styles=r:n.stylesWithoutHost=r,t?n.classes=i:n.classesWithoutHost=i}function Ag(n,e,t,r,i=!1){for(;null!==t;){const s=e[t.index];if(null!==s&&r.push(Zt(s)),Mi(s))for(let a=10;a<s.length;a++){const l=s[a],c=l[1].firstChild;null!==c&&Ag(l[1],l,c,r)}const o=t.type;if(8&o)Ag(n,e,t.child,r);else if(32&o){const a=AC(t,e);let l;for(;l=a();)r.push(l)}else if(16&o){const a=tF(e,t);if(Array.isArray(a))r.push(...a);else{const l=uh(e[16]);Ag(l[1],l,a,r,!0)}}t=i?t.projectionNext:t.next}return r}class mh{constructor(e,t){this._lView=e,this._cdRefInjectingView=t,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const e=this._lView,t=e[1];return Ag(t,e,t.firstChild,[])}get context(){return this._lView[8]}set context(e){this._lView[8]=e}get destroyed(){return 128==(128&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const e=this._lView[3];if(Mi(e)){const t=e[8],r=t?t.indexOf(this):-1;r>-1&&(PC(e,r),sg(t,r))}this._attachedToViewContainer=!1}WN(this._lView[1],this._lView)}onDestroy(e){aL(this._lView[1],this._lView,null,e)}markForCheck(){S0(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-65}reattach(){this._lView[2]|=64}detectChanges(){Sg(this._lView[1],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new x(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function TX(n,e){dh(n,e,e[11],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new x(902,!1);this._appRef=e}}class qJ extends mh{constructor(e){super(e),this._view=e}detectChanges(){const e=this._view;Sg(e[1],e,e[8],!1)}checkNoChanges(){}get context(){return null}}class M0 extends jo{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){const t=tt(e);return new gh(t,this.ngModule)}}function wL(n){const e=[];for(let t in n)n.hasOwnProperty(t)&&e.push({propName:n[t],templateName:t});return e}class YJ{constructor(e,t){this.injector=e,this.parentInjector=t}get(e,t,r){const i=this.injector.get(e,JC,r);return i!==JC||t===JC?i:this.parentInjector.get(e,t,r)}}class gh extends SF{constructor(e,t){super(),this.componentDef=e,this.ngModule=t,this.componentType=e.type,this.selector=function KZ(n){return n.map(qZ).join(",")}(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!t}get inputs(){return wL(this.componentDef.inputs)}get outputs(){return wL(this.componentDef.outputs)}create(e,t,r,i){let s=(i=i||this.ngModule)instanceof $o?i:i?.injector;s&&null!==this.componentDef.getStandaloneInjector&&(s=this.componentDef.getStandaloneInjector(s)||s);const o=s?new YJ(e,s):e,a=o.get(ph,null);if(null===a)throw new x(407,!1);const l=o.get(AZ,null),c=a.createRenderer(null,this.componentDef),u=this.componentDef.selectors[0][0]||"div",d=r?function AJ(n,e,t){return n.selectRootElement(e,t===Di.ShadowDom)}(c,r,this.componentDef.encapsulation):RC(c,u,function KJ(n){const e=n.toLowerCase();return"svg"===e?"svg":"math"===e?"math":null}(u)),h=this.componentDef.onPush?288:272,f=C0(0,null,null,1,0,null,null,null,null,null),p=Eg(null,f,null,h,null,null,a,c,l,o,null);let m,g;sC(p);try{const b=function ZJ(n,e,t,r,i,s){const o=t[1];t[22]=n;const l=Yc(o,22,2,"#host",null),c=l.mergedAttrs=e.hostAttrs;null!==c&&(Dg(l,c,!0),null!==n&&(Jm(i,n,c),null!==l.classes&&BC(i,n,l.classes),null!==l.styles&&rF(i,n,l.styles)));const u=r.createRenderer(n,e),d=Eg(t,oL(e),null,e.onPush?32:16,t[22],l,r,u,s||null,null,null);return o.firstCreatePass&&(rg(Jd(l,t),o,e.type),fL(o,l),pL(l,t.length,1)),Tg(t,d),t[22]=d}(d,this.componentDef,p,a,c);if(d)if(r)Jm(c,d,["ng-version",AF.full]);else{const{attrs:E,classes:v}=function YZ(n){const e=[],t=[];let r=1,i=2;for(;r<n.length;){let s=n[r];if("string"==typeof s)2===i?""!==s&&e.push(s,n[++r]):8===i&&t.push(s);else{if(!Ri(i))break;i=s}r++}return{attrs:e,classes:t}}(this.componentDef.selectors[0]);E&&Jm(c,d,E),v&&v.length>0&&BC(c,d,v.join(" "))}if(g=Zw(f,22),void 0!==t){const E=g.projection=[];for(let v=0;v<this.ngContentSelectors.length;v++){const M=t[v];E.push(null!=M?Array.from(M):null)}}m=function JJ(n,e,t,r){const i=t[1],s=function RJ(n,e,t){const r=an();n.firstCreatePass&&(t.providersResolver&&t.providersResolver(t),mL(n,r,e,Qc(n,e,1,null),t),cL(n,r));const i=eh(e,n,r.directiveStart,r);Yn(i,e);const s=Hr(r,e);return s&&Yn(s,e),i}(i,t,e);if(n[8]=t[8]=s,null!==r)for(const a of r)a(s,e);if(e.contentQueries){const a=an();e.contentQueries(1,s,a.directiveStart)}const o=an();return!i.firstCreatePass||null===e.hostBindings&&null===e.hostAttrs||(Bo(o.index),dL(t[1],o,0,o.directiveStart,o.directiveEnd,e),hL(e,s)),s}(b,this.componentDef,p,[eee]),v0(f,p,null)}finally{oC()}return new XJ(this.componentType,m,Wc(g,p),p,g)}}class XJ extends class CZ{}{constructor(e,t,r,i,s){super(),this.location=r,this._rootLView=i,this._tNode=s,this.instance=t,this.hostView=this.changeDetectorRef=new qJ(i),this.componentType=e}setInput(e,t){const r=this._tNode.inputs;let i;if(null!==r&&(i=r[e])){const s=this._rootLView;A0(s[1],s,i,e,t),uL(s,this._tNode.index)}}get injector(){return new Nc(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}}function eee(){const n=an();Qm(k()[1],n)}function Te(n){let e=function CL(n){return Object.getPrototypeOf(n.prototype).constructor}(n.type),t=!0;const r=[n];for(;e;){let i;if(xi(n))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new x(903,!1);i=e.\u0275dir}if(i){if(t){r.push(i);const o=n;o.inputs=x0(n.inputs),o.declaredInputs=x0(n.declaredInputs),o.outputs=x0(n.outputs);const a=i.hostBindings;a&&iee(n,a);const l=i.viewQuery,c=i.contentQueries;if(l&&nee(n,l),c&&ree(n,c),Vw(n.inputs,i.inputs),Vw(n.declaredInputs,i.declaredInputs),Vw(n.outputs,i.outputs),xi(i)&&i.data.animation){const u=n.data;u.animation=(u.animation||[]).concat(i.data.animation)}}const s=i.features;if(s)for(let o=0;o<s.length;o++){const a=s[o];a&&a.ngInherit&&a(n),a===Te&&(t=!1)}}e=Object.getPrototypeOf(e)}!function tee(n){let e=0,t=null;for(let r=n.length-1;r>=0;r--){const i=n[r];i.hostVars=e+=i.hostVars,i.hostAttrs=eg(i.hostAttrs,t=eg(t,i.hostAttrs))}}(r)}function x0(n){return n===Sc?{}:n===Ke?[]:n}function nee(n,e){const t=n.viewQuery;n.viewQuery=t?(r,i)=>{e(r,i),t(r,i)}:e}function ree(n,e){const t=n.contentQueries;n.contentQueries=t?(r,i,s)=>{e(r,i,s),t(r,i,s)}:e}function iee(n,e){const t=n.hostBindings;n.hostBindings=t?(r,i)=>{e(r,i),t(r,i)}:e}let Mg=null;function Za(){if(!Mg){const n=dt.Symbol;if(n&&n.iterator)Mg=n.iterator;else{const e=Object.getOwnPropertyNames(Map.prototype);for(let t=0;t<e.length;++t){const r=e[t];"entries"!==r&&"size"!==r&&Map.prototype[r]===Map.prototype.entries&&(Mg=r)}}}return Mg}function _h(n){return!!k0(n)&&(Array.isArray(n)||!(n instanceof Map)&&Za()in n)}function k0(n){return null!==n&&("function"==typeof n||"object"==typeof n)}function is(n,e,t){return n[e]=t}function Qn(n,e,t){return!Object.is(n[e],t)&&(n[e]=t,!0)}function Ja(n,e,t,r){const i=Qn(n,e,t);return Qn(n,e+1,r)||i}function ft(n,e,t,r){const i=k();return Qn(i,Rc(),e)&&(Ve(),rs(Mt(),i,n,e,t,r)),ft}function Jc(n,e,t,r,i,s){const a=Ja(n,function Bs(){return fe.lFrame.bindingIndex}(),t,i);return Us(2),a?e+ge(t)+r+ge(i)+s:_e}function Z(n,e,t,r,i,s,o,a){const l=k(),c=Ve(),u=n+22,d=c.firstCreatePass?function hee(n,e,t,r,i,s,o,a,l){const c=e.consts,u=Yc(e,n,4,o||null,Vo(c,a));E0(e,t,u,Vo(c,l)),Qm(e,u);const d=u.tViews=C0(2,u,r,i,s,e.directiveRegistry,e.pipeRegistry,null,e.schemas,c);return null!==e.queries&&(e.queries.template(e,u),d.queries=e.queries.embeddedTView(u)),u}(u,c,l,e,t,r,i,s,o):c.data[u];es(d,!1);const h=l[11].createComment("");dg(c,l,h,d),Yn(h,l),Tg(l,l[u]=gL(h,l,h,d)),qm(d)&&b0(c,l,d),null!=o&&w0(l,d,a)}function Gt(n){return kc(function s9(){return fe.lFrame.contextLView}(),22+n)}function F(n,e,t){const r=k();return Qn(r,Rc(),e)&&Wr(Ve(),Mt(),r,n,e,r[11],t,!1),F}function R0(n,e,t,r,i){const o=i?"class":"style";A0(n,t,e.inputs[o],o,r)}function C(n,e,t,r){const i=k(),s=Ve(),o=22+n,a=i[11],l=i[o]=RC(a,e,function p9(){return fe.lFrame.currentNamespace}()),c=s.firstCreatePass?function pee(n,e,t,r,i,s,o){const a=e.consts,c=Yc(e,n,2,i,Vo(a,s));return E0(e,t,c,Vo(a,o)),null!==c.attrs&&Dg(c,c.attrs,!1),null!==c.mergedAttrs&&Dg(c,c.mergedAttrs,!0),null!==e.queries&&e.queries.elementStart(e,c),c}(o,s,i,0,e,t,r):s.data[o];es(c,!0);const u=c.mergedAttrs;null!==u&&Jm(a,l,u);const d=c.classes;null!==d&&BC(a,l,d);const h=c.styles;return null!==h&&rF(a,l,h),64!=(64&c.flags)&&dg(s,i,l,c),0===function e9(){return fe.lFrame.elementDepthCount}()&&Yn(l,i),function t9(){fe.lFrame.elementDepthCount++}(),qm(c)&&(b0(s,i,c),sL(s,c,i)),null!==r&&w0(i,c),C}function S(){let n=an();eC()?tC():(n=n.parent,es(n,!1));const e=n;!function n9(){fe.lFrame.elementDepthCount--}();const t=Ve();return t.firstCreatePass&&(Qm(t,n),qw(n)&&t.queries.elementEnd(n)),null!=e.classesWithoutHost&&function v9(n){return 0!=(16&n.flags)}(e)&&R0(t,e,k(),e.classesWithoutHost,!0),null!=e.stylesWithoutHost&&function b9(n){return 0!=(32&n.flags)}(e)&&R0(t,e,k(),e.stylesWithoutHost,!1),S}function he(n,e,t,r){return C(n,e,t,r),S(),he}function Ks(n,e,t){const r=k(),i=Ve(),s=n+22,o=i.firstCreatePass?function mee(n,e,t,r,i){const s=e.consts,o=Vo(s,r),a=Yc(e,n,8,"ng-container",o);return null!==o&&Dg(a,o,!0),E0(e,t,a,Vo(s,i)),null!==e.queries&&e.queries.elementStart(e,a),a}(s,i,r,e,t):i.data[s];es(o,!0);const a=r[s]=r[11].createComment("");return dg(i,r,a,o),Yn(a,r),qm(o)&&(b0(i,r,o),sL(i,o,r)),null!=t&&w0(r,o),Ks}function Ys(){let n=an();const e=Ve();return eC()?tC():(n=n.parent,es(n,!1)),e.firstCreatePass&&(Qm(e,n),qw(n)&&e.queries.elementEnd(n)),Ys}function kg(n,e,t){return Ks(n,e,t),Ys(),kg}function Oi(){return k()}function vh(n){return!!n&&"function"==typeof n.then}function RL(n){return!!n&&"function"==typeof n.subscribe}const P0=RL;function ye(n,e,t,r){const i=k(),s=Ve(),o=an();return function OL(n,e,t,r,i,s,o,a){const l=qm(r),u=n.firstCreatePass&&yL(n),d=e[8],h=_L(e);let f=!0;if(3&r.type||a){const g=Hr(r,e),b=a?a(g):g,E=h.length,v=a?L=>a(Zt(L[r.index])):r.index;let M=null;if(!a&&l&&(M=function gee(n,e,t,r){const i=n.cleanup;if(null!=i)for(let s=0;s<i.length-1;s+=2){const o=i[s];if(o===t&&i[s+1]===r){const a=e[7],l=i[s+2];return a.length>l?a[l]:null}"string"==typeof o&&(s+=2)}return null}(n,e,i,r.index)),null!==M)(M.__ngLastListenerFn__||M).__ngNextListenerFn__=s,M.__ngLastListenerFn__=s,f=!1;else{s=FL(r,e,d,s,!1);const L=t.listen(b,i,s);h.push(s,L),u&&u.push(i,v,E,E+1)}}else s=FL(r,e,d,s,!1);const p=r.outputs;let m;if(f&&null!==p&&(m=p[i])){const g=m.length;if(g)for(let b=0;b<g;b+=2){const U=e[m[b]][m[b+1]].subscribe(s),de=h.length;h.push(s,U),u&&u.push(i,r.index,de,-(de+1))}}}(s,i,i[11],o,n,e,0,r),ye}function NL(n,e,t,r){try{return!1!==t(r)}catch(i){return bL(n,i),!1}}function FL(n,e,t,r,i){return function s(o){if(o===Function)return r;S0(2&n.flags?$r(n.index,e):e);let l=NL(e,0,r,o),c=s.__ngNextListenerFn__;for(;c;)l=NL(e,0,c,o)&&l,c=c.__ngNextListenerFn__;return i&&!1===l&&(o.preventDefault(),o.returnValue=!1),l}}function X(n=1){return function u9(n){return(fe.lFrame.contextLView=function d9(n,e){for(;n>0;)e=e[15],n--;return e}(n,fe.lFrame.contextLView))[8]}(n)}function _ee(n,e){let t=null;const r=function jZ(n){const e=n.attrs;if(null!=e){const t=e.indexOf(5);if(0==(1&t))return e[t+1]}return null}(n);for(let i=0;i<e.length;i++){const s=e[i];if("*"!==s){if(null===r?PF(n,s,!0):WZ(r,s))return i}else t=i}return t}function Qs(n){const e=k()[16][6];if(!e.projection){const r=e.projection=rh(n?n.length:1,null),i=r.slice();let s=e.child;for(;null!==s;){const o=n?_ee(s,n):0;null!==o&&(i[o]?i[o].projectionNext=s:r[o]=s,i[o]=s),s=s.next}}}function Pn(n,e=0,t){const r=k(),i=Ve(),s=Yc(i,22+n,16,null,t||null);null===s.projection&&(s.projection=e),tC(),64!=(64&s.flags)&&function PX(n,e,t){nF(e[11],0,e,t,qN(n,t,e),XN(t.parent||e[6],t,e))}(i,r,s)}function WL(n,e,t,r,i){const s=n[t+1],o=null===e;let a=r?Pi(s):Ws(s),l=!1;for(;0!==a&&(!1===l||o);){const u=n[a+1];bee(n[a],e)&&(l=!0,n[a+1]=r?u0(u):l0(u)),a=r?Pi(u):Ws(u)}l&&(n[t+1]=r?l0(s):u0(s))}function bee(n,e){return null===n||null==e||(Array.isArray(n)?n[1]:n)===e||!(!Array.isArray(n)||"string"!=typeof e)&&Uc(n,e)>=0}function Wo(n,e,t){return Ni(n,e,t,!1),Wo}function Vt(n,e){return Ni(n,e,null,!0),Vt}function Ni(n,e,t,r){const i=k(),s=Ve(),o=Us(2);s.firstUpdatePass&&function eV(n,e,t,r){const i=n.data;if(null===i[t+1]){const s=i[ur()],o=function JL(n,e){return e>=n.expandoStartIndex}(n,t);(function iV(n,e){return 0!=(n.flags&(e?16:32))})(s,r)&&null===e&&!o&&(e=!1),e=function Mee(n,e,t,r){const i=function rC(n){const e=fe.lFrame.currentDirectiveIndex;return-1===e?null:n[e]}(n);let s=r?e.residualClasses:e.residualStyles;if(null===i)0===(r?e.classBindings:e.styleBindings)&&(t=bh(t=N0(null,n,e,t,r),e.attrs,r),s=null);else{const o=e.directiveStylingLast;if(-1===o||n[o]!==i)if(t=N0(i,n,e,t,r),null===s){let l=function xee(n,e,t){const r=t?e.classBindings:e.styleBindings;if(0!==Ws(r))return n[Pi(r)]}(n,e,r);void 0!==l&&Array.isArray(l)&&(l=N0(null,n,e,l[1],r),l=bh(l,e.attrs,r),function kee(n,e,t,r){n[Pi(t?e.classBindings:e.styleBindings)]=r}(n,e,r,l))}else s=function Ree(n,e,t){let r;const i=e.directiveEnd;for(let s=1+e.directiveStylingLast;s<i;s++)r=bh(r,n[s].hostAttrs,t);return bh(r,e.attrs,t)}(n,e,r)}return void 0!==s&&(r?e.residualClasses=s:e.residualStyles=s),t}(i,s,e,r),function yee(n,e,t,r,i,s){let o=s?e.classBindings:e.styleBindings,a=Pi(o),l=Ws(o);n[r]=t;let u,c=!1;if(Array.isArray(t)){const d=t;u=d[1],(null===u||Uc(d,u)>0)&&(c=!0)}else u=t;if(i)if(0!==l){const h=Pi(n[a+1]);n[r+1]=bg(h,a),0!==h&&(n[h+1]=c0(n[h+1],r)),n[a+1]=function pJ(n,e){return 131071&n|e<<17}(n[a+1],r)}else n[r+1]=bg(a,0),0!==a&&(n[a+1]=c0(n[a+1],r)),a=r;else n[r+1]=bg(l,0),0===a?a=r:n[l+1]=c0(n[l+1],r),l=r;c&&(n[r+1]=l0(n[r+1])),WL(n,u,r,!0),WL(n,u,r,!1),function vee(n,e,t,r,i){const s=i?n.residualClasses:n.residualStyles;null!=s&&"string"==typeof e&&Uc(s,e)>=0&&(t[r+1]=u0(t[r+1]))}(e,u,n,r,s),o=bg(a,l),s?e.classBindings=o:e.styleBindings=o}(i,s,e,t,o,r)}}(s,n,o,r),e!==_e&&Qn(i,o,e)&&function nV(n,e,t,r,i,s,o,a){if(!(3&e.type))return;const l=n.data,c=l[a+1];Rg(function YF(n){return 1==(1&n)}(c)?rV(l,e,t,i,Ws(c),o):void 0)||(Rg(s)||function KF(n){return 2==(2&n)}(c)&&(s=rV(l,null,t,i,a,o)),function NX(n,e,t,r,i){if(e)i?n.addClass(t,r):n.removeClass(t,r);else{let s=-1===r.indexOf("-")?void 0:Tr.DashCase;null==i?n.removeStyle(t,r,s):("string"==typeof i&&i.endsWith("!important")&&(i=i.slice(0,-10),s|=Tr.Important),n.setStyle(t,r,i,s))}}(r,o,Km(ur(),t),i,s))}(s,s.data[ur()],i,i[11],n,i[o+1]=function Nee(n,e){return null==n||("string"==typeof e?n+=e:"object"==typeof n&&(n=ot(Gr(n)))),n}(e,t),r,o)}function N0(n,e,t,r,i){let s=null;const o=t.directiveEnd;let a=t.directiveStylingLast;for(-1===a?a=t.directiveStart:a++;a<o&&(s=e[a],r=bh(r,s.hostAttrs,i),s!==n);)a++;return null!==n&&(t.directiveStylingLast=a),r}function bh(n,e,t){const r=t?1:2;let i=-1;if(null!==e)for(let s=0;s<e.length;s++){const o=e[s];"number"==typeof o?i=o:i===r&&(Array.isArray(n)||(n=void 0===n?[]:["",n]),zr(n,o,!!t||e[++s]))}return void 0===n?null:n}function rV(n,e,t,r,i,s){const o=null===e;let a;for(;i>0;){const l=n[i],c=Array.isArray(l),u=c?l[1]:l,d=null===u;let h=t[i+1];h===_e&&(h=d?Ke:void 0);let f=d?gC(h,r):u===r?h:void 0;if(c&&!Rg(f)&&(f=gC(l,r)),Rg(f)&&(a=f,o))return a;const p=n[i+1];i=o?Pi(p):Ws(p)}if(null!==e){let l=s?e.residualClasses:e.residualStyles;null!=l&&(a=gC(l,r))}return a}function Rg(n){return void 0!==n}function D(n,e=""){const t=k(),r=Ve(),i=n+22,s=r.firstCreatePass?Yc(r,i,1,e,null):r.data[i],o=t[i]=function kC(n,e){return n.createText(e)}(t[11],e);dg(r,t,o,s),es(s,!1)}function Xn(n){return Zn("",n,""),Xn}function Zn(n,e,t){const r=k(),i=function Zc(n,e,t,r){return Qn(n,Rc(),t)?e+ge(t)+r:_e}(r,n,e,t);return i!==_e&&qs(r,ur(),i),Zn}function F0(n,e,t,r,i){const s=k(),o=Jc(s,n,e,t,r,i);return o!==_e&&qs(s,ur(),o),F0}function Pg(n,e,t){const r=k();return Qn(r,Rc(),e)&&Wr(Ve(),Mt(),r,n,e,r[11],t,!0),Pg}const el=void 0;var tte=["en",[["a","p"],["AM","PM"],el],[["AM","PM"],el,el],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],el,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],el,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",el,"{1} 'at' {0}",el],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function ete(n){const t=Math.floor(Math.abs(n)),r=n.toString().replace(/^[^.]*\.?/,"").length;return 1===t&&0===r?1:5}];let au={};function hr(n){const e=function nte(n){return n.toLowerCase().replace(/_/g,"-")}(n);let t=EV(e);if(t)return t;const r=e.split("-")[0];if(t=EV(r),t)return t;if("en"===r)return tte;throw new x(701,!1)}function EV(n){return n in au||(au[n]=dt.ng&&dt.ng.common&&dt.ng.common.locales&&dt.ng.common.locales[n]),au[n]}var G=(()=>((G=G||{})[G.LocaleId=0]="LocaleId",G[G.DayPeriodsFormat=1]="DayPeriodsFormat",G[G.DayPeriodsStandalone=2]="DayPeriodsStandalone",G[G.DaysFormat=3]="DaysFormat",G[G.DaysStandalone=4]="DaysStandalone",G[G.MonthsFormat=5]="MonthsFormat",G[G.MonthsStandalone=6]="MonthsStandalone",G[G.Eras=7]="Eras",G[G.FirstDayOfWeek=8]="FirstDayOfWeek",G[G.WeekendRange=9]="WeekendRange",G[G.DateFormat=10]="DateFormat",G[G.TimeFormat=11]="TimeFormat",G[G.DateTimeFormat=12]="DateTimeFormat",G[G.NumberSymbols=13]="NumberSymbols",G[G.NumberFormats=14]="NumberFormats",G[G.CurrencyCode=15]="CurrencyCode",G[G.CurrencySymbol=16]="CurrencySymbol",G[G.CurrencyName=17]="CurrencyName",G[G.Currencies=18]="Currencies",G[G.Directionality=19]="Directionality",G[G.PluralCase=20]="PluralCase",G[G.ExtraData=21]="ExtraData",G))();const lu="en-US";let IV=lu;function B0(n,e,t,r,i){if(n=ue(n),Array.isArray(n))for(let s=0;s<n.length;s++)B0(n[s],e,t,r,i);else{const s=Ve(),o=k();let a=Xa(n)?n:ue(n.provide),l=TF(n);const c=an(),u=1048575&c.providerIndexes,d=c.directiveStart,h=c.providerIndexes>>20;if(Xa(n)||!n.multi){const f=new Xd(l,i,y),p=H0(a,e,i?u:u+h,d);-1===p?(rg(Jd(c,o),s,a),U0(s,n,e.length),e.push(a),c.directiveStart++,c.directiveEnd++,i&&(c.providerIndexes+=1048576),t.push(f),o.push(f)):(t[p]=f,o[p]=f)}else{const f=H0(a,e,u+h,d),p=H0(a,e,u,u+h),m=f>=0&&t[f],g=p>=0&&t[p];if(i&&!g||!i&&!m){rg(Jd(c,o),s,a);const b=function Jte(n,e,t,r,i){const s=new Xd(n,t,y);return s.multi=[],s.index=e,s.componentProviders=0,YV(s,i,r&&!t),s}(i?Zte:Xte,t.length,i,r,l);!i&&g&&(t[p].providerFactory=b),U0(s,n,e.length,0),e.push(a),c.directiveStart++,c.directiveEnd++,i&&(c.providerIndexes+=1048576),t.push(b),o.push(b)}else U0(s,n,f>-1?f:p,YV(t[i?p:f],l,!i&&r));!i&&r&&g&&t[p].componentProviders++}}}function U0(n,e,t,r){const i=Xa(e),s=function pZ(n){return!!n.useClass}(e);if(i||s){const l=(s?ue(e.useClass):e).prototype.ngOnDestroy;if(l){const c=n.destroyHooks||(n.destroyHooks=[]);if(!i&&e.multi){const u=c.indexOf(t);-1===u?c.push(t,[r,l]):c[u+1].push(r,l)}else c.push(t,l)}}}function YV(n,e,t){return t&&n.componentProviders++,n.multi.push(e)-1}function H0(n,e,t,r){for(let i=t;i<r;i++)if(e[i]===n)return i;return-1}function Xte(n,e,t,r){return $0(this.multi,[])}function Zte(n,e,t,r){const i=this.multi;let s;if(this.providerFactory){const o=this.providerFactory.componentProviders,a=eh(t,t[1],this.providerFactory.index,r);s=a.slice(0,o),$0(i,s);for(let l=o;l<a.length;l++)s.push(a[l])}else s=[],$0(i,s);return s}function $0(n,e){for(let t=0;t<n.length;t++)e.push((0,n[t])());return e}function $e(n,e=[]){return t=>{t.providersResolver=(r,i)=>function Qte(n,e,t){const r=Ve();if(r.firstCreatePass){const i=xi(n);B0(t,r.data,r.blueprint,i,!0),B0(e,r.data,r.blueprint,i,!1)}}(r,i?i(n):n,e)}}class tl{}class QV{}class XV extends tl{constructor(e,t){super(),this._parent=t,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new M0(this);const r=Br(e);this._bootstrapComponents=Gs(r.bootstrap),this._r3Injector=UF(e,t,[{provide:tl,useValue:this},{provide:jo,useValue:this.componentFactoryResolver}],ot(e),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(e)}get injector(){return this._r3Injector}destroy(){const e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(t=>t()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}}class j0 extends QV{constructor(e){super(),this.moduleType=e}create(e){return new XV(this.moduleType,e)}}class tne extends tl{constructor(e,t,r){super(),this.componentFactoryResolver=new M0(this),this.instance=null;const i=new IF([...e,{provide:tl,useValue:this},{provide:jo,useValue:this.componentFactoryResolver}],t||yg(),r,new Set(["environment"]));this.injector=i,i.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}}function Vg(n,e,t=null){return new tne(n,e,t).injector}let nne=(()=>{class n{constructor(t){this._injector=t,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(t){if(!t.standalone)return null;if(!this.cachedInjectors.has(t.id)){const r=bF(0,t.type),i=r.length>0?Vg([r],this._injector,`Standalone[${t.type.name}]`):null;this.cachedInjectors.set(t.id,i)}return this.cachedInjectors.get(t.id)}ngOnDestroy(){try{for(const t of this.cachedInjectors.values())null!==t&&t.destroy()}finally{this.cachedInjectors.clear()}}}return n.\u0275prov=V({token:n,providedIn:"environment",factory:()=>new n(w($o))}),n})();function ZV(n){n.getStandaloneInjector=e=>e.get(nne).getOrCreateStandaloneInjector(n)}function G0(n,e,t,r,i){return c2(k(),cr(),n,e,t,r,i)}function Sh(n,e){const t=n[e];return t===_e?void 0:t}function c2(n,e,t,r,i,s,o){const a=e+t;return Ja(n,a,i,s)?is(n,a+2,o?r.call(o,i,s):r(i,s)):Sh(n,a+2)}function Li(n,e){const t=Ve();let r;const i=n+22;t.firstCreatePass?(r=function yne(n,e){if(e)for(let t=e.length-1;t>=0;t--){const r=e[t];if(n===r.name)return r}}(e,t.pipeRegistry),t.data[i]=r,r.onDestroy&&(t.destroyHooks||(t.destroyHooks=[])).push(i,r.onDestroy)):r=t.data[i];const s=r.factory||(r.factory=Wa(r.type)),o=di(y);try{const a=tg(!1),l=s();return tg(a),function fee(n,e,t,r){t>=n.data.length&&(n.data[t]=null,n.blueprint[t]=null),e[t]=r}(t,k(),i,l),l}finally{di(o)}}function Bg(n,e,t){const r=n+22,i=k(),s=kc(i,r);return Dh(i,r)?function l2(n,e,t,r,i,s){const o=e+t;return Qn(n,o,i)?is(n,o+1,s?r.call(s,i):r(i)):Sh(n,o+1)}(i,cr(),e,s.transform,t,s):s.transform(t)}function qo(n,e,t,r){const i=n+22,s=k(),o=kc(s,i);return Dh(s,i)?c2(s,cr(),e,o.transform,t,r,o):o.transform(t,r)}function Dh(n,e){return n[1].data[e].pure}function W0(n){return e=>{setTimeout(n,void 0,e)}}const Pe=class Cne extends Le{constructor(e=!1){super(),this.__isAsync=e}emit(e){super.next(e)}subscribe(e,t,r){let i=e,s=t||(()=>null),o=r;if(e&&"object"==typeof e){const l=e;i=l.next?.bind(l),s=l.error?.bind(l),o=l.complete?.bind(l)}this.__isAsync&&(s=W0(s),i&&(i=W0(i)),o&&(o=W0(o)));const a=super.subscribe({next:i,error:s,complete:o});return e instanceof Ft&&e.add(a),a}};function Ene(){return this._results[Za()]()}class cu{constructor(e=!1){this._emitDistinctChangesOnly=e,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const t=Za(),r=cu.prototype;r[t]||(r[t]=Ene)}get changes(){return this._changes||(this._changes=new Pe)}get(e){return this._results[e]}map(e){return this._results.map(e)}filter(e){return this._results.filter(e)}find(e){return this._results.find(e)}reduce(e,t){return this._results.reduce(e,t)}forEach(e){this._results.forEach(e)}some(e){return this._results.some(e)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(e,t){const r=this;r.dirty=!1;const i=jr(e);(this._changesDetected=!function x9(n,e,t){if(n.length!==e.length)return!1;for(let r=0;r<n.length;r++){let i=n[r],s=e[r];if(t&&(i=t(i),s=t(s)),s!==i)return!1}return!0}(r._results,i,t))&&(r._results=i,r.length=i.length,r.last=i[this.length-1],r.first=i[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}let mi=(()=>{class n{}return n.__NG_ELEMENT_ID__=Sne,n})();const Ine=mi,Tne=class extends Ine{constructor(e,t,r){super(),this._declarationLView=e,this._declarationTContainer=t,this.elementRef=r}createEmbeddedView(e,t){const r=this._declarationTContainer.tViews,i=Eg(this._declarationLView,r,e,16,null,r.declTNode,null,null,null,null,t||null);i[17]=this._declarationLView[this._declarationTContainer.index];const o=this._declarationLView[19];return null!==o&&(i[19]=o.createEmbeddedView(r)),v0(r,i,e),new mh(i)}};function Sne(){return Ug(an(),k())}function Ug(n,e){return 4&n.type?new Tne(e,n,Wc(n,e)):null}let qr=(()=>{class n{}return n.__NG_ELEMENT_ID__=Dne,n})();function Dne(){return m2(an(),k())}const Ane=qr,f2=class extends Ane{constructor(e,t,r){super(),this._lContainer=e,this._hostTNode=t,this._hostLView=r}get element(){return Wc(this._hostTNode,this._hostLView)}get injector(){return new Nc(this._hostTNode,this._hostLView)}get parentInjector(){const e=ng(this._hostTNode,this._hostLView);if(aN(e)){const t=Oc(e,this._hostLView),r=Pc(e);return new Nc(t[1].data[r+8],t)}return new Nc(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){const t=p2(this._lContainer);return null!==t&&t[e]||null}get length(){return this._lContainer.length-10}createEmbeddedView(e,t,r){let i,s;"number"==typeof r?i=r:null!=r&&(i=r.index,s=r.injector);const o=e.createEmbeddedView(t||{},s);return this.insert(o,i),o}createComponent(e,t,r,i,s){const o=e&&!function nh(n){return"function"==typeof n}(e);let a;if(o)a=t;else{const d=t||{};a=d.index,r=d.injector,i=d.projectableNodes,s=d.environmentInjector||d.ngModuleRef}const l=o?e:new gh(tt(e)),c=r||this.parentInjector;if(!s&&null==l.ngModule){const h=(o?c:this.parentInjector).get($o,null);h&&(s=h)}const u=l.create(c,i,void 0,s);return this.insert(u.hostView,a),u}insert(e,t){const r=e._lView,i=r[1];if(function JQ(n){return Mi(n[3])}(r)){const u=this.indexOf(e);if(-1!==u)this.detach(u);else{const d=r[3],h=new f2(d,d[6],d[3]);h.detach(h.indexOf(e))}}const s=this._adjustIndex(t),o=this._lContainer;!function DX(n,e,t,r){const i=10+r,s=t.length;r>0&&(t[i-1][4]=e),r<s-10?(e[4]=t[i],yN(t,10+r,e)):(t.push(e),e[4]=null),e[3]=t;const o=e[17];null!==o&&t!==o&&function AX(n,e){const t=n[9];e[16]!==e[3][3][16]&&(n[2]=!0),null===t?n[9]=[e]:t.push(e)}(o,e);const a=e[19];null!==a&&a.insertView(n),e[2]|=64}(i,r,o,s);const a=FC(s,o),l=r[11],c=ug(l,o[7]);return null!==c&&function IX(n,e,t,r,i,s){r[0]=i,r[6]=e,dh(n,r,t,1,i,s)}(i,o[6],l,r,c,a),e.attachToViewContainerRef(),yN(q0(o),s,e),e}move(e,t){return this.insert(e,t)}indexOf(e){const t=p2(this._lContainer);return null!==t?t.indexOf(e):-1}remove(e){const t=this._adjustIndex(e,-1),r=PC(this._lContainer,t);r&&(sg(q0(this._lContainer),t),WN(r[1],r))}detach(e){const t=this._adjustIndex(e,-1),r=PC(this._lContainer,t);return r&&null!=sg(q0(this._lContainer),t)?new mh(r):null}_adjustIndex(e,t=0){return e??this.length+t}};function p2(n){return n[8]}function q0(n){return n[8]||(n[8]=[])}function m2(n,e){let t;const r=e[n.index];if(Mi(r))t=r;else{let i;if(8&n.type)i=Zt(r);else{const s=e[11];i=s.createComment("");const o=Hr(n,e);qa(s,ug(s,o),i,function RX(n,e){return n.nextSibling(e)}(s,o),!1)}e[n.index]=t=gL(r,e,i,n),Tg(e,t)}return new f2(t,n,e)}class K0{constructor(e){this.queryList=e,this.matches=null}clone(){return new K0(this.queryList)}setDirty(){this.queryList.setDirty()}}class Y0{constructor(e=[]){this.queries=e}createEmbeddedView(e){const t=e.queries;if(null!==t){const r=null!==e.contentQueries?e.contentQueries[0]:t.length,i=[];for(let s=0;s<r;s++){const o=t.getByIndex(s);i.push(this.queries[o.indexInDeclarationView].clone())}return new Y0(i)}return null}insertView(e){this.dirtyQueriesWithMatches(e)}detachView(e){this.dirtyQueriesWithMatches(e)}dirtyQueriesWithMatches(e){for(let t=0;t<this.queries.length;t++)null!==b2(e,t).matches&&this.queries[t].setDirty()}}class g2{constructor(e,t,r=null){this.predicate=e,this.flags=t,this.read=r}}class Q0{constructor(e=[]){this.queries=e}elementStart(e,t){for(let r=0;r<this.queries.length;r++)this.queries[r].elementStart(e,t)}elementEnd(e){for(let t=0;t<this.queries.length;t++)this.queries[t].elementEnd(e)}embeddedTView(e){let t=null;for(let r=0;r<this.length;r++){const i=null!==t?t.length:0,s=this.getByIndex(r).embeddedTView(e,i);s&&(s.indexInDeclarationView=r,null!==t?t.push(s):t=[s])}return null!==t?new Q0(t):null}template(e,t){for(let r=0;r<this.queries.length;r++)this.queries[r].template(e,t)}getByIndex(e){return this.queries[e]}get length(){return this.queries.length}track(e){this.queries.push(e)}}class X0{constructor(e,t=-1){this.metadata=e,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=t}elementStart(e,t){this.isApplyingToNode(t)&&this.matchTNode(e,t)}elementEnd(e){this._declarationNodeIndex===e.index&&(this._appliesToNextNode=!1)}template(e,t){this.elementStart(e,t)}embeddedTView(e,t){return this.isApplyingToNode(e)?(this.crossesNgTemplate=!0,this.addMatch(-e.index,t),new X0(this.metadata)):null}isApplyingToNode(e){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const t=this._declarationNodeIndex;let r=e.parent;for(;null!==r&&8&r.type&&r.index!==t;)r=r.parent;return t===(null!==r?r.index:-1)}return this._appliesToNextNode}matchTNode(e,t){const r=this.metadata.predicate;if(Array.isArray(r))for(let i=0;i<r.length;i++){const s=r[i];this.matchTNodeWithReadOption(e,t,kne(t,s)),this.matchTNodeWithReadOption(e,t,ig(t,e,s,!1,!1))}else r===mi?4&t.type&&this.matchTNodeWithReadOption(e,t,-1):this.matchTNodeWithReadOption(e,t,ig(t,e,r,!1,!1))}matchTNodeWithReadOption(e,t,r){if(null!==r){const i=this.metadata.read;if(null!==i)if(i===Ze||i===qr||i===mi&&4&t.type)this.addMatch(t.index,-2);else{const s=ig(t,e,i,!1,!1);null!==s&&this.addMatch(t.index,s)}else this.addMatch(t.index,r)}}addMatch(e,t){null===this.matches?this.matches=[e,t]:this.matches.push(e,t)}}function kne(n,e){const t=n.localNames;if(null!==t)for(let r=0;r<t.length;r+=2)if(t[r]===e)return t[r+1];return null}function Pne(n,e,t,r){return-1===t?function Rne(n,e){return 11&n.type?Wc(n,e):4&n.type?Ug(n,e):null}(e,n):-2===t?function One(n,e,t){return t===Ze?Wc(e,n):t===mi?Ug(e,n):t===qr?m2(e,n):void 0}(n,e,r):eh(n,n[1],t,e)}function _2(n,e,t,r){const i=e[19].queries[r];if(null===i.matches){const s=n.data,o=t.matches,a=[];for(let l=0;l<o.length;l+=2){const c=o[l];a.push(c<0?null:Pne(e,s[c],o[l+1],t.metadata.read))}i.matches=a}return i.matches}function Z0(n,e,t,r){const i=n.queries.getByIndex(t),s=i.matches;if(null!==s){const o=_2(n,e,i,t);for(let a=0;a<s.length;a+=2){const l=s[a];if(l>0)r.push(o[a/2]);else{const c=s[a+1],u=e[-l];for(let d=10;d<u.length;d++){const h=u[d];h[17]===h[3]&&Z0(h[1],h,c,r)}if(null!==u[9]){const d=u[9];for(let h=0;h<d.length;h++){const f=d[h];Z0(f[1],f,c,r)}}}}}return r}function vt(n){const e=k(),t=Ve(),r=QO();iC(r+1);const i=b2(t,r);if(n.dirty&&function ZQ(n){return 4==(4&n[2])}(e)===(2==(2&i.metadata.flags))){if(null===i.matches)n.reset([]);else{const s=i.crossesNgTemplate?Z0(t,e,r,[]):_2(t,e,i,r);n.reset(s,SZ),n.notifyOnChanges()}return!0}return!1}function as(n,e,t){const r=Ve();r.firstCreatePass&&(v2(r,new g2(n,e,t),-1),2==(2&e)&&(r.staticViewQueries=!0)),y2(r,k(),e)}function Jn(n,e,t,r){const i=Ve();if(i.firstCreatePass){const s=an();v2(i,new g2(e,t,r),s.index),function Fne(n,e){const t=n.contentQueries||(n.contentQueries=[]);e!==(t.length?t[t.length-1]:-1)&&t.push(n.queries.length-1,e)}(i,n),2==(2&t)&&(i.staticContentQueries=!0)}y2(i,k(),t)}function bt(){return function Nne(n,e){return n[19].queries[e].queryList}(k(),QO())}function y2(n,e,t){const r=new cu(4==(4&t));aL(n,e,r,r.destroy),null===e[19]&&(e[19]=new Y0),e[19].queries.push(new K0(r))}function v2(n,e,t){null===n.queries&&(n.queries=new Q0),n.queries.track(new X0(e,t))}function b2(n,e){return n.queries.getByIndex(e)}function uu(n,e){return Ug(n,e)}function $g(...n){}const nl=new N("Application Initializer");let jg=(()=>{class n{constructor(t){this.appInits=t,this.resolve=$g,this.reject=$g,this.initialized=!1,this.done=!1,this.donePromise=new Promise((r,i)=>{this.resolve=r,this.reject=i})}runInitializers(){if(this.initialized)return;const t=[],r=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let i=0;i<this.appInits.length;i++){const s=this.appInits[i]();if(vh(s))t.push(s);else if(P0(s)){const o=new Promise((a,l)=>{s.subscribe({complete:a,error:l})});t.push(o)}}Promise.all(t).then(()=>{r()}).catch(i=>{this.reject(i)}),0===t.length&&r(),this.initialized=!0}}return n.\u0275fac=function(t){return new(t||n)(w(nl,8))},n.\u0275prov=V({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const Mh=new N("AppId",{providedIn:"root",factory:function B2(){return`${rE()}${rE()}${rE()}`}});function rE(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const U2=new N("Platform Initializer"),Xs=new N("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),H2=new N("appBootstrapListener"),rl=new N("AnimationModuleType");let nre=(()=>{class n{log(t){console.log(t)}warn(t){console.warn(t)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=V({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})();const ls=new N("LocaleId",{providedIn:"root",factory:()=>Et(ls,ie.Optional|ie.SkipSelf)||function rre(){return typeof $localize<"u"&&$localize.locale||lu}()}),ire=new N("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});class sre{constructor(e,t){this.ngModuleFactory=e,this.componentFactories=t}}let iE=(()=>{class n{compileModuleSync(t){return new j0(t)}compileModuleAsync(t){return Promise.resolve(this.compileModuleSync(t))}compileModuleAndAllComponentsSync(t){const r=this.compileModuleSync(t),s=Gs(Br(t).declarations).reduce((o,a)=>{const l=tt(a);return l&&o.push(new gh(l)),o},[]);return new sre(r,s)}compileModuleAndAllComponentsAsync(t){return Promise.resolve(this.compileModuleAndAllComponentsSync(t))}clearCache(){}clearCacheFor(t){}getModuleId(t){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=V({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const lre=(()=>Promise.resolve(0))();function sE(n){typeof Zone>"u"?lre.then(()=>{n&&n.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",n)}class se{constructor({enableLongStackTrace:e=!1,shouldCoalesceEventChangeDetection:t=!1,shouldCoalesceRunChangeDetection:r=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Pe(!1),this.onMicrotaskEmpty=new Pe(!1),this.onStable=new Pe(!1),this.onError=new Pe(!1),typeof Zone>"u")throw new x(908,!1);Zone.assertZonePatched();const i=this;if(i._nesting=0,i._outer=i._inner=Zone.current,Zone.AsyncStackTaggingZoneSpec){const s=Zone.AsyncStackTaggingZoneSpec;i._inner=i._inner.fork(new s("Angular"))}Zone.TaskTrackingZoneSpec&&(i._inner=i._inner.fork(new Zone.TaskTrackingZoneSpec)),e&&Zone.longStackTraceZoneSpec&&(i._inner=i._inner.fork(Zone.longStackTraceZoneSpec)),i.shouldCoalesceEventChangeDetection=!r&&t,i.shouldCoalesceRunChangeDetection=r,i.lastRequestAnimationFrameId=-1,i.nativeRequestAnimationFrame=function cre(){let n=dt.requestAnimationFrame,e=dt.cancelAnimationFrame;if(typeof Zone<"u"&&n&&e){const t=n[Zone.__symbol__("OriginalDelegate")];t&&(n=t);const r=e[Zone.__symbol__("OriginalDelegate")];r&&(e=r)}return{nativeRequestAnimationFrame:n,nativeCancelAnimationFrame:e}}().nativeRequestAnimationFrame,function hre(n){const e=()=>{!function dre(n){n.isCheckStableRunning||-1!==n.lastRequestAnimationFrameId||(n.lastRequestAnimationFrameId=n.nativeRequestAnimationFrame.call(dt,()=>{n.fakeTopEventTask||(n.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{n.lastRequestAnimationFrameId=-1,aE(n),n.isCheckStableRunning=!0,oE(n),n.isCheckStableRunning=!1},void 0,()=>{},()=>{})),n.fakeTopEventTask.invoke()}),aE(n))}(n)};n._inner=n._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(t,r,i,s,o,a)=>{try{return z2(n),t.invokeTask(i,s,o,a)}finally{(n.shouldCoalesceEventChangeDetection&&"eventTask"===s.type||n.shouldCoalesceRunChangeDetection)&&e(),G2(n)}},onInvoke:(t,r,i,s,o,a,l)=>{try{return z2(n),t.invoke(i,s,o,a,l)}finally{n.shouldCoalesceRunChangeDetection&&e(),G2(n)}},onHasTask:(t,r,i,s)=>{t.hasTask(i,s),r===i&&("microTask"==s.change?(n._hasPendingMicrotasks=s.microTask,aE(n),oE(n)):"macroTask"==s.change&&(n.hasPendingMacrotasks=s.macroTask))},onHandleError:(t,r,i,s)=>(t.handleError(i,s),n.runOutsideAngular(()=>n.onError.emit(s)),!1)})}(i)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!se.isInAngularZone())throw new x(909,!1)}static assertNotInAngularZone(){if(se.isInAngularZone())throw new x(909,!1)}run(e,t,r){return this._inner.run(e,t,r)}runTask(e,t,r,i){const s=this._inner,o=s.scheduleEventTask("NgZoneEvent: "+i,e,ure,$g,$g);try{return s.runTask(o,t,r)}finally{s.cancelTask(o)}}runGuarded(e,t,r){return this._inner.runGuarded(e,t,r)}runOutsideAngular(e){return this._outer.run(e)}}const ure={};function oE(n){if(0==n._nesting&&!n.hasPendingMicrotasks&&!n.isStable)try{n._nesting++,n.onMicrotaskEmpty.emit(null)}finally{if(n._nesting--,!n.hasPendingMicrotasks)try{n.runOutsideAngular(()=>n.onStable.emit(null))}finally{n.isStable=!0}}}function aE(n){n.hasPendingMicrotasks=!!(n._hasPendingMicrotasks||(n.shouldCoalesceEventChangeDetection||n.shouldCoalesceRunChangeDetection)&&-1!==n.lastRequestAnimationFrameId)}function z2(n){n._nesting++,n.isStable&&(n.isStable=!1,n.onUnstable.emit(null))}function G2(n){n._nesting--,oE(n)}class fre{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Pe,this.onMicrotaskEmpty=new Pe,this.onStable=new Pe,this.onError=new Pe}run(e,t,r){return e.apply(t,r)}runGuarded(e,t,r){return e.apply(t,r)}runOutsideAngular(e){return e()}runTask(e,t,r,i){return e.apply(t,r)}}const W2=new N(""),zg=new N("");let uE,lE=(()=>{class n{constructor(t,r,i){this._ngZone=t,this.registry=r,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,uE||(function pre(n){uE=n}(i),i.addToWindow(r)),this._watchAngularEvents(),t.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{se.assertNotInAngularZone(),sE(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())sE(()=>{for(;0!==this._callbacks.length;){let t=this._callbacks.pop();clearTimeout(t.timeoutId),t.doneCb(this._didWork)}this._didWork=!1});else{let t=this.getPendingTasks();this._callbacks=this._callbacks.filter(r=>!r.updateCb||!r.updateCb(t)||(clearTimeout(r.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(t=>({source:t.source,creationLocation:t.creationLocation,data:t.data})):[]}addCallback(t,r,i){let s=-1;r&&r>0&&(s=setTimeout(()=>{this._callbacks=this._callbacks.filter(o=>o.timeoutId!==s),t(this._didWork,this.getPendingTasks())},r)),this._callbacks.push({doneCb:t,timeoutId:s,updateCb:i})}whenStable(t,r,i){if(i&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(t,r,i),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(t){this.registry.registerApplication(t,this)}unregisterApplication(t){this.registry.unregisterApplication(t)}findProviders(t,r,i){return[]}}return n.\u0275fac=function(t){return new(t||n)(w(se),w(cE),w(zg))},n.\u0275prov=V({token:n,factory:n.\u0275fac}),n})(),cE=(()=>{class n{constructor(){this._applications=new Map}registerApplication(t,r){this._applications.set(t,r)}unregisterApplication(t){this._applications.delete(t)}unregisterAllApplications(){this._applications.clear()}getTestability(t){return this._applications.get(t)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(t,r=!0){return uE?.findTestabilityInTree(this,t,r)??null}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=V({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})(),Ko=null;const q2=new N("AllowMultipleToken"),dE=new N("PlatformDestroyListeners");class K2{constructor(e,t){this.name=e,this.token=t}}function Q2(n,e,t=[]){const r=`Platform: ${e}`,i=new N(r);return(s=[])=>{let o=hE();if(!o||o.injector.get(q2,!1)){const a=[...t,...s,{provide:i,useValue:!0}];n?n(a):function _re(n){if(Ko&&!Ko.get(q2,!1))throw new x(400,!1);Ko=n;const e=n.get(Z2);(function Y2(n){const e=n.get(U2,null);e&&e.forEach(t=>t())})(n)}(function X2(n=[],e){return Je.create({name:e,providers:[{provide:YC,useValue:"platform"},{provide:dE,useValue:new Set([()=>Ko=null])},...n]})}(a,r))}return function vre(n){const e=hE();if(!e)throw new x(401,!1);return e}()}}function hE(){return Ko?.get(Z2)??null}let Z2=(()=>{class n{constructor(t){this._injector=t,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(t,r){const i=function eB(n,e){let t;return t="noop"===n?new fre:("zone.js"===n?void 0:n)||new se(e),t}(r?.ngZone,function J2(n){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!(!n||!n.ngZoneEventCoalescing)||!1,shouldCoalesceRunChangeDetection:!(!n||!n.ngZoneRunCoalescing)||!1}}(r)),s=[{provide:se,useValue:i}];return i.run(()=>{const o=Je.create({providers:s,parent:this.injector,name:t.moduleType.name}),a=t.create(o),l=a.injector.get(zs,null);if(!l)throw new x(402,!1);return i.runOutsideAngular(()=>{const c=i.onError.subscribe({next:u=>{l.handleError(u)}});a.onDestroy(()=>{Gg(this._modules,a),c.unsubscribe()})}),function tB(n,e,t){try{const r=t();return vh(r)?r.catch(i=>{throw e.runOutsideAngular(()=>n.handleError(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>n.handleError(r)),r}}(l,i,()=>{const c=a.injector.get(jg);return c.runInitializers(),c.donePromise.then(()=>(function TV(n){Vr(n,"Expected localeId to be defined"),"string"==typeof n&&(IV=n.toLowerCase().replace(/_/g,"-"))}(a.injector.get(ls,lu)||lu),this._moduleDoBootstrap(a),a))})})}bootstrapModule(t,r=[]){const i=nB({},r);return function mre(n,e,t){const r=new j0(t);return Promise.resolve(r)}(0,0,t).then(s=>this.bootstrapModuleFactory(s,i))}_moduleDoBootstrap(t){const r=t.injector.get(il);if(t._bootstrapComponents.length>0)t._bootstrapComponents.forEach(i=>r.bootstrap(i));else{if(!t.instance.ngDoBootstrap)throw new x(403,!1);t.instance.ngDoBootstrap(r)}this._modules.push(t)}onDestroy(t){this._destroyListeners.push(t)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new x(404,!1);this._modules.slice().forEach(r=>r.destroy()),this._destroyListeners.forEach(r=>r());const t=this._injector.get(dE,null);t&&(t.forEach(r=>r()),t.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return n.\u0275fac=function(t){return new(t||n)(w(Je))},n.\u0275prov=V({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})();function nB(n,e){return Array.isArray(e)?e.reduce(nB,n):{...n,...e}}let il=(()=>{class n{constructor(t,r,i){this._zone=t,this._injector=r,this._exceptionHandler=i,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this._destroyed=!1,this._destroyListeners=[],this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const s=new ze(a=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{a.next(this._stable),a.complete()})}),o=new ze(a=>{let l;this._zone.runOutsideAngular(()=>{l=this._zone.onStable.subscribe(()=>{se.assertNotInAngularZone(),sE(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,a.next(!0))})})});const c=this._zone.onUnstable.subscribe(()=>{se.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{a.next(!1)}))});return()=>{l.unsubscribe(),c.unsubscribe()}});this.isStable=Tc(s,o.pipe(MO()))}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(t,r){const i=t instanceof SF;if(!this._injector.get(jg).done)throw!i&&function Dc(n){const e=tt(n)||or(n)||ar(n);return null!==e&&e.standalone}(t),new x(405,false);let o;o=i?t:this._injector.get(jo).resolveComponentFactory(t),this.componentTypes.push(o.componentType);const a=function gre(n){return n.isBoundToModule}(o)?void 0:this._injector.get(tl),c=o.create(Je.NULL,[],r||o.selector,a),u=c.location.nativeElement,d=c.injector.get(W2,null);return d?.registerApplication(u),c.onDestroy(()=>{this.detachView(c.hostView),Gg(this.components,c),d?.unregisterApplication(u)}),this._loadComponent(c),c}tick(){if(this._runningTick)throw new x(101,!1);try{this._runningTick=!0;for(let t of this._views)t.detectChanges()}catch(t){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(t))}finally{this._runningTick=!1}}attachView(t){const r=t;this._views.push(r),r.attachToAppRef(this)}detachView(t){const r=t;Gg(this._views,r),r.detachFromAppRef()}_loadComponent(t){this.attachView(t.hostView),this.tick(),this.components.push(t),this._injector.get(H2,[]).concat(this._bootstrapListeners).forEach(i=>i(t))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(t=>t()),this._views.slice().forEach(t=>t.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(t){return this._destroyListeners.push(t),()=>Gg(this._destroyListeners,t)}destroy(){if(this._destroyed)throw new x(406,!1);const t=this._injector;t.destroy&&!t.destroyed&&t.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return n.\u0275fac=function(t){return new(t||n)(w(se),w($o),w(zs))},n.\u0275prov=V({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function Gg(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}let iB=!0,sB=!1,Js=(()=>{class n{}return n.__NG_ELEMENT_ID__=Ere,n})();function Ere(n){return function Ire(n,e,t){if(Wm(n)&&!t){const r=$r(n.index,e);return new mh(r,r)}return 47&n.type?new mh(e[16],e):null}(an(),k(),16==(16&n))}class cB{constructor(){}supports(e){return _h(e)}create(e){return new xre(e)}}const Mre=(n,e)=>e;class xre{constructor(e){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=e||Mre}forEachItem(e){let t;for(t=this._itHead;null!==t;t=t._next)e(t)}forEachOperation(e){let t=this._itHead,r=this._removalsHead,i=0,s=null;for(;t||r;){const o=!r||t&&t.currentIndex<dB(r,i,s)?t:r,a=dB(o,i,s),l=o.currentIndex;if(o===r)i--,r=r._nextRemoved;else if(t=t._next,null==o.previousIndex)i++;else{s||(s=[]);const c=a-i,u=l-i;if(c!=u){for(let h=0;h<c;h++){const f=h<s.length?s[h]:s[h]=0,p=f+h;u<=p&&p<c&&(s[h]=f+1)}s[o.previousIndex]=u-c}}a!==l&&e(o,a,l)}}forEachPreviousItem(e){let t;for(t=this._previousItHead;null!==t;t=t._nextPrevious)e(t)}forEachAddedItem(e){let t;for(t=this._additionsHead;null!==t;t=t._nextAdded)e(t)}forEachMovedItem(e){let t;for(t=this._movesHead;null!==t;t=t._nextMoved)e(t)}forEachRemovedItem(e){let t;for(t=this._removalsHead;null!==t;t=t._nextRemoved)e(t)}forEachIdentityChange(e){let t;for(t=this._identityChangesHead;null!==t;t=t._nextIdentityChange)e(t)}diff(e){if(null==e&&(e=[]),!_h(e))throw new x(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let i,s,o,t=this._itHead,r=!1;if(Array.isArray(e)){this.length=e.length;for(let a=0;a<this.length;a++)s=e[a],o=this._trackByFn(a,s),null!==t&&Object.is(t.trackById,o)?(r&&(t=this._verifyReinsertion(t,s,o,a)),Object.is(t.item,s)||this._addIdentityChange(t,s)):(t=this._mismatch(t,s,o,a),r=!0),t=t._next}else i=0,function cee(n,e){if(Array.isArray(n))for(let t=0;t<n.length;t++)e(n[t]);else{const t=n[Za()]();let r;for(;!(r=t.next()).done;)e(r.value)}}(e,a=>{o=this._trackByFn(i,a),null!==t&&Object.is(t.trackById,o)?(r&&(t=this._verifyReinsertion(t,a,o,i)),Object.is(t.item,a)||this._addIdentityChange(t,a)):(t=this._mismatch(t,a,o,i),r=!0),t=t._next,i++}),this.length=i;return this._truncate(t),this.collection=e,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;null!==e;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;null!==e;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,t,r,i){let s;return null===e?s=this._itTail:(s=e._prev,this._remove(e)),null!==(e=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null))?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._reinsertAfter(e,s,i)):null!==(e=null===this._linkedRecords?null:this._linkedRecords.get(r,i))?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._moveAfter(e,s,i)):e=this._addAfter(new kre(t,r),s,i),e}_verifyReinsertion(e,t,r,i){let s=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null);return null!==s?e=this._reinsertAfter(s,e._prev,i):e.currentIndex!=i&&(e.currentIndex=i,this._addToMoves(e,i)),e}_truncate(e){for(;null!==e;){const t=e._next;this._addToRemovals(this._unlink(e)),e=t}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,t,r){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(e);const i=e._prevRemoved,s=e._nextRemoved;return null===i?this._removalsHead=s:i._nextRemoved=s,null===s?this._removalsTail=i:s._prevRemoved=i,this._insertAfter(e,t,r),this._addToMoves(e,r),e}_moveAfter(e,t,r){return this._unlink(e),this._insertAfter(e,t,r),this._addToMoves(e,r),e}_addAfter(e,t,r){return this._insertAfter(e,t,r),this._additionsTail=null===this._additionsTail?this._additionsHead=e:this._additionsTail._nextAdded=e,e}_insertAfter(e,t,r){const i=null===t?this._itHead:t._next;return e._next=i,e._prev=t,null===i?this._itTail=e:i._prev=e,null===t?this._itHead=e:t._next=e,null===this._linkedRecords&&(this._linkedRecords=new uB),this._linkedRecords.put(e),e.currentIndex=r,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){null!==this._linkedRecords&&this._linkedRecords.remove(e);const t=e._prev,r=e._next;return null===t?this._itHead=r:t._next=r,null===r?this._itTail=t:r._prev=t,e}_addToMoves(e,t){return e.previousIndex===t||(this._movesTail=null===this._movesTail?this._movesHead=e:this._movesTail._nextMoved=e),e}_addToRemovals(e){return null===this._unlinkedRecords&&(this._unlinkedRecords=new uB),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,t){return e.item=t,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=e:this._identityChangesTail._nextIdentityChange=e,e}}class kre{constructor(e,t){this.item=e,this.trackById=t,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class Rre{constructor(){this._head=null,this._tail=null}add(e){null===this._head?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,t){let r;for(r=this._head;null!==r;r=r._nextDup)if((null===t||t<=r.currentIndex)&&Object.is(r.trackById,e))return r;return null}remove(e){const t=e._prevDup,r=e._nextDup;return null===t?this._head=r:t._nextDup=r,null===r?this._tail=t:r._prevDup=t,null===this._head}}class uB{constructor(){this.map=new Map}put(e){const t=e.trackById;let r=this.map.get(t);r||(r=new Rre,this.map.set(t,r)),r.add(e)}get(e,t){const i=this.map.get(e);return i?i.get(e,t):null}remove(e){const t=e.trackById;return this.map.get(t).remove(e)&&this.map.delete(t),e}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function dB(n,e,t){const r=n.previousIndex;if(null===r)return r;let i=0;return t&&r<t.length&&(i=t[r]),r+e+i}class hB{constructor(){}supports(e){return e instanceof Map||k0(e)}create(){return new Pre}}class Pre{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(e){let t;for(t=this._mapHead;null!==t;t=t._next)e(t)}forEachPreviousItem(e){let t;for(t=this._previousMapHead;null!==t;t=t._nextPrevious)e(t)}forEachChangedItem(e){let t;for(t=this._changesHead;null!==t;t=t._nextChanged)e(t)}forEachAddedItem(e){let t;for(t=this._additionsHead;null!==t;t=t._nextAdded)e(t)}forEachRemovedItem(e){let t;for(t=this._removalsHead;null!==t;t=t._nextRemoved)e(t)}diff(e){if(e){if(!(e instanceof Map||k0(e)))throw new x(900,!1)}else e=new Map;return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let t=this._mapHead;if(this._appendAfter=null,this._forEach(e,(r,i)=>{if(t&&t.key===i)this._maybeAddToChanges(t,r),this._appendAfter=t,t=t._next;else{const s=this._getOrCreateRecordForKey(i,r);t=this._insertBeforeOrAppend(t,s)}}),t){t._prev&&(t._prev._next=null),this._removalsHead=t;for(let r=t;null!==r;r=r._nextRemoved)r===this._mapHead&&(this._mapHead=null),this._records.delete(r.key),r._nextRemoved=r._next,r.previousValue=r.currentValue,r.currentValue=null,r._prev=null,r._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(e,t){if(e){const r=e._prev;return t._next=e,t._prev=r,e._prev=t,r&&(r._next=t),e===this._mapHead&&(this._mapHead=t),this._appendAfter=e,e}return this._appendAfter?(this._appendAfter._next=t,t._prev=this._appendAfter):this._mapHead=t,this._appendAfter=t,null}_getOrCreateRecordForKey(e,t){if(this._records.has(e)){const i=this._records.get(e);this._maybeAddToChanges(i,t);const s=i._prev,o=i._next;return s&&(s._next=o),o&&(o._prev=s),i._next=null,i._prev=null,i}const r=new Ore(e);return this._records.set(e,r),r.currentValue=t,this._addToAdditions(r),r}_reset(){if(this.isDirty){let e;for(this._previousMapHead=this._mapHead,e=this._previousMapHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._changesHead;null!==e;e=e._nextChanged)e.previousValue=e.currentValue;for(e=this._additionsHead;null!=e;e=e._nextAdded)e.previousValue=e.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(e,t){Object.is(t,e.currentValue)||(e.previousValue=e.currentValue,e.currentValue=t,this._addToChanges(e))}_addToAdditions(e){null===this._additionsHead?this._additionsHead=this._additionsTail=e:(this._additionsTail._nextAdded=e,this._additionsTail=e)}_addToChanges(e){null===this._changesHead?this._changesHead=this._changesTail=e:(this._changesTail._nextChanged=e,this._changesTail=e)}_forEach(e,t){e instanceof Map?e.forEach(t):Object.keys(e).forEach(r=>t(e[r],r))}}class Ore{constructor(e){this.key=e,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function fB(){return new Kg([new cB])}let Kg=(()=>{class n{constructor(t){this.factories=t}static create(t,r){if(null!=r){const i=r.factories.slice();t=t.concat(i)}return new n(t)}static extend(t){return{provide:n,useFactory:r=>n.create(t,r||fB()),deps:[[n,new $c,new Ie]]}}find(t){const r=this.factories.find(i=>i.supports(t));if(null!=r)return r;throw new x(901,!1)}}return n.\u0275prov=V({token:n,providedIn:"root",factory:fB}),n})();function pB(){return new xh([new hB])}let xh=(()=>{class n{constructor(t){this.factories=t}static create(t,r){if(r){const i=r.factories.slice();t=t.concat(i)}return new n(t)}static extend(t){return{provide:n,useFactory:r=>n.create(t,r||pB()),deps:[[n,new $c,new Ie]]}}find(t){const r=this.factories.find(i=>i.supports(t));if(r)return r;throw new x(901,!1)}}return n.\u0275prov=V({token:n,providedIn:"root",factory:pB}),n})();const Lre=Q2(null,"core",[]);let Vre=(()=>{class n{constructor(t){}}return n.\u0275fac=function(t){return new(t||n)(w(il))},n.\u0275mod=te({type:n}),n.\u0275inj=ee({}),n})();function eo(n){return"boolean"==typeof n?n:null!=n&&"false"!==n}let Yg=null;function cs(){return Yg}const Se=new N("DocumentToken");let _E=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=V({token:n,factory:function(){return function $re(){return w(mB)}()},providedIn:"platform"}),n})();const jre=new N("Location Initialized");let mB=(()=>{class n extends _E{constructor(t){super(),this._doc=t,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return cs().getBaseHref(this._doc)}onPopState(t){const r=cs().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",t,!1),()=>r.removeEventListener("popstate",t)}onHashChange(t){const r=cs().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",t,!1),()=>r.removeEventListener("hashchange",t)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(t){this.location.pathname=t}pushState(t,r,i){gB()?this._history.pushState(t,r,i):this.location.hash=i}replaceState(t,r,i){gB()?this._history.replaceState(t,r,i):this.location.hash=i}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}}return n.\u0275fac=function(t){return new(t||n)(w(Se))},n.\u0275prov=V({token:n,factory:function(){return function zre(){return new mB(w(Se))}()},providedIn:"platform"}),n})();function gB(){return!!window.history.pushState}function yE(n,e){if(0==n.length)return e;if(0==e.length)return n;let t=0;return n.endsWith("/")&&t++,e.startsWith("/")&&t++,2==t?n+e.substring(1):1==t?n+e:n+"/"+e}function _B(n){const e=n.match(/#|\?|$/),t=e&&e.index||n.length;return n.slice(0,t-("/"===n[t-1]?1:0))+n.slice(t)}function to(n){return n&&"?"!==n[0]?"?"+n:n}let ol=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=V({token:n,factory:function(){return Et(vB)},providedIn:"root"}),n})();const yB=new N("appBaseHref");let vB=(()=>{class n extends ol{constructor(t,r){super(),this._platformLocation=t,this._removeListenerFns=[],this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??Et(Se).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return yE(this._baseHref,t)}path(t=!1){const r=this._platformLocation.pathname+to(this._platformLocation.search),i=this._platformLocation.hash;return i&&t?`${r}${i}`:r}pushState(t,r,i,s){const o=this.prepareExternalUrl(i+to(s));this._platformLocation.pushState(t,r,o)}replaceState(t,r,i,s){const o=this.prepareExternalUrl(i+to(s));this._platformLocation.replaceState(t,r,o)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}}return n.\u0275fac=function(t){return new(t||n)(w(_E),w(yB,8))},n.\u0275prov=V({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Gre=(()=>{class n extends ol{constructor(t,r){super(),this._platformLocation=t,this._baseHref="",this._removeListenerFns=[],null!=r&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}path(t=!1){let r=this._platformLocation.hash;return null==r&&(r="#"),r.length>0?r.substring(1):r}prepareExternalUrl(t){const r=yE(this._baseHref,t);return r.length>0?"#"+r:r}pushState(t,r,i,s){let o=this.prepareExternalUrl(i+to(s));0==o.length&&(o=this._platformLocation.pathname),this._platformLocation.pushState(t,r,o)}replaceState(t,r,i,s){let o=this.prepareExternalUrl(i+to(s));0==o.length&&(o=this._platformLocation.pathname),this._platformLocation.replaceState(t,r,o)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}}return n.\u0275fac=function(t){return new(t||n)(w(_E),w(yB,8))},n.\u0275prov=V({token:n,factory:n.\u0275fac}),n})(),Qg=(()=>{class n{constructor(t){this._subject=new Pe,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=t;const r=this._locationStrategy.getBaseHref();this._baseHref=_B(bB(r)),this._locationStrategy.onPopState(i=>{this._subject.emit({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(t=!1){return this.normalize(this._locationStrategy.path(t))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(t,r=""){return this.path()==this.normalize(t+to(r))}normalize(t){return n.stripTrailingSlash(function qre(n,e){return n&&e.startsWith(n)?e.substring(n.length):e}(this._baseHref,bB(t)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._locationStrategy.prepareExternalUrl(t)}go(t,r="",i=null){this._locationStrategy.pushState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+to(r)),i)}replaceState(t,r="",i=null){this._locationStrategy.replaceState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+to(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(t=0){this._locationStrategy.historyGo?.(t)}onUrlChange(t){return this._urlChangeListeners.push(t),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)})),()=>{const r=this._urlChangeListeners.indexOf(t);this._urlChangeListeners.splice(r,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(t="",r){this._urlChangeListeners.forEach(i=>i(t,r))}subscribe(t,r,i){return this._subject.subscribe({next:t,error:r,complete:i})}}return n.normalizeQueryParams=to,n.joinWithSlash=yE,n.stripTrailingSlash=_B,n.\u0275fac=function(t){return new(t||n)(w(ol))},n.\u0275prov=V({token:n,factory:function(){return function Wre(){return new Qg(w(ol))}()},providedIn:"root"}),n})();function bB(n){return n.replace(/\/index.html$/,"")}const wB={ADP:[void 0,void 0,0],AFN:[void 0,"\u060b",0],ALL:[void 0,void 0,0],AMD:[void 0,"\u058f",2],AOA:[void 0,"Kz"],ARS:[void 0,"$"],AUD:["A$","$"],AZN:[void 0,"\u20bc"],BAM:[void 0,"KM"],BBD:[void 0,"$"],BDT:[void 0,"\u09f3"],BHD:[void 0,void 0,3],BIF:[void 0,void 0,0],BMD:[void 0,"$"],BND:[void 0,"$"],BOB:[void 0,"Bs"],BRL:["R$"],BSD:[void 0,"$"],BWP:[void 0,"P"],BYN:[void 0,void 0,2],BYR:[void 0,void 0,0],BZD:[void 0,"$"],CAD:["CA$","$",2],CHF:[void 0,void 0,2],CLF:[void 0,void 0,4],CLP:[void 0,"$",0],CNY:["CN\xa5","\xa5"],COP:[void 0,"$",2],CRC:[void 0,"\u20a1",2],CUC:[void 0,"$"],CUP:[void 0,"$"],CZK:[void 0,"K\u010d",2],DJF:[void 0,void 0,0],DKK:[void 0,"kr",2],DOP:[void 0,"$"],EGP:[void 0,"E\xa3"],ESP:[void 0,"\u20a7",0],EUR:["\u20ac"],FJD:[void 0,"$"],FKP:[void 0,"\xa3"],GBP:["\xa3"],GEL:[void 0,"\u20be"],GHS:[void 0,"GH\u20b5"],GIP:[void 0,"\xa3"],GNF:[void 0,"FG",0],GTQ:[void 0,"Q"],GYD:[void 0,"$",2],HKD:["HK$","$"],HNL:[void 0,"L"],HRK:[void 0,"kn"],HUF:[void 0,"Ft",2],IDR:[void 0,"Rp",2],ILS:["\u20aa"],INR:["\u20b9"],IQD:[void 0,void 0,0],IRR:[void 0,void 0,0],ISK:[void 0,"kr",0],ITL:[void 0,void 0,0],JMD:[void 0,"$"],JOD:[void 0,void 0,3],JPY:["\xa5",void 0,0],KHR:[void 0,"\u17db"],KMF:[void 0,"CF",0],KPW:[void 0,"\u20a9",0],KRW:["\u20a9",void 0,0],KWD:[void 0,void 0,3],KYD:[void 0,"$"],KZT:[void 0,"\u20b8"],LAK:[void 0,"\u20ad",0],LBP:[void 0,"L\xa3",0],LKR:[void 0,"Rs"],LRD:[void 0,"$"],LTL:[void 0,"Lt"],LUF:[void 0,void 0,0],LVL:[void 0,"Ls"],LYD:[void 0,void 0,3],MGA:[void 0,"Ar",0],MGF:[void 0,void 0,0],MMK:[void 0,"K",0],MNT:[void 0,"\u20ae",2],MRO:[void 0,void 0,0],MUR:[void 0,"Rs",2],MXN:["MX$","$"],MYR:[void 0,"RM"],NAD:[void 0,"$"],NGN:[void 0,"\u20a6"],NIO:[void 0,"C$"],NOK:[void 0,"kr",2],NPR:[void 0,"Rs"],NZD:["NZ$","$"],OMR:[void 0,void 0,3],PHP:["\u20b1"],PKR:[void 0,"Rs",2],PLN:[void 0,"z\u0142"],PYG:[void 0,"\u20b2",0],RON:[void 0,"lei"],RSD:[void 0,void 0,0],RUB:[void 0,"\u20bd"],RWF:[void 0,"RF",0],SBD:[void 0,"$"],SEK:[void 0,"kr",2],SGD:[void 0,"$"],SHP:[void 0,"\xa3"],SLE:[void 0,void 0,2],SLL:[void 0,void 0,0],SOS:[void 0,void 0,0],SRD:[void 0,"$"],SSP:[void 0,"\xa3"],STD:[void 0,void 0,0],STN:[void 0,"Db"],SYP:[void 0,"\xa3",0],THB:[void 0,"\u0e3f"],TMM:[void 0,void 0,0],TND:[void 0,void 0,3],TOP:[void 0,"T$"],TRL:[void 0,void 0,0],TRY:[void 0,"\u20ba"],TTD:[void 0,"$"],TWD:["NT$","$",2],TZS:[void 0,void 0,2],UAH:[void 0,"\u20b4"],UGX:[void 0,void 0,0],USD:["$"],UYI:[void 0,void 0,0],UYU:[void 0,"$"],UYW:[void 0,void 0,4],UZS:[void 0,void 0,2],VEF:[void 0,"Bs",2],VND:["\u20ab",void 0,0],VUV:[void 0,void 0,0],XAF:["FCFA",void 0,0],XCD:["EC$","$"],XOF:["F\u202fCFA",void 0,0],XPF:["CFPF",void 0,0],XXX:["\xa4"],YER:[void 0,void 0,0],ZAR:[void 0,"R"],ZMK:[void 0,void 0,0],ZMW:[void 0,"ZK"],ZWD:[void 0,void 0,0]};var Sr=(()=>((Sr=Sr||{})[Sr.Decimal=0]="Decimal",Sr[Sr.Percent=1]="Percent",Sr[Sr.Currency=2]="Currency",Sr[Sr.Scientific=3]="Scientific",Sr))(),ne=(()=>((ne=ne||{})[ne.Decimal=0]="Decimal",ne[ne.Group=1]="Group",ne[ne.List=2]="List",ne[ne.PercentSign=3]="PercentSign",ne[ne.PlusSign=4]="PlusSign",ne[ne.MinusSign=5]="MinusSign",ne[ne.Exponential=6]="Exponential",ne[ne.SuperscriptingExponent=7]="SuperscriptingExponent",ne[ne.PerMille=8]="PerMille",ne[ne.Infinity=9]="Infinity",ne[ne.NaN=10]="NaN",ne[ne.TimeSeparator=11]="TimeSeparator",ne[ne.CurrencyDecimal=12]="CurrencyDecimal",ne[ne.CurrencyGroup=13]="CurrencyGroup",ne))();function gi(n,e){const t=hr(n),r=t[G.NumberSymbols][e];if(typeof r>"u"){if(e===ne.CurrencyDecimal)return t[G.NumberSymbols][ne.Decimal];if(e===ne.CurrencyGroup)return t[G.NumberSymbols][ne.Group]}return r}function vE(n,e){return hr(n)[G.NumberFormats][e]}const vie=/^(\d+)?\.((\d+)(-(\d+))?)?$/;function IE(n,e,t,r,i,s,o=!1){let a="",l=!1;if(isFinite(n)){let c=function Die(n){let r,i,s,o,a,e=Math.abs(n)+"",t=0;for((i=e.indexOf("."))>-1&&(e=e.replace(".","")),(s=e.search(/e/i))>0?(i<0&&(i=s),i+=+e.slice(s+1),e=e.substring(0,s)):i<0&&(i=e.length),s=0;"0"===e.charAt(s);s++);if(s===(a=e.length))r=[0],i=1;else{for(a--;"0"===e.charAt(a);)a--;for(i-=s,r=[],o=0;s<=a;s++,o++)r[o]=Number(e.charAt(s))}return i>22&&(r=r.splice(0,21),t=i-1,i=1),{digits:r,exponent:t,integerLen:i}}(n);o&&(c=function Sie(n){if(0===n.digits[0])return n;const e=n.digits.length-n.integerLen;return n.exponent?n.exponent+=2:(0===e?n.digits.push(0,0):1===e&&n.digits.push(0),n.integerLen+=2),n}(c));let u=e.minInt,d=e.minFrac,h=e.maxFrac;if(s){const E=s.match(vie);if(null===E)throw new Error(`${s} is not a valid digit info`);const v=E[1],M=E[3],L=E[5];null!=v&&(u=SE(v)),null!=M&&(d=SE(M)),null!=L?h=SE(L):null!=M&&d>h&&(h=d)}!function Aie(n,e,t){if(e>t)throw new Error(`The minimum number of digits after fraction (${e}) is higher than the maximum (${t}).`);let r=n.digits,i=r.length-n.integerLen;const s=Math.min(Math.max(e,i),t);let o=s+n.integerLen,a=r[o];if(o>0){r.splice(Math.max(n.integerLen,o));for(let d=o;d<r.length;d++)r[d]=0}else{i=Math.max(0,i),n.integerLen=1,r.length=Math.max(1,o=s+1),r[0]=0;for(let d=1;d<o;d++)r[d]=0}if(a>=5)if(o-1<0){for(let d=0;d>o;d--)r.unshift(0),n.integerLen++;r.unshift(1),n.integerLen++}else r[o-1]++;for(;i<Math.max(0,s);i++)r.push(0);let l=0!==s;const c=e+n.integerLen,u=r.reduceRight(function(d,h,f,p){return p[f]=(h+=d)<10?h:h-10,l&&(0===p[f]&&f>=c?p.pop():l=!1),h>=10?1:0},0);u&&(r.unshift(u),n.integerLen++)}(c,d,h);let f=c.digits,p=c.integerLen;const m=c.exponent;let g=[];for(l=f.every(E=>!E);p<u;p++)f.unshift(0);for(;p<0;p++)f.unshift(0);p>0?g=f.splice(p,f.length):(g=f,f=[0]);const b=[];for(f.length>=e.lgSize&&b.unshift(f.splice(-e.lgSize,f.length).join(""));f.length>e.gSize;)b.unshift(f.splice(-e.gSize,f.length).join(""));f.length&&b.unshift(f.join("")),a=b.join(gi(t,r)),g.length&&(a+=gi(t,i)+g.join("")),m&&(a+=gi(t,ne.Exponential)+"+"+m)}else a=gi(t,ne.Infinity);return a=n<0&&!l?e.negPre+a+e.negSuf:e.posPre+a+e.posSuf,a}function TE(n,e="-"){const t={minInt:1,minFrac:0,maxFrac:0,posPre:"",posSuf:"",negPre:"",negSuf:"",gSize:0,lgSize:0},r=n.split(";"),i=r[0],s=r[1],o=-1!==i.indexOf(".")?i.split("."):[i.substring(0,i.lastIndexOf("0")+1),i.substring(i.lastIndexOf("0")+1)],a=o[0],l=o[1]||"";t.posPre=a.substring(0,a.indexOf("#"));for(let u=0;u<l.length;u++){const d=l.charAt(u);"0"===d?t.minFrac=t.maxFrac=u+1:"#"===d?t.maxFrac=u+1:t.posSuf+=d}const c=a.split(",");if(t.gSize=c[1]?c[1].length:0,t.lgSize=c[2]||c[1]?(c[2]||c[1]).length:0,s){const u=i.length-t.posPre.length-t.posSuf.length,d=s.indexOf("#");t.negPre=s.substring(0,d).replace(/'/g,""),t.negSuf=s.slice(d+u).replace(/'/g,"")}else t.negPre=e+t.posPre,t.negSuf=t.posSuf;return t}function SE(n){const e=parseInt(n);if(isNaN(e))throw new Error("Invalid integer literal when parsing "+n);return e}function MB(n,e){e=encodeURIComponent(e);for(const t of n.split(";")){const r=t.indexOf("="),[i,s]=-1==r?[t,""]:[t.slice(0,r),t.slice(r+1)];if(i.trim()===e)return decodeURIComponent(s)}return null}let AE=(()=>{class n{constructor(t,r,i,s){this._iterableDiffers=t,this._keyValueDiffers=r,this._ngEl=i,this._renderer=s,this._iterableDiffer=null,this._keyValueDiffer=null,this._initialClasses=[],this._rawClass=null}set klass(t){this._removeClasses(this._initialClasses),this._initialClasses="string"==typeof t?t.split(/\s+/):[],this._applyClasses(this._initialClasses),this._applyClasses(this._rawClass)}set ngClass(t){this._removeClasses(this._rawClass),this._applyClasses(this._initialClasses),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof t?t.split(/\s+/):t,this._rawClass&&(_h(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())}ngDoCheck(){if(this._iterableDiffer){const t=this._iterableDiffer.diff(this._rawClass);t&&this._applyIterableChanges(t)}else if(this._keyValueDiffer){const t=this._keyValueDiffer.diff(this._rawClass);t&&this._applyKeyValueChanges(t)}}_applyKeyValueChanges(t){t.forEachAddedItem(r=>this._toggleClass(r.key,r.currentValue)),t.forEachChangedItem(r=>this._toggleClass(r.key,r.currentValue)),t.forEachRemovedItem(r=>{r.previousValue&&this._toggleClass(r.key,!1)})}_applyIterableChanges(t){t.forEachAddedItem(r=>{if("string"!=typeof r.item)throw new Error(`NgClass can only toggle CSS classes expressed as strings, got ${ot(r.item)}`);this._toggleClass(r.item,!0)}),t.forEachRemovedItem(r=>this._toggleClass(r.item,!1))}_applyClasses(t){t&&(Array.isArray(t)||t instanceof Set?t.forEach(r=>this._toggleClass(r,!0)):Object.keys(t).forEach(r=>this._toggleClass(r,!!t[r])))}_removeClasses(t){t&&(Array.isArray(t)||t instanceof Set?t.forEach(r=>this._toggleClass(r,!1)):Object.keys(t).forEach(r=>this._toggleClass(r,!1)))}_toggleClass(t,r){(t=t.trim())&&t.split(/\s+/g).forEach(i=>{r?this._renderer.addClass(this._ngEl.nativeElement,i):this._renderer.removeClass(this._ngEl.nativeElement,i)})}}return n.\u0275fac=function(t){return new(t||n)(y(Kg),y(xh),y(Ze),y(ki))},n.\u0275dir=q({type:n,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"},standalone:!0}),n})();class kie{constructor(e,t,r,i){this.$implicit=e,this.ngForOf=t,this.index=r,this.count=i}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let Ph=(()=>{class n{constructor(t,r,i){this._viewContainer=t,this._template=r,this._differs=i,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const t=this._ngForOf;!this._differ&&t&&(this._differ=this._differs.find(t).create(this.ngForTrackBy))}if(this._differ){const t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){const r=this._viewContainer;t.forEachOperation((i,s,o)=>{if(null==i.previousIndex)r.createEmbeddedView(this._template,new kie(i.item,this._ngForOf,-1,-1),null===o?void 0:o);else if(null==o)r.remove(null===s?void 0:s);else if(null!==s){const a=r.get(s);r.move(a,o),RB(a,i)}});for(let i=0,s=r.length;i<s;i++){const a=r.get(i).context;a.index=i,a.count=s,a.ngForOf=this._ngForOf}t.forEachIdentityChange(i=>{RB(r.get(i.currentIndex),i)})}static ngTemplateContextGuard(t,r){return!0}}return n.\u0275fac=function(t){return new(t||n)(y(qr),y(mi),y(Kg))},n.\u0275dir=q({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0}),n})();function RB(n,e){n.context.$implicit=e.item}let Kr=(()=>{class n{constructor(t,r){this._viewContainer=t,this._context=new Pie,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=r}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){PB("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){PB("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,r){return!0}}return n.\u0275fac=function(t){return new(t||n)(y(qr),y(mi))},n.\u0275dir=q({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),n})();class Pie{constructor(){this.$implicit=null,this.ngIf=null}}function PB(n,e){if(e&&!e.createEmbeddedView)throw new Error(`${n} must be a TemplateRef, but received '${ot(e)}'.`)}class ME{constructor(e,t){this._viewContainerRef=e,this._templateRef=t,this._created=!1}create(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}destroy(){this._created=!1,this._viewContainerRef.clear()}enforceState(e){e&&!this._created?this.create():!e&&this._created&&this.destroy()}}let Oh=(()=>{class n{constructor(){this._defaultUsed=!1,this._caseCount=0,this._lastCaseCheckIndex=0,this._lastCasesMatched=!1}set ngSwitch(t){this._ngSwitch=t,0===this._caseCount&&this._updateDefaultCases(!0)}_addCase(){return this._caseCount++}_addDefault(t){this._defaultViews||(this._defaultViews=[]),this._defaultViews.push(t)}_matchCase(t){const r=t==this._ngSwitch;return this._lastCasesMatched=this._lastCasesMatched||r,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),r}_updateDefaultCases(t){if(this._defaultViews&&t!==this._defaultUsed){this._defaultUsed=t;for(let r=0;r<this._defaultViews.length;r++)this._defaultViews[r].enforceState(t)}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=q({type:n,selectors:[["","ngSwitch",""]],inputs:{ngSwitch:"ngSwitch"},standalone:!0}),n})(),xE=(()=>{class n{constructor(t,r,i){this.ngSwitch=i,i._addCase(),this._view=new ME(t,r)}ngDoCheck(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}}return n.\u0275fac=function(t){return new(t||n)(y(qr),y(mi),y(Oh,9))},n.\u0275dir=q({type:n,selectors:[["","ngSwitchCase",""]],inputs:{ngSwitchCase:"ngSwitchCase"},standalone:!0}),n})(),kE=(()=>{class n{constructor(t,r,i){this._ngEl=t,this._differs=r,this._renderer=i,this._ngStyle=null,this._differ=null}set ngStyle(t){this._ngStyle=t,!this._differ&&t&&(this._differ=this._differs.find(t).create())}ngDoCheck(){if(this._differ){const t=this._differ.diff(this._ngStyle);t&&this._applyChanges(t)}}_setStyle(t,r){const[i,s]=t.split("."),o=-1===i.indexOf("-")?void 0:Tr.DashCase;null!=r?this._renderer.setStyle(this._ngEl.nativeElement,i,s?`${r}${s}`:r,o):this._renderer.removeStyle(this._ngEl.nativeElement,i,o)}_applyChanges(t){t.forEachRemovedItem(r=>this._setStyle(r.key,null)),t.forEachAddedItem(r=>this._setStyle(r.key,r.currentValue)),t.forEachChangedItem(r=>this._setStyle(r.key,r.currentValue))}}return n.\u0275fac=function(t){return new(t||n)(y(Ze),y(xh),y(ki))},n.\u0275dir=q({type:n,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"},standalone:!0}),n})();function Ui(n,e){return new x(2100,!1)}class Lie{createSubscription(e,t){return e.subscribe({next:t,error:r=>{throw r}})}dispose(e){e.unsubscribe()}}class Vie{createSubscription(e,t){return e.then(t,r=>{throw r})}dispose(e){}}const Bie=new Vie,Uie=new Lie;let o_=(()=>{class n{constructor(t){this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null,this._ref=t}ngOnDestroy(){this._subscription&&this._dispose(),this._ref=null}transform(t){return this._obj?t!==this._obj?(this._dispose(),this.transform(t)):this._latestValue:(t&&this._subscribe(t),this._latestValue)}_subscribe(t){this._obj=t,this._strategy=this._selectStrategy(t),this._subscription=this._strategy.createSubscription(t,r=>this._updateLatestValue(t,r))}_selectStrategy(t){if(vh(t))return Bie;if(RL(t))return Uie;throw Ui()}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(t,r){t===this._obj&&(this._latestValue=r,this._ref.markForCheck())}}return n.\u0275fac=function(t){return new(t||n)(y(Js,16))},n.\u0275pipe=Rn({name:"async",type:n,pure:!1,standalone:!0}),n})(),FB=(()=>{class n{constructor(t){this._locale=t}transform(t,r,i){if(!PE(t))return null;i=i||this._locale;try{return function Tie(n,e,t){return IE(n,TE(vE(e,Sr.Decimal),gi(e,ne.MinusSign)),e,ne.Group,ne.Decimal,t)}(OE(t),i,r)}catch(s){throw Ui()}}}return n.\u0275fac=function(t){return new(t||n)(y(ls,16))},n.\u0275pipe=Rn({name:"number",type:n,pure:!0,standalone:!0}),n})(),RE=(()=>{class n{constructor(t,r="USD"){this._locale=t,this._defaultCurrencyCode=r}transform(t,r=this._defaultCurrencyCode,i="symbol",s,o){if(!PE(t))return null;o=o||this._locale,"boolean"==typeof i&&(i=i?"symbol":"code");let a=r||this._defaultCurrencyCode;"code"!==i&&(a="symbol"===i||"symbol-narrow"===i?function rie(n,e,t="en"){const r=function Jre(n){return hr(n)[G.Currencies]}(t)[n]||wB[n]||[],i=r[1];return"narrow"===e&&"string"==typeof i?i:r[0]||n}(a,"symbol"===i?"wide":"narrow",o):i);try{return function Eie(n,e,t,r,i){const o=TE(vE(e,Sr.Currency),gi(e,ne.MinusSign));return o.minFrac=function sie(n){let e;const t=wB[n];return t&&(e=t[2]),"number"==typeof e?e:2}(r),o.maxFrac=o.minFrac,IE(n,o,e,ne.CurrencyGroup,ne.CurrencyDecimal,i).replace("\xa4",t).replace("\xa4","").trim()}(OE(t),o,a,r,s)}catch(l){throw Ui()}}}return n.\u0275fac=function(t){return new(t||n)(y(ls,16),y(ire,16))},n.\u0275pipe=Rn({name:"currency",type:n,pure:!0,standalone:!0}),n})();function PE(n){return!(null==n||""===n||n!=n)}function OE(n){if("string"==typeof n&&!isNaN(Number(n)-parseFloat(n)))return Number(n);if("number"!=typeof n)throw new Error(`${n} is not a number`);return n}let fu=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=te({type:n}),n.\u0275inj=ee({}),n})();const LB="browser";function NE(n){return n===LB}let sse=(()=>{class n{}return n.\u0275prov=V({token:n,providedIn:"root",factory:()=>new ose(w(Se),window)}),n})();class ose{constructor(e,t){this.document=e,this.window=t,this.offset=()=>[0,0]}setOffset(e){this.offset=Array.isArray(e)?()=>e:e}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(e){this.supportsScrolling()&&this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){if(!this.supportsScrolling())return;const t=function ase(n,e){const t=n.getElementById(e)||n.getElementsByName(e)[0];if(t)return t;if("function"==typeof n.createTreeWalker&&n.body&&(n.body.createShadowRoot||n.body.attachShadow)){const r=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT);let i=r.currentNode;for(;i;){const s=i.shadowRoot;if(s){const o=s.getElementById(e)||s.querySelector(`[name="${e}"]`);if(o)return o}i=r.nextNode()}}return null}(this.document,e);t&&(this.scrollToElement(t),t.focus())}setHistoryScrollRestoration(e){if(this.supportScrollRestoration()){const t=this.window.history;t&&t.scrollRestoration&&(t.scrollRestoration=e)}}scrollToElement(e){const t=e.getBoundingClientRect(),r=t.left+this.window.pageXOffset,i=t.top+this.window.pageYOffset,s=this.offset();this.window.scrollTo(r-s[0],i-s[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const e=VB(this.window.history)||VB(Object.getPrototypeOf(this.window.history));return!(!e||!e.writable&&!e.set)}catch{return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}function VB(n){return Object.getOwnPropertyDescriptor(n,"scrollRestoration")}class BB{}class VE extends class Tse extends class Hre{}{constructor(){super(...arguments),this.supportsDOMEvents=!0}}{static makeCurrent(){!function Ure(n){Yg||(Yg=n)}(new VE)}onAndCancel(e,t,r){return e.addEventListener(t,r,!1),()=>{e.removeEventListener(t,r,!1)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,t){return(t=t||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return"window"===t?window:"document"===t?e:"body"===t?e.body:null}getBaseHref(e){const t=function Sse(){return Fh=Fh||document.querySelector("base"),Fh?Fh.getAttribute("href"):null}();return null==t?null:function Dse(n){l_=l_||document.createElement("a"),l_.setAttribute("href",n);const e=l_.pathname;return"/"===e.charAt(0)?e:`/${e}`}(t)}resetBaseElement(){Fh=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return MB(document.cookie,e)}}let l_,Fh=null;const jB=new N("TRANSITION_ID"),Mse=[{provide:nl,useFactory:function Ase(n,e,t){return()=>{t.get(jg).donePromise.then(()=>{const r=cs(),i=e.querySelectorAll(`style[ng-transition="${n}"]`);for(let s=0;s<i.length;s++)r.remove(i[s])})}},deps:[jB,Se,Je],multi:!0}];let kse=(()=>{class n{build(){return new XMLHttpRequest}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=V({token:n,factory:n.\u0275fac}),n})();const c_=new N("EventManagerPlugins");let u_=(()=>{class n{constructor(t,r){this._zone=r,this._eventNameToPlugin=new Map,t.forEach(i=>i.manager=this),this._plugins=t.slice().reverse()}addEventListener(t,r,i){return this._findPluginFor(r).addEventListener(t,r,i)}addGlobalEventListener(t,r,i){return this._findPluginFor(r).addGlobalEventListener(t,r,i)}getZone(){return this._zone}_findPluginFor(t){const r=this._eventNameToPlugin.get(t);if(r)return r;const i=this._plugins;for(let s=0;s<i.length;s++){const o=i[s];if(o.supports(t))return this._eventNameToPlugin.set(t,o),o}throw new Error(`No event manager plugin found for event ${t}`)}}return n.\u0275fac=function(t){return new(t||n)(w(c_),w(se))},n.\u0275prov=V({token:n,factory:n.\u0275fac}),n})();class zB{constructor(e){this._doc=e}addGlobalEventListener(e,t,r){const i=cs().getGlobalEventTarget(this._doc,e);if(!i)throw new Error(`Unsupported event target ${i} for event ${t}`);return this.addEventListener(i,t,r)}}let GB=(()=>{class n{constructor(){this._stylesSet=new Set}addStyles(t){const r=new Set;t.forEach(i=>{this._stylesSet.has(i)||(this._stylesSet.add(i),r.add(i))}),this.onStylesAdded(r)}onStylesAdded(t){}getAllStyles(){return Array.from(this._stylesSet)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=V({token:n,factory:n.\u0275fac}),n})(),Lh=(()=>{class n extends GB{constructor(t){super(),this._doc=t,this._hostNodes=new Map,this._hostNodes.set(t.head,[])}_addStylesToHost(t,r,i){t.forEach(s=>{const o=this._doc.createElement("style");o.textContent=s,i.push(r.appendChild(o))})}addHost(t){const r=[];this._addStylesToHost(this._stylesSet,t,r),this._hostNodes.set(t,r)}removeHost(t){const r=this._hostNodes.get(t);r&&r.forEach(WB),this._hostNodes.delete(t)}onStylesAdded(t){this._hostNodes.forEach((r,i)=>{this._addStylesToHost(t,i,r)})}ngOnDestroy(){this._hostNodes.forEach(t=>t.forEach(WB))}}return n.\u0275fac=function(t){return new(t||n)(w(Se))},n.\u0275prov=V({token:n,factory:n.\u0275fac}),n})();function WB(n){cs().remove(n)}const BE={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},UE=/%COMP%/g;function d_(n,e,t){for(let r=0;r<e.length;r++){let i=e[r];Array.isArray(i)?d_(n,i,t):(i=i.replace(UE,n),t.push(i))}return t}function YB(n){return e=>{if("__ngUnwrap__"===e)return n;!1===n(e)&&(e.preventDefault(),e.returnValue=!1)}}let h_=(()=>{class n{constructor(t,r,i){this.eventManager=t,this.sharedStylesHost=r,this.appId=i,this.rendererByCompId=new Map,this.defaultRenderer=new HE(t)}createRenderer(t,r){if(!t||!r)return this.defaultRenderer;switch(r.encapsulation){case Di.Emulated:{let i=this.rendererByCompId.get(r.id);return i||(i=new Lse(this.eventManager,this.sharedStylesHost,r,this.appId),this.rendererByCompId.set(r.id,i)),i.applyToHost(t),i}case 1:case Di.ShadowDom:return new Vse(this.eventManager,this.sharedStylesHost,t,r);default:if(!this.rendererByCompId.has(r.id)){const i=d_(r.id,r.styles,[]);this.sharedStylesHost.addStyles(i),this.rendererByCompId.set(r.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return n.\u0275fac=function(t){return new(t||n)(w(u_),w(Lh),w(Mh))},n.\u0275prov=V({token:n,factory:n.\u0275fac}),n})();class HE{constructor(e){this.eventManager=e,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(e,t){return t?document.createElementNS(BE[t]||t,e):document.createElement(e)}createComment(e){return document.createComment(e)}createText(e){return document.createTextNode(e)}appendChild(e,t){(XB(e)?e.content:e).appendChild(t)}insertBefore(e,t,r){e&&(XB(e)?e.content:e).insertBefore(t,r)}removeChild(e,t){e&&e.removeChild(t)}selectRootElement(e,t){let r="string"==typeof e?document.querySelector(e):e;if(!r)throw new Error(`The selector "${e}" did not match any elements`);return t||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,r,i){if(i){t=i+":"+t;const s=BE[i];s?e.setAttributeNS(s,t,r):e.setAttribute(t,r)}else e.setAttribute(t,r)}removeAttribute(e,t,r){if(r){const i=BE[r];i?e.removeAttributeNS(i,t):e.removeAttribute(`${r}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,r,i){i&(Tr.DashCase|Tr.Important)?e.style.setProperty(t,r,i&Tr.Important?"important":""):e.style[t]=r}removeStyle(e,t,r){r&Tr.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,r){e[t]=r}setValue(e,t){e.nodeValue=t}listen(e,t,r){return"string"==typeof e?this.eventManager.addGlobalEventListener(e,t,YB(r)):this.eventManager.addEventListener(e,t,YB(r))}}function XB(n){return"TEMPLATE"===n.tagName&&void 0!==n.content}class Lse extends HE{constructor(e,t,r,i){super(e),this.component=r;const s=d_(i+"-"+r.id,r.styles,[]);t.addStyles(s),this.contentAttr=function Ose(n){return"_ngcontent-%COMP%".replace(UE,n)}(i+"-"+r.id),this.hostAttr=function Nse(n){return"_nghost-%COMP%".replace(UE,n)}(i+"-"+r.id)}applyToHost(e){super.setAttribute(e,this.hostAttr,"")}createElement(e,t){const r=super.createElement(e,t);return super.setAttribute(r,this.contentAttr,""),r}}class Vse extends HE{constructor(e,t,r,i){super(e),this.sharedStylesHost=t,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const s=d_(i.id,i.styles,[]);for(let o=0;o<s.length;o++){const a=document.createElement("style");a.textContent=s[o],this.shadowRoot.appendChild(a)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,r){return super.insertBefore(this.nodeOrShadowRoot(e),t,r)}removeChild(e,t){return super.removeChild(this.nodeOrShadowRoot(e),t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}}let Bse=(()=>{class n extends zB{constructor(t){super(t)}supports(t){return!0}addEventListener(t,r,i){return t.addEventListener(r,i,!1),()=>this.removeEventListener(t,r,i)}removeEventListener(t,r,i){return t.removeEventListener(r,i)}}return n.\u0275fac=function(t){return new(t||n)(w(Se))},n.\u0275prov=V({token:n,factory:n.\u0275fac}),n})();const ZB=["alt","control","meta","shift"],Use={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Hse={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let $se=(()=>{class n extends zB{constructor(t){super(t)}supports(t){return null!=n.parseEventName(t)}addEventListener(t,r,i){const s=n.parseEventName(r),o=n.eventCallback(s.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>cs().onAndCancel(t,s.domEventName,o))}static parseEventName(t){const r=t.toLowerCase().split("."),i=r.shift();if(0===r.length||"keydown"!==i&&"keyup"!==i)return null;const s=n._normalizeKey(r.pop());let o="",a=r.indexOf("code");if(a>-1&&(r.splice(a,1),o="code."),ZB.forEach(c=>{const u=r.indexOf(c);u>-1&&(r.splice(u,1),o+=c+".")}),o+=s,0!=r.length||0===s.length)return null;const l={};return l.domEventName=i,l.fullKey=o,l}static matchEventFullKeyCode(t,r){let i=Use[t.key]||t.key,s="";return r.indexOf("code.")>-1&&(i=t.code,s="code."),!(null==i||!i)&&(i=i.toLowerCase()," "===i?i="space":"."===i&&(i="dot"),ZB.forEach(o=>{o!==i&&(0,Hse[o])(t)&&(s+=o+".")}),s+=i,s===r)}static eventCallback(t,r,i){return s=>{n.matchEventFullKeyCode(s,t)&&i.runGuarded(()=>r(s))}}static _normalizeKey(t){return"esc"===t?"escape":t}}return n.\u0275fac=function(t){return new(t||n)(w(Se))},n.\u0275prov=V({token:n,factory:n.\u0275fac}),n})();const eU=[{provide:Xs,useValue:LB},{provide:U2,useValue:function jse(){VE.makeCurrent()},multi:!0},{provide:Se,useFactory:function Gse(){return function BX(n){HC=n}(document),document},deps:[]}],Wse=Q2(Lre,"browser",eU),tU=new N(""),nU=[{provide:zg,useClass:class xse{addToWindow(e){dt.getAngularTestability=(r,i=!0)=>{const s=e.findTestabilityInTree(r,i);if(null==s)throw new Error("Could not find testability for element.");return s},dt.getAllAngularTestabilities=()=>e.getAllTestabilities(),dt.getAllAngularRootElements=()=>e.getAllRootElements(),dt.frameworkStabilizers||(dt.frameworkStabilizers=[]),dt.frameworkStabilizers.push(r=>{const i=dt.getAllAngularTestabilities();let s=i.length,o=!1;const a=function(l){o=o||l,s--,0==s&&r(o)};i.forEach(function(l){l.whenStable(a)})})}findTestabilityInTree(e,t,r){return null==t?null:e.getTestability(t)??(r?cs().isShadowRoot(t)?this.findTestabilityInTree(e,t.host,!0):this.findTestabilityInTree(e,t.parentElement,!0):null)}},deps:[]},{provide:W2,useClass:lE,deps:[se,cE,zg]},{provide:lE,useClass:lE,deps:[se,cE,zg]}],rU=[{provide:YC,useValue:"root"},{provide:zs,useFactory:function zse(){return new zs},deps:[]},{provide:c_,useClass:Bse,multi:!0,deps:[Se,se,Xs]},{provide:c_,useClass:$se,multi:!0,deps:[Se]},{provide:h_,useClass:h_,deps:[u_,Lh,Mh]},{provide:ph,useExisting:h_},{provide:GB,useExisting:Lh},{provide:Lh,useClass:Lh,deps:[Se]},{provide:u_,useClass:u_,deps:[c_,se]},{provide:BB,useClass:kse,deps:[]},[]];let iU=(()=>{class n{constructor(t){}static withServerTransition(t){return{ngModule:n,providers:[{provide:Mh,useValue:t.appId},{provide:jB,useExisting:Mh},Mse]}}}return n.\u0275fac=function(t){return new(t||n)(w(tU,12))},n.\u0275mod=te({type:n}),n.\u0275inj=ee({providers:[...rU,...nU],imports:[fu,Vre]}),n})(),jE=(()=>{class n{constructor(t){this._doc=t}getTitle(){return this._doc.title}setTitle(t){this._doc.title=t||""}}return n.\u0275fac=function(t){return new(t||n)(w(Se))},n.\u0275prov=V({token:n,factory:function(t){let r=null;return r=t?new t:function Kse(){return new jE(w(Se))}(),r},providedIn:"root"}),n})();typeof window<"u"&&window;let GE=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=V({token:n,factory:function(t){let r=null;return r=t?new(t||n):w(aU),r},providedIn:"root"}),n})(),aU=(()=>{class n extends GE{constructor(t){super(),this._doc=t}sanitize(t,r){if(null==r)return null;switch(t){case Qe.NONE:return r;case Qe.HTML:return ns(r,"HTML")?Gr(r):pF(this._doc,String(r)).toString();case Qe.STYLE:return ns(r,"Style")?Gr(r):r;case Qe.SCRIPT:if(ns(r,"Script"))return Gr(r);throw new Error("unsafe value used in a script context");case Qe.URL:return ns(r,"URL")?Gr(r):mg(String(r));case Qe.RESOURCE_URL:if(ns(r,"ResourceURL"))return Gr(r);throw new Error("unsafe value used in a resource URL context (see https://g.co/ng/security#xss)");default:throw new Error(`Unexpected SecurityContext ${t} (see https://g.co/ng/security#xss)`)}}bypassSecurityTrustHtml(t){return function WX(n){return new UX(n)}(t)}bypassSecurityTrustStyle(t){return function qX(n){return new HX(n)}(t)}bypassSecurityTrustScript(t){return function KX(n){return new $X(n)}(t)}bypassSecurityTrustUrl(t){return function YX(n){return new jX(n)}(t)}bypassSecurityTrustResourceUrl(t){return function QX(n){return new zX(n)}(t)}}return n.\u0275fac=function(t){return new(t||n)(w(Se))},n.\u0275prov=V({token:n,factory:function(t){let r=null;return r=t?new t:function toe(n){return new aU(n.get(Se))}(w(Je)),r},providedIn:"root"}),n})();function W(...n){return ut(n,zd(n))}class yi extends Le{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){const t=super._subscribe(e);return!t.closed&&e.next(this._value),t}getValue(){const{hasError:e,thrownError:t,_value:r}=this;if(e)throw t;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}}const f_=$d(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"}),{isArray:noe}=Array,{getPrototypeOf:roe,prototype:ioe,keys:soe}=Object;function lU(n){if(1===n.length){const e=n[0];if(noe(e))return{args:e,keys:null};if(function ooe(n){return n&&"object"==typeof n&&roe(n)===ioe}(e)){const t=soe(e);return{args:t.map(r=>e[r]),keys:t}}}return{args:n,keys:null}}const{isArray:aoe}=Array;function WE(n){return re(e=>function loe(n,e){return aoe(e)?n(...e):n(e)}(n,e))}function cU(n,e){return n.reduce((t,r,i)=>(t[r]=e[i],t),{})}function uU(...n){const e=zd(n),t=DO(n),{args:r,keys:i}=lU(n);if(0===r.length)return ut([],e);const s=new ze(function coe(n,e,t=Fo){return r=>{dU(e,()=>{const{length:i}=n,s=new Array(i);let o=i,a=i;for(let l=0;l<i;l++)dU(e,()=>{const c=ut(n[l],e);let u=!1;c.subscribe(nt(r,d=>{s[l]=d,u||(u=!0,a--),a||r.next(t(s.slice()))},()=>{--o||r.complete()}))},r)},r)}}(r,e,i?o=>cU(i,o):Fo));return t?s.pipe(WE(t)):s}function dU(n,e,t){n?Fs(t,n,e):e()}function p_(...n){return function uoe(){return Ic(1)}()(ut(n,zd(n)))}function qE(n){return new ze(e=>{kn(n()).subscribe(e)})}function pu(n,e){const t=He(n)?n:()=>n,r=i=>i.error(t());return new ze(e?i=>e.schedule(r,0,i):r)}function KE(){return yt((n,e)=>{let t=null;n._refCount++;const r=nt(e,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount)return void(t=null);const i=n._connection,s=t;t=null,i&&(!s||i===s)&&i.unsubscribe(),e.unsubscribe()});n.subscribe(r),r.closed||(t=n.connect())})}class hU extends ze{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,uO(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new Ft;const t=this.getSubject();e.add(this.source.subscribe(nt(t,void 0,()=>{this._teardown(),t.complete()},r=>{this._teardown(),t.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=Ft.EMPTY)}return e}refCount(){return KE()(this)}}function On(n,e){return yt((t,r)=>{let i=null,s=0,o=!1;const a=()=>o&&!i&&r.complete();t.subscribe(nt(r,l=>{i?.unsubscribe();let c=0;const u=s++;kn(n(l,u)).subscribe(i=nt(r,d=>r.next(e?e(l,d,u,c++):d),()=>{i=null,a()}))},()=>{o=!0,a()}))})}function Dr(n){return n<=0?()=>Ji:yt((e,t)=>{let r=0;e.subscribe(nt(t,i=>{++r<=n&&(t.next(i),n<=r&&t.complete())}))})}function Qo(...n){const e=zd(n);return yt((t,r)=>{(e?p_(n,t,e):p_(n,t)).subscribe(r)})}function dn(n,e){return yt((t,r)=>{let i=0;t.subscribe(nt(r,s=>n.call(e,s,i++)&&r.next(s)))})}function m_(n){return yt((e,t)=>{let r=!1;e.subscribe(nt(t,i=>{r=!0,t.next(i)},()=>{r||t.next(n),t.complete()}))})}function fU(n=doe){return yt((e,t)=>{let r=!1;e.subscribe(nt(t,i=>{r=!0,t.next(i)},()=>r?t.complete():t.error(n())))})}function doe(){return new f_}function Xo(n,e){const t=arguments.length>=2;return r=>r.pipe(n?dn((i,s)=>n(i,s,r)):Fo,Dr(1),t?m_(e):fU(()=>new f_))}function us(n,e){return He(e)?Xt(n,e,1):Xt(n,1)}function Ut(n,e,t){const r=He(n)||e||t?{next:n,error:e,complete:t}:n;return r?yt((i,s)=>{var o;null===(o=r.subscribe)||void 0===o||o.call(r);let a=!0;i.subscribe(nt(s,l=>{var c;null===(c=r.next)||void 0===c||c.call(r,l),s.next(l)},()=>{var l;a=!1,null===(l=r.complete)||void 0===l||l.call(r),s.complete()},l=>{var c;a=!1,null===(c=r.error)||void 0===c||c.call(r,l),s.error(l)},()=>{var l,c;a&&(null===(l=r.unsubscribe)||void 0===l||l.call(r)),null===(c=r.finalize)||void 0===c||c.call(r)}))}):Fo}function ro(n){return yt((e,t)=>{let s,r=null,i=!1;r=e.subscribe(nt(t,void 0,void 0,o=>{s=kn(n(o,ro(n)(e))),r?(r.unsubscribe(),r=null,s.subscribe(t)):i=!0})),i&&(r.unsubscribe(),r=null,s.subscribe(t))})}function hoe(n,e,t,r,i){return(s,o)=>{let a=t,l=e,c=0;s.subscribe(nt(o,u=>{const d=c++;l=a?n(l,u,d):(a=!0,u),r&&o.next(l)},i&&(()=>{a&&o.next(l),o.complete()})))}}function pU(n,e){return yt(hoe(n,e,arguments.length>=2,!0))}function YE(n){return n<=0?()=>Ji:yt((e,t)=>{let r=[];e.subscribe(nt(t,i=>{r.push(i),n<r.length&&r.shift()},()=>{for(const i of r)t.next(i);t.complete()},void 0,()=>{r=null}))})}function mU(n,e){const t=arguments.length>=2;return r=>r.pipe(n?dn((i,s)=>n(i,s,r)):Fo,YE(1),t?m_(e):fU(()=>new f_))}function gU(n){return re(()=>n)}function g_(n){return yt((e,t)=>{try{e.subscribe(t)}finally{t.add(n)}})}const De="primary",Vh=Symbol("RouteTitle");class poe{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}}function mu(n){return new poe(n)}function moe(n,e,t){const r=t.path.split("/");if(r.length>n.length||"full"===t.pathMatch&&(e.hasChildren()||r.length<n.length))return null;const i={};for(let s=0;s<r.length;s++){const o=r[s],a=n[s];if(o.startsWith(":"))i[o.substring(1)]=a;else if(o!==a.path)return null}return{consumed:n.slice(0,r.length),posParams:i}}function ds(n,e){const t=n?Object.keys(n):void 0,r=e?Object.keys(e):void 0;if(!t||!r||t.length!=r.length)return!1;let i;for(let s=0;s<t.length;s++)if(i=t[s],!_U(n[i],e[i]))return!1;return!0}function _U(n,e){if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;const t=[...n].sort(),r=[...e].sort();return t.every((i,s)=>r[s]===i)}return n===e}function yU(n){return Array.prototype.concat.apply([],n)}function vU(n){return n.length>0?n[n.length-1]:null}function Nn(n,e){for(const t in n)n.hasOwnProperty(t)&&e(n[t],t)}function Zo(n){return P0(n)?n:vh(n)?ut(Promise.resolve(n)):W(n)}const yoe={exact:function CU(n,e,t){if(!ll(n.segments,e.segments)||!__(n.segments,e.segments,t)||n.numberOfChildren!==e.numberOfChildren)return!1;for(const r in e.children)if(!n.children[r]||!CU(n.children[r],e.children[r],t))return!1;return!0},subset:EU},bU={exact:function voe(n,e){return ds(n,e)},subset:function boe(n,e){return Object.keys(e).length<=Object.keys(n).length&&Object.keys(e).every(t=>_U(n[t],e[t]))},ignored:()=>!0};function wU(n,e,t){return yoe[t.paths](n.root,e.root,t.matrixParams)&&bU[t.queryParams](n.queryParams,e.queryParams)&&!("exact"===t.fragment&&n.fragment!==e.fragment)}function EU(n,e,t){return IU(n,e,e.segments,t)}function IU(n,e,t,r){if(n.segments.length>t.length){const i=n.segments.slice(0,t.length);return!(!ll(i,t)||e.hasChildren()||!__(i,t,r))}if(n.segments.length===t.length){if(!ll(n.segments,t)||!__(n.segments,t,r))return!1;for(const i in e.children)if(!n.children[i]||!EU(n.children[i],e.children[i],r))return!1;return!0}{const i=t.slice(0,n.segments.length),s=t.slice(n.segments.length);return!!(ll(n.segments,i)&&__(n.segments,i,r)&&n.children[De])&&IU(n.children[De],e,s,r)}}function __(n,e,t){return e.every((r,i)=>bU[t](n[i].parameters,r.parameters))}class al{constructor(e,t,r){this.root=e,this.queryParams=t,this.fragment=r}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=mu(this.queryParams)),this._queryParamMap}toString(){return Eoe.serialize(this)}}class ke{constructor(e,t){this.segments=e,this.children=t,this.parent=null,Nn(t,(r,i)=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return y_(this)}}class Bh{constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap||(this._parameterMap=mu(this.parameters)),this._parameterMap}toString(){return AU(this)}}function ll(n,e){return n.length===e.length&&n.every((t,r)=>t.path===e[r].path)}let TU=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=V({token:n,factory:function(){return new XE},providedIn:"root"}),n})();class XE{parse(e){const t=new Roe(e);return new al(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){const t=`/${Uh(e.root,!0)}`,r=function Soe(n){const e=Object.keys(n).map(t=>{const r=n[t];return Array.isArray(r)?r.map(i=>`${v_(t)}=${v_(i)}`).join("&"):`${v_(t)}=${v_(r)}`}).filter(t=>!!t);return e.length?`?${e.join("&")}`:""}(e.queryParams);return`${t}${r}${"string"==typeof e.fragment?`#${function Ioe(n){return encodeURI(n)}(e.fragment)}`:""}`}}const Eoe=new XE;function y_(n){return n.segments.map(e=>AU(e)).join("/")}function Uh(n,e){if(!n.hasChildren())return y_(n);if(e){const t=n.children[De]?Uh(n.children[De],!1):"",r=[];return Nn(n.children,(i,s)=>{s!==De&&r.push(`${s}:${Uh(i,!1)}`)}),r.length>0?`${t}(${r.join("//")})`:t}{const t=function Coe(n,e){let t=[];return Nn(n.children,(r,i)=>{i===De&&(t=t.concat(e(r,i)))}),Nn(n.children,(r,i)=>{i!==De&&(t=t.concat(e(r,i)))}),t}(n,(r,i)=>i===De?[Uh(n.children[De],!1)]:[`${i}:${Uh(r,!1)}`]);return 1===Object.keys(n.children).length&&null!=n.children[De]?`${y_(n)}/${t[0]}`:`${y_(n)}/(${t.join("//")})`}}function SU(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function v_(n){return SU(n).replace(/%3B/gi,";")}function ZE(n){return SU(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function b_(n){return decodeURIComponent(n)}function DU(n){return b_(n.replace(/\+/g,"%20"))}function AU(n){return`${ZE(n.path)}${function Toe(n){return Object.keys(n).map(e=>`;${ZE(e)}=${ZE(n[e])}`).join("")}(n.parameters)}`}const Doe=/^[^\/()?;=#]+/;function w_(n){const e=n.match(Doe);return e?e[0]:""}const Aoe=/^[^=?&#]+/,xoe=/^[^&#]+/;class Roe{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new ke([],{}):new ke([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(r[De]=new ke(e,t)),r}parseSegment(){const e=w_(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new x(4009,!1);return this.capture(e),new Bh(b_(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const t=w_(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const i=w_(this.remaining);i&&(r=i,this.capture(r))}e[b_(t)]=b_(r)}parseQueryParam(e){const t=function Moe(n){const e=n.match(Aoe);return e?e[0]:""}(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const o=function koe(n){const e=n.match(xoe);return e?e[0]:""}(this.remaining);o&&(r=o,this.capture(r))}const i=DU(t),s=DU(r);if(e.hasOwnProperty(i)){let o=e[i];Array.isArray(o)||(o=[o],e[i]=o),o.push(s)}else e[i]=s}parseParens(e){const t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const r=w_(this.remaining),i=this.remaining[r.length];if("/"!==i&&")"!==i&&";"!==i)throw new x(4010,!1);let s;r.indexOf(":")>-1?(s=r.slice(0,r.indexOf(":")),this.capture(s),this.capture(":")):e&&(s=De);const o=this.parseChildren();t[s]=1===Object.keys(o).length?o[De]:new ke([],o),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new x(4011,!1)}}function JE(n){return n.segments.length>0?new ke([],{[De]:n}):n}function C_(n){const e={};for(const r of Object.keys(n.children)){const s=C_(n.children[r]);(s.segments.length>0||s.hasChildren())&&(e[r]=s)}return function Poe(n){if(1===n.numberOfChildren&&n.children[De]){const e=n.children[De];return new ke(n.segments.concat(e.segments),e.children)}return n}(new ke(n.segments,e))}function cl(n){return n instanceof al}function Foe(n,e,t,r,i){if(0===t.length)return gu(e.root,e.root,e.root,r,i);const s=function kU(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new xU(!0,0,n);let e=0,t=!1;const r=n.reduce((i,s,o)=>{if("object"==typeof s&&null!=s){if(s.outlets){const a={};return Nn(s.outlets,(l,c)=>{a[c]="string"==typeof l?l.split("/"):l}),[...i,{outlets:a}]}if(s.segmentPath)return[...i,s.segmentPath]}return"string"!=typeof s?[...i,s]:0===o?(s.split("/").forEach((a,l)=>{0==l&&"."===a||(0==l&&""===a?t=!0:".."===a?e++:""!=a&&i.push(a))}),i):[...i,s]},[]);return new xU(t,e,r)}(t);return s.toRoot()?gu(e.root,e.root,new ke([],{}),r,i):function o(l){const c=function Voe(n,e,t,r){if(n.isAbsolute)return new _u(e.root,!0,0);if(-1===r)return new _u(t,t===e.root,0);return function RU(n,e,t){let r=n,i=e,s=t;for(;s>i;){if(s-=i,r=r.parent,!r)throw new x(4005,!1);i=r.segments.length}return new _u(r,!1,i-s)}(t,r+(Hh(n.commands[0])?0:1),n.numberOfDoubleDots)}(s,e,n.snapshot?._urlSegment,l),u=c.processChildren?jh(c.segmentGroup,c.index,s.commands):tI(c.segmentGroup,c.index,s.commands);return gu(e.root,c.segmentGroup,u,r,i)}(n.snapshot?._lastPathIndex)}function Hh(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function $h(n){return"object"==typeof n&&null!=n&&n.outlets}function gu(n,e,t,r,i){let o,s={};r&&Nn(r,(l,c)=>{s[c]=Array.isArray(l)?l.map(u=>`${u}`):`${l}`}),o=n===e?t:MU(n,e,t);const a=JE(C_(o));return new al(a,s,i)}function MU(n,e,t){const r={};return Nn(n.children,(i,s)=>{r[s]=i===e?t:MU(i,e,t)}),new ke(n.segments,r)}class xU{constructor(e,t,r){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=r,e&&r.length>0&&Hh(r[0]))throw new x(4003,!1);const i=r.find($h);if(i&&i!==vU(r))throw new x(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class _u{constructor(e,t,r){this.segmentGroup=e,this.processChildren=t,this.index=r}}function tI(n,e,t){if(n||(n=new ke([],{})),0===n.segments.length&&n.hasChildren())return jh(n,e,t);const r=function Uoe(n,e,t){let r=0,i=e;const s={match:!1,pathIndex:0,commandIndex:0};for(;i<n.segments.length;){if(r>=t.length)return s;const o=n.segments[i],a=t[r];if($h(a))break;const l=`${a}`,c=r<t.length-1?t[r+1]:null;if(i>0&&void 0===l)break;if(l&&c&&"object"==typeof c&&void 0===c.outlets){if(!OU(l,c,o))return s;r+=2}else{if(!OU(l,{},o))return s;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(n,e,t),i=t.slice(r.commandIndex);if(r.match&&r.pathIndex<n.segments.length){const s=new ke(n.segments.slice(0,r.pathIndex),{});return s.children[De]=new ke(n.segments.slice(r.pathIndex),n.children),jh(s,0,i)}return r.match&&0===i.length?new ke(n.segments,{}):r.match&&!n.hasChildren()?nI(n,e,t):r.match?jh(n,0,i):nI(n,e,t)}function jh(n,e,t){if(0===t.length)return new ke(n.segments,{});{const r=function Boe(n){return $h(n[0])?n[0].outlets:{[De]:n}}(t),i={};return Nn(r,(s,o)=>{"string"==typeof s&&(s=[s]),null!==s&&(i[o]=tI(n.children[o],e,s))}),Nn(n.children,(s,o)=>{void 0===r[o]&&(i[o]=s)}),new ke(n.segments,i)}}function nI(n,e,t){const r=n.segments.slice(0,e);let i=0;for(;i<t.length;){const s=t[i];if($h(s)){const l=Hoe(s.outlets);return new ke(r,l)}if(0===i&&Hh(t[0])){r.push(new Bh(n.segments[e].path,PU(t[0]))),i++;continue}const o=$h(s)?s.outlets[De]:`${s}`,a=i<t.length-1?t[i+1]:null;o&&a&&Hh(a)?(r.push(new Bh(o,PU(a))),i+=2):(r.push(new Bh(o,{})),i++)}return new ke(r,{})}function Hoe(n){const e={};return Nn(n,(t,r)=>{"string"==typeof t&&(t=[t]),null!==t&&(e[r]=nI(new ke([],{}),0,t))}),e}function PU(n){const e={};return Nn(n,(t,r)=>e[r]=`${t}`),e}function OU(n,e,t){return n==t.path&&ds(e,t.parameters)}class io{constructor(e,t){this.id=e,this.url=t}}class rI extends io{constructor(e,t,r="imperative",i=null){super(e,t),this.type=0,this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class ul extends io{constructor(e,t,r){super(e,t),this.urlAfterRedirects=r,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class E_ extends io{constructor(e,t,r,i){super(e,t),this.reason=r,this.code=i,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class NU extends io{constructor(e,t,r,i){super(e,t),this.error=r,this.target=i,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class $oe extends io{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class joe extends io{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class zoe extends io{constructor(e,t,r,i,s){super(e,t),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=s,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class Goe extends io{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Woe extends io{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class qoe{constructor(e){this.route=e,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class Koe{constructor(e){this.route=e,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class Yoe{constructor(e){this.snapshot=e,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Qoe{constructor(e){this.snapshot=e,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Xoe{constructor(e){this.snapshot=e,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class FU{constructor(e){this.snapshot=e,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class LU{constructor(e,t,r){this.routerEvent=e,this.position=t,this.anchor=r,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class VU{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){const t=iI(e,this._root);return t?t.children.map(r=>r.value):[]}firstChild(e){const t=iI(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){const t=sI(e,this._root);return t.length<2?[]:t[t.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return sI(e,this._root).map(t=>t.value)}}function iI(n,e){if(n===e.value)return e;for(const t of e.children){const r=iI(n,t);if(r)return r}return null}function sI(n,e){if(n===e.value)return[e];for(const t of e.children){const r=sI(n,t);if(r.length)return r.unshift(e),r}return[]}class so{constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}}function yu(n){const e={};return n&&n.children.forEach(t=>e[t.value.outlet]=t),e}class BU extends VU{constructor(e,t){super(e),this.snapshot=t,oI(this,e)}toString(){return this.snapshot.toString()}}function UU(n,e){const t=function Joe(n,e){const o=new I_([],{},{},"",{},De,e,null,n.root,-1,{});return new $U("",new so(o,[]))}(n,e),r=new yi([new Bh("",{})]),i=new yi({}),s=new yi({}),o=new yi({}),a=new yi(""),l=new dl(r,i,o,a,s,De,e,t.root);return l.snapshot=t.root,new BU(new so(l,[]),t)}class dl{constructor(e,t,r,i,s,o,a,l){this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=s,this.outlet=o,this.component=a,this.title=this.data?.pipe(re(c=>c[Vh]))??W(void 0),this._futureSnapshot=l}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(re(e=>mu(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(re(e=>mu(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function HU(n,e="emptyOnly"){const t=n.pathFromRoot;let r=0;if("always"!==e)for(r=t.length-1;r>=1;){const i=t[r],s=t[r-1];if(i.routeConfig&&""===i.routeConfig.path)r--;else{if(s.component)break;r--}}return function eae(n){return n.reduce((e,t)=>({params:{...e.params,...t.params},data:{...e.data,...t.data},resolve:{...t.data,...e.resolve,...t.routeConfig?.data,...t._resolvedData}}),{params:{},data:{},resolve:{}})}(t.slice(r))}class I_{constructor(e,t,r,i,s,o,a,l,c,u,d,h){this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=s,this.outlet=o,this.component=a,this.title=this.data?.[Vh],this.routeConfig=l,this._urlSegment=c,this._lastPathIndex=u,this._correctedLastPathIndex=h??u,this._resolve=d}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=mu(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=mu(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(r=>r.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class $U extends VU{constructor(e,t){super(t),this.url=e,oI(this,t)}toString(){return jU(this._root)}}function oI(n,e){e.value._routerState=n,e.children.forEach(t=>oI(n,t))}function jU(n){const e=n.children.length>0?` { ${n.children.map(jU).join(", ")} } `:"";return`${n.value}${e}`}function aI(n){if(n.snapshot){const e=n.snapshot,t=n._futureSnapshot;n.snapshot=t,ds(e.queryParams,t.queryParams)||n.queryParams.next(t.queryParams),e.fragment!==t.fragment&&n.fragment.next(t.fragment),ds(e.params,t.params)||n.params.next(t.params),function goe(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(!ds(n[t],e[t]))return!1;return!0}(e.url,t.url)||n.url.next(t.url),ds(e.data,t.data)||n.data.next(t.data)}else n.snapshot=n._futureSnapshot,n.data.next(n._futureSnapshot.data)}function lI(n,e){const t=ds(n.params,e.params)&&function woe(n,e){return ll(n,e)&&n.every((t,r)=>ds(t.parameters,e[r].parameters))}(n.url,e.url);return t&&!(!n.parent!=!e.parent)&&(!n.parent||lI(n.parent,e.parent))}function zh(n,e,t){if(t&&n.shouldReuseRoute(e.value,t.value.snapshot)){const r=t.value;r._futureSnapshot=e.value;const i=function nae(n,e,t){return e.children.map(r=>{for(const i of t.children)if(n.shouldReuseRoute(r.value,i.value.snapshot))return zh(n,r,i);return zh(n,r)})}(n,e,t);return new so(r,i)}{if(n.shouldAttach(e.value)){const s=n.retrieve(e.value);if(null!==s){const o=s.route;return o.value._futureSnapshot=e.value,o.children=e.children.map(a=>zh(n,a)),o}}const r=function rae(n){return new dl(new yi(n.url),new yi(n.params),new yi(n.queryParams),new yi(n.fragment),new yi(n.data),n.outlet,n.component,n)}(e.value),i=e.children.map(s=>zh(n,s));return new so(r,i)}}const cI="ngNavigationCancelingError";function zU(n,e){const{redirectTo:t,navigationBehaviorOptions:r}=cl(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=GU(!1,0,e);return i.url=t,i.navigationBehaviorOptions=r,i}function GU(n,e,t){const r=new Error("NavigationCancelingError: "+(n||""));return r[cI]=!0,r.cancellationCode=e,t&&(r.url=t),r}function WU(n){return qU(n)&&cl(n.url)}function qU(n){return n&&n[cI]}class iae{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.injector=null,this.children=new Gh,this.attachRef=null}}let Gh=(()=>{class n{constructor(){this.contexts=new Map}onChildOutletCreated(t,r){const i=this.getOrCreateContext(t);i.outlet=r,this.contexts.set(t,i)}onChildOutletDestroyed(t){const r=this.getContext(t);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){const t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let r=this.getContext(t);return r||(r=new iae,this.contexts.set(t,r)),r}getContext(t){return this.contexts.get(t)||null}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=V({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const T_=!1;let S_=(()=>{class n{constructor(t,r,i,s,o){this.parentContexts=t,this.location=r,this.changeDetector=s,this.environmentInjector=o,this.activated=null,this._activatedRoute=null,this.activateEvents=new Pe,this.deactivateEvents=new Pe,this.attachEvents=new Pe,this.detachEvents=new Pe,this.name=i||De,t.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.getContext(this.name)?.outlet===this&&this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const t=this.parentContexts.getContext(this.name);t&&t.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.injector))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new x(4012,T_);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new x(4012,T_);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new x(4012,T_);this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,r){this.activated=t,this._activatedRoute=r,this.location.insert(t.hostView),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,r){if(this.isActivated)throw new x(4013,T_);this._activatedRoute=t;const i=this.location,o=t._futureSnapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,l=new sae(t,a,i.injector);if(r&&function oae(n){return!!n.resolveComponentFactory}(r)){const c=r.resolveComponentFactory(o);this.activated=i.createComponent(c,i.length,l)}else this.activated=i.createComponent(o,{index:i.length,injector:l,environmentInjector:r??this.environmentInjector});this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return n.\u0275fac=function(t){return new(t||n)(y(Gh),y(qr),Ho("name"),y(Js),y($o))},n.\u0275dir=q({type:n,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0}),n})();class sae{constructor(e,t,r){this.route=e,this.childContexts=t,this.parent=r}get(e,t){return e===dl?this.route:e===Gh?this.childContexts:this.parent.get(e,t)}}let D_=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=Ye({type:n,selectors:[["ng-component"]],standalone:!0,features:[ZV],decls:1,vars:0,template:function(t,r){1&t&&he(0,"router-outlet")},dependencies:[S_],encapsulation:2}),n})();function KU(n,e){return n.providers&&!n._injector&&(n._injector=Vg(n.providers,e,`Route: ${n.path}`)),n._injector??e}function dI(n){const e=n.children&&n.children.map(dI),t=e?{...n,children:e}:{...n};return!t.component&&!t.loadComponent&&(e||t.loadChildren)&&t.outlet&&t.outlet!==De&&(t.component=D_),t}function vi(n){return n.outlet||De}function YU(n,e){const t=n.filter(r=>vi(r)===e);return t.push(...n.filter(r=>vi(r)!==e)),t}function Wh(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let e=n.parent;e;e=e.parent){const t=e.routeConfig;if(t?._loadedInjector)return t._loadedInjector;if(t?._injector)return t._injector}return null}class dae{constructor(e,t,r,i){this.routeReuseStrategy=e,this.futureState=t,this.currState=r,this.forwardEvent=i}activate(e){const t=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,r,e),aI(this.futureState.root),this.activateChildRoutes(t,r,e)}deactivateChildRoutes(e,t,r){const i=yu(t);e.children.forEach(s=>{const o=s.value.outlet;this.deactivateRoutes(s,i[o],r),delete i[o]}),Nn(i,(s,o)=>{this.deactivateRouteAndItsChildren(s,r)})}deactivateRoutes(e,t,r){const i=e.value,s=t?t.value:null;if(i===s)if(i.component){const o=r.getContext(i.outlet);o&&this.deactivateChildRoutes(e,t,o.children)}else this.deactivateChildRoutes(e,t,r);else s&&this.deactivateRouteAndItsChildren(t,r)}deactivateRouteAndItsChildren(e,t){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){const r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,s=yu(e);for(const o of Object.keys(s))this.deactivateRouteAndItsChildren(s[o],i);if(r&&r.outlet){const o=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:o,route:e,contexts:a})}}deactivateRouteAndOutlet(e,t){const r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,s=yu(e);for(const o of Object.keys(s))this.deactivateRouteAndItsChildren(s[o],i);r&&r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated(),r.attachRef=null,r.resolver=null,r.route=null)}activateChildRoutes(e,t,r){const i=yu(t);e.children.forEach(s=>{this.activateRoutes(s,i[s.value.outlet],r),this.forwardEvent(new FU(s.value.snapshot))}),e.children.length&&this.forwardEvent(new Qoe(e.value.snapshot))}activateRoutes(e,t,r){const i=e.value,s=t?t.value:null;if(aI(i),i===s)if(i.component){const o=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,t,o.children)}else this.activateChildRoutes(e,t,r);else if(i.component){const o=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){const a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),o.children.onOutletReAttached(a.contexts),o.attachRef=a.componentRef,o.route=a.route.value,o.outlet&&o.outlet.attach(a.componentRef,a.route.value),aI(a.route.value),this.activateChildRoutes(e,null,o.children)}else{const a=Wh(i.snapshot),l=a?.get(jo)??null;o.attachRef=null,o.route=i,o.resolver=l,o.injector=a,o.outlet&&o.outlet.activateWith(i,o.injector),this.activateChildRoutes(e,null,o.children)}}else this.activateChildRoutes(e,null,r)}}class QU{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class A_{constructor(e,t){this.component=e,this.route=t}}function hae(n,e,t){const r=n._root;return qh(r,e?e._root:null,t,[r.value])}function vu(n,e){const t=Symbol(),r=e.get(n,t);return r===t?"function"!=typeof n||function MQ(n){return null!==Um(n)}(n)?e.get(n):n:r}function qh(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const s=yu(e);return n.children.forEach(o=>{(function pae(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const s=n.value,o=e?e.value:null,a=t?t.getContext(n.value.outlet):null;if(o&&s.routeConfig===o.routeConfig){const l=function mae(n,e,t){if("function"==typeof t)return t(n,e);switch(t){case"pathParamsChange":return!ll(n.url,e.url);case"pathParamsOrQueryParamsChange":return!ll(n.url,e.url)||!ds(n.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!lI(n,e)||!ds(n.queryParams,e.queryParams);default:return!lI(n,e)}}(o,s,s.routeConfig.runGuardsAndResolvers);l?i.canActivateChecks.push(new QU(r)):(s.data=o.data,s._resolvedData=o._resolvedData),qh(n,e,s.component?a?a.children:null:t,r,i),l&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new A_(a.outlet.component,o))}else o&&Kh(e,a,i),i.canActivateChecks.push(new QU(r)),qh(n,null,s.component?a?a.children:null:t,r,i)})(o,s[o.value.outlet],t,r.concat([o.value]),i),delete s[o.value.outlet]}),Nn(s,(o,a)=>Kh(o,t.getContext(a),i)),i}function Kh(n,e,t){const r=yu(n),i=n.value;Nn(r,(s,o)=>{Kh(s,i.component?e?e.children.getContext(o):null:e,t)}),t.canDeactivateChecks.push(new A_(i.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,i))}function Yh(n){return"function"==typeof n}function hI(n){return n instanceof f_||"EmptyError"===n?.name}const M_=Symbol("INITIAL_VALUE");function bu(){return On(n=>uU(n.map(e=>e.pipe(Dr(1),Qo(M_)))).pipe(re(e=>{for(const t of e)if(!0!==t){if(t===M_)return M_;if(!1===t||t instanceof al)return t}return!0}),dn(e=>e!==M_),Dr(1)))}function XU(n){return oO(Ut(e=>{if(cl(e))throw zU(0,e)}),re(e=>!0===e))}const fI={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function ZU(n,e,t,r,i){const s=pI(n,e,t);return s.matched?function Rae(n,e,t,r){const i=e.canMatch;return i&&0!==i.length?W(i.map(o=>{const a=vu(o,n);return Zo(function wae(n){return n&&Yh(n.canMatch)}(a)?a.canMatch(e,t):n.runInContext(()=>a(e,t)))})).pipe(bu(),XU()):W(!0)}(r=KU(e,r),e,t).pipe(re(o=>!0===o?s:{...fI})):W(s)}function pI(n,e,t){if(""===e.path)return"full"===e.pathMatch&&(n.hasChildren()||t.length>0)?{...fI}:{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};const i=(e.matcher||moe)(t,n,e);if(!i)return{...fI};const s={};Nn(i.posParams,(a,l)=>{s[l]=a.path});const o=i.consumed.length>0?{...s,...i.consumed[i.consumed.length-1].parameters}:s;return{matched:!0,consumedSegments:i.consumed,remainingSegments:t.slice(i.consumed.length),parameters:o,positionalParamSegments:i.posParams??{}}}function x_(n,e,t,r,i="corrected"){if(t.length>0&&function Nae(n,e,t){return t.some(r=>k_(n,e,r)&&vi(r)!==De)}(n,t,r)){const o=new ke(e,function Oae(n,e,t,r){const i={};i[De]=r,r._sourceSegment=n,r._segmentIndexShift=e.length;for(const s of t)if(""===s.path&&vi(s)!==De){const o=new ke([],{});o._sourceSegment=n,o._segmentIndexShift=e.length,i[vi(s)]=o}return i}(n,e,r,new ke(t,n.children)));return o._sourceSegment=n,o._segmentIndexShift=e.length,{segmentGroup:o,slicedSegments:[]}}if(0===t.length&&function Fae(n,e,t){return t.some(r=>k_(n,e,r))}(n,t,r)){const o=new ke(n.segments,function Pae(n,e,t,r,i,s){const o={};for(const a of r)if(k_(n,t,a)&&!i[vi(a)]){const l=new ke([],{});l._sourceSegment=n,l._segmentIndexShift="legacy"===s?n.segments.length:e.length,o[vi(a)]=l}return{...i,...o}}(n,e,t,r,n.children,i));return o._sourceSegment=n,o._segmentIndexShift=e.length,{segmentGroup:o,slicedSegments:t}}const s=new ke(n.segments,n.children);return s._sourceSegment=n,s._segmentIndexShift=e.length,{segmentGroup:s,slicedSegments:t}}function k_(n,e,t){return(!(n.hasChildren()||e.length>0)||"full"!==t.pathMatch)&&""===t.path}function JU(n,e,t,r){return!!(vi(n)===r||r!==De&&k_(e,t,n))&&("**"===n.path||pI(e,n,t).matched)}function eH(n,e,t){return 0===e.length&&!n.children[t]}const R_=!1;class P_{constructor(e){this.segmentGroup=e||null}}class tH{constructor(e){this.urlTree=e}}function Qh(n){return pu(new P_(n))}function nH(n){return pu(new tH(n))}class Uae{constructor(e,t,r,i,s){this.injector=e,this.configLoader=t,this.urlSerializer=r,this.urlTree=i,this.config=s,this.allowRedirects=!0}apply(){const e=x_(this.urlTree.root,[],[],this.config).segmentGroup,t=new ke(e.segments,e.children);return this.expandSegmentGroup(this.injector,this.config,t,De).pipe(re(s=>this.createUrlTree(C_(s),this.urlTree.queryParams,this.urlTree.fragment))).pipe(ro(s=>{if(s instanceof tH)return this.allowRedirects=!1,this.match(s.urlTree);throw s instanceof P_?this.noMatchError(s):s}))}match(e){return this.expandSegmentGroup(this.injector,this.config,e.root,De).pipe(re(i=>this.createUrlTree(C_(i),e.queryParams,e.fragment))).pipe(ro(i=>{throw i instanceof P_?this.noMatchError(i):i}))}noMatchError(e){return new x(4002,R_)}createUrlTree(e,t,r){const i=JE(e);return new al(i,t,r)}expandSegmentGroup(e,t,r,i){return 0===r.segments.length&&r.hasChildren()?this.expandChildren(e,t,r).pipe(re(s=>new ke([],s))):this.expandSegment(e,r,t,r.segments,i,!0)}expandChildren(e,t,r){const i=[];for(const s of Object.keys(r.children))"primary"===s?i.unshift(s):i.push(s);return ut(i).pipe(us(s=>{const o=r.children[s],a=YU(t,s);return this.expandSegmentGroup(e,a,o,s).pipe(re(l=>({segment:l,outlet:s})))}),pU((s,o)=>(s[o.outlet]=o.segment,s),{}),mU())}expandSegment(e,t,r,i,s,o){return ut(r).pipe(us(a=>this.expandSegmentAgainstRoute(e,t,r,a,i,s,o).pipe(ro(c=>{if(c instanceof P_)return W(null);throw c}))),Xo(a=>!!a),ro((a,l)=>{if(hI(a))return eH(t,i,s)?W(new ke([],{})):Qh(t);throw a}))}expandSegmentAgainstRoute(e,t,r,i,s,o,a){return JU(i,t,s,o)?void 0===i.redirectTo?this.matchSegmentAgainstRoute(e,t,i,s,o):a&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,t,r,i,s,o):Qh(t):Qh(t)}expandSegmentAgainstRouteUsingRedirect(e,t,r,i,s,o){return"**"===i.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,r,i,o):this.expandRegularSegmentAgainstRouteUsingRedirect(e,t,r,i,s,o)}expandWildCardWithParamsAgainstRouteUsingRedirect(e,t,r,i){const s=this.applyRedirectCommands([],r.redirectTo,{});return r.redirectTo.startsWith("/")?nH(s):this.lineralizeSegments(r,s).pipe(Xt(o=>{const a=new ke(o,{});return this.expandSegment(e,a,t,o,i,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(e,t,r,i,s,o){const{matched:a,consumedSegments:l,remainingSegments:c,positionalParamSegments:u}=pI(t,i,s);if(!a)return Qh(t);const d=this.applyRedirectCommands(l,i.redirectTo,u);return i.redirectTo.startsWith("/")?nH(d):this.lineralizeSegments(i,d).pipe(Xt(h=>this.expandSegment(e,t,r,h.concat(c),o,!1)))}matchSegmentAgainstRoute(e,t,r,i,s){return"**"===r.path?(e=KU(r,e),r.loadChildren?(r._loadedRoutes?W({routes:r._loadedRoutes,injector:r._loadedInjector}):this.configLoader.loadChildren(e,r)).pipe(re(a=>(r._loadedRoutes=a.routes,r._loadedInjector=a.injector,new ke(i,{})))):W(new ke(i,{}))):ZU(t,r,i,e).pipe(On(({matched:o,consumedSegments:a,remainingSegments:l})=>o?this.getChildConfig(e=r._injector??e,r,i).pipe(Xt(u=>{const d=u.injector??e,h=u.routes,{segmentGroup:f,slicedSegments:p}=x_(t,a,l,h),m=new ke(f.segments,f.children);if(0===p.length&&m.hasChildren())return this.expandChildren(d,h,m).pipe(re(v=>new ke(a,v)));if(0===h.length&&0===p.length)return W(new ke(a,{}));const g=vi(r)===s;return this.expandSegment(d,m,h,p,g?De:s,!0).pipe(re(E=>new ke(a.concat(E.segments),E.children)))})):Qh(t)))}getChildConfig(e,t,r){return t.children?W({routes:t.children,injector:e}):t.loadChildren?void 0!==t._loadedRoutes?W({routes:t._loadedRoutes,injector:t._loadedInjector}):function kae(n,e,t,r){const i=e.canLoad;return void 0===i||0===i.length?W(!0):W(i.map(o=>{const a=vu(o,n);return Zo(function _ae(n){return n&&Yh(n.canLoad)}(a)?a.canLoad(e,t):n.runInContext(()=>a(e,t)))})).pipe(bu(),XU())}(e,t,r).pipe(Xt(i=>i?this.configLoader.loadChildren(e,t).pipe(Ut(s=>{t._loadedRoutes=s.routes,t._loadedInjector=s.injector})):function Vae(n){return pu(GU(R_,3))}())):W({routes:[],injector:e})}lineralizeSegments(e,t){let r=[],i=t.root;for(;;){if(r=r.concat(i.segments),0===i.numberOfChildren)return W(r);if(i.numberOfChildren>1||!i.children[De])return pu(new x(4e3,R_));i=i.children[De]}}applyRedirectCommands(e,t,r){return this.applyRedirectCreateUrlTree(t,this.urlSerializer.parse(t),e,r)}applyRedirectCreateUrlTree(e,t,r,i){const s=this.createSegmentGroup(e,t.root,r,i);return new al(s,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){const r={};return Nn(e,(i,s)=>{if("string"==typeof i&&i.startsWith(":")){const a=i.substring(1);r[s]=t[a]}else r[s]=i}),r}createSegmentGroup(e,t,r,i){const s=this.createSegments(e,t.segments,r,i);let o={};return Nn(t.children,(a,l)=>{o[l]=this.createSegmentGroup(e,a,r,i)}),new ke(s,o)}createSegments(e,t,r,i){return t.map(s=>s.path.startsWith(":")?this.findPosParam(e,s,i):this.findOrReturn(s,r))}findPosParam(e,t,r){const i=r[t.path.substring(1)];if(!i)throw new x(4001,R_);return i}findOrReturn(e,t){let r=0;for(const i of t){if(i.path===e.path)return t.splice(r),i;r++}return e}}class $ae{}class Gae{constructor(e,t,r,i,s,o,a,l){this.injector=e,this.rootComponentType=t,this.config=r,this.urlTree=i,this.url=s,this.paramsInheritanceStrategy=o,this.relativeLinkResolution=a,this.urlSerializer=l}recognize(){const e=x_(this.urlTree.root,[],[],this.config.filter(t=>void 0===t.redirectTo),this.relativeLinkResolution).segmentGroup;return this.processSegmentGroup(this.injector,this.config,e,De).pipe(re(t=>{if(null===t)return null;const r=new I_([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},De,this.rootComponentType,null,this.urlTree.root,-1,{}),i=new so(r,t),s=new $U(this.url,i);return this.inheritParamsAndData(s._root),s}))}inheritParamsAndData(e){const t=e.value,r=HU(t,this.paramsInheritanceStrategy);t.params=Object.freeze(r.params),t.data=Object.freeze(r.data),e.children.forEach(i=>this.inheritParamsAndData(i))}processSegmentGroup(e,t,r,i){return 0===r.segments.length&&r.hasChildren()?this.processChildren(e,t,r):this.processSegment(e,t,r,r.segments,i)}processChildren(e,t,r){return ut(Object.keys(r.children)).pipe(us(i=>{const s=r.children[i],o=YU(t,i);return this.processSegmentGroup(e,o,s,i)}),pU((i,s)=>i&&s?(i.push(...s),i):null),function foe(n,e=!1){return yt((t,r)=>{let i=0;t.subscribe(nt(r,s=>{const o=n(s,i++);(o||e)&&r.next(s),!o&&r.complete()}))})}(i=>null!==i),m_(null),mU(),re(i=>{if(null===i)return null;const s=rH(i);return function Wae(n){n.sort((e,t)=>e.value.outlet===De?-1:t.value.outlet===De?1:e.value.outlet.localeCompare(t.value.outlet))}(s),s}))}processSegment(e,t,r,i,s){return ut(t).pipe(us(o=>this.processSegmentAgainstRoute(o._injector??e,o,r,i,s)),Xo(o=>!!o),ro(o=>{if(hI(o))return eH(r,i,s)?W([]):W(null);throw o}))}processSegmentAgainstRoute(e,t,r,i,s){if(t.redirectTo||!JU(t,r,i,s))return W(null);let o;if("**"===t.path){const a=i.length>0?vU(i).parameters:{},l=sH(r)+i.length;o=W({snapshot:new I_(i,a,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,aH(t),vi(t),t.component??t._loadedComponent??null,t,iH(r),l,lH(t),l),consumedSegments:[],remainingSegments:[]})}else o=ZU(r,t,i,e).pipe(re(({matched:a,consumedSegments:l,remainingSegments:c,parameters:u})=>{if(!a)return null;const d=sH(r)+l.length;return{snapshot:new I_(l,u,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,aH(t),vi(t),t.component??t._loadedComponent??null,t,iH(r),d,lH(t),d),consumedSegments:l,remainingSegments:c}}));return o.pipe(On(a=>{if(null===a)return W(null);const{snapshot:l,consumedSegments:c,remainingSegments:u}=a;e=t._injector??e;const d=t._loadedInjector??e,h=function qae(n){return n.children?n.children:n.loadChildren?n._loadedRoutes:[]}(t),{segmentGroup:f,slicedSegments:p}=x_(r,c,u,h.filter(g=>void 0===g.redirectTo),this.relativeLinkResolution);if(0===p.length&&f.hasChildren())return this.processChildren(d,h,f).pipe(re(g=>null===g?null:[new so(l,g)]));if(0===h.length&&0===p.length)return W([new so(l,[])]);const m=vi(t)===s;return this.processSegment(d,h,f,p,m?De:s).pipe(re(g=>null===g?null:[new so(l,g)]))}))}}function Kae(n){const e=n.value.routeConfig;return e&&""===e.path&&void 0===e.redirectTo}function rH(n){const e=[],t=new Set;for(const r of n){if(!Kae(r)){e.push(r);continue}const i=e.find(s=>r.value.routeConfig===s.value.routeConfig);void 0!==i?(i.children.push(...r.children),t.add(i)):e.push(r)}for(const r of t){const i=rH(r.children);e.push(new so(r.value,i))}return e.filter(r=>!t.has(r))}function iH(n){let e=n;for(;e._sourceSegment;)e=e._sourceSegment;return e}function sH(n){let e=n,t=e._segmentIndexShift??0;for(;e._sourceSegment;)e=e._sourceSegment,t+=e._segmentIndexShift??0;return t-1}function aH(n){return n.data||{}}function lH(n){return n.resolve||{}}function cH(n){return"string"==typeof n.title||null===n.title}function mI(n){return On(e=>{const t=n(e);return t?ut(t).pipe(re(()=>e)):W(e)})}let uH=(()=>{class n{buildTitle(t){let r,i=t.root;for(;void 0!==i;)r=this.getResolvedTitleForRoute(i)??r,i=i.children.find(s=>s.outlet===De);return r}getResolvedTitleForRoute(t){return t.data[Vh]}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=V({token:n,factory:function(){return Et(dH)},providedIn:"root"}),n})(),dH=(()=>{class n extends uH{constructor(t){super(),this.title=t}updateTitle(t){const r=this.buildTitle(t);void 0!==r&&this.title.setTitle(r)}}return n.\u0275fac=function(t){return new(t||n)(w(jE))},n.\u0275prov=V({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class nle{}class ile extends class rle{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}}{}const N_=new N("",{providedIn:"root",factory:()=>({})}),gI=new N("ROUTES");let _I=(()=>{class n{constructor(t,r){this.injector=t,this.compiler=r,this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap}loadComponent(t){if(this.componentLoaders.get(t))return this.componentLoaders.get(t);if(t._loadedComponent)return W(t._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(t);const r=Zo(t.loadComponent()).pipe(Ut(s=>{this.onLoadEndListener&&this.onLoadEndListener(t),t._loadedComponent=s}),g_(()=>{this.componentLoaders.delete(t)})),i=new hU(r,()=>new Le).pipe(KE());return this.componentLoaders.set(t,i),i}loadChildren(t,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return W({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);const s=this.loadModuleFactoryOrRoutes(r.loadChildren).pipe(re(a=>{this.onLoadEndListener&&this.onLoadEndListener(r);let l,c,u=!1;Array.isArray(a)?c=a:(l=a.create(t).injector,c=yU(l.get(gI,[],ie.Self|ie.Optional)));return{routes:c.map(dI),injector:l}}),g_(()=>{this.childrenLoaders.delete(r)})),o=new hU(s,()=>new Le).pipe(KE());return this.childrenLoaders.set(r,o),o}loadModuleFactoryOrRoutes(t){return Zo(t()).pipe(Xt(r=>r instanceof QV||Array.isArray(r)?W(r):ut(this.compiler.compileModuleAsync(r))))}}return n.\u0275fac=function(t){return new(t||n)(w(Je),w(iE))},n.\u0275prov=V({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class ole{}class ale{shouldProcessUrl(e){return!0}extract(e){return e}merge(e,t){return e}}function lle(n){throw n}function cle(n,e,t){return e.parse("/")}const ule={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},dle={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};function fH(){const n=Et(TU),e=Et(Gh),t=Et(Qg),r=Et(Je),i=Et(iE),s=Et(gI,{optional:!0})??[],o=Et(N_,{optional:!0})??{},a=Et(dH),l=Et(uH,{optional:!0}),c=Et(ole,{optional:!0}),u=Et(nle,{optional:!0}),d=new Ht(null,n,e,t,r,i,yU(s));return c&&(d.urlHandlingStrategy=c),u&&(d.routeReuseStrategy=u),d.titleStrategy=l??a,function hle(n,e){n.errorHandler&&(e.errorHandler=n.errorHandler),n.malformedUriErrorHandler&&(e.malformedUriErrorHandler=n.malformedUriErrorHandler),n.onSameUrlNavigation&&(e.onSameUrlNavigation=n.onSameUrlNavigation),n.paramsInheritanceStrategy&&(e.paramsInheritanceStrategy=n.paramsInheritanceStrategy),n.relativeLinkResolution&&(e.relativeLinkResolution=n.relativeLinkResolution),n.urlUpdateStrategy&&(e.urlUpdateStrategy=n.urlUpdateStrategy),n.canceledNavigationResolution&&(e.canceledNavigationResolution=n.canceledNavigationResolution)}(o,d),d}let Ht=(()=>{class n{constructor(t,r,i,s,o,a,l){this.rootComponentType=t,this.urlSerializer=r,this.rootContexts=i,this.location=s,this.config=l,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new Le,this.errorHandler=lle,this.malformedUriErrorHandler=cle,this.navigated=!1,this.lastSuccessfulId=-1,this.afterPreactivation=()=>W(void 0),this.urlHandlingStrategy=new ale,this.routeReuseStrategy=new ile,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.configLoader=o.get(_I),this.configLoader.onLoadEndListener=h=>this.triggerEvent(new Koe(h)),this.configLoader.onLoadStartListener=h=>this.triggerEvent(new qoe(h)),this.ngModule=o.get(tl),this.console=o.get(nre);const d=o.get(se);this.isNgZoneEnabled=d instanceof se&&se.isInAngularZone(),this.resetConfig(l),this.currentUrlTree=function _oe(){return new al(new ke([],{}),{},null)}(),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=UU(this.currentUrlTree,this.rootComponentType),this.transitions=new yi({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){return this.location.getState()?.\u0275routerPageId}setupNavigations(t){const r=this.events;return t.pipe(dn(i=>0!==i.id),re(i=>({...i,extractedUrl:this.urlHandlingStrategy.extract(i.rawUrl)})),On(i=>{let s=!1,o=!1;return W(i).pipe(Ut(a=>{this.currentNavigation={id:a.id,initialUrl:a.rawUrl,extractedUrl:a.extractedUrl,trigger:a.source,extras:a.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),On(a=>{const l=this.browserUrlTree.toString(),c=!this.navigated||a.extractedUrl.toString()!==l||l!==this.currentUrlTree.toString();if(("reload"===this.onSameUrlNavigation||c)&&this.urlHandlingStrategy.shouldProcessUrl(a.rawUrl))return pH(a.source)&&(this.browserUrlTree=a.extractedUrl),W(a).pipe(On(d=>{const h=this.transitions.getValue();return r.next(new rI(d.id,this.serializeUrl(d.extractedUrl),d.source,d.restoredState)),h!==this.transitions.getValue()?Ji:Promise.resolve(d)}),function Hae(n,e,t,r){return On(i=>function Bae(n,e,t,r,i){return new Uae(n,e,t,r,i).apply()}(n,e,t,i.extractedUrl,r).pipe(re(s=>({...i,urlAfterRedirects:s}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),Ut(d=>{this.currentNavigation={...this.currentNavigation,finalUrl:d.urlAfterRedirects},i.urlAfterRedirects=d.urlAfterRedirects}),function Qae(n,e,t,r,i,s){return Xt(o=>function zae(n,e,t,r,i,s,o="emptyOnly",a="legacy"){return new Gae(n,e,t,r,i,o,a,s).recognize().pipe(On(l=>null===l?function jae(n){return new ze(e=>e.error(n))}(new $ae):W(l)))}(n,e,t,o.urlAfterRedirects,r.serialize(o.urlAfterRedirects),r,i,s).pipe(re(a=>({...o,targetSnapshot:a}))))}(this.ngModule.injector,this.rootComponentType,this.config,this.urlSerializer,this.paramsInheritanceStrategy,this.relativeLinkResolution),Ut(d=>{if(i.targetSnapshot=d.targetSnapshot,"eager"===this.urlUpdateStrategy){if(!d.extras.skipLocationChange){const f=this.urlHandlingStrategy.merge(d.urlAfterRedirects,d.rawUrl);this.setBrowserUrl(f,d)}this.browserUrlTree=d.urlAfterRedirects}const h=new $oe(d.id,this.serializeUrl(d.extractedUrl),this.serializeUrl(d.urlAfterRedirects),d.targetSnapshot);r.next(h)}));if(c&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:h,extractedUrl:f,source:p,restoredState:m,extras:g}=a,b=new rI(h,this.serializeUrl(f),p,m);r.next(b);const E=UU(f,this.rootComponentType).snapshot;return W(i={...a,targetSnapshot:E,urlAfterRedirects:f,extras:{...g,skipLocationChange:!1,replaceUrl:!1}})}return this.rawUrlTree=a.rawUrl,a.resolve(null),Ji}),Ut(a=>{const l=new joe(a.id,this.serializeUrl(a.extractedUrl),this.serializeUrl(a.urlAfterRedirects),a.targetSnapshot);this.triggerEvent(l)}),re(a=>i={...a,guards:hae(a.targetSnapshot,a.currentSnapshot,this.rootContexts)}),function Eae(n,e){return Xt(t=>{const{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:s,canDeactivateChecks:o}}=t;return 0===o.length&&0===s.length?W({...t,guardsResult:!0}):function Iae(n,e,t,r){return ut(n).pipe(Xt(i=>function xae(n,e,t,r,i){const s=e&&e.routeConfig?e.routeConfig.canDeactivate:null;return s&&0!==s.length?W(s.map(a=>{const l=Wh(e)??i,c=vu(a,l);return Zo(function bae(n){return n&&Yh(n.canDeactivate)}(c)?c.canDeactivate(n,e,t,r):l.runInContext(()=>c(n,e,t,r))).pipe(Xo())})).pipe(bu()):W(!0)}(i.component,i.route,t,e,r)),Xo(i=>!0!==i,!0))}(o,r,i,n).pipe(Xt(a=>a&&function gae(n){return"boolean"==typeof n}(a)?function Tae(n,e,t,r){return ut(e).pipe(us(i=>p_(function Dae(n,e){return null!==n&&e&&e(new Yoe(n)),W(!0)}(i.route.parent,r),function Sae(n,e){return null!==n&&e&&e(new Xoe(n)),W(!0)}(i.route,r),function Mae(n,e,t){const r=e[e.length-1],s=e.slice(0,e.length-1).reverse().map(o=>function fae(n){const e=n.routeConfig?n.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:n,guards:e}:null}(o)).filter(o=>null!==o).map(o=>qE(()=>W(o.guards.map(l=>{const c=Wh(o.node)??t,u=vu(l,c);return Zo(function vae(n){return n&&Yh(n.canActivateChild)}(u)?u.canActivateChild(r,n):c.runInContext(()=>u(r,n))).pipe(Xo())})).pipe(bu())));return W(s).pipe(bu())}(n,i.path,t),function Aae(n,e,t){const r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||0===r.length)return W(!0);const i=r.map(s=>qE(()=>{const o=Wh(e)??t,a=vu(s,o);return Zo(function yae(n){return n&&Yh(n.canActivate)}(a)?a.canActivate(e,n):o.runInContext(()=>a(e,n))).pipe(Xo())}));return W(i).pipe(bu())}(n,i.route,t))),Xo(i=>!0!==i,!0))}(r,s,n,e):W(a)),re(a=>({...t,guardsResult:a})))})}(this.ngModule.injector,a=>this.triggerEvent(a)),Ut(a=>{if(i.guardsResult=a.guardsResult,cl(a.guardsResult))throw zU(0,a.guardsResult);const l=new zoe(a.id,this.serializeUrl(a.extractedUrl),this.serializeUrl(a.urlAfterRedirects),a.targetSnapshot,!!a.guardsResult);this.triggerEvent(l)}),dn(a=>!!a.guardsResult||(this.restoreHistory(a),this.cancelNavigationTransition(a,"",3),!1)),mI(a=>{if(a.guards.canActivateChecks.length)return W(a).pipe(Ut(l=>{const c=new Goe(l.id,this.serializeUrl(l.extractedUrl),this.serializeUrl(l.urlAfterRedirects),l.targetSnapshot);this.triggerEvent(c)}),On(l=>{let c=!1;return W(l).pipe(function Xae(n,e){return Xt(t=>{const{targetSnapshot:r,guards:{canActivateChecks:i}}=t;if(!i.length)return W(t);let s=0;return ut(i).pipe(us(o=>function Zae(n,e,t,r){const i=n.routeConfig,s=n._resolve;return void 0!==i?.title&&!cH(i)&&(s[Vh]=i.title),function Jae(n,e,t,r){const i=function ele(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}(n);if(0===i.length)return W({});const s={};return ut(i).pipe(Xt(o=>function tle(n,e,t,r){const i=Wh(e)??r,s=vu(n,i);return Zo(s.resolve?s.resolve(e,t):i.runInContext(()=>s(e,t)))}(n[o],e,t,r).pipe(Xo(),Ut(a=>{s[o]=a}))),YE(1),gU(s),ro(o=>hI(o)?Ji:pu(o)))}(s,n,e,r).pipe(re(o=>(n._resolvedData=o,n.data=HU(n,t).resolve,i&&cH(i)&&(n.data[Vh]=i.title),null)))}(o.route,r,n,e)),Ut(()=>s++),YE(1),Xt(o=>s===i.length?W(t):Ji))})}(this.paramsInheritanceStrategy,this.ngModule.injector),Ut({next:()=>c=!0,complete:()=>{c||(this.restoreHistory(l),this.cancelNavigationTransition(l,"",2))}}))}),Ut(l=>{const c=new Woe(l.id,this.serializeUrl(l.extractedUrl),this.serializeUrl(l.urlAfterRedirects),l.targetSnapshot);this.triggerEvent(c)}))}),mI(a=>{const l=c=>{const u=[];c.routeConfig?.loadComponent&&!c.routeConfig._loadedComponent&&u.push(this.configLoader.loadComponent(c.routeConfig).pipe(Ut(d=>{c.component=d}),re(()=>{})));for(const d of c.children)u.push(...l(d));return u};return uU(l(a.targetSnapshot.root)).pipe(m_(),Dr(1))}),mI(()=>this.afterPreactivation()),re(a=>{const l=function tae(n,e,t){const r=zh(n,e._root,t?t._root:void 0);return new BU(r,e)}(this.routeReuseStrategy,a.targetSnapshot,a.currentRouterState);return i={...a,targetRouterState:l}}),Ut(a=>{this.currentUrlTree=a.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(a.urlAfterRedirects,a.rawUrl),this.routerState=a.targetRouterState,"deferred"===this.urlUpdateStrategy&&(a.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,a),this.browserUrlTree=a.urlAfterRedirects)}),((n,e,t)=>re(r=>(new dae(e,r.targetRouterState,r.currentRouterState,t).activate(n),r)))(this.rootContexts,this.routeReuseStrategy,a=>this.triggerEvent(a)),Ut({next(){s=!0},complete(){s=!0}}),g_(()=>{s||o||this.cancelNavigationTransition(i,"",1),this.currentNavigation?.id===i.id&&(this.currentNavigation=null)}),ro(a=>{if(o=!0,qU(a)){WU(a)||(this.navigated=!0,this.restoreHistory(i,!0));const l=new E_(i.id,this.serializeUrl(i.extractedUrl),a.message,a.cancellationCode);if(r.next(l),WU(a)){const c=this.urlHandlingStrategy.merge(a.url,this.rawUrlTree),u={skipLocationChange:i.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||pH(i.source)};this.scheduleNavigation(c,"imperative",null,u,{resolve:i.resolve,reject:i.reject,promise:i.promise})}else i.resolve(!1)}else{this.restoreHistory(i,!0);const l=new NU(i.id,this.serializeUrl(i.extractedUrl),a,i.targetSnapshot??void 0);r.next(l);try{i.resolve(this.errorHandler(a))}catch(c){i.reject(c)}}return Ji}))}))}resetRootComponentType(t){this.rootComponentType=t,this.routerState.root.component=this.rootComponentType}setTransition(t){this.transitions.next({...this.transitions.value,...t})}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(t=>{const r="popstate"===t.type?"popstate":"hashchange";"popstate"===r&&setTimeout(()=>{const i={replaceUrl:!0},s=t.state?.navigationId?t.state:null;if(s){const a={...s};delete a.navigationId,delete a.\u0275routerPageId,0!==Object.keys(a).length&&(i.state=a)}const o=this.parseUrl(t.url);this.scheduleNavigation(o,r,s,i)},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(t){this.events.next(t)}resetConfig(t){this.config=t.map(dI),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(t,r={}){const{relativeTo:i,queryParams:s,fragment:o,queryParamsHandling:a,preserveFragment:l}=r,c=i||this.routerState.root,u=l?this.currentUrlTree.fragment:o;let d=null;switch(a){case"merge":d={...this.currentUrlTree.queryParams,...s};break;case"preserve":d=this.currentUrlTree.queryParams;break;default:d=s||null}return null!==d&&(d=this.removeEmptyProps(d)),Foe(c,this.currentUrlTree,t,d,u??null)}navigateByUrl(t,r={skipLocationChange:!1}){const i=cl(t)?t:this.parseUrl(t),s=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(s,"imperative",null,r)}navigate(t,r={skipLocationChange:!1}){return function fle(n){for(let e=0;e<n.length;e++){if(null==n[e])throw new x(4008,false)}}(t),this.navigateByUrl(this.createUrlTree(t,r),r)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){let r;try{r=this.urlSerializer.parse(t)}catch(i){r=this.malformedUriErrorHandler(i,this.urlSerializer,t)}return r}isActive(t,r){let i;if(i=!0===r?{...ule}:!1===r?{...dle}:r,cl(t))return wU(this.currentUrlTree,t,i);const s=this.parseUrl(t);return wU(this.currentUrlTree,s,i)}removeEmptyProps(t){return Object.keys(t).reduce((r,i)=>{const s=t[i];return null!=s&&(r[i]=s),r},{})}processNavigations(){this.navigations.subscribe(t=>{this.navigated=!0,this.lastSuccessfulId=t.id,this.currentPageId=t.targetPageId,this.events.next(new ul(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,this.titleStrategy?.updateTitle(this.routerState.snapshot),t.resolve(!0)},t=>{this.console.warn(`Unhandled Navigation Error: ${t}`)})}scheduleNavigation(t,r,i,s,o){if(this.disposed)return Promise.resolve(!1);let a,l,c;o?(a=o.resolve,l=o.reject,c=o.promise):c=new Promise((h,f)=>{a=h,l=f});const u=++this.navigationId;let d;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(i=this.location.getState()),d=i&&i.\u0275routerPageId?i.\u0275routerPageId:s.replaceUrl||s.skipLocationChange?this.browserPageId??0:(this.browserPageId??0)+1):d=0,this.setTransition({id:u,targetPageId:d,source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:t,extras:s,resolve:a,reject:l,promise:c,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),c.catch(h=>Promise.reject(h))}setBrowserUrl(t,r){const i=this.urlSerializer.serialize(t),s={...r.extras.state,...this.generateNgRouterState(r.id,r.targetPageId)};this.location.isCurrentPathEqualTo(i)||r.extras.replaceUrl?this.location.replaceState(i,"",s):this.location.go(i,"",s)}restoreHistory(t,r=!1){if("computed"===this.canceledNavigationResolution){const i=this.currentPageId-t.targetPageId;"popstate"!==t.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==this.currentNavigation?.finalUrl||0===i?this.currentUrlTree===this.currentNavigation?.finalUrl&&0===i&&(this.resetState(t),this.browserUrlTree=t.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(i)}else"replace"===this.canceledNavigationResolution&&(r&&this.resetState(t),this.resetUrlToCurrentUrlTree())}resetState(t){this.routerState=t.currentRouterState,this.currentUrlTree=t.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(t,r,i){const s=new E_(t.id,this.serializeUrl(t.extractedUrl),r,i);this.triggerEvent(s),t.resolve(!1)}generateNgRouterState(t,r){return"computed"===this.canceledNavigationResolution?{navigationId:t,\u0275routerPageId:r}:{navigationId:t}}}return n.\u0275fac=function(t){a0()},n.\u0275prov=V({token:n,factory:function(){return fH()},providedIn:"root"}),n})();function pH(n){return"imperative"!==n}let Xh=(()=>{class n{constructor(t,r,i,s,o){this.router=t,this.route=r,this.tabIndexAttribute=i,this.renderer=s,this.el=o,this._preserveFragment=!1,this._skipLocationChange=!1,this._replaceUrl=!1,this.commands=null,this.onChanges=new Le,this.setTabIndexIfNotOnNativeEl("0")}set preserveFragment(t){this._preserveFragment=eo(t)}get preserveFragment(){return this._preserveFragment}set skipLocationChange(t){this._skipLocationChange=eo(t)}get skipLocationChange(){return this._skipLocationChange}set replaceUrl(t){this._replaceUrl=eo(t)}get replaceUrl(){return this._replaceUrl}setTabIndexIfNotOnNativeEl(t){if(null!=this.tabIndexAttribute)return;const r=this.renderer,i=this.el.nativeElement;null!==t?r.setAttribute(i,"tabindex",t):r.removeAttribute(i,"tabindex")}ngOnChanges(t){this.onChanges.next(this)}set routerLink(t){null!=t?(this.commands=Array.isArray(t)?t:[t],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(){return null===this.urlTree||this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!0}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}}return n.\u0275fac=function(t){return new(t||n)(y(Ht),y(dl),Ho("tabindex"),y(ki),y(Ze))},n.\u0275dir=q({type:n,selectors:[["","routerLink","",5,"a",5,"area"]],hostBindings:function(t,r){1&t&&ye("click",function(){return r.onClick()})},inputs:{queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",routerLink:"routerLink"},standalone:!0,features:[lr]}),n})(),yI=(()=>{class n{constructor(t,r,i){this.router=t,this.route=r,this.locationStrategy=i,this._preserveFragment=!1,this._skipLocationChange=!1,this._replaceUrl=!1,this.commands=null,this.href=null,this.onChanges=new Le,this.subscription=t.events.subscribe(s=>{s instanceof ul&&this.updateTargetUrlAndHref()})}set preserveFragment(t){this._preserveFragment=eo(t)}get preserveFragment(){return this._preserveFragment}set skipLocationChange(t){this._skipLocationChange=eo(t)}get skipLocationChange(){return this._skipLocationChange}set replaceUrl(t){this._replaceUrl=eo(t)}get replaceUrl(){return this._replaceUrl}set routerLink(t){this.commands=null!=t?Array.isArray(t)?t:[t]:null}ngOnChanges(t){this.updateTargetUrlAndHref(),this.onChanges.next(this)}ngOnDestroy(){this.subscription.unsubscribe()}onClick(t,r,i,s,o){return!!(0!==t||r||i||s||o||"string"==typeof this.target&&"_self"!=this.target||null===this.urlTree)||(this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!1)}updateTargetUrlAndHref(){this.href=null!==this.urlTree?this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}}return n.\u0275fac=function(t){return new(t||n)(y(Ht),y(dl),y(ol))},n.\u0275dir=q({type:n,selectors:[["a","routerLink",""],["area","routerLink",""]],hostVars:2,hostBindings:function(t,r){1&t&&ye("click",function(s){return r.onClick(s.button,s.ctrlKey,s.shiftKey,s.altKey,s.metaKey)}),2&t&&ft("target",r.target)("href",r.href,Qa)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",routerLink:"routerLink"},standalone:!0,features:[lr]}),n})(),mH=(()=>{class n{constructor(t,r,i,s,o,a){this.router=t,this.element=r,this.renderer=i,this.cdr=s,this.link=o,this.linkWithHref=a,this.classes=[],this.isActive=!1,this.routerLinkActiveOptions={exact:!1},this.isActiveChange=new Pe,this.routerEventsSubscription=t.events.subscribe(l=>{l instanceof ul&&this.update()})}ngAfterContentInit(){W(this.links.changes,this.linksWithHrefs.changes,W(null)).pipe(Ic()).subscribe(t=>{this.update(),this.subscribeToEachLinkOnChanges()})}subscribeToEachLinkOnChanges(){this.linkInputChangesSubscription?.unsubscribe();const t=[...this.links.toArray(),...this.linksWithHrefs.toArray(),this.link,this.linkWithHref].filter(r=>!!r).map(r=>r.onChanges);this.linkInputChangesSubscription=ut(t).pipe(Ic()).subscribe(r=>{this.isActive!==this.isLinkActive(this.router)(r)&&this.update()})}set routerLinkActive(t){const r=Array.isArray(t)?t:t.split(" ");this.classes=r.filter(i=>!!i)}ngOnChanges(t){this.update()}ngOnDestroy(){this.routerEventsSubscription.unsubscribe(),this.linkInputChangesSubscription?.unsubscribe()}update(){!this.links||!this.linksWithHrefs||!this.router.navigated||Promise.resolve().then(()=>{const t=this.hasActiveLinks();this.isActive!==t&&(this.isActive=t,this.cdr.markForCheck(),this.classes.forEach(r=>{t?this.renderer.addClass(this.element.nativeElement,r):this.renderer.removeClass(this.element.nativeElement,r)}),t&&void 0!==this.ariaCurrentWhenActive?this.renderer.setAttribute(this.element.nativeElement,"aria-current",this.ariaCurrentWhenActive.toString()):this.renderer.removeAttribute(this.element.nativeElement,"aria-current"),this.isActiveChange.emit(t))})}isLinkActive(t){const r=function ple(n){return!!n.paths}(this.routerLinkActiveOptions)?this.routerLinkActiveOptions:this.routerLinkActiveOptions.exact||!1;return i=>!!i.urlTree&&t.isActive(i.urlTree,r)}hasActiveLinks(){const t=this.isLinkActive(this.router);return this.link&&t(this.link)||this.linkWithHref&&t(this.linkWithHref)||this.links.some(t)||this.linksWithHrefs.some(t)}}return n.\u0275fac=function(t){return new(t||n)(y(Ht),y(Ze),y(ki),y(Js),y(Xh,8),y(yI,8))},n.\u0275dir=q({type:n,selectors:[["","routerLinkActive",""]],contentQueries:function(t,r,i){if(1&t&&(Jn(i,Xh,5),Jn(i,yI,5)),2&t){let s;vt(s=bt())&&(r.links=s),vt(s=bt())&&(r.linksWithHrefs=s)}},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",ariaCurrentWhenActive:"ariaCurrentWhenActive",routerLinkActive:"routerLinkActive"},outputs:{isActiveChange:"isActiveChange"},exportAs:["routerLinkActive"],standalone:!0,features:[lr]}),n})();class gH{}let mle=(()=>{class n{constructor(t,r,i,s,o){this.router=t,this.injector=i,this.preloadingStrategy=s,this.loader=o}setUpPreloading(){this.subscription=this.router.events.pipe(dn(t=>t instanceof ul),us(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,r){const i=[];for(const s of r){s.providers&&!s._injector&&(s._injector=Vg(s.providers,t,`Route: ${s.path}`));const o=s._injector??t,a=s._loadedInjector??o;s.loadChildren&&!s._loadedRoutes&&void 0===s.canLoad||s.loadComponent&&!s._loadedComponent?i.push(this.preloadConfig(o,s)):(s.children||s._loadedRoutes)&&i.push(this.processRoutes(a,s.children??s._loadedRoutes))}return ut(i).pipe(Ic())}preloadConfig(t,r){return this.preloadingStrategy.preload(r,()=>{let i;i=r.loadChildren&&void 0===r.canLoad?this.loader.loadChildren(t,r):W(null);const s=i.pipe(Xt(o=>null===o?W(void 0):(r._loadedRoutes=o.routes,r._loadedInjector=o.injector,this.processRoutes(o.injector??t,o.routes))));return r.loadComponent&&!r._loadedComponent?ut([s,this.loader.loadComponent(r)]).pipe(Ic()):s})}}return n.\u0275fac=function(t){return new(t||n)(w(Ht),w(iE),w($o),w(gH),w(_I))},n.\u0275prov=V({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const vI=new N("");let _H=(()=>{class n{constructor(t,r,i={}){this.router=t,this.viewportScroller=r,this.options=i,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},i.scrollPositionRestoration=i.scrollPositionRestoration||"disabled",i.anchorScrolling=i.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(t=>{t instanceof rI?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof ul&&(this.lastId=t.id,this.scheduleScrollEvent(t,this.router.parseUrl(t.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(t=>{t instanceof LU&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,r){this.router.triggerEvent(new LU(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,r))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return n.\u0275fac=function(t){a0()},n.\u0275prov=V({token:n,factory:n.\u0275fac}),n})();function wu(n,e){return{\u0275kind:n,\u0275providers:e}}function bI(n){return[{provide:gI,multi:!0,useValue:n}]}function vH(){const n=Et(Je);return e=>{const t=n.get(il);if(e!==t.components[0])return;const r=n.get(Ht),i=n.get(bH);1===n.get(wI)&&r.initialNavigation(),n.get(wH,null,ie.Optional)?.setUpPreloading(),n.get(vI,null,ie.Optional)?.init(),r.resetRootComponentType(t.componentTypes[0]),i.closed||(i.next(),i.unsubscribe())}}const bH=new N("",{factory:()=>new Le}),wI=new N("",{providedIn:"root",factory:()=>1});const wH=new N("");function vle(n){return wu(0,[{provide:wH,useExisting:mle},{provide:gH,useExisting:n}])}const CH=new N("ROUTER_FORROOT_GUARD"),ble=[Qg,{provide:TU,useClass:XE},{provide:Ht,useFactory:fH},Gh,{provide:dl,useFactory:function yH(n){return n.routerState.root},deps:[Ht]},_I];function wle(){return new K2("Router",Ht)}let EH=(()=>{class n{constructor(t){}static forRoot(t,r){return{ngModule:n,providers:[ble,[],bI(t),{provide:CH,useFactory:Tle,deps:[[Ht,new Ie,new $c]]},{provide:N_,useValue:r||{}},r?.useHash?{provide:ol,useClass:Gre}:{provide:ol,useClass:vB},{provide:vI,useFactory:()=>{const n=Et(Ht),e=Et(sse),t=Et(N_);return t.scrollOffset&&e.setOffset(t.scrollOffset),new _H(n,e,t)}},r?.preloadingStrategy?vle(r.preloadingStrategy).\u0275providers:[],{provide:K2,multi:!0,useFactory:wle},r?.initialNavigation?Sle(r):[],[{provide:IH,useFactory:vH},{provide:H2,multi:!0,useExisting:IH}]]}}static forChild(t){return{ngModule:n,providers:[bI(t)]}}}return n.\u0275fac=function(t){return new(t||n)(w(CH,8))},n.\u0275mod=te({type:n}),n.\u0275inj=ee({imports:[D_]}),n})();function Tle(n){return"guarded"}function Sle(n){return["disabled"===n.initialNavigation?wu(3,[{provide:nl,multi:!0,useFactory:()=>{const e=Et(Ht);return()=>{e.setUpLocationChangeListener()}}},{provide:wI,useValue:2}]).\u0275providers:[],"enabledBlocking"===n.initialNavigation?wu(2,[{provide:wI,useValue:0},{provide:nl,multi:!0,deps:[Je],useFactory:e=>{const t=e.get(jre,Promise.resolve());let r=!1;return()=>t.then(()=>new Promise(s=>{const o=e.get(Ht),a=e.get(bH);(function i(s){e.get(Ht).events.pipe(dn(a=>a instanceof ul||a instanceof E_||a instanceof NU),re(a=>a instanceof ul||a instanceof E_&&(0===a.code||1===a.code)&&null),dn(a=>null!==a),Dr(1)).subscribe(()=>{s()})})(()=>{s(!0),r=!0}),o.afterPreactivation=()=>(s(!0),r||a.closed?W(void 0):a),o.initialNavigation()}))}}]).\u0275providers:[]]}const IH=new N("");class TH{}class SH{}class oo{constructor(e){this.normalizedNames=new Map,this.lazyUpdate=null,e?this.lazyInit="string"==typeof e?()=>{this.headers=new Map,e.split("\n").forEach(t=>{const r=t.indexOf(":");if(r>0){const i=t.slice(0,r),s=i.toLowerCase(),o=t.slice(r+1).trim();this.maybeSetNormalizedName(i,s),this.headers.has(s)?this.headers.get(s).push(o):this.headers.set(s,[o])}})}:()=>{this.headers=new Map,Object.keys(e).forEach(t=>{let r=e[t];const i=t.toLowerCase();"string"==typeof r&&(r=[r]),r.length>0&&(this.headers.set(i,r),this.maybeSetNormalizedName(t,i))})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();const t=this.headers.get(e.toLowerCase());return t&&t.length>0?t[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,t){return this.clone({name:e,value:t,op:"a"})}set(e,t){return this.clone({name:e,value:t,op:"s"})}delete(e,t){return this.clone({name:e,value:t,op:"d"})}maybeSetNormalizedName(e,t){this.normalizedNames.has(t)||this.normalizedNames.set(t,e)}init(){this.lazyInit&&(this.lazyInit instanceof oo?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(t=>{this.headers.set(t,e.headers.get(t)),this.normalizedNames.set(t,e.normalizedNames.get(t))})}clone(e){const t=new oo;return t.lazyInit=this.lazyInit&&this.lazyInit instanceof oo?this.lazyInit:this,t.lazyUpdate=(this.lazyUpdate||[]).concat([e]),t}applyUpdate(e){const t=e.name.toLowerCase();switch(e.op){case"a":case"s":let r=e.value;if("string"==typeof r&&(r=[r]),0===r.length)return;this.maybeSetNormalizedName(e.name,t);const i=("a"===e.op?this.headers.get(t):void 0)||[];i.push(...r),this.headers.set(t,i);break;case"d":const s=e.value;if(s){let o=this.headers.get(t);if(!o)return;o=o.filter(a=>-1===s.indexOf(a)),0===o.length?(this.headers.delete(t),this.normalizedNames.delete(t)):this.headers.set(t,o)}else this.headers.delete(t),this.normalizedNames.delete(t)}}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(t=>e(this.normalizedNames.get(t),this.headers.get(t)))}}class Ale{encodeKey(e){return DH(e)}encodeValue(e){return DH(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}}const xle=/%(\d[a-f0-9])/gi,kle={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function DH(n){return encodeURIComponent(n).replace(xle,(e,t)=>kle[t]??e)}function B_(n){return`${n}`}class Jo{constructor(e={}){if(this.updates=null,this.cloneFrom=null,this.encoder=e.encoder||new Ale,e.fromString){if(e.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function Mle(n,e){const t=new Map;return n.length>0&&n.replace(/^\?/,"").split("&").forEach(i=>{const s=i.indexOf("="),[o,a]=-1==s?[e.decodeKey(i),""]:[e.decodeKey(i.slice(0,s)),e.decodeValue(i.slice(s+1))],l=t.get(o)||[];l.push(a),t.set(o,l)}),t}(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(t=>{const r=e.fromObject[t],i=Array.isArray(r)?r.map(B_):[B_(r)];this.map.set(t,i)})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();const t=this.map.get(e);return t?t[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,t){return this.clone({param:e,value:t,op:"a"})}appendAll(e){const t=[];return Object.keys(e).forEach(r=>{const i=e[r];Array.isArray(i)?i.forEach(s=>{t.push({param:r,value:s,op:"a"})}):t.push({param:r,value:i,op:"a"})}),this.clone(t)}set(e,t){return this.clone({param:e,value:t,op:"s"})}delete(e,t){return this.clone({param:e,value:t,op:"d"})}toString(){return this.init(),this.keys().map(e=>{const t=this.encoder.encodeKey(e);return this.map.get(e).map(r=>t+"="+this.encoder.encodeValue(r)).join("&")}).filter(e=>""!==e).join("&")}clone(e){const t=new Jo({encoder:this.encoder});return t.cloneFrom=this.cloneFrom||this,t.updates=(this.updates||[]).concat(e),t}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":const t=("a"===e.op?this.map.get(e.param):void 0)||[];t.push(B_(e.value)),this.map.set(e.param,t);break;case"d":if(void 0===e.value){this.map.delete(e.param);break}{let r=this.map.get(e.param)||[];const i=r.indexOf(B_(e.value));-1!==i&&r.splice(i,1),r.length>0?this.map.set(e.param,r):this.map.delete(e.param)}}}),this.cloneFrom=this.updates=null)}}class Rle{constructor(){this.map=new Map}set(e,t){return this.map.set(e,t),this}get(e){return this.map.has(e)||this.map.set(e,e.defaultValue()),this.map.get(e)}delete(e){return this.map.delete(e),this}has(e){return this.map.has(e)}keys(){return this.map.keys()}}function AH(n){return typeof ArrayBuffer<"u"&&n instanceof ArrayBuffer}function MH(n){return typeof Blob<"u"&&n instanceof Blob}function xH(n){return typeof FormData<"u"&&n instanceof FormData}class Zh{constructor(e,t,r,i){let s;if(this.url=t,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=e.toUpperCase(),function Ple(n){switch(n){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||i?(this.body=void 0!==r?r:null,s=i):s=r,s&&(this.reportProgress=!!s.reportProgress,this.withCredentials=!!s.withCredentials,s.responseType&&(this.responseType=s.responseType),s.headers&&(this.headers=s.headers),s.context&&(this.context=s.context),s.params&&(this.params=s.params)),this.headers||(this.headers=new oo),this.context||(this.context=new Rle),this.params){const o=this.params.toString();if(0===o.length)this.urlWithParams=t;else{const a=t.indexOf("?");this.urlWithParams=t+(-1===a?"?":a<t.length-1?"&":"")+o}}else this.params=new Jo,this.urlWithParams=t}serializeBody(){return null===this.body?null:AH(this.body)||MH(this.body)||xH(this.body)||function Ole(n){return typeof URLSearchParams<"u"&&n instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof Jo?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||xH(this.body)?null:MH(this.body)?this.body.type||null:AH(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof Jo?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(e={}){const t=e.method||this.method,r=e.url||this.url,i=e.responseType||this.responseType,s=void 0!==e.body?e.body:this.body,o=void 0!==e.withCredentials?e.withCredentials:this.withCredentials,a=void 0!==e.reportProgress?e.reportProgress:this.reportProgress;let l=e.headers||this.headers,c=e.params||this.params;const u=e.context??this.context;return void 0!==e.setHeaders&&(l=Object.keys(e.setHeaders).reduce((d,h)=>d.set(h,e.setHeaders[h]),l)),e.setParams&&(c=Object.keys(e.setParams).reduce((d,h)=>d.set(h,e.setParams[h]),c)),new Zh(t,r,s,{params:c,headers:l,context:u,reportProgress:a,responseType:i,withCredentials:o})}}var tn=(()=>((tn=tn||{})[tn.Sent=0]="Sent",tn[tn.UploadProgress=1]="UploadProgress",tn[tn.ResponseHeader=2]="ResponseHeader",tn[tn.DownloadProgress=3]="DownloadProgress",tn[tn.Response=4]="Response",tn[tn.User=5]="User",tn))();class CI{constructor(e,t=200,r="OK"){this.headers=e.headers||new oo,this.status=void 0!==e.status?e.status:t,this.statusText=e.statusText||r,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}}class EI extends CI{constructor(e={}){super(e),this.type=tn.ResponseHeader}clone(e={}){return new EI({headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}class U_ extends CI{constructor(e={}){super(e),this.type=tn.Response,this.body=void 0!==e.body?e.body:null}clone(e={}){return new U_({body:void 0!==e.body?e.body:this.body,headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}class kH extends CI{constructor(e){super(e,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${e.url||"(unknown url)"}`:`Http failure response for ${e.url||"(unknown url)"}: ${e.status} ${e.statusText}`,this.error=e.error||null}}function II(n,e){return{body:e,headers:n.headers,context:n.context,observe:n.observe,params:n.params,reportProgress:n.reportProgress,responseType:n.responseType,withCredentials:n.withCredentials}}let H_=(()=>{class n{constructor(t){this.handler=t}request(t,r,i={}){let s;if(t instanceof Zh)s=t;else{let l,c;l=i.headers instanceof oo?i.headers:new oo(i.headers),i.params&&(c=i.params instanceof Jo?i.params:new Jo({fromObject:i.params})),s=new Zh(t,r,void 0!==i.body?i.body:null,{headers:l,context:i.context,params:c,reportProgress:i.reportProgress,responseType:i.responseType||"json",withCredentials:i.withCredentials})}const o=W(s).pipe(us(l=>this.handler.handle(l)));if(t instanceof Zh||"events"===i.observe)return o;const a=o.pipe(dn(l=>l instanceof U_));switch(i.observe||"body"){case"body":switch(s.responseType){case"arraybuffer":return a.pipe(re(l=>{if(null!==l.body&&!(l.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return l.body}));case"blob":return a.pipe(re(l=>{if(null!==l.body&&!(l.body instanceof Blob))throw new Error("Response is not a Blob.");return l.body}));case"text":return a.pipe(re(l=>{if(null!==l.body&&"string"!=typeof l.body)throw new Error("Response is not a string.");return l.body}));default:return a.pipe(re(l=>l.body))}case"response":return a;default:throw new Error(`Unreachable: unhandled observe type ${i.observe}}`)}}delete(t,r={}){return this.request("DELETE",t,r)}get(t,r={}){return this.request("GET",t,r)}head(t,r={}){return this.request("HEAD",t,r)}jsonp(t,r){return this.request("JSONP",t,{params:(new Jo).append(r,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(t,r={}){return this.request("OPTIONS",t,r)}patch(t,r,i={}){return this.request("PATCH",t,II(i,r))}post(t,r,i={}){return this.request("POST",t,II(i,r))}put(t,r,i={}){return this.request("PUT",t,II(i,r))}}return n.\u0275fac=function(t){return new(t||n)(w(TH))},n.\u0275prov=V({token:n,factory:n.\u0275fac}),n})();class RH{constructor(e,t){this.next=e,this.interceptor=t}handle(e){return this.interceptor.intercept(e,this.next)}}const PH=new N("HTTP_INTERCEPTORS");let Nle=(()=>{class n{intercept(t,r){return r.handle(t)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=V({token:n,factory:n.\u0275fac}),n})();const Fle=/^\)\]\}',?\n/;let OH=(()=>{class n{constructor(t){this.xhrFactory=t}handle(t){if("JSONP"===t.method)throw new Error("Attempted to construct Jsonp request without HttpClientJsonpModule installed.");return new ze(r=>{const i=this.xhrFactory.build();if(i.open(t.method,t.urlWithParams),t.withCredentials&&(i.withCredentials=!0),t.headers.forEach((f,p)=>i.setRequestHeader(f,p.join(","))),t.headers.has("Accept")||i.setRequestHeader("Accept","application/json, text/plain, */*"),!t.headers.has("Content-Type")){const f=t.detectContentTypeHeader();null!==f&&i.setRequestHeader("Content-Type",f)}if(t.responseType){const f=t.responseType.toLowerCase();i.responseType="json"!==f?f:"text"}const s=t.serializeBody();let o=null;const a=()=>{if(null!==o)return o;const f=i.statusText||"OK",p=new oo(i.getAllResponseHeaders()),m=function Lle(n){return"responseURL"in n&&n.responseURL?n.responseURL:/^X-Request-URL:/m.test(n.getAllResponseHeaders())?n.getResponseHeader("X-Request-URL"):null}(i)||t.url;return o=new EI({headers:p,status:i.status,statusText:f,url:m}),o},l=()=>{let{headers:f,status:p,statusText:m,url:g}=a(),b=null;204!==p&&(b=typeof i.response>"u"?i.responseText:i.response),0===p&&(p=b?200:0);let E=p>=200&&p<300;if("json"===t.responseType&&"string"==typeof b){const v=b;b=b.replace(Fle,"");try{b=""!==b?JSON.parse(b):null}catch(M){b=v,E&&(E=!1,b={error:M,text:b})}}E?(r.next(new U_({body:b,headers:f,status:p,statusText:m,url:g||void 0})),r.complete()):r.error(new kH({error:b,headers:f,status:p,statusText:m,url:g||void 0}))},c=f=>{const{url:p}=a(),m=new kH({error:f,status:i.status||0,statusText:i.statusText||"Unknown Error",url:p||void 0});r.error(m)};let u=!1;const d=f=>{u||(r.next(a()),u=!0);let p={type:tn.DownloadProgress,loaded:f.loaded};f.lengthComputable&&(p.total=f.total),"text"===t.responseType&&!!i.responseText&&(p.partialText=i.responseText),r.next(p)},h=f=>{let p={type:tn.UploadProgress,loaded:f.loaded};f.lengthComputable&&(p.total=f.total),r.next(p)};return i.addEventListener("load",l),i.addEventListener("error",c),i.addEventListener("timeout",c),i.addEventListener("abort",c),t.reportProgress&&(i.addEventListener("progress",d),null!==s&&i.upload&&i.upload.addEventListener("progress",h)),i.send(s),r.next({type:tn.Sent}),()=>{i.removeEventListener("error",c),i.removeEventListener("abort",c),i.removeEventListener("load",l),i.removeEventListener("timeout",c),t.reportProgress&&(i.removeEventListener("progress",d),null!==s&&i.upload&&i.upload.removeEventListener("progress",h)),i.readyState!==i.DONE&&i.abort()}})}}return n.\u0275fac=function(t){return new(t||n)(w(BB))},n.\u0275prov=V({token:n,factory:n.\u0275fac}),n})();const TI=new N("XSRF_COOKIE_NAME"),SI=new N("XSRF_HEADER_NAME");class NH{}let Vle=(()=>{class n{constructor(t,r,i){this.doc=t,this.platform=r,this.cookieName=i,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const t=this.doc.cookie||"";return t!==this.lastCookieString&&(this.parseCount++,this.lastToken=MB(t,this.cookieName),this.lastCookieString=t),this.lastToken}}return n.\u0275fac=function(t){return new(t||n)(w(Se),w(Xs),w(TI))},n.\u0275prov=V({token:n,factory:n.\u0275fac}),n})(),DI=(()=>{class n{constructor(t,r){this.tokenService=t,this.headerName=r}intercept(t,r){const i=t.url.toLowerCase();if("GET"===t.method||"HEAD"===t.method||i.startsWith("http://")||i.startsWith("https://"))return r.handle(t);const s=this.tokenService.getToken();return null!==s&&!t.headers.has(this.headerName)&&(t=t.clone({headers:t.headers.set(this.headerName,s)})),r.handle(t)}}return n.\u0275fac=function(t){return new(t||n)(w(NH),w(SI))},n.\u0275prov=V({token:n,factory:n.\u0275fac}),n})(),Ble=(()=>{class n{constructor(t,r){this.backend=t,this.injector=r,this.chain=null}handle(t){if(null===this.chain){const r=this.injector.get(PH,[]);this.chain=r.reduceRight((i,s)=>new RH(i,s),this.backend)}return this.chain.handle(t)}}return n.\u0275fac=function(t){return new(t||n)(w(SH),w(Je))},n.\u0275prov=V({token:n,factory:n.\u0275fac}),n})(),Ule=(()=>{class n{static disable(){return{ngModule:n,providers:[{provide:DI,useClass:Nle}]}}static withOptions(t={}){return{ngModule:n,providers:[t.cookieName?{provide:TI,useValue:t.cookieName}:[],t.headerName?{provide:SI,useValue:t.headerName}:[]]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=te({type:n}),n.\u0275inj=ee({providers:[DI,{provide:PH,useExisting:DI,multi:!0},{provide:NH,useClass:Vle},{provide:TI,useValue:"XSRF-TOKEN"},{provide:SI,useValue:"X-XSRF-TOKEN"}]}),n})(),Hle=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=te({type:n}),n.\u0275inj=ee({providers:[H_,{provide:TH,useClass:Ble},OH,{provide:SH,useExisting:OH}],imports:[Ule.withOptions({cookieName:"XSRF-TOKEN",headerName:"X-XSRF-TOKEN"})]}),n})(),$_=(()=>{class n{constructor(t){this.http=t,this.drugs=[],this.forCart=[],this.randomDrugs=[],this.http.get("assets/drugs.json").subscribe(r=>{this.drugs=r,this.drugCounter=this.drugs.length,console.log(this.drugCounter)})}getDrugs(){return this.http.get("assets/drugs.json")}ngOnInit(){}FavoriteDrugs(){let t=Math.floor(26*Math.random()),r=t+5;for(let i=t;i<r;i++)this.randomDrugs.push(this.drugs[i]);return this.randomDrugs}getSum(){let t=0;for(let r=0;r<this.forCart.length;r++)t+=this.forCart[r].count;return t}getResult(){let r=0;for(let i of this.forCart)r+=i.count*i.drug.price;return r}addDrug(t){for(let r of this.forCart)if(r.drug.id===t.id)return void localStorage.setItem(`${t.id}`,`${t.name}`);this.forCart.push({id:t.id,drug:t,count:1})}plusCount(t){t.count+=1}minusCount(t){t.count>0&&(t.count-=1),0===t.count&&this.forCart.splice(this.forCart.indexOf(t),1)}deleteDrugFromCart(t){this.forCart.splice(this.forCart.indexOf(t),1)}}return n.\u0275fac=function(t){return new(t||n)(w(H_))},n.\u0275prov=V({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function VH(n,...e){return e.length?e.some(t=>n[t]):n.altKey||n.shiftKey||n.ctrlKey||n.metaKey}class rce extends Ft{constructor(e,t){super()}schedule(e,t=0){return this}}const j_={setInterval(n,e,...t){const{delegate:r}=j_;return r?.setInterval?r.setInterval(n,e,...t):setInterval(n,e,...t)},clearInterval(n){const{delegate:e}=j_;return(e?.clearInterval||clearInterval)(n)},delegate:void 0};class z_ extends rce{constructor(e,t){super(e,t),this.scheduler=e,this.work=t,this.pending=!1}schedule(e,t=0){var r;if(this.closed)return this;this.state=e;const i=this.id,s=this.scheduler;return null!=i&&(this.id=this.recycleAsyncId(s,i,t)),this.pending=!0,this.delay=t,this.id=null!==(r=this.id)&&void 0!==r?r:this.requestAsyncId(s,this.id,t),this}requestAsyncId(e,t,r=0){return j_.setInterval(e.flush.bind(e,this),r)}recycleAsyncId(e,t,r=0){if(null!=r&&this.delay===r&&!1===this.pending)return t;null!=t&&j_.clearInterval(t)}execute(e,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const r=this._execute(e,t);if(r)return r;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,t){let i,r=!1;try{this.work(e)}catch(s){r=!0,i=s||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){const{id:e,scheduler:t}=this,{actions:r}=t;this.work=this.state=this.scheduler=null,this.pending=!1,Ec(r,this),null!=e&&(this.id=this.recycleAsyncId(t,e,null)),this.delay=null,super.unsubscribe()}}}const BH={now:()=>(BH.delegate||Date).now(),delegate:void 0};class Jh{constructor(e,t=Jh.now){this.schedulerActionCtor=e,this.now=t}schedule(e,t=0,r){return new this.schedulerActionCtor(this,e).schedule(r,t)}}Jh.now=BH.now;class G_ extends Jh{constructor(e,t=Jh.now){super(e,t),this.actions=[],this._active=!1}flush(e){const{actions:t}=this;if(this._active)return void t.push(e);let r;this._active=!0;do{if(r=e.execute(e.state,e.delay))break}while(e=t.shift());if(this._active=!1,r){for(;e=t.shift();)e.unsubscribe();throw r}}}const ef=new G_(z_),ice=ef;function UH(n,e=ef){return yt((t,r)=>{let i=null,s=null,o=null;const a=()=>{if(i){i.unsubscribe(),i=null;const c=s;s=null,r.next(c)}};function l(){const c=o+n,u=e.now();if(u<c)return i=this.schedule(void 0,c-u),void r.add(i);a()}t.subscribe(nt(r,c=>{s=c,o=e.now(),i||(i=e.schedule(l,n),r.add(i))},()=>{a(),r.complete()},void 0,()=>{s=i=null}))})}function HH(n,e=Fo){return n=n??oce,yt((t,r)=>{let i,s=!0;t.subscribe(nt(r,o=>{const a=e(o);(s||!n(i,a))&&(s=!1,i=a,r.next(o))}))})}function oce(n,e){return n===e}function hl(n){return yt((e,t)=>{kn(n).subscribe(nt(t,()=>t.complete(),Pm)),!t.closed&&e.subscribe(t)})}function pr(n){return null!=n&&"false"!=`${n}`}function jH(n){return Array.isArray(n)?n:[n]}function nn(n){return null==n?"":"string"==typeof n?n:`${n}px`}function ao(n){return n instanceof Ze?n.nativeElement:n}let xI;try{xI=typeof Intl<"u"&&Intl.v8BreakIterator}catch{xI=!1}let Cu,Yr=(()=>{class n{constructor(t){this._platformId=t,this.isBrowser=this._platformId?NE(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!xI)&&typeof CSS<"u"&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}}return n.\u0275fac=function(t){return new(t||n)(w(Xs))},n.\u0275prov=V({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),W_=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=te({type:n}),n.\u0275inj=ee({}),n})();const zH=["color","button","checkbox","date","datetime-local","email","file","hidden","image","month","number","password","radio","range","reset","search","submit","tel","text","time","url","week"];function GH(){if(Cu)return Cu;if("object"!=typeof document||!document)return Cu=new Set(zH),Cu;let n=document.createElement("input");return Cu=new Set(zH.filter(e=>(n.setAttribute("type",e),n.type===e))),Cu}let tf,fl,kI,Hi;function nf(n){return function lce(){if(null==tf&&typeof window<"u")try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>tf=!0}))}finally{tf=tf||!1}return tf}()?n:!!n.capture}function cce(){if(null==fl){if("object"!=typeof document||!document||"function"!=typeof Element||!Element)return fl=!1,fl;if("scrollBehavior"in document.documentElement.style)fl=!0;else{const n=Element.prototype.scrollTo;fl=!!n&&!/\{\s*\[native code\]\s*\}/.test(n.toString())}}return fl}function pl(n){return n.composedPath?n.composedPath()[0]:n.target}function RI(){return typeof Hi.__karma__<"u"&&!!Hi.__karma__||typeof Hi.jasmine<"u"&&!!Hi.jasmine||typeof Hi.jest<"u"&&!!Hi.jest||typeof Hi.Mocha<"u"&&!!Hi.Mocha}Hi=typeof global<"u"?global:typeof window<"u"?window:{};let WH=(()=>{class n{create(t){return typeof MutationObserver>"u"?null:new MutationObserver(t)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=V({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),hce=(()=>{class n{constructor(t){this._mutationObserverFactory=t,this._observedElements=new Map}ngOnDestroy(){this._observedElements.forEach((t,r)=>this._cleanupObserver(r))}observe(t){const r=ao(t);return new ze(i=>{const o=this._observeElement(r).subscribe(i);return()=>{o.unsubscribe(),this._unobserveElement(r)}})}_observeElement(t){if(this._observedElements.has(t))this._observedElements.get(t).count++;else{const r=new Le,i=this._mutationObserverFactory.create(s=>r.next(s));i&&i.observe(t,{characterData:!0,childList:!0,subtree:!0}),this._observedElements.set(t,{observer:i,stream:r,count:1})}return this._observedElements.get(t).stream}_unobserveElement(t){this._observedElements.has(t)&&(this._observedElements.get(t).count--,this._observedElements.get(t).count||this._cleanupObserver(t))}_cleanupObserver(t){if(this._observedElements.has(t)){const{observer:r,stream:i}=this._observedElements.get(t);r&&r.disconnect(),i.complete(),this._observedElements.delete(t)}}}return n.\u0275fac=function(t){return new(t||n)(w(WH))},n.\u0275prov=V({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),qH=(()=>{class n{constructor(t,r,i){this._contentObserver=t,this._elementRef=r,this._ngZone=i,this.event=new Pe,this._disabled=!1,this._currentSubscription=null}get disabled(){return this._disabled}set disabled(t){this._disabled=pr(t),this._disabled?this._unsubscribe():this._subscribe()}get debounce(){return this._debounce}set debounce(t){this._debounce=function $H(n,e=0){return function ace(n){return!isNaN(parseFloat(n))&&!isNaN(Number(n))}(n)?Number(n):e}(t),this._subscribe()}ngAfterContentInit(){!this._currentSubscription&&!this.disabled&&this._subscribe()}ngOnDestroy(){this._unsubscribe()}_subscribe(){this._unsubscribe();const t=this._contentObserver.observe(this._elementRef);this._ngZone.runOutsideAngular(()=>{this._currentSubscription=(this.debounce?t.pipe(UH(this.debounce)):t).subscribe(this.event)})}_unsubscribe(){this._currentSubscription?.unsubscribe()}}return n.\u0275fac=function(t){return new(t||n)(y(hce),y(Ze),y(se))},n.\u0275dir=q({type:n,selectors:[["","cdkObserveContent",""]],inputs:{disabled:["cdkObserveContentDisabled","disabled"],debounce:"debounce"},outputs:{event:"cdkObserveContent"},exportAs:["cdkObserveContent"]}),n})(),PI=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=te({type:n}),n.\u0275inj=ee({providers:[WH]}),n})();function K_(n,e){return(n.getAttribute(e)||"").match(/\S+/g)||[]}const YH="cdk-describedby-message-container",QH="cdk-describedby-message",Y_="cdk-describedby-host";let mce=0;const hs=new Map;let Qr=null,gce=(()=>{class n{constructor(t){this._document=t}describe(t,r,i){if(!this._canBeDescribed(t,r))return;const s=OI(r,i);"string"!=typeof r?(XH(r),hs.set(s,{messageElement:r,referenceCount:0})):hs.has(s)||this._createMessageElement(r,i),this._isElementDescribedByMessage(t,s)||this._addMessageReference(t,s)}removeDescription(t,r,i){if(!r||!this._isElementNode(t))return;const s=OI(r,i);if(this._isElementDescribedByMessage(t,s)&&this._removeMessageReference(t,s),"string"==typeof r){const o=hs.get(s);o&&0===o.referenceCount&&this._deleteMessageElement(s)}Qr&&0===Qr.childNodes.length&&this._deleteMessagesContainer()}ngOnDestroy(){const t=this._document.querySelectorAll(`[${Y_}]`);for(let r=0;r<t.length;r++)this._removeCdkDescribedByReferenceIds(t[r]),t[r].removeAttribute(Y_);Qr&&this._deleteMessagesContainer(),hs.clear()}_createMessageElement(t,r){const i=this._document.createElement("div");XH(i),i.textContent=t,r&&i.setAttribute("role",r),this._createMessagesContainer(),Qr.appendChild(i),hs.set(OI(t,r),{messageElement:i,referenceCount:0})}_deleteMessageElement(t){hs.get(t)?.messageElement?.remove(),hs.delete(t)}_createMessagesContainer(){Qr||(this._document.getElementById(YH)?.remove(),Qr=this._document.createElement("div"),Qr.id=YH,Qr.style.visibility="hidden",Qr.classList.add("cdk-visually-hidden"),this._document.body.appendChild(Qr))}_deleteMessagesContainer(){Qr&&(Qr.remove(),Qr=null)}_removeCdkDescribedByReferenceIds(t){const r=K_(t,"aria-describedby").filter(i=>0!=i.indexOf(QH));t.setAttribute("aria-describedby",r.join(" "))}_addMessageReference(t,r){const i=hs.get(r);(function fce(n,e,t){const r=K_(n,e);r.some(i=>i.trim()==t.trim())||(r.push(t.trim()),n.setAttribute(e,r.join(" ")))})(t,"aria-describedby",i.messageElement.id),t.setAttribute(Y_,""),i.referenceCount++}_removeMessageReference(t,r){const i=hs.get(r);i.referenceCount--,function pce(n,e,t){const i=K_(n,e).filter(s=>s!=t.trim());i.length?n.setAttribute(e,i.join(" ")):n.removeAttribute(e)}(t,"aria-describedby",i.messageElement.id),t.removeAttribute(Y_)}_isElementDescribedByMessage(t,r){const i=K_(t,"aria-describedby"),s=hs.get(r),o=s&&s.messageElement.id;return!!o&&-1!=i.indexOf(o)}_canBeDescribed(t,r){if(!this._isElementNode(t))return!1;if(r&&"object"==typeof r)return!0;const i=null==r?"":`${r}`.trim(),s=t.getAttribute("aria-label");return!(!i||s&&s.trim()===i)}_isElementNode(t){return t.nodeType===this._document.ELEMENT_NODE}}return n.\u0275fac=function(t){return new(t||n)(w(Se))},n.\u0275prov=V({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function OI(n,e){return"string"==typeof n?`${e||""}/${n}`:n}function XH(n){n.id||(n.id=`${QH}-${mce++}`)}class yce extends class _ce{constructor(e){this._items=e,this._activeItemIndex=-1,this._activeItem=null,this._wrap=!1,this._letterKeyStream=new Le,this._typeaheadSubscription=Ft.EMPTY,this._vertical=!0,this._allowedModifierKeys=[],this._homeAndEnd=!1,this._skipPredicateFn=t=>t.disabled,this._pressedLetters=[],this.tabOut=new Le,this.change=new Le,e instanceof cu&&e.changes.subscribe(t=>{if(this._activeItem){const i=t.toArray().indexOf(this._activeItem);i>-1&&i!==this._activeItemIndex&&(this._activeItemIndex=i)}})}skipPredicate(e){return this._skipPredicateFn=e,this}withWrap(e=!0){return this._wrap=e,this}withVerticalOrientation(e=!0){return this._vertical=e,this}withHorizontalOrientation(e){return this._horizontal=e,this}withAllowedModifierKeys(e){return this._allowedModifierKeys=e,this}withTypeAhead(e=200){return this._typeaheadSubscription.unsubscribe(),this._typeaheadSubscription=this._letterKeyStream.pipe(Ut(t=>this._pressedLetters.push(t)),UH(e),dn(()=>this._pressedLetters.length>0),re(()=>this._pressedLetters.join(""))).subscribe(t=>{const r=this._getItemsArray();for(let i=1;i<r.length+1;i++){const s=(this._activeItemIndex+i)%r.length,o=r[s];if(!this._skipPredicateFn(o)&&0===o.getLabel().toUpperCase().trim().indexOf(t)){this.setActiveItem(s);break}}this._pressedLetters=[]}),this}withHomeAndEnd(e=!0){return this._homeAndEnd=e,this}setActiveItem(e){const t=this._activeItem;this.updateActiveItem(e),this._activeItem!==t&&this.change.next(this._activeItemIndex)}onKeydown(e){const t=e.keyCode,i=["altKey","ctrlKey","metaKey","shiftKey"].every(s=>!e[s]||this._allowedModifierKeys.indexOf(s)>-1);switch(t){case 9:return void this.tabOut.next();case 40:if(this._vertical&&i){this.setNextItemActive();break}return;case 38:if(this._vertical&&i){this.setPreviousItemActive();break}return;case 39:if(this._horizontal&&i){"rtl"===this._horizontal?this.setPreviousItemActive():this.setNextItemActive();break}return;case 37:if(this._horizontal&&i){"rtl"===this._horizontal?this.setNextItemActive():this.setPreviousItemActive();break}return;case 36:if(this._homeAndEnd&&i){this.setFirstItemActive();break}return;case 35:if(this._homeAndEnd&&i){this.setLastItemActive();break}return;default:return void((i||VH(e,"shiftKey"))&&(e.key&&1===e.key.length?this._letterKeyStream.next(e.key.toLocaleUpperCase()):(t>=65&&t<=90||t>=48&&t<=57)&&this._letterKeyStream.next(String.fromCharCode(t))))}this._pressedLetters=[],e.preventDefault()}get activeItemIndex(){return this._activeItemIndex}get activeItem(){return this._activeItem}isTyping(){return this._pressedLetters.length>0}setFirstItemActive(){this._setActiveItemByIndex(0,1)}setLastItemActive(){this._setActiveItemByIndex(this._items.length-1,-1)}setNextItemActive(){this._activeItemIndex<0?this.setFirstItemActive():this._setActiveItemByDelta(1)}setPreviousItemActive(){this._activeItemIndex<0&&this._wrap?this.setLastItemActive():this._setActiveItemByDelta(-1)}updateActiveItem(e){const t=this._getItemsArray(),r="number"==typeof e?e:t.indexOf(e);this._activeItem=t[r]??null,this._activeItemIndex=r}_setActiveItemByDelta(e){this._wrap?this._setActiveInWrapMode(e):this._setActiveInDefaultMode(e)}_setActiveInWrapMode(e){const t=this._getItemsArray();for(let r=1;r<=t.length;r++){const i=(this._activeItemIndex+e*r+t.length)%t.length;if(!this._skipPredicateFn(t[i]))return void this.setActiveItem(i)}}_setActiveInDefaultMode(e){this._setActiveItemByIndex(this._activeItemIndex+e,e)}_setActiveItemByIndex(e,t){const r=this._getItemsArray();if(r[e]){for(;this._skipPredicateFn(r[e]);)if(!r[e+=t])return;this.setActiveItem(e)}}_getItemsArray(){return this._items instanceof cu?this._items.toArray():this._items}}{constructor(){super(...arguments),this._origin="program"}setFocusOrigin(e){return this._origin=e,this}setActiveItem(e){super.setActiveItem(e),this.activeItem&&this.activeItem.focus(this._origin)}}function NI(n){return 0===n.offsetX&&0===n.offsetY}function FI(n){const e=n.touches&&n.touches[0]||n.changedTouches&&n.changedTouches[0];return!(!e||-1!==e.identifier||null!=e.radiusX&&1!==e.radiusX||null!=e.radiusY&&1!==e.radiusY)}const Ice=new N("cdk-input-modality-detector-options"),Tce={ignoreKeys:[18,17,224,91,16]},Eu=nf({passive:!0,capture:!0});let Sce=(()=>{class n{constructor(t,r,i,s){this._platform=t,this._mostRecentTarget=null,this._modality=new yi(null),this._lastTouchMs=0,this._onKeydown=o=>{this._options?.ignoreKeys?.some(a=>a===o.keyCode)||(this._modality.next("keyboard"),this._mostRecentTarget=pl(o))},this._onMousedown=o=>{Date.now()-this._lastTouchMs<650||(this._modality.next(NI(o)?"keyboard":"mouse"),this._mostRecentTarget=pl(o))},this._onTouchstart=o=>{FI(o)?this._modality.next("keyboard"):(this._lastTouchMs=Date.now(),this._modality.next("touch"),this._mostRecentTarget=pl(o))},this._options={...Tce,...s},this.modalityDetected=this._modality.pipe(function sce(n){return dn((e,t)=>n<=t)}(1)),this.modalityChanged=this.modalityDetected.pipe(HH()),t.isBrowser&&r.runOutsideAngular(()=>{i.addEventListener("keydown",this._onKeydown,Eu),i.addEventListener("mousedown",this._onMousedown,Eu),i.addEventListener("touchstart",this._onTouchstart,Eu)})}get mostRecentModality(){return this._modality.value}ngOnDestroy(){this._modality.complete(),this._platform.isBrowser&&(document.removeEventListener("keydown",this._onKeydown,Eu),document.removeEventListener("mousedown",this._onMousedown,Eu),document.removeEventListener("touchstart",this._onTouchstart,Eu))}}return n.\u0275fac=function(t){return new(t||n)(w(Yr),w(se),w(Se),w(Ice,8))},n.\u0275prov=V({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const Ace=new N("cdk-focus-monitor-default-options"),Q_=nf({passive:!0,capture:!0});let X_=(()=>{class n{constructor(t,r,i,s,o){this._ngZone=t,this._platform=r,this._inputModalityDetector=i,this._origin=null,this._windowFocused=!1,this._originFromTouchInteraction=!1,this._elementInfo=new Map,this._monitoredElementCount=0,this._rootNodeFocusListenerCount=new Map,this._windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=setTimeout(()=>this._windowFocused=!1)},this._stopInputModalityDetector=new Le,this._rootNodeFocusAndBlurListener=a=>{const l=pl(a),c="focus"===a.type?this._onFocus:this._onBlur;for(let u=l;u;u=u.parentElement)c.call(this,a,u)},this._document=s,this._detectionMode=o?.detectionMode||0}monitor(t,r=!1){const i=ao(t);if(!this._platform.isBrowser||1!==i.nodeType)return W(null);const s=function dce(n){if(function uce(){if(null==kI){const n=typeof document<"u"?document.head:null;kI=!(!n||!n.createShadowRoot&&!n.attachShadow)}return kI}()){const e=n.getRootNode?n.getRootNode():null;if(typeof ShadowRoot<"u"&&ShadowRoot&&e instanceof ShadowRoot)return e}return null}(i)||this._getDocument(),o=this._elementInfo.get(i);if(o)return r&&(o.checkChildren=!0),o.subject;const a={checkChildren:r,subject:new Le,rootNode:s};return this._elementInfo.set(i,a),this._registerGlobalListeners(a),a.subject}stopMonitoring(t){const r=ao(t),i=this._elementInfo.get(r);i&&(i.subject.complete(),this._setClasses(r),this._elementInfo.delete(r),this._removeGlobalListeners(i))}focusVia(t,r,i){const s=ao(t);s===this._getDocument().activeElement?this._getClosestElementsInfo(s).forEach(([a,l])=>this._originChanged(a,r,l)):(this._setOrigin(r),"function"==typeof s.focus&&s.focus(i))}ngOnDestroy(){this._elementInfo.forEach((t,r)=>this.stopMonitoring(r))}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_getFocusOrigin(t){return this._origin?this._originFromTouchInteraction?this._shouldBeAttributedToTouch(t)?"touch":"program":this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:"program"}_shouldBeAttributedToTouch(t){return 1===this._detectionMode||!!t?.contains(this._inputModalityDetector._mostRecentTarget)}_setClasses(t,r){t.classList.toggle("cdk-focused",!!r),t.classList.toggle("cdk-touch-focused","touch"===r),t.classList.toggle("cdk-keyboard-focused","keyboard"===r),t.classList.toggle("cdk-mouse-focused","mouse"===r),t.classList.toggle("cdk-program-focused","program"===r)}_setOrigin(t,r=!1){this._ngZone.runOutsideAngular(()=>{this._origin=t,this._originFromTouchInteraction="touch"===t&&r,0===this._detectionMode&&(clearTimeout(this._originTimeoutId),this._originTimeoutId=setTimeout(()=>this._origin=null,this._originFromTouchInteraction?650:1))})}_onFocus(t,r){const i=this._elementInfo.get(r),s=pl(t);!i||!i.checkChildren&&r!==s||this._originChanged(r,this._getFocusOrigin(s),i)}_onBlur(t,r){const i=this._elementInfo.get(r);!i||i.checkChildren&&t.relatedTarget instanceof Node&&r.contains(t.relatedTarget)||(this._setClasses(r),this._emitOrigin(i.subject,null))}_emitOrigin(t,r){this._ngZone.run(()=>t.next(r))}_registerGlobalListeners(t){if(!this._platform.isBrowser)return;const r=t.rootNode,i=this._rootNodeFocusListenerCount.get(r)||0;i||this._ngZone.runOutsideAngular(()=>{r.addEventListener("focus",this._rootNodeFocusAndBlurListener,Q_),r.addEventListener("blur",this._rootNodeFocusAndBlurListener,Q_)}),this._rootNodeFocusListenerCount.set(r,i+1),1==++this._monitoredElementCount&&(this._ngZone.runOutsideAngular(()=>{this._getWindow().addEventListener("focus",this._windowFocusListener)}),this._inputModalityDetector.modalityDetected.pipe(hl(this._stopInputModalityDetector)).subscribe(s=>{this._setOrigin(s,!0)}))}_removeGlobalListeners(t){const r=t.rootNode;if(this._rootNodeFocusListenerCount.has(r)){const i=this._rootNodeFocusListenerCount.get(r);i>1?this._rootNodeFocusListenerCount.set(r,i-1):(r.removeEventListener("focus",this._rootNodeFocusAndBlurListener,Q_),r.removeEventListener("blur",this._rootNodeFocusAndBlurListener,Q_),this._rootNodeFocusListenerCount.delete(r))}--this._monitoredElementCount||(this._getWindow().removeEventListener("focus",this._windowFocusListener),this._stopInputModalityDetector.next(),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._originTimeoutId))}_originChanged(t,r,i){this._setClasses(t,r),this._emitOrigin(i.subject,r),this._lastFocusOrigin=r}_getClosestElementsInfo(t){const r=[];return this._elementInfo.forEach((i,s)=>{(s===t||i.checkChildren&&s.contains(t))&&r.push([s,i])}),r}}return n.\u0275fac=function(t){return new(t||n)(w(se),w(Yr),w(Sce),w(Se,8),w(Ace,8))},n.\u0275prov=V({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const e$="cdk-high-contrast-black-on-white",t$="cdk-high-contrast-white-on-black",LI="cdk-high-contrast-active";let n$=(()=>{class n{constructor(t,r){this._platform=t,this._document=r}getHighContrastMode(){if(!this._platform.isBrowser)return 0;const t=this._document.createElement("div");t.style.backgroundColor="rgb(1,2,3)",t.style.position="absolute",this._document.body.appendChild(t);const r=this._document.defaultView||window,i=r&&r.getComputedStyle?r.getComputedStyle(t):null,s=(i&&i.backgroundColor||"").replace(/ /g,"");switch(t.remove(),s){case"rgb(0,0,0)":return 2;case"rgb(255,255,255)":return 1}return 0}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){const t=this._document.body.classList;t.remove(LI),t.remove(e$),t.remove(t$),this._hasCheckedHighContrastMode=!0;const r=this.getHighContrastMode();1===r?(t.add(LI),t.add(e$)):2===r&&(t.add(LI),t.add(t$))}}}return n.\u0275fac=function(t){return new(t||n)(w(Yr),w(Se))},n.\u0275prov=V({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Mce=(()=>{class n{constructor(t){t._applyBodyHighContrastModeCssClasses()}}return n.\u0275fac=function(t){return new(t||n)(w(n$))},n.\u0275mod=te({type:n}),n.\u0275inj=ee({imports:[[W_,PI]]}),n})();const xce=new N("cdk-dir-doc",{providedIn:"root",factory:function kce(){return Et(Se)}});let VI=(()=>{class n{constructor(t){if(this.value="ltr",this.change=new Pe,t){const i=t.documentElement?t.documentElement.dir:null,s=(t.body?t.body.dir:null)||i;this.value="ltr"===s||"rtl"===s?s:"ltr"}}ngOnDestroy(){this.change.complete()}}return n.\u0275fac=function(t){return new(t||n)(w(xce,8))},n.\u0275prov=V({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),rf=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=te({type:n}),n.\u0275inj=ee({}),n})();const r$=new js("13.0.0"),i$=new js("13.0.0"),Pce=new N("mat-sanity-checks",{providedIn:"root",factory:function Rce(){return!0}});let at=(()=>{class n{constructor(t,r,i){this._hasDoneGlobalChecks=!1,this._document=i,t._applyBodyHighContrastModeCssClasses(),this._sanityChecks=r,this._hasDoneGlobalChecks||(this._checkDoctypeIsDefined(),this._checkThemeIsPresent(),this._checkCdkVersionMatch(),this._hasDoneGlobalChecks=!0)}_checkIsEnabled(t){return!(!function wre(){return sB=!0,iB}()||RI())&&("boolean"==typeof this._sanityChecks?this._sanityChecks:!!this._sanityChecks[t])}_checkDoctypeIsDefined(){this._checkIsEnabled("doctype")&&!this._document.doctype&&console.warn("Current document does not have a doctype. This may cause some Angular Material components not to behave as expected.")}_checkThemeIsPresent(){if(!this._checkIsEnabled("theme")||!this._document.body||"function"!=typeof getComputedStyle)return;const t=this._document.createElement("div");t.classList.add("mat-theme-loaded-marker"),this._document.body.appendChild(t);const r=getComputedStyle(t);r&&"none"!==r.display&&console.warn("Could not find Angular Material core theme. Most Material components may not work as expected. For more info refer to the theming guide: https://material.angular.io/guide/theming"),t.remove()}_checkCdkVersionMatch(){this._checkIsEnabled("version")&&i$.full!==r$.full&&console.warn("The Angular Material version ("+i$.full+") does not match the Angular CDK version ("+r$.full+").\nPlease ensure the versions of these two packages exactly match.")}}return n.\u0275fac=function(t){return new(t||n)(w(n$),w(Pce,8),w(Se))},n.\u0275mod=te({type:n}),n.\u0275inj=ee({imports:[[rf],rf]}),n})();function Z_(n){return class extends n{constructor(...e){super(...e),this._disabled=!1}get disabled(){return this._disabled}set disabled(e){this._disabled=pr(e)}}}function sf(n,e){return class extends n{constructor(...t){super(...t),this.defaultColor=e,this.color=e}get color(){return this._color}set color(t){const r=t||this.defaultColor;r!==this._color&&(this._color&&this._elementRef.nativeElement.classList.remove(`mat-${this._color}`),r&&this._elementRef.nativeElement.classList.add(`mat-${r}`),this._color=r)}}}function BI(n){return class extends n{constructor(...e){super(...e),this._disableRipple=!1}get disableRipple(){return this._disableRipple}set disableRipple(e){this._disableRipple=pr(e)}}}function Nce(n){return class extends n{constructor(...e){super(...e),this.stateChanges=new Le,this.errorState=!1}updateErrorState(){const e=this.errorState,s=(this.errorStateMatcher||this._defaultErrorStateMatcher).isErrorState(this.ngControl?this.ngControl.control:null,this._parentFormGroup||this._parentForm);s!==e&&(this.errorState=s,this.stateChanges.next())}}}let s$=(()=>{class n{isErrorState(t,r){return!!(t&&t.invalid&&(t.touched||r&&r.submitted))}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=V({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),o$=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=te({type:n}),n.\u0275inj=ee({imports:[[at],at]}),n})();class Lce{constructor(e,t,r){this._renderer=e,this.element=t,this.config=r,this.state=3}fadeOut(){this._renderer.fadeOutRipple(this)}}const a$={enterDuration:225,exitDuration:150},UI=nf({passive:!0}),l$=["mousedown","touchstart"],c$=["mouseup","mouseleave","touchend","touchcancel"];class Bce{constructor(e,t,r,i){this._target=e,this._ngZone=t,this._isPointerDown=!1,this._activeRipples=new Set,this._pointerUpEventsRegistered=!1,i.isBrowser&&(this._containerElement=ao(r))}fadeInRipple(e,t,r={}){const i=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),s={...a$,...r.animation};r.centered&&(e=i.left+i.width/2,t=i.top+i.height/2);const o=r.radius||function Hce(n,e,t){const r=Math.max(Math.abs(n-t.left),Math.abs(n-t.right)),i=Math.max(Math.abs(e-t.top),Math.abs(e-t.bottom));return Math.sqrt(r*r+i*i)}(e,t,i),a=e-i.left,l=t-i.top,c=s.enterDuration,u=document.createElement("div");u.classList.add("mat-ripple-element"),u.style.left=a-o+"px",u.style.top=l-o+"px",u.style.height=2*o+"px",u.style.width=2*o+"px",null!=r.color&&(u.style.backgroundColor=r.color),u.style.transitionDuration=`${c}ms`,this._containerElement.appendChild(u),function Uce(n){window.getComputedStyle(n).getPropertyValue("opacity")}(u),u.style.transform="scale(1)";const d=new Lce(this,u,r);return d.state=0,this._activeRipples.add(d),r.persistent||(this._mostRecentTransientRipple=d),this._runTimeoutOutsideZone(()=>{const h=d===this._mostRecentTransientRipple;d.state=1,!r.persistent&&(!h||!this._isPointerDown)&&d.fadeOut()},c),d}fadeOutRipple(e){const t=this._activeRipples.delete(e);if(e===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),this._activeRipples.size||(this._containerRect=null),!t)return;const r=e.element,i={...a$,...e.config.animation};r.style.transitionDuration=`${i.exitDuration}ms`,r.style.opacity="0",e.state=2,this._runTimeoutOutsideZone(()=>{e.state=3,r.remove()},i.exitDuration)}fadeOutAll(){this._activeRipples.forEach(e=>e.fadeOut())}fadeOutAllNonPersistent(){this._activeRipples.forEach(e=>{e.config.persistent||e.fadeOut()})}setupTriggerEvents(e){const t=ao(e);!t||t===this._triggerElement||(this._removeTriggerEvents(),this._triggerElement=t,this._registerEvents(l$))}handleEvent(e){"mousedown"===e.type?this._onMousedown(e):"touchstart"===e.type?this._onTouchStart(e):this._onPointerUp(),this._pointerUpEventsRegistered||(this._registerEvents(c$),this._pointerUpEventsRegistered=!0)}_onMousedown(e){const t=NI(e),r=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+800;!this._target.rippleDisabled&&!t&&!r&&(this._isPointerDown=!0,this.fadeInRipple(e.clientX,e.clientY,this._target.rippleConfig))}_onTouchStart(e){if(!this._target.rippleDisabled&&!FI(e)){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;const t=e.changedTouches;for(let r=0;r<t.length;r++)this.fadeInRipple(t[r].clientX,t[r].clientY,this._target.rippleConfig)}}_onPointerUp(){!this._isPointerDown||(this._isPointerDown=!1,this._activeRipples.forEach(e=>{!e.config.persistent&&(1===e.state||e.config.terminateOnPointerUp&&0===e.state)&&e.fadeOut()}))}_runTimeoutOutsideZone(e,t=0){this._ngZone.runOutsideAngular(()=>setTimeout(e,t))}_registerEvents(e){this._ngZone.runOutsideAngular(()=>{e.forEach(t=>{this._triggerElement.addEventListener(t,this,UI)})})}_removeTriggerEvents(){this._triggerElement&&(l$.forEach(e=>{this._triggerElement.removeEventListener(e,this,UI)}),this._pointerUpEventsRegistered&&c$.forEach(e=>{this._triggerElement.removeEventListener(e,this,UI)}))}}const $ce=new N("mat-ripple-global-options");let lf=(()=>{class n{constructor(t,r,i,s,o){this._elementRef=t,this._animationMode=o,this.radius=0,this._disabled=!1,this._isInitialized=!1,this._globalOptions=s||{},this._rippleRenderer=new Bce(this,r,t,i)}get disabled(){return this._disabled}set disabled(t){t&&this.fadeOutAllNonPersistent(),this._disabled=t,this._setupTriggerEventsIfEnabled()}get trigger(){return this._trigger||this._elementRef.nativeElement}set trigger(t){this._trigger=t,this._setupTriggerEventsIfEnabled()}ngOnInit(){this._isInitialized=!0,this._setupTriggerEventsIfEnabled()}ngOnDestroy(){this._rippleRenderer._removeTriggerEvents()}fadeOutAll(){this._rippleRenderer.fadeOutAll()}fadeOutAllNonPersistent(){this._rippleRenderer.fadeOutAllNonPersistent()}get rippleConfig(){return{centered:this.centered,radius:this.radius,color:this.color,animation:{...this._globalOptions.animation,..."NoopAnimations"===this._animationMode?{enterDuration:0,exitDuration:0}:{},...this.animation},terminateOnPointerUp:this._globalOptions.terminateOnPointerUp}}get rippleDisabled(){return this.disabled||!!this._globalOptions.disabled}_setupTriggerEventsIfEnabled(){!this.disabled&&this._isInitialized&&this._rippleRenderer.setupTriggerEvents(this.trigger)}launch(t,r=0,i){return"number"==typeof t?this._rippleRenderer.fadeInRipple(t,r,{...this.rippleConfig,...i}):this._rippleRenderer.fadeInRipple(0,0,{...this.rippleConfig,...t})}}return n.\u0275fac=function(t){return new(t||n)(y(Ze),y(se),y(Yr),y($ce,8),y(rl,8))},n.\u0275dir=q({type:n,selectors:[["","mat-ripple",""],["","matRipple",""]],hostAttrs:[1,"mat-ripple"],hostVars:2,hostBindings:function(t,r){2&t&&Vt("mat-ripple-unbounded",r.unbounded)},inputs:{color:["matRippleColor","color"],unbounded:["matRippleUnbounded","unbounded"],centered:["matRippleCentered","centered"],radius:["matRippleRadius","radius"],animation:["matRippleAnimation","animation"],disabled:["matRippleDisabled","disabled"],trigger:["matRippleTrigger","trigger"]},exportAs:["matRipple"]}),n})(),J_=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=te({type:n}),n.\u0275inj=ee({imports:[[at,W_],at]}),n})(),jce=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=te({type:n}),n.\u0275inj=ee({imports:[[at]]}),n})(),u$=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=te({type:n}),n.\u0275inj=ee({imports:[[J_,fu,at,jce]]}),n})();function d$(...n){const e=DO(n),{args:t,keys:r}=lU(n),i=new ze(s=>{const{length:o}=t;if(!o)return void s.complete();const a=new Array(o);let l=o,c=o;for(let u=0;u<o;u++){let d=!1;kn(t[u]).subscribe(nt(s,h=>{d||(d=!0,c--),a[u]=h},()=>l--,void 0,()=>{(!l||!d)&&(c||s.next(r?cU(r,a):a),s.complete())}))}});return e?i.pipe(WE(e)):i}const zce=["*"];let ey;function cf(n){return function Gce(){if(void 0===ey&&(ey=null,typeof window<"u")){const n=window;void 0!==n.trustedTypes&&(ey=n.trustedTypes.createPolicy("angular#components",{createHTML:e=>e}))}return ey}()?.createHTML(n)||n}function h$(n){return Error(`Unable to find icon with the name "${n}"`)}function f$(n){return Error(`The URL provided to MatIconRegistry was not trusted as a resource URL via Angular's DomSanitizer. Attempted URL was "${n}".`)}function p$(n){return Error(`The literal provided to MatIconRegistry was not trusted as safe HTML by Angular's DomSanitizer. Attempted literal was "${n}".`)}class ml{constructor(e,t,r){this.url=e,this.svgText=t,this.options=r}}let ty=(()=>{class n{constructor(t,r,i,s){this._httpClient=t,this._sanitizer=r,this._errorHandler=s,this._svgIconConfigs=new Map,this._iconSetConfigs=new Map,this._cachedIconsByUrl=new Map,this._inProgressUrlFetches=new Map,this._fontCssClassesByAlias=new Map,this._resolvers=[],this._defaultFontSetClass="material-icons",this._document=i}addSvgIcon(t,r,i){return this.addSvgIconInNamespace("",t,r,i)}addSvgIconLiteral(t,r,i){return this.addSvgIconLiteralInNamespace("",t,r,i)}addSvgIconInNamespace(t,r,i,s){return this._addSvgIconConfig(t,r,new ml(i,null,s))}addSvgIconResolver(t){return this._resolvers.push(t),this}addSvgIconLiteralInNamespace(t,r,i,s){const o=this._sanitizer.sanitize(Qe.HTML,i);if(!o)throw p$(i);const a=cf(o);return this._addSvgIconConfig(t,r,new ml("",a,s))}addSvgIconSet(t,r){return this.addSvgIconSetInNamespace("",t,r)}addSvgIconSetLiteral(t,r){return this.addSvgIconSetLiteralInNamespace("",t,r)}addSvgIconSetInNamespace(t,r,i){return this._addSvgIconSetConfig(t,new ml(r,null,i))}addSvgIconSetLiteralInNamespace(t,r,i){const s=this._sanitizer.sanitize(Qe.HTML,r);if(!s)throw p$(r);const o=cf(s);return this._addSvgIconSetConfig(t,new ml("",o,i))}registerFontClassAlias(t,r=t){return this._fontCssClassesByAlias.set(t,r),this}classNameForFontAlias(t){return this._fontCssClassesByAlias.get(t)||t}setDefaultFontSetClass(t){return this._defaultFontSetClass=t,this}getDefaultFontSetClass(){return this._defaultFontSetClass}getSvgIconFromUrl(t){const r=this._sanitizer.sanitize(Qe.RESOURCE_URL,t);if(!r)throw f$(t);const i=this._cachedIconsByUrl.get(r);return i?W(ny(i)):this._loadSvgIconFromConfig(new ml(t,null)).pipe(Ut(s=>this._cachedIconsByUrl.set(r,s)),re(s=>ny(s)))}getNamedSvgIcon(t,r=""){const i=m$(r,t);let s=this._svgIconConfigs.get(i);if(s)return this._getSvgFromConfig(s);if(s=this._getIconConfigFromResolvers(r,t),s)return this._svgIconConfigs.set(i,s),this._getSvgFromConfig(s);const o=this._iconSetConfigs.get(r);return o?this._getSvgFromIconSetConfigs(t,o):pu(h$(i))}ngOnDestroy(){this._resolvers=[],this._svgIconConfigs.clear(),this._iconSetConfigs.clear(),this._cachedIconsByUrl.clear()}_getSvgFromConfig(t){return t.svgText?W(ny(this._svgElementFromConfig(t))):this._loadSvgIconFromConfig(t).pipe(re(r=>ny(r)))}_getSvgFromIconSetConfigs(t,r){const i=this._extractIconWithNameFromAnySet(t,r);return i?W(i):d$(r.filter(o=>!o.svgText).map(o=>this._loadSvgIconSetFromConfig(o).pipe(ro(a=>{const c=`Loading icon set URL: ${this._sanitizer.sanitize(Qe.RESOURCE_URL,o.url)} failed: ${a.message}`;return this._errorHandler.handleError(new Error(c)),W(null)})))).pipe(re(()=>{const o=this._extractIconWithNameFromAnySet(t,r);if(!o)throw h$(t);return o}))}_extractIconWithNameFromAnySet(t,r){for(let i=r.length-1;i>=0;i--){const s=r[i];if(s.svgText&&s.svgText.toString().indexOf(t)>-1){const o=this._svgElementFromConfig(s),a=this._extractSvgIconFromSet(o,t,s.options);if(a)return a}}return null}_loadSvgIconFromConfig(t){return this._fetchIcon(t).pipe(Ut(r=>t.svgText=r),re(()=>this._svgElementFromConfig(t)))}_loadSvgIconSetFromConfig(t){return t.svgText?W(null):this._fetchIcon(t).pipe(Ut(r=>t.svgText=r))}_extractSvgIconFromSet(t,r,i){const s=t.querySelector(`[id="${r}"]`);if(!s)return null;const o=s.cloneNode(!0);if(o.removeAttribute("id"),"svg"===o.nodeName.toLowerCase())return this._setSvgAttributes(o,i);if("symbol"===o.nodeName.toLowerCase())return this._setSvgAttributes(this._toSvgElement(o),i);const a=this._svgElementFromString(cf("<svg></svg>"));return a.appendChild(o),this._setSvgAttributes(a,i)}_svgElementFromString(t){const r=this._document.createElement("DIV");r.innerHTML=t;const i=r.querySelector("svg");if(!i)throw Error("<svg> tag not found");return i}_toSvgElement(t){const r=this._svgElementFromString(cf("<svg></svg>")),i=t.attributes;for(let s=0;s<i.length;s++){const{name:o,value:a}=i[s];"id"!==o&&r.setAttribute(o,a)}for(let s=0;s<t.childNodes.length;s++)t.childNodes[s].nodeType===this._document.ELEMENT_NODE&&r.appendChild(t.childNodes[s].cloneNode(!0));return r}_setSvgAttributes(t,r){return t.setAttribute("fit",""),t.setAttribute("height","100%"),t.setAttribute("width","100%"),t.setAttribute("preserveAspectRatio","xMidYMid meet"),t.setAttribute("focusable","false"),r&&r.viewBox&&t.setAttribute("viewBox",r.viewBox),t}_fetchIcon(t){const{url:r,options:i}=t,s=i?.withCredentials??!1;if(!this._httpClient)throw function Wce(){return Error("Could not find HttpClient provider for use with Angular Material icons. Please include the HttpClientModule from @angular/common/http in your app imports.")}();if(null==r)throw Error(`Cannot fetch icon from URL "${r}".`);const o=this._sanitizer.sanitize(Qe.RESOURCE_URL,r);if(!o)throw f$(r);const a=this._inProgressUrlFetches.get(o);if(a)return a;const l=this._httpClient.get(o,{responseType:"text",withCredentials:s}).pipe(re(c=>cf(c)),g_(()=>this._inProgressUrlFetches.delete(o)),MO());return this._inProgressUrlFetches.set(o,l),l}_addSvgIconConfig(t,r,i){return this._svgIconConfigs.set(m$(t,r),i),this}_addSvgIconSetConfig(t,r){const i=this._iconSetConfigs.get(t);return i?i.push(r):this._iconSetConfigs.set(t,[r]),this}_svgElementFromConfig(t){if(!t.svgElement){const r=this._svgElementFromString(t.svgText);this._setSvgAttributes(r,t.options),t.svgElement=r}return t.svgElement}_getIconConfigFromResolvers(t,r){for(let i=0;i<this._resolvers.length;i++){const s=this._resolvers[i](r,t);if(s)return Kce(s)?new ml(s.url,null,s.options):new ml(s,null)}}}return n.\u0275fac=function(t){return new(t||n)(w(H_,8),w(GE),w(Se,8),w(zs))},n.\u0275prov=V({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function ny(n){return n.cloneNode(!0)}function m$(n,e){return n+":"+e}function Kce(n){return!(!n.url||!n.options)}const Yce=sf(class{constructor(n){this._elementRef=n}}),Qce=new N("mat-icon-location",{providedIn:"root",factory:function Xce(){const n=Et(Se),e=n?n.location:null;return{getPathname:()=>e?e.pathname+e.search:""}}}),g$=["clip-path","color-profile","src","cursor","fill","filter","marker","marker-start","marker-mid","marker-end","mask","stroke"],Zce=g$.map(n=>`[${n}]`).join(", "),Jce=/^url\(['"]?#(.*?)['"]?\)$/;let ry=(()=>{class n extends Yce{constructor(t,r,i,s,o){super(t),this._iconRegistry=r,this._location=s,this._errorHandler=o,this._inline=!1,this._currentIconFetch=Ft.EMPTY,i||t.nativeElement.setAttribute("aria-hidden","true")}get inline(){return this._inline}set inline(t){this._inline=pr(t)}get svgIcon(){return this._svgIcon}set svgIcon(t){t!==this._svgIcon&&(t?this._updateSvgIcon(t):this._svgIcon&&this._clearSvgElement(),this._svgIcon=t)}get fontSet(){return this._fontSet}set fontSet(t){const r=this._cleanupFontValue(t);r!==this._fontSet&&(this._fontSet=r,this._updateFontIconClasses())}get fontIcon(){return this._fontIcon}set fontIcon(t){const r=this._cleanupFontValue(t);r!==this._fontIcon&&(this._fontIcon=r,this._updateFontIconClasses())}_splitIconName(t){if(!t)return["",""];const r=t.split(":");switch(r.length){case 1:return["",r[0]];case 2:return r;default:throw Error(`Invalid icon name: "${t}"`)}}ngOnInit(){this._updateFontIconClasses()}ngAfterViewChecked(){const t=this._elementsWithExternalReferences;if(t&&t.size){const r=this._location.getPathname();r!==this._previousPath&&(this._previousPath=r,this._prependPathToReferences(r))}}ngOnDestroy(){this._currentIconFetch.unsubscribe(),this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear()}_usingFontIcon(){return!this.svgIcon}_setSvgElement(t){this._clearSvgElement();const r=t.querySelectorAll("style");for(let s=0;s<r.length;s++)r[s].textContent+=" ";const i=this._location.getPathname();this._previousPath=i,this._cacheChildrenWithExternalReferences(t),this._prependPathToReferences(i),this._elementRef.nativeElement.appendChild(t)}_clearSvgElement(){const t=this._elementRef.nativeElement;let r=t.childNodes.length;for(this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear();r--;){const i=t.childNodes[r];(1!==i.nodeType||"svg"===i.nodeName.toLowerCase())&&i.remove()}}_updateFontIconClasses(){if(!this._usingFontIcon())return;const t=this._elementRef.nativeElement,r=this.fontSet?this._iconRegistry.classNameForFontAlias(this.fontSet):this._iconRegistry.getDefaultFontSetClass();r!=this._previousFontSetClass&&(this._previousFontSetClass&&t.classList.remove(this._previousFontSetClass),r&&t.classList.add(r),this._previousFontSetClass=r),this.fontIcon!=this._previousFontIconClass&&(this._previousFontIconClass&&t.classList.remove(this._previousFontIconClass),this.fontIcon&&t.classList.add(this.fontIcon),this._previousFontIconClass=this.fontIcon)}_cleanupFontValue(t){return"string"==typeof t?t.trim().split(" ")[0]:t}_prependPathToReferences(t){const r=this._elementsWithExternalReferences;r&&r.forEach((i,s)=>{i.forEach(o=>{s.setAttribute(o.name,`url('${t}#${o.value}')`)})})}_cacheChildrenWithExternalReferences(t){const r=t.querySelectorAll(Zce),i=this._elementsWithExternalReferences=this._elementsWithExternalReferences||new Map;for(let s=0;s<r.length;s++)g$.forEach(o=>{const a=r[s],l=a.getAttribute(o),c=l?l.match(Jce):null;if(c){let u=i.get(a);u||(u=[],i.set(a,u)),u.push({name:o,value:c[1]})}})}_updateSvgIcon(t){if(this._svgNamespace=null,this._svgName=null,this._currentIconFetch.unsubscribe(),t){const[r,i]=this._splitIconName(t);r&&(this._svgNamespace=r),i&&(this._svgName=i),this._currentIconFetch=this._iconRegistry.getNamedSvgIcon(i,r).pipe(Dr(1)).subscribe(s=>this._setSvgElement(s),s=>{this._errorHandler.handleError(new Error(`Error retrieving icon ${r}:${i}! ${s.message}`))})}}}return n.\u0275fac=function(t){return new(t||n)(y(Ze),y(ty),Ho("aria-hidden"),y(Qce),y(zs))},n.\u0275cmp=Ye({type:n,selectors:[["mat-icon"]],hostAttrs:["role","img",1,"mat-icon","notranslate"],hostVars:7,hostBindings:function(t,r){2&t&&(ft("data-mat-icon-type",r._usingFontIcon()?"font":"svg")("data-mat-icon-name",r._svgName||r.fontIcon)("data-mat-icon-namespace",r._svgNamespace||r.fontSet),Vt("mat-icon-inline",r.inline)("mat-icon-no-color","primary"!==r.color&&"accent"!==r.color&&"warn"!==r.color))},inputs:{color:"color",inline:"inline",svgIcon:"svgIcon",fontSet:"fontSet",fontIcon:"fontIcon"},exportAs:["matIcon"],features:[Te],ngContentSelectors:zce,decls:1,vars:0,template:function(t,r){1&t&&(Qs(),Pn(0))},styles:[".mat-icon{-webkit-user-select:none;-moz-user-select:none;user-select:none;background-repeat:no-repeat;display:inline-block;fill:currentColor;height:24px;width:24px}.mat-icon.mat-icon-inline{font-size:inherit;height:inherit;line-height:inherit;width:inherit}[dir=rtl] .mat-icon-rtl-mirror{transform:scale(-1, 1)}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon{display:block}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button .mat-icon{margin:auto}\n"],encapsulation:2,changeDetection:0}),n})(),eue=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=te({type:n}),n.\u0275inj=ee({imports:[[at],at]}),n})();const tue=["mat-button",""],nue=["*"],iue=["mat-button","mat-flat-button","mat-icon-button","mat-raised-button","mat-stroked-button","mat-mini-fab","mat-fab"],sue=sf(Z_(BI(class{constructor(n){this._elementRef=n}})));let gl=(()=>{class n extends sue{constructor(t,r,i){super(t),this._focusMonitor=r,this._animationMode=i,this.isRoundButton=this._hasHostAttributes("mat-fab","mat-mini-fab"),this.isIconButton=this._hasHostAttributes("mat-icon-button");for(const s of iue)this._hasHostAttributes(s)&&this._getHostElement().classList.add(s);t.nativeElement.classList.add("mat-button-base"),this.isRoundButton&&(this.color="accent")}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0)}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef)}focus(t,r){t?this._focusMonitor.focusVia(this._getHostElement(),t,r):this._getHostElement().focus(r)}_getHostElement(){return this._elementRef.nativeElement}_isRippleDisabled(){return this.disableRipple||this.disabled}_hasHostAttributes(...t){return t.some(r=>this._getHostElement().hasAttribute(r))}}return n.\u0275fac=function(t){return new(t||n)(y(Ze),y(X_),y(rl,8))},n.\u0275cmp=Ye({type:n,selectors:[["button","mat-button",""],["button","mat-raised-button",""],["button","mat-icon-button",""],["button","mat-fab",""],["button","mat-mini-fab",""],["button","mat-stroked-button",""],["button","mat-flat-button",""]],viewQuery:function(t,r){if(1&t&&as(lf,5),2&t){let i;vt(i=bt())&&(r.ripple=i.first)}},hostAttrs:[1,"mat-focus-indicator"],hostVars:5,hostBindings:function(t,r){2&t&&(ft("disabled",r.disabled||null),Vt("_mat-animation-noopable","NoopAnimations"===r._animationMode)("mat-button-disabled",r.disabled))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color"},exportAs:["matButton"],features:[Te],attrs:tue,ngContentSelectors:nue,decls:4,vars:5,consts:[[1,"mat-button-wrapper"],["matRipple","",1,"mat-button-ripple",3,"matRippleDisabled","matRippleCentered","matRippleTrigger"],[1,"mat-button-focus-overlay"]],template:function(t,r){1&t&&(Qs(),C(0,"span",0),Pn(1),S(),he(2,"span",1)(3,"span",2)),2&t&&(R(2),Vt("mat-button-ripple-round",r.isRoundButton||r.isIconButton),F("matRippleDisabled",r._isRippleDisabled())("matRippleCentered",r.isIconButton)("matRippleTrigger",r._getHostElement()))},dependencies:[lf],styles:[".mat-button .mat-button-focus-overlay,.mat-icon-button .mat-button-focus-overlay{opacity:0}.mat-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay,.mat-stroked-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay{opacity:.04}@media(hover: none){.mat-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay,.mat-stroked-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay{opacity:0}}.mat-button,.mat-icon-button,.mat-stroked-button,.mat-flat-button{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible}.mat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner{border:0}.mat-button.mat-button-disabled,.mat-icon-button.mat-button-disabled,.mat-stroked-button.mat-button-disabled,.mat-flat-button.mat-button-disabled{cursor:default}.mat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-button.cdk-program-focused .mat-button-focus-overlay,.mat-icon-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-icon-button.cdk-program-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-program-focused .mat-button-focus-overlay,.mat-flat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-flat-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner{border:0}.mat-raised-button{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-raised-button::-moz-focus-inner{border:0}.mat-raised-button.mat-button-disabled{cursor:default}.mat-raised-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-raised-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-raised-button::-moz-focus-inner{border:0}._mat-animation-noopable.mat-raised-button{transition:none;animation:none}.mat-stroked-button{border:1px solid currentColor;padding:0 15px;line-height:34px}.mat-stroked-button .mat-button-ripple.mat-ripple,.mat-stroked-button .mat-button-focus-overlay{top:-1px;left:-1px;right:-1px;bottom:-1px}.mat-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);min-width:0;border-radius:50%;width:56px;height:56px;padding:0;flex-shrink:0}.mat-fab::-moz-focus-inner{border:0}.mat-fab.mat-button-disabled{cursor:default}.mat-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-fab::-moz-focus-inner{border:0}._mat-animation-noopable.mat-fab{transition:none;animation:none}.mat-fab .mat-button-wrapper{padding:16px 0;display:inline-block;line-height:24px}.mat-mini-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);min-width:0;border-radius:50%;width:40px;height:40px;padding:0;flex-shrink:0}.mat-mini-fab::-moz-focus-inner{border:0}.mat-mini-fab.mat-button-disabled{cursor:default}.mat-mini-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-mini-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-mini-fab::-moz-focus-inner{border:0}._mat-animation-noopable.mat-mini-fab{transition:none;animation:none}.mat-mini-fab .mat-button-wrapper{padding:8px 0;display:inline-block;line-height:24px}.mat-icon-button{padding:0;min-width:0;width:40px;height:40px;flex-shrink:0;line-height:40px;border-radius:50%}.mat-icon-button i,.mat-icon-button .mat-icon{line-height:24px}.mat-button-ripple.mat-ripple,.mat-button-focus-overlay{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-button-ripple.mat-ripple:not(:empty){transform:translateZ(0)}.mat-button-focus-overlay{opacity:0;transition:opacity 200ms cubic-bezier(0.35, 0, 0.25, 1),background-color 200ms cubic-bezier(0.35, 0, 0.25, 1)}._mat-animation-noopable .mat-button-focus-overlay{transition:none}.mat-button-ripple-round{border-radius:50%;z-index:1}.mat-button .mat-button-wrapper>*,.mat-flat-button .mat-button-wrapper>*,.mat-stroked-button .mat-button-wrapper>*,.mat-raised-button .mat-button-wrapper>*,.mat-icon-button .mat-button-wrapper>*,.mat-fab .mat-button-wrapper>*,.mat-mini-fab .mat-button-wrapper>*{vertical-align:middle}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button{display:inline-flex;justify-content:center;align-items:center;font-size:inherit;width:2.5em;height:2.5em}.cdk-high-contrast-active .mat-button,.cdk-high-contrast-active .mat-flat-button,.cdk-high-contrast-active .mat-raised-button,.cdk-high-contrast-active .mat-icon-button,.cdk-high-contrast-active .mat-fab,.cdk-high-contrast-active .mat-mini-fab{outline:solid 1px}.cdk-high-contrast-active .mat-button-base.cdk-keyboard-focused,.cdk-high-contrast-active .mat-button-base.cdk-program-focused{outline:solid 3px}\n"],encapsulation:2,changeDetection:0}),n})(),oue=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=te({type:n}),n.\u0275inj=ee({imports:[[J_,at],at]}),n})();function aue(n,e){if(1&n){const t=Oi();C(0,"div")(1,"div",4)(2,"div",5),he(3,"img",6),S(),C(4,"div",7)(5,"p"),D(6),S(),C(7,"p"),D(8),S()(),C(9,"div",8)(10,"button",9),ye("click",function(){const s=Dt(t).$implicit;return At(X(2).PlusCount(s))}),C(11,"mat-icon"),D(12,"add"),S()(),C(13,"p"),D(14),S(),C(15,"button",9),ye("click",function(){const s=Dt(t).$implicit;return At(X(2).MinusCount(s))}),C(16,"mat-icon"),D(17,"remove"),S()()(),C(18,"div",10)(19,"p"),D(20),Li(21,"currency"),S()(),C(22,"div",11)(23,"button",12),ye("click",function(){const s=Dt(t).$implicit;return At(X(2).DeleteDrug(s))}),C(24,"mat-icon"),D(25,"delete"),S()()()()()}if(2&n){const t=e.$implicit;R(3),F("src",t.drug.imgURL,Qa)("alt",t.drug.name),R(3),Zn(" ",t.drug.name,""),R(2),Zn(" ",t.drug.price,""),R(6),Xn(t.count),R(6),Zn("\u0418\u0442\u043e\u0433: ",qo(21,6,t.count*t.drug.price,"AZN"),"")}}function lue(n,e){if(1&n&&(C(0,"div")(1,"p"),D(2),S(),D(3),Z(4,aue,26,9,"div",2),C(5,"div")(6,"p"),D(7,"\u043e\u0444\u043e\u0440\u043c\u0438\u0442\u044c \u0434\u043e\u0441\u0442\u0430\u0432\u043a\u0443"),S(),C(8,"button",3),D(9,"\u041f\u0435\u0440\u0435\u0439\u0442\u0438 \u043a \u0437\u0430\u043a\u0430\u0437\u0443"),S()()()),2&n){const t=X();R(2),Zn(" \u0412\u0441\u0435\u0433\u043e \u0435\u0434\u0438\u043d\u0438\u0446:",t.drugService.getSum()," \u0435\u0434."),R(1),Zn(" Result: ",t.drugService.getResult()," "),R(1),F("ngForOf",t.drugService.forCart)}}function cue(n,e){1&n&&(C(0,"p"),D(1,"\u041a\u043e\u0440\u0437\u0438\u043d\u0430 \u043f\u0443\u0441\u0442\u0430"),S())}let uue=(()=>{class n{constructor(t){this.drugService=t,this.switcher=!0,this.cartDrugs=this.drugService.forCart}ngOnInit(){}MinusCount(t){this.drugService.minusCount(t)}PlusCount(t){this.drugService.plusCount(t)}DeleteDrug(t){this.drugService.deleteDrugFromCart(t)}}return n.\u0275fac=function(t){return new(t||n)(y($_))},n.\u0275cmp=Ye({type:n,selectors:[["app-cart"]],decls:5,vars:2,consts:[[4,"ngIf","ngIfElse"],["elseBlock",""],[4,"ngFor","ngForOf"],["mat-button","","routerLinkActive","active"],[1,"store-card"],[1,"store-cart_image"],[3,"src","alt"],[1,"store-cart_title"],[1,"store-cart_btn"],["mat-button","",3,"click"],[1,"total"],["store-delete",""],[3,"click"]],template:function(t,r){if(1&t&&(C(0,"div"),Z(1,lue,10,3,"div",0),Z(2,cue,2,0,"ng-template",null,1,uu),S(),he(4,"router-outlet")),2&t){const i=Gt(3);R(1),F("ngIf",r.drugService.getSum()>0)("ngIfElse",i)}},dependencies:[Ph,Kr,S_,mH,ry,gl,RE],styles:[".store-card[_ngcontent-%COMP%]{width:500px;height:100px;border-radius:5px;background-color:#f0f8ff;display:flex;flex-direction:row;align-items:center;justify-content:space-between;margin:5px}.store-card[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:80px;height:80px}.store-cart_title[_ngcontent-%COMP%]{display:flex;flex-direction:column}.store-cart_btn[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center;justify-content:center}.store-cart_btn[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background-color:#e27211}"]}),n})();function _$(n,e,t,r,i,s,o){try{var a=n[s](o),l=a.value}catch(c){return void t(c)}a.done?e(l):Promise.resolve(l).then(r,i)}function _(n){return function(){var e=this,t=arguments;return new Promise(function(r,i){var s=n.apply(e,t);function o(l){_$(s,r,i,o,a,"next",l)}function a(l){_$(s,r,i,o,a,"throw",l)}o(void 0)})}}const $=function(n,e){if(!n)throw Iu(e)},Iu=function(n){return new Error("Firebase Database (${JSCORE_VERSION}) INTERNAL ASSERT FAILED: "+n)},y$=function(n){const e=[];let t=0;for(let r=0;r<n.length;r++){let i=n.charCodeAt(r);i<128?e[t++]=i:i<2048?(e[t++]=i>>6|192,e[t++]=63&i|128):55296==(64512&i)&&r+1<n.length&&56320==(64512&n.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&n.charCodeAt(++r)),e[t++]=i>>18|240,e[t++]=i>>12&63|128,e[t++]=i>>6&63|128,e[t++]=63&i|128):(e[t++]=i>>12|224,e[t++]=i>>6&63|128,e[t++]=63&i|128)}return e},iy={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<n.length;i+=3){const s=n[i],o=i+1<n.length,a=o?n[i+1]:0,l=i+2<n.length,c=l?n[i+2]:0;let h=(15&a)<<2|c>>6,f=63&c;l||(f=64,o||(h=64)),r.push(t[s>>2],t[(3&s)<<4|a>>4],t[h],t[f])}return r.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(y$(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):function(n){const e=[];let t=0,r=0;for(;t<n.length;){const i=n[t++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=n[t++];e[r++]=String.fromCharCode((31&i)<<6|63&s)}else if(i>239&&i<365){const l=((7&i)<<18|(63&n[t++])<<12|(63&n[t++])<<6|63&n[t++])-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(1023&l))}else{const s=n[t++],o=n[t++];e[r++]=String.fromCharCode((15&i)<<12|(63&s)<<6|63&o)}}return e.join("")}(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<n.length;){const s=t[n.charAt(i++)],a=i<n.length?t[n.charAt(i)]:0;++i;const c=i<n.length?t[n.charAt(i)]:64;++i;const d=i<n.length?t[n.charAt(i)]:64;if(++i,null==s||null==a||null==c||null==d)throw Error();r.push(s<<2|a>>4),64!==c&&(r.push(a<<4&240|c>>2),64!==d&&r.push(c<<6&192|d))}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}},v$=function(n){const e=y$(n);return iy.encodeByteArray(e,!0)},sy=function(n){return v$(n).replace(/\./g,"")},oy=function(n){try{return iy.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function hue(n){return b$(void 0,n)}function b$(n,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:return new Date(e.getTime());case Object:void 0===n&&(n={});break;case Array:n=[];break;default:return e}for(const t in e)!e.hasOwnProperty(t)||!fue(t)||(n[t]=b$(n[t],e[t]));return n}function fue(n){return"__proto__"!==n}function bn(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function $I(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(bn())}function jI(){const n="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof n&&void 0!==n.id}function C$(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function ea(){return"object"==typeof indexedDB}function Tu(){return new Promise((n,e)=>{try{let t=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),t||self.indexedDB.deleteDatabase(r),n(!0)},i.onupgradeneeded=()=>{t=!1},i.onerror=()=>{var s;e((null===(s=i.error)||void 0===s?void 0:s.message)||"")}}catch(t){e(t)}})}function ay(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}const zI=()=>{try{return function mue(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const n=process.env.__FIREBASE_DEFAULTS__;return n?JSON.parse(n):void 0})()||(()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=n&&oy(n[1]);return e&&JSON.parse(e)})()}catch(n){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`)}},E$=n=>{var e,t;return null===(t=null===(e=zI())||void 0===e?void 0:e.emulatorHosts)||void 0===t?void 0:t[n]},ly=n=>{const e=E$(n);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(t+1),10);return"["===e[0]?[e.substring(1,t-1),r]:[e.substring(0,t),r]},I$=n=>{var e;return null===(e=zI())||void 0===e?void 0:e[`_${n}`]};class Su{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,r)=>{t?this.reject(t):this.resolve(r),"function"==typeof e&&(this.promise.catch(()=>{}),1===e.length?e(t):e(t,r))}}}function GI(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const r=e||"demo-project",i=n.iat||0,s=n.sub||n.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},n);return[sy(JSON.stringify({alg:"none",type:"JWT"})),sy(JSON.stringify(o)),""].join(".")}class Xr extends Error{constructor(e,t,r){super(t),this.code=e,this.customData=r,this.name="FirebaseError",Object.setPrototypeOf(this,Xr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,$i.prototype.create)}}class $i{constructor(e,t,r){this.service=e,this.serviceName=t,this.errors=r}create(e,...t){const r=t[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?function wue(n,e){return n.replace(Cue,(t,r)=>{const i=e[r];return null!=i?String(i):`<${r}?>`})}(s,r):"Error";return new Xr(i,`${this.serviceName}: ${o} (${i}).`,r)}}const Cue=/\{\$([^}]+)}/g;function uf(n){return JSON.parse(n)}function Fn(n){return JSON.stringify(n)}const cy=function(n){let e={},t={},r={},i="";try{const s=n.split(".");e=uf(oy(s[0])||""),t=uf(oy(s[1])||""),i=s[2],r=t.d||{},delete t.d}catch{}return{header:e,claims:t,data:r,signature:i}};function co(n,e){return Object.prototype.hasOwnProperty.call(n,e)}function Du(n,e){if(Object.prototype.hasOwnProperty.call(n,e))return n[e]}function WI(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function uy(n,e,t){const r={};for(const i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=e.call(t,n[i],i,n));return r}function df(n,e){if(n===e)return!0;const t=Object.keys(n),r=Object.keys(e);for(const i of t){if(!r.includes(i))return!1;const s=n[i],o=e[i];if(T$(s)&&T$(o)){if(!df(s,o))return!1}else if(s!==o)return!1}for(const i of r)if(!t.includes(i))return!1;return!0}function T$(n){return null!==n&&"object"==typeof n}function hf(n){const e=[];for(const[t,r]of Object.entries(n))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function ff(n){const e={};return n.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,s]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(s)}}),e}function pf(n){const e=n.indexOf("?");if(!e)return"";const t=n.indexOf("#",e);return n.substring(e,t>0?t:void 0)}class Tue{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(let e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(e,t){t||(t=0);const r=this.W_;if("string"==typeof e)for(let d=0;d<16;d++)r[d]=e.charCodeAt(t)<<24|e.charCodeAt(t+1)<<16|e.charCodeAt(t+2)<<8|e.charCodeAt(t+3),t+=4;else for(let d=0;d<16;d++)r[d]=e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3],t+=4;for(let d=16;d<80;d++){const h=r[d-3]^r[d-8]^r[d-14]^r[d-16];r[d]=4294967295&(h<<1|h>>>31)}let c,u,i=this.chain_[0],s=this.chain_[1],o=this.chain_[2],a=this.chain_[3],l=this.chain_[4];for(let d=0;d<80;d++){d<40?d<20?(c=a^s&(o^a),u=1518500249):(c=s^o^a,u=1859775393):d<60?(c=s&o|a&(s|o),u=2400959708):(c=s^o^a,u=3395469782);const h=(i<<5|i>>>27)+c+l+u+r[d]&4294967295;l=a,a=o,o=4294967295&(s<<30|s>>>2),s=i,i=h}this.chain_[0]=this.chain_[0]+i&4294967295,this.chain_[1]=this.chain_[1]+s&4294967295,this.chain_[2]=this.chain_[2]+o&4294967295,this.chain_[3]=this.chain_[3]+a&4294967295,this.chain_[4]=this.chain_[4]+l&4294967295}update(e,t){if(null==e)return;void 0===t&&(t=e.length);const r=t-this.blockSize;let i=0;const s=this.buf_;let o=this.inbuf_;for(;i<t;){if(0===o)for(;i<=r;)this.compress_(e,i),i+=this.blockSize;if("string"==typeof e){for(;i<t;)if(s[o]=e.charCodeAt(i),++o,++i,o===this.blockSize){this.compress_(s),o=0;break}}else for(;i<t;)if(s[o]=e[i],++o,++i,o===this.blockSize){this.compress_(s),o=0;break}}this.inbuf_=o,this.total_+=t}digest(){const e=[];let t=8*this.total_;this.update(this.pad_,this.inbuf_<56?56-this.inbuf_:this.blockSize-(this.inbuf_-56));for(let i=this.blockSize-1;i>=56;i--)this.buf_[i]=255&t,t/=256;this.compress_(this.buf_);let r=0;for(let i=0;i<5;i++)for(let s=24;s>=0;s-=8)e[r]=this.chain_[i]>>s&255,++r;return e}}class Due{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,r){let i;if(void 0===e&&void 0===t&&void 0===r)throw new Error("Missing Observer.");i=function Aue(n,e){if("object"!=typeof n||null===n)return!1;for(const t of e)if(t in n&&"function"==typeof n[t])return!0;return!1}(e,["next","error","complete"])?e:{next:e,error:t,complete:r},void 0===i.next&&(i.next=qI),void 0===i.error&&(i.error=qI),void 0===i.complete&&(i.complete=qI);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){void 0===this.observers||void 0===this.observers[e]||(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[e])try{t(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function qI(){}const hy=function(n){let e=0;for(let t=0;t<n.length;t++){const r=n.charCodeAt(t);r<128?e++:r<2048?e+=2:r>=55296&&r<=56319?(e+=4,t++):e+=3}return e};function KI(n,e=1e3,t=2){const r=e*Math.pow(t,n),i=Math.round(.5*r*(Math.random()-.5)*2);return Math.min(144e5,r+i)}function Ge(n){return n&&n._delegate?n._delegate:n}class rn{constructor(e,t,r){this.name=e,this.instanceFactory=t,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const _l="[DEFAULT]";class Nue{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const r=new Su;if(this.instancesDeferred.set(t,r),this.isInitialized(t)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:t});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const r=this.normalizeInstanceIdentifier(e?.identifier),i=null!==(t=e?.optional)&&void 0!==t&&t;if(!this.isInitialized(r)&&!this.shouldAutoInitialize()){if(i)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,this.shouldAutoInitialize()){if(function Lue(n){return"EAGER"===n.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:_l})}catch{}for(const[t,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(t);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=_l){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}delete(){var e=this;return _(function*(){const t=Array.from(e.instances.values());yield Promise.all([...t.filter(r=>"INTERNAL"in r).map(r=>r.INTERNAL.delete()),...t.filter(r=>"_delete"in r).map(r=>r._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(e=_l){return this.instances.has(e)}getOptions(e=_l){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:t});for(const[s,o]of this.instancesDeferred.entries())r===this.normalizeInstanceIdentifier(s)&&o.resolve(i);return i}onInit(e,t){var r;const i=this.normalizeInstanceIdentifier(t),s=null!==(r=this.onInitCallbacks.get(i))&&void 0!==r?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);const o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,t){const r=this.onInitCallbacks.get(t);if(r)for(const i of r)try{i(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:(n=e,n===_l?void 0:n),options:t}),this.instances.set(e,r),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}var n;return r||null}normalizeInstanceIdentifier(e=_l){return this.component?this.component.multipleInstances?e:_l:e}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class Vue{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new Nue(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}const YI=[];var Ne=(()=>{return(n=Ne||(Ne={}))[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT",Ne;var n})();const S$={debug:Ne.DEBUG,verbose:Ne.VERBOSE,info:Ne.INFO,warn:Ne.WARN,error:Ne.ERROR,silent:Ne.SILENT},Bue=Ne.INFO,Uue={[Ne.DEBUG]:"log",[Ne.VERBOSE]:"log",[Ne.INFO]:"info",[Ne.WARN]:"warn",[Ne.ERROR]:"error"},Hue=(n,e,...t)=>{if(e<n.logLevel)return;const r=(new Date).toISOString(),i=Uue[e];if(!i)throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`);console[i](`[${r}]  ${n.name}:`,...t)};class ta{constructor(e){this.name=e,this._logLevel=Bue,this._logHandler=Hue,this._userLogHandler=null,YI.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ne))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel="string"==typeof e?S$[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if("function"!=typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ne.DEBUG,...e),this._logHandler(this,Ne.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ne.VERBOSE,...e),this._logHandler(this,Ne.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ne.INFO,...e),this._logHandler(this,Ne.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ne.WARN,...e),this._logHandler(this,Ne.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ne.ERROR,...e),this._logHandler(this,Ne.ERROR,...e)}}let D$,A$;const M$=new WeakMap,QI=new WeakMap,x$=new WeakMap,XI=new WeakMap,ZI=new WeakMap;let JI={get(n,e,t){if(n instanceof IDBTransaction){if("done"===e)return QI.get(n);if("objectStoreNames"===e)return n.objectStoreNames||x$.get(n);if("store"===e)return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return uo(n[e])},set:(n,e,t)=>(n[e]=t,!0),has:(n,e)=>n instanceof IDBTransaction&&("done"===e||"store"===e)||e in n};function Yue(n){return"function"==typeof n?function Kue(n){return n!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function zue(){return A$||(A$=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(n)?function(...e){return n.apply(eT(this),e),uo(M$.get(this))}:function(...e){return uo(n.apply(eT(this),e))}:function(e,...t){const r=n.call(eT(this),e,...t);return x$.set(r,e.sort?e.sort():[e]),uo(r)}}(n):(n instanceof IDBTransaction&&function Wue(n){if(QI.has(n))return;const e=new Promise((t,r)=>{const i=()=>{n.removeEventListener("complete",s),n.removeEventListener("error",o),n.removeEventListener("abort",o)},s=()=>{t(),i()},o=()=>{r(n.error||new DOMException("AbortError","AbortError")),i()};n.addEventListener("complete",s),n.addEventListener("error",o),n.addEventListener("abort",o)});QI.set(n,e)}(n),((n,e)=>e.some(t=>n instanceof t))(n,function jue(){return D$||(D$=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(n,JI):n)}function uo(n){if(n instanceof IDBRequest)return function Gue(n){const e=new Promise((t,r)=>{const i=()=>{n.removeEventListener("success",s),n.removeEventListener("error",o)},s=()=>{t(uo(n.result)),i()},o=()=>{r(n.error),i()};n.addEventListener("success",s),n.addEventListener("error",o)});return e.then(t=>{t instanceof IDBCursor&&M$.set(t,n)}).catch(()=>{}),ZI.set(e,n),e}(n);if(XI.has(n))return XI.get(n);const e=Yue(n);return e!==n&&(XI.set(n,e),ZI.set(e,n)),e}const eT=n=>ZI.get(n);function fy(n,e,{blocked:t,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(n,e),a=uo(o);return r&&o.addEventListener("upgradeneeded",l=>{r(uo(o.result),l.oldVersion,l.newVersion,uo(o.transaction))}),t&&o.addEventListener("blocked",()=>t()),a.then(l=>{s&&l.addEventListener("close",()=>s()),i&&l.addEventListener("versionchange",()=>i())}).catch(()=>{}),a}function tT(n,{blocked:e}={}){const t=indexedDB.deleteDatabase(n);return e&&t.addEventListener("blocked",()=>e()),uo(t).then(()=>{})}const Que=["get","getKey","getAll","getAllKeys","count"],Xue=["put","add","delete","clear"],nT=new Map;function k$(n,e){if(!(n instanceof IDBDatabase)||e in n||"string"!=typeof e)return;if(nT.get(e))return nT.get(e);const t=e.replace(/FromIndex$/,""),r=e!==t,i=Xue.includes(t);if(!(t in(r?IDBIndex:IDBObjectStore).prototype)||!i&&!Que.includes(t))return;const s=function(){var o=_(function*(a,...l){const c=this.transaction(a,i?"readwrite":"readonly");let u=c.store;return r&&(u=u.index(l.shift())),(yield Promise.all([u[t](...l),i&&c.done]))[0]});return function(l){return o.apply(this,arguments)}}();return nT.set(e,s),s}!function que(n){JI=n(JI)}(n=>({...n,get:(e,t,r)=>k$(e,t)||n.get(e,t,r),has:(e,t)=>!!k$(e,t)||n.has(e,t)}));class Zue{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(function Jue(n){return"VERSION"===n.getComponent()?.type}(t)){const r=t.getImmediate();return`${r.library}/${r.version}`}return null}).filter(t=>t).join(" ")}}const rT="@firebase/app",yl=new ta("@firebase/app"),py="[DEFAULT]",Tde={[rT]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},vl=new Map,my=new Map;function Sde(n,e){try{n.container.addComponent(e)}catch(t){yl.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function hn(n){const e=n.name;if(my.has(e))return yl.debug(`There were multiple attempts to register component ${e}.`),!1;my.set(e,n);for(const t of vl.values())Sde(t,n);return!0}function Ar(n,e){const t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}const ho=new $i("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class Ade{constructor(e,t,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new rn("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw ho.create("app-deleted",{appName:this._name})}}const na="9.14.0";function P$(n,e={}){let t=n;"object"!=typeof e&&(e={name:e});const r=Object.assign({name:py,automaticDataCollectionEnabled:!1},e),i=r.name;if("string"!=typeof i||!i)throw ho.create("bad-app-name",{appName:String(i)});if(t||(t=(()=>{var n;return null===(n=zI())||void 0===n?void 0:n.config})()),!t)throw ho.create("no-options");const s=vl.get(i);if(s){if(df(t,s.options)&&df(r,s.config))return s;throw ho.create("duplicate-app",{appName:i})}const o=new Vue(i);for(const l of my.values())o.addComponent(l);const a=new Ade(t,r,o);return vl.set(i,a),a}function fs(n=py){const e=vl.get(n);if(!e&&n===py)return P$();if(!e)throw ho.create("no-app",{appName:n});return e}function O$(){return Array.from(vl.values())}function Ae(n,e,t){var r;let i=null!==(r=Tde[n])&&void 0!==r?r:n;t&&(i+=`-${t}`);const s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){const a=[`Unable to register library "${i}" with version "${e}":`];return s&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),void yl.warn(a.join(" "))}hn(new rn(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}const mf="firebase-heartbeat-store";let sT=null;function N$(){return sT||(sT=fy("firebase-heartbeat-database",1,{upgrade:(n,e)=>{0===e&&n.createObjectStore(mf)}}).catch(n=>{throw ho.create("idb-open",{originalErrorMessage:n.message})})),sT}function oT(){return(oT=_(function*(n){var e;try{return(yield N$()).transaction(mf).objectStore(mf).get(L$(n))}catch(t){if(t instanceof Xr)yl.warn(t.message);else{const r=ho.create("idb-get",{originalErrorMessage:null===(e=t)||void 0===e?void 0:e.message});yl.warn(r.message)}}})).apply(this,arguments)}function F$(n,e){return aT.apply(this,arguments)}function aT(){return(aT=_(function*(n,e){var t;try{const i=(yield N$()).transaction(mf,"readwrite");return yield i.objectStore(mf).put(e,L$(n)),i.done}catch(r){if(r instanceof Xr)yl.warn(r.message);else{const i=ho.create("idb-set",{originalErrorMessage:null===(t=r)||void 0===t?void 0:t.message});yl.warn(i.message)}}})).apply(this,arguments)}function L$(n){return`${n.name}!${n.options.appId}`}class Ode{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new Fde(t),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}triggerHeartbeat(){var e=this;return _(function*(){const r=e.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=V$();if(null===e._heartbeatsCache&&(e._heartbeatsCache=yield e._heartbeatsCachePromise),e._heartbeatsCache.lastSentHeartbeatDate!==i&&!e._heartbeatsCache.heartbeats.some(s=>s.date===i))return e._heartbeatsCache.heartbeats.push({date:i,agent:r}),e._heartbeatsCache.heartbeats=e._heartbeatsCache.heartbeats.filter(s=>{const o=new Date(s.date).valueOf();return Date.now()-o<=2592e6}),e._storage.overwrite(e._heartbeatsCache)})()}getHeartbeatsHeader(){var e=this;return _(function*(){if(null===e._heartbeatsCache&&(yield e._heartbeatsCachePromise),null===e._heartbeatsCache||0===e._heartbeatsCache.heartbeats.length)return"";const t=V$(),{heartbeatsToSend:r,unsentEntries:i}=function Nde(n,e=1024){const t=[];let r=n.slice();for(const i of n){const s=t.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),B$(t)>e){s.dates.pop();break}}else if(t.push({agent:i.agent,dates:[i.date]}),B$(t)>e){t.pop();break}r=r.slice(1)}return{heartbeatsToSend:t,unsentEntries:r}}(e._heartbeatsCache.heartbeats),s=sy(JSON.stringify({version:2,heartbeats:r}));return e._heartbeatsCache.lastSentHeartbeatDate=t,i.length>0?(e._heartbeatsCache.heartbeats=i,yield e._storage.overwrite(e._heartbeatsCache)):(e._heartbeatsCache.heartbeats=[],e._storage.overwrite(e._heartbeatsCache)),s})()}}function V$(){return(new Date).toISOString().substring(0,10)}class Fde{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return _(function*(){return!!ea()&&Tu().then(()=>!0).catch(()=>!1)})()}read(){var e=this;return _(function*(){return(yield e._canUseIndexedDBPromise)&&(yield function kde(n){return oT.apply(this,arguments)}(e.app))||{heartbeats:[]}})()}overwrite(e){var t=this;return _(function*(){var r;if(yield t._canUseIndexedDBPromise){const s=yield t.read();return F$(t.app,{lastSentHeartbeatDate:null!==(r=e.lastSentHeartbeatDate)&&void 0!==r?r:s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}})()}add(e){var t=this;return _(function*(){var r;if(yield t._canUseIndexedDBPromise){const s=yield t.read();return F$(t.app,{lastSentHeartbeatDate:null!==(r=e.lastSentHeartbeatDate)&&void 0!==r?r:s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}})()}}function B$(n){return sy(JSON.stringify({version:2,heartbeats:n})).length}!function Lde(n){hn(new rn("platform-logger",e=>new Zue(e),"PRIVATE")),hn(new rn("heartbeat",e=>new Ode(e),"PRIVATE")),Ae(rT,"0.8.4",n),Ae(rT,"0.8.4","esm2017"),Ae("fire-js","")}(""),Ae("firebase","9.14.0","app");const U$="@firebase/installations",lT="0.5.16",$$=`w:${lT}`,j$="FIS_v2",fo=new $i("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function z$(n){return n instanceof Xr&&n.code.includes("request-failed")}function cT({projectId:n}){return`https://firebaseinstallations.googleapis.com/v1/projects/${n}/installations`}function G$(n){return{token:n.token,requestStatus:2,expiresIn:Gde(n.expiresIn),creationTime:Date.now()}}function uT(n,e){return dT.apply(this,arguments)}function dT(){return(dT=_(function*(n,e){const r=(yield e.json()).error;return fo.create("request-failed",{requestName:n,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})})).apply(this,arguments)}function W$({apiKey:n}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":n})}function q$(n,{refreshToken:e}){const t=W$(n);return t.append("Authorization",function Wde(n){return`${j$} ${n}`}(e)),t}function hT(n){return fT.apply(this,arguments)}function fT(){return(fT=_(function*(n){const e=yield n();return e.status>=500&&e.status<600?n():e})).apply(this,arguments)}function Gde(n){return Number(n.replace("s","000"))}function qde(n,e){return pT.apply(this,arguments)}function pT(){return(pT=_(function*({appConfig:n,heartbeatServiceProvider:e},{fid:t}){const r=cT(n),i=W$(n),s=e.getImmediate({optional:!0});if(s){const c=yield s.getHeartbeatsHeader();c&&i.append("x-firebase-client",c)}const a={method:"POST",headers:i,body:JSON.stringify({fid:t,authVersion:j$,appId:n.appId,sdkVersion:$$})},l=yield hT(()=>fetch(r,a));if(l.ok){const c=yield l.json();return{fid:c.fid||t,registrationStatus:2,refreshToken:c.refreshToken,authToken:G$(c.authToken)}}throw yield uT("Create Installation",l)})).apply(this,arguments)}function K$(n){return new Promise(e=>{setTimeout(e,n)})}const Yde=/^[cdef][\w-]{21}$/;function Qde(){try{const n=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(n),n[0]=112+n[0]%16;const t=function Xde(n){return function Kde(n){return btoa(String.fromCharCode(...n)).replace(/\+/g,"-").replace(/\//g,"_")}(n).substr(0,22)}(n);return Yde.test(t)?t:""}catch{return""}}function Au(n){return`${n.appName}!${n.appId}`}const Mu=new Map;function Y$(n,e){const t=Au(n);Q$(t,e),function ehe(n,e){const t=function X$(){return!bl&&"BroadcastChannel"in self&&(bl=new BroadcastChannel("[Firebase] FID Change"),bl.onmessage=n=>{Q$(n.data.key,n.data.fid)}),bl}();t&&t.postMessage({key:n,fid:e}),function Z$(){0===Mu.size&&bl&&(bl.close(),bl=null)}()}(t,e)}function Q$(n,e){const t=Mu.get(n);if(t)for(const r of t)r(e)}let bl=null;const wl="firebase-installations-store";let gT=null;function _T(){return gT||(gT=fy("firebase-installations-database",1,{upgrade:(n,e)=>{0===e&&n.createObjectStore(wl)}})),gT}function gy(n,e){return yT.apply(this,arguments)}function yT(){return(yT=_(function*(n,e){const t=Au(n),i=(yield _T()).transaction(wl,"readwrite"),s=i.objectStore(wl),o=yield s.get(t);return yield s.put(e,t),yield i.done,(!o||o.fid!==e.fid)&&Y$(n,e.fid),e})).apply(this,arguments)}function vT(n){return bT.apply(this,arguments)}function bT(){return(bT=_(function*(n){const e=Au(n),r=(yield _T()).transaction(wl,"readwrite");yield r.objectStore(wl).delete(e),yield r.done})).apply(this,arguments)}function gf(n,e){return wT.apply(this,arguments)}function wT(){return(wT=_(function*(n,e){const t=Au(n),i=(yield _T()).transaction(wl,"readwrite"),s=i.objectStore(wl),o=yield s.get(t),a=e(o);return void 0===a?yield s.delete(t):yield s.put(a,t),yield i.done,a&&(!o||o.fid!==a.fid)&&Y$(n,a.fid),a})).apply(this,arguments)}function CT(n){return ET.apply(this,arguments)}function ET(){return(ET=_(function*(n){let e;const t=yield gf(n.appConfig,r=>{const i=rhe(r),s=ihe(n,i);return e=s.registrationPromise,s.installationEntry});return""===t.fid?{installationEntry:yield e}:{installationEntry:t,registrationPromise:e}})).apply(this,arguments)}function rhe(n){return ej(n||{fid:Qde(),registrationStatus:0})}function ihe(n,e){if(0===e.registrationStatus){if(!navigator.onLine)return{installationEntry:e,registrationPromise:Promise.reject(fo.create("app-offline"))};const t={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},r=function she(n,e){return IT.apply(this,arguments)}(n,t);return{installationEntry:t,registrationPromise:r}}return 1===e.registrationStatus?{installationEntry:e,registrationPromise:ohe(n)}:{installationEntry:e}}function IT(){return(IT=_(function*(n,e){try{const t=yield qde(n,e);return gy(n.appConfig,t)}catch(t){throw z$(t)&&409===t.customData.serverCode?yield vT(n.appConfig):yield gy(n.appConfig,{fid:e.fid,registrationStatus:0}),t}})).apply(this,arguments)}function ohe(n){return TT.apply(this,arguments)}function TT(){return(TT=_(function*(n){let e=yield J$(n.appConfig);for(;1===e.registrationStatus;)yield K$(100),e=yield J$(n.appConfig);if(0===e.registrationStatus){const{installationEntry:t,registrationPromise:r}=yield CT(n);return r||t}return e})).apply(this,arguments)}function J$(n){return gf(n,e=>{if(!e)throw fo.create("installation-not-found");return ej(e)})}function ej(n){return function ahe(n){return 1===n.registrationStatus&&n.registrationTime+1e4<Date.now()}(n)?{fid:n.fid,registrationStatus:0}:n}function lhe(n,e){return ST.apply(this,arguments)}function ST(){return(ST=_(function*({appConfig:n,heartbeatServiceProvider:e},t){const r=che(n,t),i=q$(n,t),s=e.getImmediate({optional:!0});if(s){const c=yield s.getHeartbeatsHeader();c&&i.append("x-firebase-client",c)}const a={method:"POST",headers:i,body:JSON.stringify({installation:{sdkVersion:$$,appId:n.appId}})},l=yield hT(()=>fetch(r,a));if(l.ok)return G$(yield l.json());throw yield uT("Generate Auth Token",l)})).apply(this,arguments)}function che(n,{fid:e}){return`${cT(n)}/${e}/authTokens:generate`}function DT(n){return AT.apply(this,arguments)}function AT(){return(AT=_(function*(n,e=!1){let t;const r=yield gf(n.appConfig,s=>{if(!nj(s))throw fo.create("not-registered");const o=s.authToken;if(!e&&hhe(o))return s;if(1===o.requestStatus)return t=uhe(n,e),s;{if(!navigator.onLine)throw fo.create("app-offline");const a=phe(s);return t=dhe(n,a),a}});return t?yield t:r.authToken})).apply(this,arguments)}function uhe(n,e){return MT.apply(this,arguments)}function MT(){return(MT=_(function*(n,e){let t=yield tj(n.appConfig);for(;1===t.authToken.requestStatus;)yield K$(100),t=yield tj(n.appConfig);const r=t.authToken;return 0===r.requestStatus?DT(n,e):r})).apply(this,arguments)}function tj(n){return gf(n,e=>{if(!nj(e))throw fo.create("not-registered");return function mhe(n){return 1===n.requestStatus&&n.requestTime+1e4<Date.now()}(e.authToken)?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e})}function dhe(n,e){return xT.apply(this,arguments)}function xT(){return(xT=_(function*(n,e){try{const t=yield lhe(n,e),r=Object.assign(Object.assign({},e),{authToken:t});return yield gy(n.appConfig,r),t}catch(t){if(!z$(t)||401!==t.customData.serverCode&&404!==t.customData.serverCode){const r=Object.assign(Object.assign({},e),{authToken:{requestStatus:0}});yield gy(n.appConfig,r)}else yield vT(n.appConfig);throw t}})).apply(this,arguments)}function nj(n){return void 0!==n&&2===n.registrationStatus}function hhe(n){return 2===n.requestStatus&&!function fhe(n){const e=Date.now();return e<n.creationTime||n.creationTime+n.expiresIn<e+36e5}(n)}function phe(n){const e={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},n),{authToken:e})}function kT(){return(kT=_(function*(n){const e=n,{installationEntry:t,registrationPromise:r}=yield CT(e);return r?r.catch(console.error):DT(e).catch(console.error),t.fid})).apply(this,arguments)}function RT(){return(RT=_(function*(n,e=!1){const t=n;return yield yhe(t),(yield DT(t,e)).token})).apply(this,arguments)}function yhe(n){return PT.apply(this,arguments)}function PT(){return(PT=_(function*(n){const{registrationPromise:e}=yield CT(n);e&&(yield e)})).apply(this,arguments)}function FT(n){return fo.create("missing-app-config-values",{valueName:n})}const rj="installations",Ehe=n=>{const e=n.getProvider("app").getImmediate(),t=function whe(n){if(!n||!n.options)throw FT("App Configuration");if(!n.name)throw FT("App Name");const e=["projectId","apiKey","appId"];for(const t of e)if(!n.options[t])throw FT(t);return{appName:n.name,projectId:n.options.projectId,apiKey:n.options.apiKey,appId:n.options.appId}}(e);return{app:e,appConfig:t,heartbeatServiceProvider:Ar(e,"heartbeat"),_delete:()=>Promise.resolve()}},Ihe=n=>{const t=Ar(n.getProvider("app").getImmediate(),rj).getImmediate();return{getId:()=>function ghe(n){return kT.apply(this,arguments)}(t),getToken:i=>function _he(n){return RT.apply(this,arguments)}(t,i)}};(function The(){hn(new rn(rj,Ehe,"PUBLIC")),hn(new rn("installations-internal",Ihe,"PRIVATE"))})(),Ae(U$,lT),Ae(U$,lT,"esm2017");const LT="@firebase/remote-config",sj="remote-config",Mr=new $i("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});function Rhe(n=fs()){return Ar(n=Ge(n),sj).getImmediate()}class Lhe{constructor(e,t,r,i){this.client=e,this.storage=t,this.storageCache=r,this.logger=i}isCachedDataFresh(e,t){if(!t)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const r=Date.now()-t,i=r<=e;return this.logger.debug(`Config fetch cache check. Cache age millis: ${r}. Cache max age millis (minimumFetchIntervalMillis setting): ${e}. Is cache hit: ${i}.`),i}fetch(e){var t=this;return _(function*(){const[r,i]=yield Promise.all([t.storage.getLastSuccessfulFetchTimestampMillis(),t.storage.getLastSuccessfulFetchResponse()]);if(i&&t.isCachedDataFresh(e.cacheMaxAgeMillis,r))return i;e.eTag=i&&i.eTag;const s=yield t.client.fetch(e),o=[t.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===s.status&&o.push(t.storage.setLastSuccessfulFetchResponse(s)),yield Promise.all(o),s})()}}function Vhe(n=navigator){return n.languages&&n.languages[0]||n.language}class Bhe{constructor(e,t,r,i,s,o){this.firebaseInstallations=e,this.sdkVersion=t,this.namespace=r,this.projectId=i,this.apiKey=s,this.appId=o}fetch(e){var t=this;return _(function*(){var r,i,s;const[o,a]=yield Promise.all([t.firebaseInstallations.getId(),t.firebaseInstallations.getToken()]),c=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${t.projectId}/namespaces/${t.namespace}:fetch?key=${t.apiKey}`,u={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":e.eTag||"*"},d={sdk_version:t.sdkVersion,app_instance_id:o,app_instance_id_token:a,app_id:t.appId,language_code:Vhe()},h={method:"POST",headers:u,body:JSON.stringify(d)},f=fetch(c,h),p=new Promise((M,L)=>{e.signal.addEventListener(()=>{const U=new Error("The operation was aborted.");U.name="AbortError",L(U)})});let m;try{yield Promise.race([f,p]),m=yield f}catch(M){let L="fetch-client-network";throw"AbortError"===(null===(r=M)||void 0===r?void 0:r.name)&&(L="fetch-timeout"),Mr.create(L,{originalErrorMessage:null===(i=M)||void 0===i?void 0:i.message})}let g=m.status;const b=m.headers.get("ETag")||void 0;let E,v;if(200===m.status){let M;try{M=yield m.json()}catch(L){throw Mr.create("fetch-client-parse",{originalErrorMessage:null===(s=L)||void 0===s?void 0:s.message})}E=M.entries,v=M.state}if("INSTANCE_STATE_UNSPECIFIED"===v?g=500:"NO_CHANGE"===v?g=304:("NO_TEMPLATE"===v||"EMPTY_CONFIG"===v)&&(E={}),304!==g&&200!==g)throw Mr.create("fetch-status",{httpStatus:g});return{status:g,eTag:b,config:E}})()}}class $he{constructor(e,t){this.client=e,this.storage=t}fetch(e){var t=this;return _(function*(){const r=(yield t.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return t.attemptFetch(e,r)})()}attemptFetch(e,{throttleEndTimeMillis:t,backoffCount:r}){var i=this;return _(function*(){yield function Uhe(n,e){return new Promise((t,r)=>{const i=Math.max(e-Date.now(),0),s=setTimeout(t,i);n.addEventListener(()=>{clearTimeout(s),r(Mr.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}(e.signal,t);try{const s=yield i.client.fetch(e);return yield i.storage.deleteThrottleMetadata(),s}catch(s){if(!function Hhe(n){if(!(n instanceof Xr&&n.customData))return!1;const e=Number(n.customData.httpStatus);return 429===e||500===e||503===e||504===e}(s))throw s;const o={throttleEndTimeMillis:Date.now()+KI(r),backoffCount:r+1};return yield i.storage.setThrottleMetadata(o),i.attemptFetch(e,o)}})()}}class Ghe{constructor(e,t,r,i,s){this.app=e,this._client=t,this._storageCache=r,this._storage=i,this._logger=s,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function yy(n,e){var t;const r=n.target.error||void 0;return Mr.create(e,{originalErrorMessage:r&&(null===(t=r)||void 0===t?void 0:t.message)})}const Cl="app_namespace_store";class Yhe{constructor(e,t,r,i=function Khe(){return new Promise((n,e)=>{var t;try{const r=indexedDB.open("firebase_remote_config",1);r.onerror=i=>{e(yy(i,"storage-open"))},r.onsuccess=i=>{n(i.target.result)},r.onupgradeneeded=i=>{0===i.oldVersion&&i.target.result.createObjectStore(Cl,{keyPath:"compositeKey"})}}catch(r){e(Mr.create("storage-open",{originalErrorMessage:null===(t=r)||void 0===t?void 0:t.message}))}})}()){this.appId=e,this.appName=t,this.namespace=r,this.openDbPromise=i}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(e){return this.set("last_fetch_status",e)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(e){return this.set("last_successful_fetch_timestamp_millis",e)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(e){return this.set("last_successful_fetch_response",e)}getActiveConfig(){return this.get("active_config")}setActiveConfig(e){return this.set("active_config",e)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(e){return this.set("active_config_etag",e)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(e){return this.set("throttle_metadata",e)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(e){var t=this;return _(function*(){const r=yield t.openDbPromise;return new Promise((i,s)=>{var o;const l=r.transaction([Cl],"readonly").objectStore(Cl),c=t.createCompositeKey(e);try{const u=l.get(c);u.onerror=d=>{s(yy(d,"storage-get"))},u.onsuccess=d=>{const h=d.target.result;i(h?h.value:void 0)}}catch(u){s(Mr.create("storage-get",{originalErrorMessage:null===(o=u)||void 0===o?void 0:o.message}))}})})()}set(e,t){var r=this;return _(function*(){const i=yield r.openDbPromise;return new Promise((s,o)=>{var a;const c=i.transaction([Cl],"readwrite").objectStore(Cl),u=r.createCompositeKey(e);try{const d=c.put({compositeKey:u,value:t});d.onerror=h=>{o(yy(h,"storage-set"))},d.onsuccess=()=>{s()}}catch(d){o(Mr.create("storage-set",{originalErrorMessage:null===(a=d)||void 0===a?void 0:a.message}))}})})()}delete(e){var t=this;return _(function*(){const r=yield t.openDbPromise;return new Promise((i,s)=>{var o;const l=r.transaction([Cl],"readwrite").objectStore(Cl),c=t.createCompositeKey(e);try{const u=l.delete(c);u.onerror=d=>{s(yy(d,"storage-delete"))},u.onsuccess=()=>{i()}}catch(u){s(Mr.create("storage-delete",{originalErrorMessage:null===(o=u)||void 0===o?void 0:o.message}))}})})()}createCompositeKey(e){return[this.appId,this.appName,this.namespace,e].join()}}class Qhe{constructor(e){this.storage=e}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var e=this;return _(function*(){const t=e.storage.getLastFetchStatus(),r=e.storage.getLastSuccessfulFetchTimestampMillis(),i=e.storage.getActiveConfig(),s=yield t;s&&(e.lastFetchStatus=s);const o=yield r;o&&(e.lastSuccessfulFetchTimestampMillis=o);const a=yield i;a&&(e.activeConfig=a)})()}setLastFetchStatus(e){return this.lastFetchStatus=e,this.storage.setLastFetchStatus(e)}setLastSuccessfulFetchTimestampMillis(e){return this.lastSuccessfulFetchTimestampMillis=e,this.storage.setLastSuccessfulFetchTimestampMillis(e)}setActiveConfig(e){return this.activeConfig=e,this.storage.setActiveConfig(e)}}function Zhe(){return $T.apply(this,arguments)}function $T(){return($T=_(function*(){if(!ea())return!1;try{return yield Tu()}catch{return!1}})).apply(this,arguments)}!function Xhe(){hn(new rn(sj,function n(e,{instanceIdentifier:t}){const r=e.getProvider("app").getImmediate(),i=e.getProvider("installations-internal").getImmediate();if(typeof window>"u")throw Mr.create("registration-window");if(!ea())throw Mr.create("indexed-db-unavailable");const{projectId:s,apiKey:o,appId:a}=r.options;if(!s)throw Mr.create("registration-project-id");if(!o)throw Mr.create("registration-api-key");if(!a)throw Mr.create("registration-app-id");const l=new Yhe(a,r.name,t=t||"firebase"),c=new Qhe(l),u=new ta(LT);u.logLevel=Ne.ERROR;const d=new Bhe(i,na,t,s,o,a),h=new $he(d,l),f=new Lhe(h,l,c,u),p=new Ghe(r,f,c,l,u);return function Ohe(n){const e=Ge(n);e._initializePromise||(e._initializePromise=e._storageCache.loadFromStorage().then(()=>{e._isInitializationComplete=!0}))}(p),p},"PUBLIC").setMultipleInstances(!0)),Ae(LT,"0.3.15"),Ae(LT,"0.3.15","esm2017")}();const Jhe="/firebase-messaging-sw.js",efe="/firebase-cloud-messaging-push-scope",aj="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",lj="google.c.a.c_id",nfe="google.c.a.c_l",rfe="google.c.a.ts",ife="google.c.a.e";var xu=(()=>{return(n=xu||(xu={})).PUSH_RECEIVED="push-received",n.NOTIFICATION_CLICKED="notification-clicked",xu;var n})();function po(n){const e=new Uint8Array(n);return btoa(String.fromCharCode(...e)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function sfe(n){const t=(n+"=".repeat((4-n.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),r=atob(t),i=new Uint8Array(r.length);for(let s=0;s<r.length;++s)i[s]=r.charCodeAt(s);return i}const jT="fcm_token_details_db",cj="fcm_token_object_Store";function afe(n){return zT.apply(this,arguments)}function zT(){return zT=_(function*(n){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(s=>s.name).includes(jT))return null;let e=null;return(yield fy(jT,5,{upgrade:(r=_(function*(i,s,o,a){var l;if(s<2||!i.objectStoreNames.contains(cj))return;const c=a.objectStore(cj),u=yield c.index("fcmSenderId").get(n);if(yield c.clear(),u)if(2===s){const d=u;if(!d.auth||!d.p256dh||!d.endpoint)return;e={token:d.fcmToken,createTime:null!==(l=d.createTime)&&void 0!==l?l:Date.now(),subscriptionOptions:{auth:d.auth,p256dh:d.p256dh,endpoint:d.endpoint,swScope:d.swScope,vapidKey:"string"==typeof d.vapidKey?d.vapidKey:po(d.vapidKey)}}}else if(3===s){const d=u;e={token:d.fcmToken,createTime:d.createTime,subscriptionOptions:{auth:po(d.auth),p256dh:po(d.p256dh),endpoint:d.endpoint,swScope:d.swScope,vapidKey:po(d.vapidKey)}}}else if(4===s){const d=u;e={token:d.fcmToken,createTime:d.createTime,subscriptionOptions:{auth:po(d.auth),p256dh:po(d.p256dh),endpoint:d.endpoint,swScope:d.swScope,vapidKey:po(d.vapidKey)}}}}),function(s,o,a,l){return r.apply(this,arguments)})})).close(),yield tT(jT),yield tT("fcm_vapid_details_db"),yield tT("undefined"),lfe(e)?e:null;var r}),zT.apply(this,arguments)}function lfe(n){if(!n||!n.subscriptionOptions)return!1;const{subscriptionOptions:e}=n;return"number"==typeof n.createTime&&n.createTime>0&&"string"==typeof n.token&&n.token.length>0&&"string"==typeof e.auth&&e.auth.length>0&&"string"==typeof e.p256dh&&e.p256dh.length>0&&"string"==typeof e.endpoint&&e.endpoint.length>0&&"string"==typeof e.swScope&&e.swScope.length>0&&"string"==typeof e.vapidKey&&e.vapidKey.length>0}const El="firebase-messaging-store";let GT=null;function WT(){return GT||(GT=fy("firebase-messaging-database",1,{upgrade:(n,e)=>{0===e&&n.createObjectStore(El)}})),GT}function uj(n){return qT.apply(this,arguments)}function qT(){return(qT=_(function*(n){const e=XT(n),r=yield(yield WT()).transaction(El).objectStore(El).get(e);if(r)return r;{const i=yield afe(n.appConfig.senderId);if(i)return yield KT(n,i),i}})).apply(this,arguments)}function KT(n,e){return YT.apply(this,arguments)}function YT(){return(YT=_(function*(n,e){const t=XT(n),i=(yield WT()).transaction(El,"readwrite");return yield i.objectStore(El).put(e,t),yield i.done,e})).apply(this,arguments)}function dfe(n){return QT.apply(this,arguments)}function QT(){return(QT=_(function*(n){const e=XT(n),r=(yield WT()).transaction(El,"readwrite");yield r.objectStore(El).delete(e),yield r.done})).apply(this,arguments)}function XT({appConfig:n}){return n.appId}const Ln=new $i("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function ffe(n,e){return ZT.apply(this,arguments)}function ZT(){return(ZT=_(function*(n,e){var t;const r=yield nS(n),i=hj(e),s={method:"POST",headers:r,body:JSON.stringify(i)};let o;try{o=yield(yield fetch(tS(n.appConfig),s)).json()}catch(a){throw Ln.create("token-subscribe-failed",{errorInfo:null===(t=a)||void 0===t?void 0:t.toString()})}if(o.error)throw Ln.create("token-subscribe-failed",{errorInfo:o.error.message});if(!o.token)throw Ln.create("token-subscribe-no-token");return o.token})).apply(this,arguments)}function pfe(n,e){return JT.apply(this,arguments)}function JT(){return(JT=_(function*(n,e){var t;const r=yield nS(n),i=hj(e.subscriptionOptions),s={method:"PATCH",headers:r,body:JSON.stringify(i)};let o;try{o=yield(yield fetch(`${tS(n.appConfig)}/${e.token}`,s)).json()}catch(a){throw Ln.create("token-update-failed",{errorInfo:null===(t=a)||void 0===t?void 0:t.toString()})}if(o.error)throw Ln.create("token-update-failed",{errorInfo:o.error.message});if(!o.token)throw Ln.create("token-update-no-token");return o.token})).apply(this,arguments)}function dj(n,e){return eS.apply(this,arguments)}function eS(){return(eS=_(function*(n,e){var t;const i={method:"DELETE",headers:yield nS(n)};try{const o=yield(yield fetch(`${tS(n.appConfig)}/${e}`,i)).json();if(o.error)throw Ln.create("token-unsubscribe-failed",{errorInfo:o.error.message})}catch(s){throw Ln.create("token-unsubscribe-failed",{errorInfo:null===(t=s)||void 0===t?void 0:t.toString()})}})).apply(this,arguments)}function tS({projectId:n}){return`https://fcmregistrations.googleapis.com/v1/projects/${n}/registrations`}function nS(n){return rS.apply(this,arguments)}function rS(){return(rS=_(function*({appConfig:n,installations:e}){const t=yield e.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":n.apiKey,"x-goog-firebase-installations-auth":`FIS ${t}`})})).apply(this,arguments)}function hj({p256dh:n,auth:e,endpoint:t,vapidKey:r}){const i={web:{endpoint:t,auth:e,p256dh:n}};return r!==aj&&(i.web.applicationPubKey=r),i}function gfe(n){return iS.apply(this,arguments)}function iS(){return(iS=_(function*(n){const e=yield yfe(n.swRegistration,n.vapidKey),t={vapidKey:n.vapidKey,swScope:n.swRegistration.scope,endpoint:e.endpoint,auth:po(e.getKey("auth")),p256dh:po(e.getKey("p256dh"))},r=yield uj(n.firebaseDependencies);if(r){if(vfe(r.subscriptionOptions,t))return Date.now()>=r.createTime+6048e5?_fe(n,{token:r.token,createTime:Date.now(),subscriptionOptions:t}):r.token;try{yield dj(n.firebaseDependencies,r.token)}catch(i){console.warn(i)}return pj(n.firebaseDependencies,t)}return pj(n.firebaseDependencies,t)})).apply(this,arguments)}function fj(n){return sS.apply(this,arguments)}function sS(){return(sS=_(function*(n){const e=yield uj(n.firebaseDependencies);e&&(yield dj(n.firebaseDependencies,e.token),yield dfe(n.firebaseDependencies));const t=yield n.swRegistration.pushManager.getSubscription();return!t||t.unsubscribe()})).apply(this,arguments)}function _fe(n,e){return oS.apply(this,arguments)}function oS(){return(oS=_(function*(n,e){try{const t=yield pfe(n.firebaseDependencies,e),r=Object.assign(Object.assign({},e),{token:t,createTime:Date.now()});return yield KT(n.firebaseDependencies,r),t}catch(t){throw yield fj(n),t}})).apply(this,arguments)}function pj(n,e){return aS.apply(this,arguments)}function aS(){return(aS=_(function*(n,e){const r={token:yield ffe(n,e),createTime:Date.now(),subscriptionOptions:e};return yield KT(n,r),r.token})).apply(this,arguments)}function yfe(n,e){return lS.apply(this,arguments)}function lS(){return(lS=_(function*(n,e){return(yield n.pushManager.getSubscription())||n.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:sfe(e)})})).apply(this,arguments)}function vfe(n,e){return e.vapidKey===n.vapidKey&&e.endpoint===n.endpoint&&e.auth===n.auth&&e.p256dh===n.p256dh}function mj(n){const e={from:n.from,collapseKey:n.collapse_key,messageId:n.fcmMessageId};return function bfe(n,e){if(!e.notification)return;n.notification={};const t=e.notification.title;t&&(n.notification.title=t);const r=e.notification.body;r&&(n.notification.body=r);const i=e.notification.image;i&&(n.notification.image=i);const s=e.notification.icon;s&&(n.notification.icon=s)}(e,n),function wfe(n,e){!e.data||(n.data=e.data)}(e,n),function Cfe(n,e){var t,r,i,s,o;if(!(e.fcmOptions||null!==(t=e.notification)&&void 0!==t&&t.click_action))return;n.fcmOptions={};const a=null!==(i=null===(r=e.fcmOptions)||void 0===r?void 0:r.link)&&void 0!==i?i:null===(s=e.notification)||void 0===s?void 0:s.click_action;a&&(n.fcmOptions.link=a);const l=null===(o=e.fcmOptions)||void 0===o?void 0:o.analytics_label;l&&(n.fcmOptions.analyticsLabel=l)}(e,n),e}function Efe(n){return"object"==typeof n&&!!n&&lj in n}function gj(n,e){const t=[];for(let r=0;r<n.length;r++)t.push(n.charAt(r)),r<e.length&&t.push(e.charAt(r));return t.join("")}function cS(n){return Ln.create("missing-app-config-values",{valueName:n})}gj("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),gj("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class Tfe{constructor(e,t,r){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const i=function Ife(n){if(!n||!n.options)throw cS("App Configuration Object");if(!n.name)throw cS("App Name");const e=["projectId","apiKey","appId","messagingSenderId"],{options:t}=n;for(const r of e)if(!t[r])throw cS(r);return{appName:n.name,projectId:t.projectId,apiKey:t.apiKey,appId:t.appId,senderId:t.messagingSenderId}}(e);this.firebaseDependencies={app:e,appConfig:i,installations:t,analyticsProvider:r}}_delete(){return Promise.resolve()}}function _j(n){return uS.apply(this,arguments)}function uS(){return(uS=_(function*(n){var e;try{n.swRegistration=yield navigator.serviceWorker.register(Jhe,{scope:efe}),n.swRegistration.update().catch(()=>{})}catch(t){throw Ln.create("failed-service-worker-registration",{browserErrorMessage:null===(e=t)||void 0===e?void 0:e.message})}})).apply(this,arguments)}function Sfe(n,e){return dS.apply(this,arguments)}function dS(){return(dS=_(function*(n,e){if(!e&&!n.swRegistration&&(yield _j(n)),e||!n.swRegistration){if(!(e instanceof ServiceWorkerRegistration))throw Ln.create("invalid-sw-registration");n.swRegistration=e}})).apply(this,arguments)}function Dfe(n,e){return hS.apply(this,arguments)}function hS(){return(hS=_(function*(n,e){e?n.vapidKey=e:n.vapidKey||(n.vapidKey=aj)})).apply(this,arguments)}function fS(){return(fS=_(function*(n,e){if(!navigator)throw Ln.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw Ln.create("permission-blocked");return yield Dfe(n,e?.vapidKey),yield Sfe(n,e?.serviceWorkerRegistration),gfe(n)})).apply(this,arguments)}function Afe(n,e,t){return pS.apply(this,arguments)}function pS(){return(pS=_(function*(n,e,t){const r=Mfe(e);(yield n.firebaseDependencies.analyticsProvider.get()).logEvent(r,{message_id:t[lj],message_name:t[nfe],message_time:t[rfe],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function Mfe(n){switch(n){case xu.NOTIFICATION_CLICKED:return"notification_open";case xu.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}function mS(){return(mS=_(function*(n,e){const t=e.data;if(!t.isFirebaseMessaging)return;n.onMessageHandler&&t.messageType===xu.PUSH_RECEIVED&&("function"==typeof n.onMessageHandler?n.onMessageHandler(mj(t)):n.onMessageHandler.next(mj(t)));const r=t.data;Efe(r)&&"1"===r[ife]&&(yield Afe(n,t.messageType,r))})).apply(this,arguments)}const vj="@firebase/messaging",kfe=n=>{const e=new Tfe(n.getProvider("app").getImmediate(),n.getProvider("installations-internal").getImmediate(),n.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",t=>function xfe(n,e){return mS.apply(this,arguments)}(e,t)),e},Rfe=n=>{const e=n.getProvider("messaging").getImmediate();return{getToken:r=>function yj(n,e){return fS.apply(this,arguments)}(e,r)}};function wj(){return gS.apply(this,arguments)}function gS(){return(gS=_(function*(){try{yield Tu()}catch{return!1}return typeof window<"u"&&ea()&&ay()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}function Ffe(n=fs()){return wj().then(e=>{if(!e)throw Ln.create("unsupported-browser")},e=>{throw Ln.create("indexed-db-unsupported")}),Ar(Ge(n),"messaging").getImmediate()}!function Pfe(){hn(new rn("messaging",kfe,"PUBLIC")),hn(new rn("messaging-internal",Rfe,"PRIVATE")),Ae(vj,"0.11.0"),Ae(vj,"0.11.0","esm2017")}();const vy="analytics",Lfe="firebase_id",Ufe="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",Cj="https://www.googletagmanager.com/gtag/js",Vn=new ta("@firebase/analytics");function Ej(n){return Promise.all(n.map(e=>e.catch(t=>t)))}function Hfe(n,e){const t=document.createElement("script");t.src=`${Cj}?l=${n}&id=${e}`,t.async=!0,document.head.appendChild(t)}function jfe(n,e,t,r,i,s){return vS.apply(this,arguments)}function vS(){return(vS=_(function*(n,e,t,r,i,s){const o=r[i];try{if(o)yield e[o];else{const l=(yield Ej(t)).find(c=>c.measurementId===i);l&&(yield e[l.appId])}}catch(a){Vn.error(a)}n("config",i,s)})).apply(this,arguments)}function zfe(n,e,t,r,i){return bS.apply(this,arguments)}function bS(){return(bS=_(function*(n,e,t,r,i){try{let s=[];if(i&&i.send_to){let o=i.send_to;Array.isArray(o)||(o=[o]);const a=yield Ej(t);for(const l of o){const c=a.find(d=>d.measurementId===l),u=c&&e[c.appId];if(!u){s=[];break}s.push(u)}}0===s.length&&(s=Object.values(e)),yield Promise.all(s),n("event",r,i||{})}catch(s){Vn.error(s)}})).apply(this,arguments)}function qfe(n){const e=window.document.getElementsByTagName("script");for(const t of Object.values(e))if(t.src&&t.src.includes(Cj)&&t.src.includes(n))return t;return null}const Zr=new $i("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.'}),Ij=new class Xfe{constructor(e={},t=1e3){this.throttleMetadata=e,this.intervalMillis=t}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,t){this.throttleMetadata[e]=t}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}};function Zfe(n){return new Headers({Accept:"application/json","x-goog-api-key":n})}function Jfe(n){return wS.apply(this,arguments)}function wS(){return(wS=_(function*(n){var e;const{appId:t,apiKey:r}=n,i={method:"GET",headers:Zfe(r)},s=Ufe.replace("{app-id}",t),o=yield fetch(s,i);if(200!==o.status&&304!==o.status){let a="";try{const l=yield o.json();null!==(e=l.error)&&void 0!==e&&e.message&&(a=l.error.message)}catch{}throw Zr.create("config-fetch-failed",{httpStatus:o.status,responseMessage:a})}return o.json()})).apply(this,arguments)}function epe(n){return CS.apply(this,arguments)}function CS(){return(CS=_(function*(n,e=Ij,t){const{appId:r,apiKey:i,measurementId:s}=n.options;if(!r)throw Zr.create("no-app-id");if(!i){if(s)return{measurementId:s,appId:r};throw Zr.create("no-api-key")}const o=e.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},a=new rpe;return setTimeout(_(function*(){a.abort()}),void 0!==t?t:6e4),Tj({appId:r,apiKey:i,measurementId:s},o,a,e)})).apply(this,arguments)}function Tj(n,e,t){return ES.apply(this,arguments)}function ES(){return(ES=_(function*(n,{throttleEndTimeMillis:e,backoffCount:t},r,i=Ij){var s,o;const{appId:a,measurementId:l}=n;try{yield tpe(r,e)}catch(c){if(l)return Vn.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${l} provided in the "measurementId" field in the local Firebase config. [${null===(s=c)||void 0===s?void 0:s.message}]`),{appId:a,measurementId:l};throw c}try{const c=yield Jfe(n);return i.deleteThrottleMetadata(a),c}catch(c){const u=c;if(!npe(u)){if(i.deleteThrottleMetadata(a),l)return Vn.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${l} provided in the "measurementId" field in the local Firebase config. [${u?.message}]`),{appId:a,measurementId:l};throw c}const d=503===Number(null===(o=u?.customData)||void 0===o?void 0:o.httpStatus)?KI(t,i.intervalMillis,30):KI(t,i.intervalMillis),h={throttleEndTimeMillis:Date.now()+d,backoffCount:t+1};return i.setThrottleMetadata(a,h),Vn.debug(`Calling attemptFetch again in ${d} millis`),Tj(n,h,r,i)}})).apply(this,arguments)}function tpe(n,e){return new Promise((t,r)=>{const i=Math.max(e-Date.now(),0),s=setTimeout(t,i);n.addEventListener(()=>{clearTimeout(s),r(Zr.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function npe(n){if(!(n instanceof Xr&&n.customData))return!1;const e=Number(n.customData.httpStatus);return 429===e||500===e||503===e||504===e}class rpe{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}let IS,xS;function TS(){return(TS=_(function*(n,e,t,r,i){if(i&&i.global)n("event",t,r);else{const s=yield e;n("event",t,Object.assign(Object.assign({},r),{send_to:s}))}})).apply(this,arguments)}function DS(){return(DS=_(function*(n,e,t,r){if(r&&r.global)return n("set",{user_id:t}),Promise.resolve();n("config",yield e,{update:!0,user_id:t})})).apply(this,arguments)}function Sj(n){xS=n}function Dj(n){IS=n}function cpe(){return kS.apply(this,arguments)}function kS(){return(kS=_(function*(){var n;if(!ea())return Vn.warn(Zr.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield Tu()}catch(e){return Vn.warn(Zr.create("indexeddb-unavailable",{errorInfo:null===(n=e)||void 0===n?void 0:n.toString()}).message),!1}return!0})).apply(this,arguments)}function RS(){return(RS=_(function*(n,e,t,r,i,s,o){var a;const l=epe(n);l.then(f=>{t[f.measurementId]=f.appId,n.options.measurementId&&f.measurementId!==n.options.measurementId&&Vn.warn(`The measurement ID in the local Firebase config (${n.options.measurementId}) does not match the measurement ID fetched from the server (${f.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(f=>Vn.error(f)),e.push(l);const c=cpe().then(f=>{if(f)return r.getId()}),[u,d]=yield Promise.all([l,c]);qfe(s)||Hfe(s,u.measurementId),xS&&(i("consent","default",xS),Sj(void 0)),i("js",new Date);const h=null!==(a=o?.config)&&void 0!==a?a:{};return h.origin="firebase",h.update=!0,null!=d&&(h[Lfe]=d),i("config",u.measurementId,h),IS&&(i("set",IS),Dj(void 0)),u.measurementId})).apply(this,arguments)}class dpe{constructor(e){this.app=e}_delete(){return delete mo[this.app.options.appId],Promise.resolve()}}let mo={},Aj=[];const Mj={};let kj,go,by="dataLayer",PS=!1;function fpe(n,e,t){!function hpe(){const n=[];if(jI()&&n.push("This is a browser extension environment."),ay()||n.push("Cookies are not available."),n.length>0){const e=n.map((r,i)=>`(${i+1}) ${r}`).join(" "),t=Zr.create("invalid-analytics-context",{errorInfo:e});Vn.warn(t.message)}}();const r=n.options.appId;if(!r)throw Zr.create("no-app-id");if(!n.options.apiKey){if(!n.options.measurementId)throw Zr.create("no-api-key");Vn.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${n.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=mo[r])throw Zr.create("already-exists",{id:r});if(!PS){!function $fe(n){let e=[];Array.isArray(window[n])?e=window[n]:window[n]=e}(by);const{wrappedGtag:s,gtagCore:o}=function Wfe(n,e,t,r,i){let s=function(...o){window[r].push(arguments)};return window[i]&&"function"==typeof window[i]&&(s=window[i]),window[i]=function Gfe(n,e,t,r){function s(){return(s=_(function*(o,a,l){try{"event"===o?yield zfe(n,e,t,a,l):"config"===o?yield jfe(n,e,t,r,a,l):"consent"===o?n("consent","update",l):n("set",a)}catch(c){Vn.error(c)}})).apply(this,arguments)}return function i(o,a,l){return s.apply(this,arguments)}}(s,n,e,t),{gtagCore:s,wrappedGtag:window[i]}}(mo,Aj,Mj,by,"gtag");go=s,kj=o,PS=!0}return mo[r]=function upe(n,e,t,r,i,s,o){return RS.apply(this,arguments)}(n,Aj,Mj,e,kj,by,t),new dpe(n)}function ppe(n=fs()){const e=Ar(n=Ge(n),vy);return e.isInitialized()?e.getImmediate():function mpe(n,e={}){const t=Ar(n,vy);if(t.isInitialized()){const i=t.getImmediate();if(df(e,t.getOptions()))return i;throw Zr.create("already-initialized")}return t.initialize({options:e})}(n)}function gpe(){return OS.apply(this,arguments)}function OS(){return(OS=_(function*(){if(jI()||!ay()||!ea())return!1;try{return yield Tu()}catch{return!1}})).apply(this,arguments)}function _pe(n,e,t){n=Ge(n),function ope(n,e,t,r){return DS.apply(this,arguments)}(go,mo[n.app.options.appId],e,t).catch(r=>Vn.error(r))}function Rj(n,e,t,r){n=Ge(n),function ipe(n,e,t,r,i){return TS.apply(this,arguments)}(go,mo[n.app.options.appId],e,t,r).catch(i=>Vn.error(i))}const Pj="@firebase/analytics";!function ype(){hn(new rn(vy,(e,{options:t})=>fpe(e.getProvider("app").getImmediate(),e.getProvider("installations-internal").getImmediate(),t),"PUBLIC")),hn(new rn("analytics-internal",function n(e){try{const t=e.getProvider(vy).getImmediate();return{logEvent:(r,i,s)=>Rj(t,r,i,s)}}catch(t){throw Zr.create("interop-component-reg-failed",{reason:t})}},"PRIVATE")),Ae(Pj,"0.8.4"),Ae(Pj,"0.8.4","esm2017")}();const wpe=new class bpe extends G_{}(class vpe extends z_{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}schedule(e,t=0){return t>0?super.schedule(e,t):(this.delay=t,this.state=e,this.scheduler.flush(this),this)}execute(e,t){return t>0||this.closed?super.execute(e,t):this._execute(e,t)}requestAsyncId(e,t,r=0){return null!=r&&r>0||null==r&&this.delay>0?super.requestAsyncId(e,t,r):(e.flush(this),0)}}),Jr=new js("7.5.0"),NS="__angularfire_symbol__analyticsIsSupportedValue",FS="__angularfire_symbol__analyticsIsSupported",LS="__angularfire_symbol__remoteConfigIsSupportedValue",VS="__angularfire_symbol__remoteConfigIsSupported",BS="__angularfire_symbol__messagingIsSupportedValue",US="__angularfire_symbol__messagingIsSupported";globalThis[FS]||(globalThis[FS]=gpe().then(n=>globalThis[NS]=n).catch(()=>globalThis[NS]=!1)),globalThis[US]||(globalThis[US]=wj().then(n=>globalThis[BS]=n).catch(()=>globalThis[BS]=!1)),globalThis[VS]||(globalThis[VS]=Zhe().then(n=>globalThis[LS]=n).catch(()=>globalThis[LS]=!1));const HS=n=>`The APP_INITIALIZER that is "making" isSupported() sync for the sake of convenient DI has not resolved in this\ncontext. Rather than injecting ${n} in the constructor, first ensure that ${n} is supported by calling\n\`await isSupported()\`, then retrieve the instance from the injector manually \`injector.get(${n})\`.`,wy={async:()=>globalThis[US],sync:()=>{const n=globalThis[BS];if(void 0===n)throw new Error(HS("Messaging"));return n}},Cy={async:()=>globalThis[VS],sync:()=>{const n=globalThis[LS];if(void 0===n)throw new Error(HS("RemoteConfig"));return n}},Ey={async:()=>globalThis[FS],sync:()=>{const n=globalThis[NS];if(void 0===n)throw new Error(HS("Analytics"));return n}};function ps(n,e,t){if(e){if(1===e.length)return e[0];const s=e.filter(o=>o.app===t);if(1===s.length)return s[0]}return t.container.getProvider(n).getImmediate({optional:!0})}const ms=(n,e)=>{const t=e?[e]:O$(),r=[];return t.forEach(i=>{i.container.getProvider(n).instances.forEach(o=>{r.includes(o)||r.push(o)})}),r};function ku(){}class Nj{constructor(e,t=wpe){this.zone=e,this.delegate=t}now(){return this.delegate.now()}schedule(e,t,r){const i=this.zone;return this.delegate.schedule(function(o){i.runGuarded(()=>{e.apply(this,[o])})},t,r)}}class Cpe{constructor(e){this.zone=e,this.task=null}call(e,t){const r=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",ku,{},ku,ku)),t.pipe(Ut({next:r,complete:r,error:r})).subscribe(e).add(r)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let gs=(()=>{class n{constructor(t){this.ngZone=t,this.outsideAngular=t.runOutsideAngular(()=>new Nj(Zone.current)),this.insideAngular=t.run(()=>new Nj(Zone.current,ef)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return n.\u0275fac=function(t){return new(t||n)(w(se))},n.\u0275prov=V({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function Il(){const n=globalThis.\u0275AngularFireScheduler;if(!n)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return n}function Epe(n){return Il().ngZone.runOutsideAngular(()=>n())}function Tl(n){return Il().ngZone.run(()=>n())}function Ipe(n){return Il(),function Tpe(n){return function(t){return(t=t.lift(new Cpe(n.ngZone))).pipe(Lm(n.outsideAngular),Fm(n.insideAngular))}}(Il())(n)}const Spe=(n,e)=>function(){const r=arguments;return e&&setTimeout(()=>{"scheduled"===e.state&&e.invoke()},10),Tl(()=>n.apply(void 0,r))},kt=(n,e)=>function(){let t;const r=arguments;for(let s=0;s<arguments.length;s++)"function"==typeof r[s]&&(e&&(t||(t=Tl(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",ku,{},ku,ku)))),r[s]=Spe(r[s],t));const i=Epe(()=>n.apply(this,r));if(!e){if(i instanceof ze){const s=Il();return i.pipe(Lm(s.outsideAngular),Fm(s.insideAngular))}return Tl(()=>i)}return i instanceof ze?i.pipe(Ipe):i instanceof Promise?Tl(()=>new Promise((s,o)=>i.then(a=>Tl(()=>s(a)),a=>Tl(()=>o(a))))):"function"==typeof i&&t?function(){return setTimeout(()=>{t&&"scheduled"===t.state&&t.invoke()},10),i.apply(this,arguments)}:Tl(()=>i)};class ei{constructor(e){return e}}class _s{constructor(){return O$()}}const $S=new N("angularfire2._apps"),Ape={provide:ei,useFactory:function Dpe(n){return n&&1===n.length?n[0]:new ei(fs())},deps:[[new Ie,$S]]},Mpe={provide:_s,deps:[[new Ie,$S]]};function xpe(n){return(e,t)=>{const r=e.runOutsideAngular(()=>n(t));return new ei(r)}}let kpe=(()=>{class n{constructor(t){Ae("angularfire",Jr.full,"core"),Ae("angularfire",Jr.full,"app"),Ae("angular",AF.full,t.toString())}}return n.\u0275fac=function(t){return new(t||n)(w(Xs))},n.\u0275mod=te({type:n}),n.\u0275inj=ee({providers:[Ape,Mpe]}),n})();function Rpe(n,...e){return{ngModule:kpe,providers:[{provide:$S,useFactory:xpe(n),multi:!0,deps:[se,Je,gs,...e]}]}}const Ppe=kt(P$,!0),jS=new Map,Fj={activated:!1,tokenObservers:[]},Ope={initialized:!1,enabled:!1};function Bn(n){return jS.get(n)||Object.assign({},Fj)}function Iy(){return Ope}class Upe{constructor(e,t,r,i,s){if(this.operation=e,this.retryPolicy=t,this.getWaitDuration=r,this.lowerBound=i,this.upperBound=s,this.pending=null,this.nextErrorWaitInterval=i,i>s)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){var t=this;return _(function*(){t.stop();try{t.pending=new Su,yield function Hpe(n){return new Promise(e=>{setTimeout(e,n)})}(t.getNextRun(e)),t.pending.resolve(),yield t.pending.promise,t.pending=new Su,yield t.operation(),t.pending.resolve(),yield t.pending.promise,t.process(!0).catch(()=>{})}catch(r){t.retryPolicy(r)?t.process(!1).catch(()=>{}):t.stop()}})()}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const t=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),t}}}const mr=new $i("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function Vj(n){if(!Bn(n).activated)throw mr.create("use-before-activation",{appName:n.name})}function WS(n,e){return qS.apply(this,arguments)}function qS(){return(qS=_(function*({url:n,body:e},t){var r,i;const s={"Content-Type":"application/json"},o=t.getImmediate({optional:!0});if(o){const f=yield o.getHeartbeatsHeader();f&&(s["X-Firebase-Client"]=f)}const a={method:"POST",body:JSON.stringify(e),headers:s};let l,c;try{l=yield fetch(n,a)}catch(f){throw mr.create("fetch-network-error",{originalErrorMessage:null===(r=f)||void 0===r?void 0:r.message})}if(200!==l.status)throw mr.create("fetch-status-error",{httpStatus:l.status});try{c=yield l.json()}catch(f){throw mr.create("fetch-parse-error",{originalErrorMessage:null===(i=f)||void 0===i?void 0:i.message})}const u=c.ttl.match(/^([\d.]+)(s)$/);if(!u||!u[2]||isNaN(Number(u[1])))throw mr.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${c.ttl}`});const d=1e3*Number(u[1]),h=Date.now();return{token:c.token,expireTimeMillis:h+d,issuedAtTimeMillis:h}})).apply(this,arguments)}function Gpe(n,e){const{projectId:t,appId:r,apiKey:i}=n.options;return{url:`https://content-firebaseappcheck.googleapis.com/v1/projects/${t}/apps/${r}:exchangeDebugToken?key=${i}`,body:{debug_token:e}}}const _f="firebase-app-check-store";let Dy=null;function Uj(){return Dy||(Dy=new Promise((n,e)=>{var t;try{const r=indexedDB.open("firebase-app-check-database",1);r.onsuccess=i=>{n(i.target.result)},r.onerror=i=>{var s;e(mr.create("storage-open",{originalErrorMessage:null===(s=i.target.error)||void 0===s?void 0:s.message}))},r.onupgradeneeded=i=>{0===i.oldVersion&&i.target.result.createObjectStore(_f,{keyPath:"compositeKey"})}}catch(r){e(mr.create("storage-open",{originalErrorMessage:null===(t=r)||void 0===t?void 0:t.message}))}}),Dy)}function KS(){return(KS=_(function*(n,e){const r=(yield Uj()).transaction(_f,"readwrite"),s=r.objectStore(_f).put({compositeKey:n,value:e});return new Promise((o,a)=>{s.onsuccess=l=>{o()},r.onerror=l=>{var c;a(mr.create("storage-set",{originalErrorMessage:null===(c=l.target.error)||void 0===c?void 0:c.message}))}})})).apply(this,arguments)}const yf=new ta("@firebase/app-check");function XS(n,e){return ea()?function Ype(n,e){return function Hj(n,e){return KS.apply(this,arguments)}(function jj(n){return`${n.options.appId}-${n.name}`}(n),e)}(n,e).catch(t=>{yf.warn(`Failed to write token to IndexedDB. Error: ${t}`)}):Promise.resolve()}function zj(){return Iy().enabled}function Gj(){return JS.apply(this,arguments)}function JS(){return(JS=_(function*(){const n=Iy();if(n.enabled&&n.token)return n.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")})).apply(this,arguments)}const tme={error:"UNKNOWN_ERROR"};function nme(n){return iy.encodeString(JSON.stringify(n),!1)}function Ay(n){return eD.apply(this,arguments)}function eD(){return(eD=_(function*(n,e=!1){const t=n.app;Vj(t);const r=Bn(t);let s,i=r.token;if(i&&!Ru(i)&&(r.token=void 0,i=void 0),!i){const l=yield r.cachedTokenPromise;l&&(Ru(l)?i=l:yield XS(t,void 0))}if(!e&&i&&Ru(i))return{token:i.token};let a,o=!1;if(zj()){r.exchangeTokenPromise||(r.exchangeTokenPromise=WS(Gpe(t,yield Gj()),n.heartbeatServiceProvider).finally(()=>{r.exchangeTokenPromise=void 0}),o=!0);const l=yield r.exchangeTokenPromise;return yield XS(t,l),r.token=l,{token:l.token}}try{r.exchangeTokenPromise||(r.exchangeTokenPromise=r.provider.getToken().finally(()=>{r.exchangeTokenPromise=void 0}),o=!0),i=yield Bn(t).exchangeTokenPromise}catch(l){"appCheck/throttled"===l.code?yf.warn(l.message):yf.error(l),s=l}return i?s?a=Ru(i)?{token:i.token,internalError:s}:Kj(s):(a={token:i.token},r.token=i,yield XS(t,i)):a=Kj(s),o&&qj(t,a),a})).apply(this,arguments)}function nD(n,e){const t=Bn(n),r=t.tokenObservers.filter(i=>i.next!==e);0===r.length&&t.tokenRefresher&&t.tokenRefresher.isRunning()&&t.tokenRefresher.stop(),t.tokenObservers=r}function Wj(n){const{app:e}=n,t=Bn(e);let r=t.tokenRefresher;r||(r=function rme(n){const{app:e}=n;return new Upe(_(function*(){let r;if(r=Bn(e).token?yield Ay(n,!0):yield Ay(n),r.error)throw r.error;if(r.internalError)throw r.internalError}),()=>!0,()=>{const t=Bn(e);if(t.token){let r=t.token.issuedAtTimeMillis+.5*(t.token.expireTimeMillis-t.token.issuedAtTimeMillis)+3e5;return r=Math.min(r,t.token.expireTimeMillis-3e5),Math.max(0,r-Date.now())}return 0},3e4,96e4)}(n),t.tokenRefresher=r),!r.isRunning()&&t.isTokenAutoRefreshEnabled&&r.start()}function qj(n,e){const t=Bn(n).tokenObservers;for(const r of t)try{"EXTERNAL"===r.type&&null!=e.error?r.error(e.error):r.next(e)}catch{}}function Ru(n){return n.expireTimeMillis-Date.now()>0}function Kj(n){return{token:nme(tme),error:n}}class ime{constructor(e,t){this.app=e,this.heartbeatServiceProvider=t}_delete(){const{tokenObservers:e}=Bn(this.app);for(const t of e)nD(this.app,t.next);return Promise.resolve()}}const n4="app-check-internal";!function yme(){hn(new rn("app-check",n=>function sme(n,e){return new ime(n,e)}(n.getProvider("app").getImmediate(),n.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((n,e,t)=>{n.getProvider(n4).initialize()})),hn(new rn(n4,n=>function ome(n){return{getToken:e=>Ay(n,e),addTokenListener:e=>function tD(n,e,t,r){const{app:i}=n,s=Bn(i);if(s.tokenObservers=[...s.tokenObservers,{next:t,error:r,type:e}],s.token&&Ru(s.token)){const a=s.token;Promise.resolve().then(()=>{t({token:a.token}),Wj(n)}).catch(()=>{})}s.cachedTokenPromise.then(()=>Wj(n))}(n,"INTERNAL",e),removeTokenListener:e=>nD(n.app,e)}}(n.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),Ae("@firebase/app-check","0.5.17")}();class Pu{constructor(){return ms("app-check")}}typeof window<"u"&&window;const Eme=function s4(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},o4=new $i("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),a4=new ta("@firebase/auth");function xy(n,...e){a4.logLevel<=Ne.ERROR&&a4.error(`Auth (${na}): ${n}`,...e)}function xr(n,...e){throw aD(n,...e)}function ys(n,...e){return aD(n,...e)}function l4(n,e,t){const r=Object.assign(Object.assign({},Eme()),{[e]:t});return new $i("auth","Firebase",r).create(e,{appName:n.name})}function aD(n,...e){if("string"!=typeof n){const t=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=n.name),n._errorFactory.create(t,...r)}return o4.create(n,...e)}function B(n,e,...t){if(!n)throw aD(e,...t)}function vs(n){const e="INTERNAL ASSERTION FAILED: "+n;throw xy(e),new Error(e)}function ra(n,e){n||vs(e)}const c4=new Map;function _o(n){ra(n instanceof Function,"Expected a class definition");let e=c4.get(n);return e?(ra(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,c4.set(n,e),e)}function vf(){var n;return typeof self<"u"&&(null===(n=self.location)||void 0===n?void 0:n.href)||""}function u4(){var n;return typeof self<"u"&&(null===(n=self.location)||void 0===n?void 0:n.protocol)||null}class bf{constructor(e,t){this.shortDelay=e,this.longDelay=t,ra(t>e,"Short delay should be less than long delay!"),this.isMobile=$I()||C$()}get(){return function Sme(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(function lD(){return"http:"===u4()||"https:"===u4()}()||jI()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function cD(n,e){ra(n.emulator,"Emulator should always be set here");const{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}class d4{static initialize(e,t,r){this.fetchImpl=e,t&&(this.headersImpl=t),r&&(this.responseImpl=r)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:void vs("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:void vs("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:void vs("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const Ame={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"},Mme=new bf(3e4,6e4);function fn(n,e){return n.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:n.tenantId}):e}function wn(n,e,t,r){return uD.apply(this,arguments)}function uD(){return(uD=_(function*(n,e,t,r,i={}){return h4(n,i,_(function*(){let s={},o={};r&&("GET"===e?o=r:s={body:JSON.stringify(r)});const a=hf(Object.assign({key:n.config.apiKey},o)).slice(1),l=yield n._getAdditionalHeaders();return l["Content-Type"]="application/json",n.languageCode&&(l["X-Firebase-Locale"]=n.languageCode),d4.fetch()(f4(n,n.config.apiHost,t,a),Object.assign({method:e,headers:l,referrerPolicy:"no-referrer"},s))}))})).apply(this,arguments)}function h4(n,e,t){return dD.apply(this,arguments)}function dD(){return(dD=_(function*(n,e,t){n._canInitEmulator=!1;const r=Object.assign(Object.assign({},Ame),e);try{const i=new xme(n),s=yield Promise.race([t(),i.promise]);i.clearNetworkTimeout();const o=yield s.json();if("needConfirmation"in o)throw wf(n,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{const a=s.ok?o.errorMessage:o.error.message,[l,c]=a.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===l)throw wf(n,"credential-already-in-use",o);if("EMAIL_EXISTS"===l)throw wf(n,"email-already-in-use",o);if("USER_DISABLED"===l)throw wf(n,"user-disabled",o);const u=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(c)throw l4(n,u,c);xr(n,u)}}catch(i){if(i instanceof Xr)throw i;xr(n,"network-request-failed")}})).apply(this,arguments)}function yo(n,e,t,r){return hD.apply(this,arguments)}function hD(){return(hD=_(function*(n,e,t,r,i={}){const s=yield wn(n,e,t,r,i);return"mfaPendingCredential"in s&&xr(n,"multi-factor-auth-required",{_serverResponse:s}),s})).apply(this,arguments)}function f4(n,e,t,r){const i=`${e}${t}?${r}`;return n.config.emulator?cD(n.config,i):`${n.config.apiScheme}://${i}`}class xme{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,r)=>{this.timer=setTimeout(()=>r(ys(this.auth,"network-request-failed")),Mme.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function wf(n,e,t){const r={appName:n.name};t.email&&(r.email=t.email),t.phoneNumber&&(r.phoneNumber=t.phoneNumber);const i=ys(n,e,r);return i.customData._tokenResponse=t,i}function fD(){return(fD=_(function*(n,e){return wn(n,"POST","/v1/accounts:delete",e)})).apply(this,arguments)}function Pme(n,e){return mD.apply(this,arguments)}function mD(){return(mD=_(function*(n,e){return wn(n,"POST","/v1/accounts:lookup",e)})).apply(this,arguments)}function Cf(n){if(n)try{const e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}function gD(){return(gD=_(function*(n,e=!1){const t=Ge(n),r=yield t.getIdToken(e),i=ky(r);B(i&&i.exp&&i.auth_time&&i.iat,t.auth,"internal-error");const s="object"==typeof i.firebase?i.firebase:void 0,o=s?.sign_in_provider;return{claims:i,token:r,authTime:Cf(_D(i.auth_time)),issuedAtTime:Cf(_D(i.iat)),expirationTime:Cf(_D(i.exp)),signInProvider:o||null,signInSecondFactor:s?.sign_in_second_factor||null}})).apply(this,arguments)}function _D(n){return 1e3*Number(n)}function ky(n){var e;const[t,r,i]=n.split(".");if(void 0===t||void 0===r||void 0===i)return xy("JWT malformed, contained fewer than 3 sections"),null;try{const s=oy(r);return s?JSON.parse(s):(xy("Failed to decode base64 JWT payload"),null)}catch(s){return xy("Caught error parsing JWT payload as JSON",null===(e=s)||void 0===e?void 0:e.toString()),null}}function vo(n,e){return yD.apply(this,arguments)}function yD(){return(yD=_(function*(n,e,t=!1){if(t)return e;try{return yield e}catch(r){throw r instanceof Xr&&Fme(r)&&n.auth.currentUser===n&&(yield n.auth.signOut()),r}})).apply(this,arguments)}function Fme({code:n}){return"auth/user-disabled"===n||"auth/user-token-expired"===n}class Lme{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){!this.isRunning||(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),r}{this.errorBackoff=3e4;const i=(null!==(t=this.user.stsTokenManager.expirationTime)&&void 0!==t?t:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){var t=this;if(!this.isRunning)return;const r=this.getInterval(e);this.timerId=setTimeout(_(function*(){yield t.iteration()}),r)}iteration(){var e=this;return _(function*(){var t;try{yield e.user.getIdToken(!0)}catch(r){return void("auth/network-request-failed"===(null===(t=r)||void 0===t?void 0:t.code)&&e.schedule(!0))}e.schedule()})()}}class p4{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=Cf(this.lastLoginAt),this.creationTime=Cf(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function Ef(n){return vD.apply(this,arguments)}function vD(){return(vD=_(function*(n){var e;const t=n.auth,r=yield n.getIdToken(),i=yield vo(n,Pme(t,{idToken:r}));B(i?.users.length,t,"internal-error");const s=i.users[0];n._notifyReloadListener(s);const o=null!==(e=s.providerUserInfo)&&void 0!==e&&e.length?Ume(s.providerUserInfo):[],a=Bme(n.providerData,o),u=!!n.isAnonymous&&!(n.email&&s.passwordHash||a?.length),d={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new p4(s.createdAt,s.lastLoginAt),isAnonymous:u};Object.assign(n,d)})).apply(this,arguments)}function bD(){return(bD=_(function*(n){const e=Ge(n);yield Ef(e),yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)})).apply(this,arguments)}function Bme(n,e){return[...n.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function Ume(n){return n.map(e=>{var{providerId:t}=e,r=fO(e,["providerId"]);return{providerId:t,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}function wD(){return(wD=_(function*(n,e){const t=yield h4(n,{},_(function*(){const r=hf({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=n.config,o=f4(n,i,"/v1/token",`key=${s}`),a=yield n._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",d4.fetch()(o,{method:"POST",headers:a,body:r})}));return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}})).apply(this,arguments)}class If{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){B(e.idToken,"internal-error"),B(typeof e.idToken<"u","internal-error"),B(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):function Nme(n){const e=ky(n);return B(e,"internal-error"),B(typeof e.exp<"u","internal-error"),B(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}getToken(e,t=!1){var r=this;return _(function*(){return B(!r.accessToken||r.refreshToken,e,"user-token-expired"),t||!r.accessToken||r.isExpired?r.refreshToken?(yield r.refresh(e,r.refreshToken),r.accessToken):null:r.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(e,t){var r=this;return _(function*(){const{accessToken:i,refreshToken:s,expiresIn:o}=yield function Hme(n,e){return wD.apply(this,arguments)}(e,t);r.updateTokensAndExpiration(i,s,Number(o))})()}updateTokensAndExpiration(e,t,r){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*r}static fromJSON(e,t){const{refreshToken:r,accessToken:i,expirationTime:s}=t,o=new If;return r&&(B("string"==typeof r,"internal-error",{appName:e}),o.refreshToken=r),i&&(B("string"==typeof i,"internal-error",{appName:e}),o.accessToken=i),s&&(B("number"==typeof s,"internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new If,this.toJSON())}_performRefresh(){return vs("not implemented")}}function ia(n,e){B("string"==typeof n||typeof n>"u","internal-error",{appName:e})}class Sl{constructor(e){var{uid:t,auth:r,stsTokenManager:i}=e,s=fO(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Lme(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new p4(s.createdAt||void 0,s.lastLoginAt||void 0)}getIdToken(e){var t=this;return _(function*(){const r=yield vo(t,t.stsTokenManager.getToken(t.auth,e));return B(r,t.auth,"internal-error"),t.accessToken!==r&&(t.accessToken=r,yield t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)),r})()}getIdTokenResult(e){return function Ome(n){return gD.apply(this,arguments)}(this,e)}reload(){return function Vme(n){return bD.apply(this,arguments)}(this)}_assign(e){this!==e&&(B(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){return new Sl(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(e){B(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(e,t=!1){var r=this;return _(function*(){let i=!1;e.idToken&&e.idToken!==r.stsTokenManager.accessToken&&(r.stsTokenManager.updateFromServerResponse(e),i=!0),t&&(yield Ef(r)),yield r.auth._persistUserIfCurrent(r),i&&r.auth._notifyListenersIfCurrent(r)})()}delete(){var e=this;return _(function*(){const t=yield e.getIdToken();return yield vo(e,function kme(n,e){return fD.apply(this,arguments)}(e.auth,{idToken:t})),e.stsTokenManager.clearRefreshToken(),e.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var r,i,s,o,a,l,c,u;const d=null!==(r=t.displayName)&&void 0!==r?r:void 0,h=null!==(i=t.email)&&void 0!==i?i:void 0,f=null!==(s=t.phoneNumber)&&void 0!==s?s:void 0,p=null!==(o=t.photoURL)&&void 0!==o?o:void 0,m=null!==(a=t.tenantId)&&void 0!==a?a:void 0,g=null!==(l=t._redirectEventId)&&void 0!==l?l:void 0,b=null!==(c=t.createdAt)&&void 0!==c?c:void 0,E=null!==(u=t.lastLoginAt)&&void 0!==u?u:void 0,{uid:v,emailVerified:M,isAnonymous:L,providerData:U,stsTokenManager:de}=t;B(v&&de,e,"internal-error");const ct=If.fromJSON(this.name,de);B("string"==typeof v,e,"internal-error"),ia(d,e.name),ia(h,e.name),B("boolean"==typeof M,e,"internal-error"),B("boolean"==typeof L,e,"internal-error"),ia(f,e.name),ia(p,e.name),ia(m,e.name),ia(g,e.name),ia(b,e.name),ia(E,e.name);const Qt=new Sl({uid:v,auth:e,email:h,emailVerified:M,displayName:d,isAnonymous:L,photoURL:p,phoneNumber:f,tenantId:m,stsTokenManager:ct,createdAt:b,lastLoginAt:E});return U&&Array.isArray(U)&&(Qt.providerData=U.map(Er=>Object.assign({},Er))),g&&(Qt._redirectEventId=g),Qt}static _fromIdTokenResponse(e,t,r=!1){return _(function*(){const i=new If;i.updateFromServerResponse(t);const s=new Sl({uid:t.localId,auth:e,stsTokenManager:i,isAnonymous:r});return yield Ef(s),s})()}}const m4=(()=>{class n{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return _(function*(){return!0})()}_set(t,r){var i=this;return _(function*(){i.storage[t]=r})()}_get(t){var r=this;return _(function*(){const i=r.storage[t];return void 0===i?null:i})()}_remove(t){var r=this;return _(function*(){delete r.storage[t]})()}_addListener(t,r){}_removeListener(t,r){}}return n.type="NONE",n})();function Ry(n,e,t){return`firebase:${n}:${e}:${t}`}class Nu{constructor(e,t,r){this.persistence=e,this.auth=t,this.userKey=r;const{config:i,name:s}=this.auth;this.fullUserKey=Ry(this.userKey,i.apiKey,s),this.fullPersistenceKey=Ry("persistence",i.apiKey,s),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}getCurrentUser(){var e=this;return _(function*(){const t=yield e.persistence._get(e.fullUserKey);return t?Sl._fromJSON(e.auth,t):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(e){var t=this;return _(function*(){if(t.persistence===e)return;const r=yield t.getCurrentUser();return yield t.removeCurrentUser(),t.persistence=e,r?t.setCurrentUser(r):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(e,t,r="authUser"){return _(function*(){if(!t.length)return new Nu(_o(m4),e,r);const i=(yield Promise.all(t.map(function(){var c=_(function*(u){if(yield u._isAvailable())return u});return function(u){return c.apply(this,arguments)}}()))).filter(c=>c);let s=i[0]||_o(m4);const o=Ry(r,e.config.apiKey,e.name);let a=null;for(const c of t)try{const u=yield c._get(o);if(u){const d=Sl._fromJSON(e,u);c!==s&&(a=d),s=c;break}}catch{}const l=i.filter(c=>c._shouldAllowMigration);return s._shouldAllowMigration&&l.length?(s=l[0],a&&(yield s._set(o,a.toJSON())),yield Promise.all(t.map(function(){var c=_(function*(u){if(u!==s)try{yield u._remove(o)}catch{}});return function(u){return c.apply(this,arguments)}}())),new Nu(s,e,r)):new Nu(s,e,r)})()}}function g4(n){const e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(v4(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(_4(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(w4(e))return"Blackberry";if(C4(e))return"Webos";if(CD(e))return"Safari";if((e.includes("chrome/")||y4(e))&&!e.includes("edge/"))return"Chrome";if(b4(e))return"Android";{const r=n.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===r?.length)return r[1]}return"Other"}function _4(n=bn()){return/firefox\//i.test(n)}function CD(n=bn()){const e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function y4(n=bn()){return/crios\//i.test(n)}function v4(n=bn()){return/iemobile/i.test(n)}function b4(n=bn()){return/android/i.test(n)}function w4(n=bn()){return/blackberry/i.test(n)}function C4(n=bn()){return/webos/i.test(n)}function Py(n=bn()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function E4(n=bn()){return Py(n)||b4(n)||C4(n)||w4(n)||/windows phone/i.test(n)||v4(n)}function I4(n,e=[]){let t;switch(n){case"Browser":t=g4(bn());break;case"Worker":t=`${g4(bn())}-${n}`;break;default:t=n}const r=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${na}/${r}`}class Gme{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const r=s=>new Promise((o,a)=>{try{o(e(s))}catch(l){a(l)}});r.onAbort=t,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}runMiddleware(e){var t=this;return _(function*(){var r;if(t.auth.currentUser===e)return;const i=[];try{for(const s of t.queue)yield s(e),s.onAbort&&i.push(s.onAbort)}catch(s){i.reverse();for(const o of i)try{o()}catch{}throw t.auth._errorFactory.create("login-blocked",{originalMessage:null===(r=s)||void 0===r?void 0:r.message})}})()}}class Wme{constructor(e,t,r){this.app=e,this.heartbeatServiceProvider=t,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new T4(this),this.idTokenSubscription=new T4(this),this.beforeStateQueue=new Gme(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=o4,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=r.sdkClientVersion}_initializeWithPersistence(e,t){var r=this;return t&&(this._popupRedirectResolver=_o(t)),this._initializationPromise=this.queue(_(function*(){var i,s;if(!r._deleted&&(r.persistenceManager=yield Nu.create(r,e),!r._deleted)){if(null!==(i=r._popupRedirectResolver)&&void 0!==i&&i._shouldInitProactively)try{yield r._popupRedirectResolver._initialize(r)}catch{}yield r.initializeCurrentUser(t),r.lastNotifiedUid=(null===(s=r.currentUser)||void 0===s?void 0:s.uid)||null,!r._deleted&&(r._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var e=this;return _(function*(){if(e._deleted)return;const t=yield e.assertedPersistence.getCurrentUser();if(e.currentUser||t){if(e.currentUser&&t&&e.currentUser.uid===t.uid)return e._currentUser._assign(t),void(yield e.currentUser.getIdToken());yield e._updateCurrentUser(t,!0)}})()}initializeCurrentUser(e){var t=this;return _(function*(){var r;const i=yield t.assertedPersistence.getCurrentUser();let s=i,o=!1;if(e&&t.config.authDomain){yield t.getOrInitRedirectPersistenceManager();const a=null===(r=t.redirectUser)||void 0===r?void 0:r._redirectEventId,l=s?._redirectEventId,c=yield t.tryRedirectSignIn(e);(!a||a===l)&&c?.user&&(s=c.user,o=!0)}if(!s)return t.directlySetCurrentUser(null);if(!s._redirectEventId){if(o)try{yield t.beforeStateQueue.runMiddleware(s)}catch(a){s=i,t._popupRedirectResolver._overrideRedirectResult(t,()=>Promise.reject(a))}return s?t.reloadAndSetCurrentUserOrClear(s):t.directlySetCurrentUser(null)}return B(t._popupRedirectResolver,t,"argument-error"),yield t.getOrInitRedirectPersistenceManager(),t.redirectUser&&t.redirectUser._redirectEventId===s._redirectEventId?t.directlySetCurrentUser(s):t.reloadAndSetCurrentUserOrClear(s)})()}tryRedirectSignIn(e){var t=this;return _(function*(){let r=null;try{r=yield t._popupRedirectResolver._completeRedirectFn(t,e,!0)}catch{yield t._setRedirectUser(null)}return r})()}reloadAndSetCurrentUserOrClear(e){var t=this;return _(function*(){var r;try{yield Ef(e)}catch(i){if("auth/network-request-failed"!==(null===(r=i)||void 0===r?void 0:r.code))return t.directlySetCurrentUser(null)}return t.directlySetCurrentUser(e)})()}useDeviceLanguage(){this.languageCode=function Dme(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}()}_delete(){var e=this;return _(function*(){e._deleted=!0})()}updateCurrentUser(e){var t=this;return _(function*(){const r=e?Ge(e):null;return r&&B(r.auth.config.apiKey===t.config.apiKey,t,"invalid-user-token"),t._updateCurrentUser(r&&r._clone(t))})()}_updateCurrentUser(e,t=!1){var r=this;return _(function*(){if(!r._deleted)return e&&B(r.tenantId===e.tenantId,r,"tenant-id-mismatch"),t||(yield r.beforeStateQueue.runMiddleware(e)),r.queue(_(function*(){yield r.directlySetCurrentUser(e),r.notifyAuthListeners()}))})()}signOut(){var e=this;return _(function*(){return yield e.beforeStateQueue.runMiddleware(null),(e.redirectPersistenceManager||e._popupRedirectResolver)&&(yield e._setRedirectUser(null)),e._updateCurrentUser(null,!0)})()}setPersistence(e){var t=this;return this.queue(_(function*(){yield t.assertedPersistence.setPersistence(_o(e))}))}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new $i("auth","Firebase",e())}onAuthStateChanged(e,t,r){return this.registerStateListener(this.authStateSubscription,e,t,r)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,r){return this.registerStateListener(this.idTokenSubscription,e,t,r)}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}_setRedirectUser(e,t){var r=this;return _(function*(){const i=yield r.getOrInitRedirectPersistenceManager(t);return null===e?i.removeCurrentUser():i.setCurrentUser(e)})()}getOrInitRedirectPersistenceManager(e){var t=this;return _(function*(){if(!t.redirectPersistenceManager){const r=e&&_o(e)||t._popupRedirectResolver;B(r,t,"argument-error"),t.redirectPersistenceManager=yield Nu.create(t,[_o(r._redirectPersistence)],"redirectUser"),t.redirectUser=yield t.redirectPersistenceManager.getCurrentUser()}return t.redirectPersistenceManager})()}_redirectUserForId(e){var t=this;return _(function*(){var r,i;return t._isInitialized&&(yield t.queue(_(function*(){}))),(null===(r=t._currentUser)||void 0===r?void 0:r._redirectEventId)===e?t._currentUser:(null===(i=t.redirectUser)||void 0===i?void 0:i._redirectEventId)===e?t.redirectUser:null})()}_persistUserIfCurrent(e){var t=this;return _(function*(){if(e===t.currentUser)return t.queue(_(function*(){return t.directlySetCurrentUser(e)}))})()}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=null!==(t=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==t?t:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,r,i){if(this._deleted)return()=>{};const s="function"==typeof t?t:t.next.bind(t),o=this._isInitialized?Promise.resolve():this._initializationPromise;return B(o,this,"internal-error"),o.then(()=>s(this.currentUser)),"function"==typeof t?e.addObserver(t,r,i):e.addObserver(t)}directlySetCurrentUser(e){var t=this;return _(function*(){t.currentUser&&t.currentUser!==e&&t._currentUser._stopProactiveRefresh(),e&&t.isProactiveRefreshEnabled&&e._startProactiveRefresh(),t.currentUser=e,e?yield t.assertedPersistence.setCurrentUser(e):yield t.assertedPersistence.removeCurrentUser()})()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return B(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=I4(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var e=this;return _(function*(){var t;const r={"X-Client-Version":e.clientVersion};e.app.options.appId&&(r["X-Firebase-gmpid"]=e.app.options.appId);const i=yield null===(t=e.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===t?void 0:t.getHeartbeatsHeader();return i&&(r["X-Firebase-Client"]=i),r})()}}function kr(n){return Ge(n)}class T4{constructor(e){this.auth=e,this.observer=null,this.addObserver=function Sue(n,e){const t=new Due(n,e);return t.subscribe.bind(t)}(t=>this.observer=t)}get next(){return B(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function S4(n){const e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function D4(n){if(!n)return null;const e=Number(n);return isNaN(e)?null:e}class A4{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return vs("not implemented")}_getIdTokenResponse(e){return vs("not implemented")}_linkToIdToken(e,t){return vs("not implemented")}_getReauthenticationResolver(e){return vs("not implemented")}}function ID(){return(ID=_(function*(n,e){return wn(n,"POST","/v1/accounts:update",e)})).apply(this,arguments)}function SD(){return(SD=_(function*(n,e){return yo(n,"POST","/v1/accounts:signInWithPassword",fn(n,e))})).apply(this,arguments)}function RD(){return(RD=_(function*(n,e){return yo(n,"POST","/v1/accounts:signInWithEmailLink",fn(n,e))})).apply(this,arguments)}function PD(){return(PD=_(function*(n,e){return yo(n,"POST","/v1/accounts:signInWithEmailLink",fn(n,e))})).apply(this,arguments)}class Tf extends A4{constructor(e,t,r,i=null){super("password",r),this._email=e,this._password=t,this._tenantId=i}static _fromEmailAndPassword(e,t){return new Tf(e,t,"password")}static _fromEmailAndCode(e,t,r=null){return new Tf(e,t,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t="string"==typeof e?JSON.parse(e):e;if(t?.email&&t?.password){if("password"===t.signInMethod)return this._fromEmailAndPassword(t.email,t.password);if("emailLink"===t.signInMethod)return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}_getIdTokenResponse(e){var t=this;return _(function*(){switch(t.signInMethod){case"password":return function Xme(n,e){return SD.apply(this,arguments)}(e,{returnSecureToken:!0,email:t._email,password:t._password});case"emailLink":return function nge(n,e){return RD.apply(this,arguments)}(e,{email:t._email,oobCode:t._password});default:xr(e,"internal-error")}})()}_linkToIdToken(e,t){var r=this;return _(function*(){switch(r.signInMethod){case"password":return function x4(n,e){return ID.apply(this,arguments)}(e,{idToken:t,returnSecureToken:!0,email:r._email,password:r._password});case"emailLink":return function rge(n,e){return PD.apply(this,arguments)}(e,{idToken:t,email:r._email,oobCode:r._password});default:xr(e,"internal-error")}})()}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}function bo(n,e){return OD.apply(this,arguments)}function OD(){return(OD=_(function*(n,e){return yo(n,"POST","/v1/accounts:signInWithIdp",fn(n,e))})).apply(this,arguments)}class Af{constructor(e){var t,r,i,s,o,a;const l=ff(pf(e)),c=null!==(t=l.apiKey)&&void 0!==t?t:null,u=null!==(r=l.oobCode)&&void 0!==r?r:null,d=function uge(n){switch(n){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(i=l.mode)&&void 0!==i?i:null);B(c&&u&&d,"argument-error"),this.apiKey=c,this.operation=d,this.code=u,this.continueUrl=null!==(s=l.continueUrl)&&void 0!==s?s:null,this.languageCode=null!==(o=l.languageCode)&&void 0!==o?o:null,this.tenantId=null!==(a=l.tenantId)&&void 0!==a?a:null}static parseLink(e){const t=function dge(n){const e=ff(pf(n)).link,t=e?ff(pf(e)).deep_link_id:null,r=ff(pf(n)).deep_link_id;return(r?ff(pf(r)).link:null)||r||t||e||n}(e);try{return new Af(t)}catch{return null}}}let k4=(()=>{class n{constructor(){this.providerId=n.PROVIDER_ID}static credential(t,r){return Tf._fromEmailAndPassword(t,r)}static credentialWithLink(t,r){const i=Af.parseLink(r);return B(i,"argument-error"),Tf._fromEmailAndCode(t,i.code,i.tenantId)}}return n.PROVIDER_ID="password",n.EMAIL_PASSWORD_SIGN_IN_METHOD="password",n.EMAIL_LINK_SIGN_IN_METHOD="emailLink",n})();class sa{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class hge extends sa{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}function R4(n,e){return UD.apply(this,arguments)}function UD(){return(UD=_(function*(n,e){return yo(n,"POST","/v1/accounts:signUp",fn(n,e))})).apply(this,arguments)}class bi{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static _fromIdTokenResponse(e,t,r,i=!1){return _(function*(){const s=yield Sl._fromIdTokenResponse(e,r,i),o=P4(r);return new bi({user:s,providerId:o,_tokenResponse:r,operationType:t})})()}static _forOperation(e,t,r){return _(function*(){yield e._updateTokensIfNecessary(r,!0);const i=P4(r);return new bi({user:e,providerId:i,_tokenResponse:r,operationType:t})})()}}function P4(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}class Fy extends Xr{constructor(e,t,r,i){var s;super(t.code,t.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,Fy.prototype),this.customData={appName:e.name,tenantId:null!==(s=e.tenantId)&&void 0!==s?s:void 0,_serverResponse:t.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,t,r,i){return new Fy(e,t,r,i)}}function O4(n,e,t,r){return("reauthenticate"===e?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(s=>{throw"auth/multi-factor-auth-required"===s.code?Fy._fromErrorAndOperation(n,s,e,r):s})}function jD(n,e){return zD.apply(this,arguments)}function zD(){return(zD=_(function*(n,e,t=!1){const r=yield vo(n,e._linkToIdToken(n.auth,yield n.getIdToken()),t);return bi._forOperation(n,"link",r)})).apply(this,arguments)}function WD(){return(WD=_(function*(n,e,t=!1){var r;const{auth:i}=n,s="reauthenticate";try{const o=yield vo(n,O4(i,s,e,n),t);B(o.idToken,i,"internal-error");const a=ky(o.idToken);B(a,i,"internal-error");const{sub:l}=a;return B(n.uid===l,i,"user-mismatch"),bi._forOperation(n,s,o)}catch(o){throw"auth/user-not-found"===(null===(r=o)||void 0===r?void 0:r.code)&&xr(i,"user-mismatch"),o}})).apply(this,arguments)}function L4(n,e){return qD.apply(this,arguments)}function qD(){return(qD=_(function*(n,e,t=!1){const r="signIn",i=yield O4(n,r,e),s=yield bi._fromIdTokenResponse(n,r,i);return t||(yield n._updateCurrentUser(s.user)),s})).apply(this,arguments)}function YD(){return(YD=_(function*(n,e){return L4(kr(n),e)})).apply(this,arguments)}function vge(n,e,t){return aA.apply(this,arguments)}function aA(){return(aA=_(function*(n,e,t){const r=kr(n),i=yield R4(r,{returnSecureToken:!0,email:e,password:t}),s=yield bi._fromIdTokenResponse(r,"signIn",i);return yield r._updateCurrentUser(s.user),s})).apply(this,arguments)}function Cge(n,e){return pA.apply(this,arguments)}function pA(){return(pA=_(function*(n,e){return wn(n,"POST","/v1/accounts:update",e)})).apply(this,arguments)}function Ege(n,e){return mA.apply(this,arguments)}function mA(){return(mA=_(function*(n,{displayName:e,photoURL:t}){if(void 0===e&&void 0===t)return;const r=Ge(n),s={idToken:yield r.getIdToken(),displayName:e,photoUrl:t,returnSecureToken:!0},o=yield vo(r,Cge(r.auth,s));r.displayName=o.displayName||null,r.photoURL=o.photoUrl||null;const a=r.providerData.find(({providerId:l})=>"password"===l);a&&(a.displayName=r.displayName,a.photoURL=r.photoURL),yield r._updateTokensIfNecessary(o)})).apply(this,arguments)}function B4(n,e,t,r){return Ge(n).onIdTokenChanged(e,t,r)}const By="__sak";class U4{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(By,"1"),this.storage.removeItem(By),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const Lge=(()=>{class n extends U4{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,r)=>this.onStorageEvent(t,r),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function Oge(){const n=bn();return CD(n)||Py(n)}()&&function zme(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=E4(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const r of Object.keys(this.listeners)){const i=this.storage.getItem(r),s=this.localCache[r];i!==s&&t(r,s,i)}}onStorageEvent(t,r=!1){if(!t.key)return void this.forAllChangedKeys((a,l,c)=>{this.notifyListeners(a,c)});const i=t.key;if(r?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const a=this.storage.getItem(i);if(t.newValue!==a)null!==t.newValue?this.storage.setItem(i,t.newValue):this.storage.removeItem(i);else if(this.localCache[i]===t.newValue&&!r)return}const s=()=>{const a=this.storage.getItem(i);!r&&this.localCache[i]===a||this.notifyListeners(i,a)},o=this.storage.getItem(i);!function jme(){return function pue(){const n=bn();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}()&&10===document.documentMode}()||o===t.newValue||t.newValue===t.oldValue?s():setTimeout(s,10)}notifyListeners(t,r){this.localCache[t]=r;const i=this.listeners[t];if(i)for(const s of Array.from(i))s(r&&JSON.parse(r))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,r,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:r,newValue:i}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,r){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(r)}_removeListener(t,r){this.listeners[t]&&(this.listeners[t].delete(r),0===this.listeners[t].size&&delete this.listeners[t]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(t,r){var i=()=>super._set,s=this;return _(function*(){yield i().call(s,t,r),s.localCache[t]=JSON.stringify(r)})()}_get(t){var r=()=>super._get,i=this;return _(function*(){const s=yield r().call(i,t);return i.localCache[t]=JSON.stringify(s),s})()}_remove(t){var r=()=>super._remove,i=this;return _(function*(){yield r().call(i,t),delete i.localCache[t]})()}}return n.type="LOCAL",n})(),H4=(()=>{class n extends U4{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,r){}_removeListener(t,r){}}return n.type="SESSION",n})();let Bge=(()=>{class n{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const r=this.receivers.find(s=>s.isListeningto(t));if(r)return r;const i=new n(t);return this.receivers.push(i),i}isListeningto(t){return this.eventTarget===t}handleEvent(t){var r=this;return _(function*(){const i=t,{eventId:s,eventType:o,data:a}=i.data,l=r.handlersMap[o];if(!l?.size)return;i.ports[0].postMessage({status:"ack",eventId:s,eventType:o});const c=Array.from(l).map(function(){var d=_(function*(h){return h(i.origin,a)});return function(h){return d.apply(this,arguments)}}()),u=yield function Vge(n){return Promise.all(n.map(function(){var e=_(function*(t){try{return{fulfilled:!0,value:yield t}}catch(r){return{fulfilled:!1,reason:r}}});return function(t){return e.apply(this,arguments)}}()))}(c);i.ports[0].postMessage({status:"done",eventId:s,eventType:o,response:u})})()}_subscribe(t,r){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(r)}_unsubscribe(t,r){this.handlersMap[t]&&r&&this.handlersMap[t].delete(r),(!r||0===this.handlersMap[t].size)&&delete this.handlersMap[t],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return n.receivers=[],n})();function CA(n="",e=10){let t="";for(let r=0;r<e;r++)t+=Math.floor(10*Math.random());return n+t}class Uge{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}_send(e,t,r=50){var i=this;return _(function*(){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let o,a;return new Promise((l,c)=>{const u=CA("",20);s.port1.start();const d=setTimeout(()=>{c(new Error("unsupported_event"))},r);a={messageChannel:s,onMessage(h){const f=h;if(f.data.eventId===u)switch(f.data.status){case"ack":clearTimeout(d),o=setTimeout(()=>{c(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),l(f.data.response);break;default:clearTimeout(d),clearTimeout(o),c(new Error("invalid_response"))}}},i.handlers.add(a),s.port1.addEventListener("message",a.onMessage),i.target.postMessage({eventType:e,eventId:u,data:t},[s.port2])}).finally(()=>{a&&i.removeMessageHandler(a)})})()}}function pn(){return window}function EA(){return typeof pn().WorkerGlobalScope<"u"&&"function"==typeof pn().importScripts}function IA(){return(IA=_(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const $4="firebaseLocalStorageDb",Uy="firebaseLocalStorage",j4="fbase_key";class xf{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function Hy(n,e){return n.transaction([Uy],e?"readwrite":"readonly").objectStore(Uy)}function TA(){const n=indexedDB.open($4,1);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{const r=n.result;try{r.createObjectStore(Uy,{keyPath:j4})}catch(i){t(i)}}),n.addEventListener("success",_(function*(){const r=n.result;r.objectStoreNames.contains(Uy)?e(r):(r.close(),yield function Wge(){const n=indexedDB.deleteDatabase($4);return new xf(n).toPromise()}(),e(yield TA()))}))})}function z4(n,e,t){return SA.apply(this,arguments)}function SA(){return(SA=_(function*(n,e,t){const r=Hy(n,!0).put({[j4]:e,value:t});return new xf(r).toPromise()})).apply(this,arguments)}function DA(){return(DA=_(function*(n,e){const t=Hy(n,!1).get(e),r=yield new xf(t).toPromise();return void 0===r?null:r.value})).apply(this,arguments)}function G4(n,e){const t=Hy(n,!0).delete(e);return new xf(t).toPromise()}const Qge=(()=>{class n{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var t=this;return _(function*(){return t.db||(t.db=yield TA()),t.db})()}_withRetries(t){var r=this;return _(function*(){let i=0;for(;;)try{const s=yield r._openDb();return yield t(s)}catch(s){if(i++>3)throw s;r.db&&(r.db.close(),r.db=void 0)}})()}initializeServiceWorkerMessaging(){var t=this;return _(function*(){return EA()?t.initializeReceiver():t.initializeSender()})()}initializeReceiver(){var t=this;return _(function*(){t.receiver=Bge._getInstance(function zge(){return EA()?self:null}()),t.receiver._subscribe("keyChanged",function(){var r=_(function*(i,s){return{keyProcessed:(yield t._poll()).includes(s.key)}});return function(i,s){return r.apply(this,arguments)}}()),t.receiver._subscribe("ping",function(){var r=_(function*(i,s){return["keyChanged"]});return function(i,s){return r.apply(this,arguments)}}())})()}initializeSender(){var t=this;return _(function*(){var r,i;if(t.activeServiceWorker=yield function $ge(){return IA.apply(this,arguments)}(),!t.activeServiceWorker)return;t.sender=new Uge(t.activeServiceWorker);const s=yield t.sender._send("ping",{},800);!s||(null===(r=s[0])||void 0===r?void 0:r.fulfilled)&&(null===(i=s[0])||void 0===i?void 0:i.value.includes("keyChanged"))&&(t.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(t){var r=this;return _(function*(){if(r.sender&&r.activeServiceWorker&&function jge(){var n;return(null===(n=navigator?.serviceWorker)||void 0===n?void 0:n.controller)||null}()===r.activeServiceWorker)try{yield r.sender._send("keyChanged",{key:t},r.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return _(function*(){try{if(!indexedDB)return!1;const t=yield TA();return yield z4(t,By,"1"),yield G4(t,By),!0}catch{}return!1})()}_withPendingWrite(t){var r=this;return _(function*(){r.pendingWrites++;try{yield t()}finally{r.pendingWrites--}})()}_set(t,r){var i=this;return _(function*(){return i._withPendingWrite(_(function*(){return yield i._withRetries(s=>z4(s,t,r)),i.localCache[t]=r,i.notifyServiceWorker(t)}))})()}_get(t){var r=this;return _(function*(){const i=yield r._withRetries(s=>function qge(n,e){return DA.apply(this,arguments)}(s,t));return r.localCache[t]=i,i})()}_remove(t){var r=this;return _(function*(){return r._withPendingWrite(_(function*(){return yield r._withRetries(i=>G4(i,t)),delete r.localCache[t],r.notifyServiceWorker(t)}))})()}_poll(){var t=this;return _(function*(){const r=yield t._withRetries(o=>{const a=Hy(o,!1).getAll();return new xf(a).toPromise()});if(!r)return[];if(0!==t.pendingWrites)return[];const i=[],s=new Set;for(const{fbase_key:o,value:a}of r)s.add(o),JSON.stringify(t.localCache[o])!==JSON.stringify(a)&&(t.notifyListeners(o,a),i.push(o));for(const o of Object.keys(t.localCache))t.localCache[o]&&!s.has(o)&&(t.notifyListeners(o,null),i.push(o));return i})()}notifyListeners(t,r){this.localCache[t]=r;const i=this.listeners[t];if(i)for(const s of Array.from(i))s(r)}startPolling(){var t=this;this.stopPolling(),this.pollTimer=setInterval(_(function*(){return t._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,r){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(r)}_removeListener(t,r){this.listeners[t]&&(this.listeners[t].delete(r),0===this.listeners[t].size&&delete this.listeners[t]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return n.type="LOCAL",n})();function q4(n){return`__${n}${Math.floor(1e6*Math.random())}`}function Al(n,e){return e?_o(e):(B(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}q4("rcb"),new bf(3e4,6e4);class LA extends A4{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return bo(e,this._buildIdpRequest())}_linkToIdToken(e,t){return bo(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return bo(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function f_e(n){return L4(n.auth,new LA(n),n.bypassAuthState)}function p_e(n){const{auth:e,user:t}=n;return B(t,e,"internal-error"),function F4(n,e){return WD.apply(this,arguments)}(t,new LA(n),n.bypassAuthState)}function m_e(n){return VA.apply(this,arguments)}function VA(){return(VA=_(function*(n){const{auth:e,user:t}=n;return B(t,e,"internal-error"),jD(t,new LA(n),n.bypassAuthState)})).apply(this,arguments)}new bf(2e3,1e4);const kf=new Map;class y_e extends class g_e{constructor(e,t,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){var e=this;return new Promise(function(){var t=_(function*(r,i){e.pendingPromise={resolve:r,reject:i};try{e.eventManager=yield e.resolver._initialize(e.auth),yield e.onExecution(),e.eventManager.registerConsumer(e)}catch(s){e.reject(s)}});return function(r,i){return t.apply(this,arguments)}}())}onAuthEvent(e){var t=this;return _(function*(){const{urlResponse:r,sessionId:i,postBody:s,tenantId:o,error:a,type:l}=e;if(a)return void t.reject(a);const c={auth:t.auth,requestUri:r,sessionId:i,tenantId:o||void 0,postBody:s||void 0,user:t.user,bypassAuthState:t.bypassAuthState};try{t.resolve(yield t.getIdpTask(l)(c))}catch(u){t.reject(u)}})()}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return f_e;case"linkViaPopup":case"linkViaRedirect":return m_e;case"reauthViaPopup":case"reauthViaRedirect":return p_e;default:xr(this.auth,"internal-error")}}resolve(e){ra(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){ra(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}{constructor(e,t,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,r),this.eventId=null}execute(){var e=()=>super.execute,t=this;return _(function*(){let r=kf.get(t.auth._key());if(!r){try{const s=(yield function v_e(n,e){return jA.apply(this,arguments)}(t.resolver,t.auth))?yield e().call(t):null;r=()=>Promise.resolve(s)}catch(i){r=()=>Promise.reject(i)}kf.set(t.auth._key(),r)}return t.bypassAuthState||kf.set(t.auth._key(),()=>Promise.resolve(null)),r()})()}onAuthEvent(e){var t=()=>super.onAuthEvent,r=this;return _(function*(){if("signInViaRedirect"===e.type)return t().call(r,e);if("unknown"!==e.type){if(e.eventId){const i=yield r.auth._redirectUserForId(e.eventId);if(i)return r.user=i,t().call(r,e);r.resolve(null)}}else r.resolve(null)})()}onExecution(){return _(function*(){})()}cleanUp(){}}function jA(){return(jA=_(function*(n,e){const t=Q4(e),r=Y4(n);if(!(yield r._isAvailable()))return!1;const i="true"===(yield r._get(t));return yield r._remove(t),i})).apply(this,arguments)}function b_e(n,e){kf.set(n._key(),e)}function Y4(n){return _o(n._redirectPersistence)}function Q4(n){return Ry("pendingRedirect",n.config.apiKey,n.name)}function X4(n,e){return QA.apply(this,arguments)}function QA(){return(QA=_(function*(n,e,t=!1){const r=kr(n),i=Al(r,e),o=yield new y_e(r,i,t).execute();return o&&!t&&(delete o.user._redirectEventId,yield r._persistUserIfCurrent(o.user),yield r._setRedirectUser(null,e)),o})).apply(this,arguments)}class T_e{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(t=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!function S_e(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return e3(n);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var r;if(e.error&&!e3(e)){const i=(null===(r=e.error.code)||void 0===r?void 0:r.split("auth/")[1])||"internal-error";t.onError(ys(this.auth,i))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const r=null===t.eventId||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(J4(e))}saveEventToCache(e){this.cachedEventUids.add(J4(e)),this.lastProcessedEventTime=Date.now()}}function J4(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function e3({type:n,error:e}){return"unknown"===n&&"auth/no-auth-event"===e?.code}function D_e(n){return ZA.apply(this,arguments)}function ZA(){return(ZA=_(function*(n,e={}){return wn(n,"GET","/v1/projects",e)})).apply(this,arguments)}const A_e=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,M_e=/^https?/;function JA(){return(JA=_(function*(n){if(n.config.emulator)return;const{authorizedDomains:e}=yield D_e(n);for(const t of e)try{if(k_e(t))return}catch{}xr(n,"unauthorized-domain")})).apply(this,arguments)}function k_e(n){const e=vf(),{protocol:t,hostname:r}=new URL(e);if(n.startsWith("chrome-extension://")){const o=new URL(n);return""===o.hostname&&""===r?"chrome-extension:"===t&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):"chrome-extension:"===t&&o.hostname===r}if(!M_e.test(t))return!1;if(A_e.test(n))return r===n;const i=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}const R_e=new bf(3e4,6e4);function t3(){const n=pn().___jsl;if(n?.H)for(const e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}let jy=null;function O_e(n){return jy=jy||function P_e(n){return new Promise((e,t)=>{var r,i,s;function o(){t3(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{t3(),t(ys(n,"network-request-failed"))},timeout:R_e.get()})}if(null!==(i=null===(r=pn().gapi)||void 0===r?void 0:r.iframes)&&void 0!==i&&i.Iframe)e(gapi.iframes.getContext());else{if(null===(s=pn().gapi)||void 0===s||!s.load){const a=q4("iframefcb");return pn()[a]=()=>{gapi.load?o():t(ys(n,"network-request-failed"))},function W4(n){return new Promise((e,t)=>{const r=document.createElement("script");r.setAttribute("src",n),r.onload=e,r.onerror=i=>{const s=ys("internal-error");s.customData=i,t(s)},r.type="text/javascript",r.charset="UTF-8",function e_e(){var n,e;return null!==(e=null===(n=document.getElementsByTagName("head"))||void 0===n?void 0:n[0])&&void 0!==e?e:document}().appendChild(r)})}(`https://apis.google.com/js/api.js?onload=${a}`).catch(l=>t(l))}o()}}).catch(e=>{throw jy=null,e})}(n),jy}const N_e=new bf(5e3,15e3),V_e={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},B_e=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function U_e(n){const e=n.config;B(e.authDomain,n,"auth-domain-config-required");const t=e.emulator?cD(e,"emulator/auth/iframe"):`https://${n.config.authDomain}/__/auth/iframe`,r={apiKey:e.apiKey,appName:n.name,v:na},i=B_e.get(n.config.apiHost);i&&(r.eid=i);const s=n._getFrameworks();return s.length&&(r.fw=s.join(",")),`${t}?${hf(r).slice(1)}`}function eM(){return eM=_(function*(n){const e=yield O_e(n),t=pn().gapi;return B(t,n,"internal-error"),e.open({where:document.body,url:U_e(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:V_e,dontclear:!0},r=>new Promise(function(){var i=_(function*(s,o){yield r.restyle({setHideOnLeave:!1});const a=ys(n,"network-request-failed"),l=pn().setTimeout(()=>{o(a)},N_e.get());function c(){pn().clearTimeout(l),s(r)}r.ping(c).then(c,()=>{o(a)})});return function(s,o){return i.apply(this,arguments)}}()))}),eM.apply(this,arguments)}const $_e={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class n3{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function r3(n,e,t,r,i,s){B(n.config.authDomain,n,"auth-domain-config-required"),B(n.config.apiKey,n,"invalid-api-key");const o={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:r,v:na,eventId:i};if(e instanceof sa){e.setDefaultLanguage(n.languageCode),o.providerId=e.providerId||"",WI(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[l,c]of Object.entries(s||{}))o[l]=c}if(e instanceof hge){const l=e.getScopes().filter(c=>""!==c);l.length>0&&(o.scopes=l.join(","))}n.tenantId&&(o.tid=n.tenantId);const a=o;for(const l of Object.keys(a))void 0===a[l]&&delete a[l];return`${function X_e({config:n}){return n.emulator?cD(n,"emulator/auth/handler"):`https://${n.authDomain}/__/auth/handler`}(n)}?${hf(a).slice(1)}`}const tM="webStorageSupport",J_e=class Z_e{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=H4,this._completeRedirectFn=X4,this._overrideRedirectResult=b_e}_openPopup(e,t,r,i){var s=this;return _(function*(){var o;ra(null===(o=s.eventManagers[e._key()])||void 0===o?void 0:o.manager,"_initialize() not called before _openPopup()");const a=r3(e,t,r,vf(),i);return function q_e(n,e,t,r=500,i=600){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const l=Object.assign(Object.assign({},$_e),{width:r.toString(),height:i.toString(),top:s,left:o}),c=bn().toLowerCase();t&&(a=y4(c)?"_blank":t),_4(c)&&(e=e||"http://localhost",l.scrollbars="yes");const u=Object.entries(l).reduce((h,[f,p])=>`${h}${f}=${p},`,"");if(function $me(n=bn()){var e;return Py(n)&&!(null===(e=window.navigator)||void 0===e||!e.standalone)}(c)&&"_self"!==a)return function K_e(n,e){const t=document.createElement("a");t.href=n,t.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(r)}(e||"",a),new n3(null);const d=window.open(e||"",a,u);B(d,n,"popup-blocked");try{d.focus()}catch{}return new n3(d)}(e,a,CA())})()}_openRedirect(e,t,r,i){var s=this;return _(function*(){return yield s._originValidation(e),function Hge(n){pn().location.href=n}(r3(e,t,r,vf(),i)),new Promise(()=>{})})()}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:i,promise:s}=this.eventManagers[t];return i?Promise.resolve(i):(ra(s,"If manager is not set, promise should be"),s)}const r=this.initAndGetManager(e);return this.eventManagers[t]={promise:r},r.catch(()=>{delete this.eventManagers[t]}),r}initAndGetManager(e){var t=this;return _(function*(){const r=yield function H_e(n){return eM.apply(this,arguments)}(e),i=new T_e(e);return r.register("authEvent",s=>(B(s?.authEvent,e,"invalid-auth-event"),{status:i.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),t.eventManagers[e._key()]={manager:i},t.iframes[e._key()]=r,i})()}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(tM,{type:tM},i=>{var s;const o=null===(s=i?.[0])||void 0===s?void 0:s[tM];void 0!==o&&t(!!o),xr(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=function x_e(n){return JA.apply(this,arguments)}(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return E4()||CD()||Py()}};var o3="@firebase/auth",a3="0.20.11";class eye{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}getToken(e){var t=this;return _(function*(){return t.assertAuthConfigured(),yield t.auth._initializationPromise,t.auth.currentUser?{accessToken:yield t.auth.currentUser.getIdToken(e)}:null})()}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(r=>{var i;e((null===(i=r)||void 0===i?void 0:i.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);!t||(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){B(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}const iye=I$("authIdTokenMaxAge")||300;let l3=null;const sye=n=>function(){var e=_(function*(t){const r=t&&(yield t.getIdTokenResult()),i=r&&((new Date).getTime()-Date.parse(r.issuedAtTime))/1e3;if(i&&i>iye)return;const s=r?.token;l3!==s&&(l3=s,yield fetch(n,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))});return function(t){return e.apply(this,arguments)}}();function oye(n=fs()){const e=Ar(n,"auth");if(e.isInitialized())return e.getImmediate();const t=function Ime(n,e){const t=Ar(n,"auth");if(t.isInitialized()){const i=t.getImmediate();if(df(t.getOptions(),e??{}))return i;xr(i,"already-initialized")}return t.initialize({options:e})}(n,{popupRedirectResolver:J_e,persistence:[Qge,Lge,H4]}),r=I$("authTokenSyncURL");if(r){const s=sye(r);(function Mge(n,e,t){Ge(n).beforeAuthStateChanged(e,t)})(t,s,()=>s(t.currentUser)),B4(t,o=>s(o))}const i=E$("auth");return i&&function qme(n,e,t){const r=kr(n);B(r._canInitEmulator,r,"emulator-config-failed"),B(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!!t?.disableWarnings,s=S4(e),{host:o,port:a}=function Kme(n){const e=S4(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};const r=t[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const s=i[1];return{host:s,port:D4(r.substr(s.length+1))}}{const[s,o]=r.split(":");return{host:s,port:D4(o)}}}(e);r.config.emulator={url:`${s}//${o}${null===a?"":`:${a}`}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:o,port:a,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||function Yme(){function n(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",n):n())}()}(t,`http://${i}`),t}function aye(n){return new ze(function(e){var t=function xge(n,e,t,r){return Ge(n).onAuthStateChanged(e,t,r)}(n,e.next.bind(e),e.error.bind(e),e.complete.bind(e));return{unsubscribe:t}})}function c3(n){return new ze(function(e){return{unsubscribe:B4(n,e.next.bind(e),e.error.bind(e),e.complete.bind(e))}})}!function nye(n){hn(new rn("auth",(e,{options:t})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),{apiKey:s,authDomain:o}=r.options;return((a,l)=>{B(s&&!s.includes(":"),"invalid-api-key",{appName:a.name}),B(!o?.includes(":"),"argument-error",{appName:a.name});const c={apiKey:s,authDomain:o,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:I4(n)},u=new Wme(a,l,c);return function Tme(n,e){const t=e?.persistence||[],r=(Array.isArray(t)?t:[t]).map(_o);e?.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(r,e?.popupRedirectResolver)}(u,t),u})(r,i)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,r)=>{e.getProvider("auth-internal").initialize()})),hn(new rn("auth-internal",e=>{const t=kr(e.getProvider("auth").getImmediate());return new eye(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),Ae(o3,a3,function tye(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(n)),Ae(o3,a3,"esm2017")}("Browser");class Fu{constructor(e){return e}}class Rf{constructor(){return ms("auth")}}const nM=new N("angularfire2.auth-instances");function cye(n){return(e,t)=>{const r=e.runOutsideAngular(()=>n(t));return new Fu(r)}}const uye={provide:Rf,deps:[[new Ie,nM]]},dye={provide:Fu,useFactory:function lye(n,e){const t=ps("auth",n,e);return t&&new Fu(t)},deps:[[new Ie,nM],ei]};let hye=(()=>{class n{constructor(){Ae("angularfire",Jr.full,"auth")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=te({type:n}),n.\u0275inj=ee({providers:[dye,uye]}),n})();function fye(n,...e){return{ngModule:hye,providers:[{provide:nM,useFactory:cye(n),multi:!0,deps:[se,Je,gs,_s,[new Ie,Pu],...e]}]}}const d3=kt(aye,!0),pye=kt(c3,!0),mye=kt(vge,!0),gye=kt(oye,!0),_ye=kt(Ege,!0);let Lu=(()=>{class n{constructor(t){this.auth=t,this.currentUser$=d3(this.auth)}signUp(t,r){return ut(mye(this.auth,t,r))}login(t,r){return ut(function bge(n,e,t){return function KD(n,e){return YD.apply(this,arguments)}(Ge(n),k4.credential(e,t))}(this.auth,t,r))}updateProfileData(t){return W(this.auth.currentUser).pipe(us(i=>{if(!i)throw new Error("\u041d\u0435\u0442 \u0430\u0432\u0442\u043e\u0440\u0438\u0437\u0430\u0446\u0438\u0438");return _ye(i,t)}))}logout(){return ut(this.auth.signOut())}}return n.\u0275fac=function(t){return new(t||n)(w(Fu))},n.\u0275prov=V({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();var Q,yye=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},wo={},rM=rM||{},pe=yye||self;function zy(){}function Gy(n){var e=typeof n;return"array"==(e="object"!=e?e:n?Array.isArray(n)?"array":e:"null")||"object"==e&&"number"==typeof n.length}function Pf(n){var e=typeof n;return"object"==e&&null!=n||"function"==e}var iM="closure_uid_"+(1e9*Math.random()>>>0),bye=0;function wye(n,e,t){return n.call.apply(n.bind,arguments)}function Cye(n,e,t){if(!n)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),n.apply(e,i)}}return function(){return n.apply(e,arguments)}}function tr(n,e,t){return(tr=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?wye:Cye).apply(null,arguments)}function Wy(n,e){var t=Array.prototype.slice.call(arguments,1);return function(){var r=t.slice();return r.push.apply(r,arguments),n.apply(this,r)}}function Un(n,e){function t(){}t.prototype=e.prototype,n.X=e.prototype,n.prototype=new t,n.prototype.constructor=n,n.Wb=function(r,i,s){for(var o=Array(arguments.length-2),a=2;a<arguments.length;a++)o[a-2]=arguments[a];return e.prototype[i].apply(r,o)}}function oa(){this.s=this.s,this.o=this.o}oa.prototype.s=!1,oa.prototype.na=function(){!this.s&&(this.s=!0,this.M(),0)&&function vye(n){Object.prototype.hasOwnProperty.call(n,iM)&&n[iM]||(n[iM]=++bye)}(this)},oa.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const h3=Array.prototype.indexOf?function(n,e){return Array.prototype.indexOf.call(n,e,void 0)}:function(n,e){if("string"==typeof n)return"string"!=typeof e||1!=e.length?-1:n.indexOf(e,0);for(let t=0;t<n.length;t++)if(t in n&&n[t]===e)return t;return-1};function sM(n){const e=n.length;if(0<e){const t=Array(e);for(let r=0;r<e;r++)t[r]=n[r];return t}return[]}function f3(n,e){for(let t=1;t<arguments.length;t++){const r=arguments[t];if(Gy(r)){const i=n.length||0,s=r.length||0;n.length=i+s;for(let o=0;o<s;o++)n[i+o]=r[o]}else n.push(r)}}function nr(n,e){this.type=n,this.g=this.target=e,this.defaultPrevented=!1}nr.prototype.h=function(){this.defaultPrevented=!0};var Iye=function(){if(!pe.addEventListener||!Object.defineProperty)return!1;var n=!1,e=Object.defineProperty({},"passive",{get:function(){n=!0}});try{pe.addEventListener("test",zy,e),pe.removeEventListener("test",zy,e)}catch{}return n}();function qy(n){return/^[\s\xa0]*$/.test(n)}var p3=String.prototype.trim?function(n){return n.trim()}:function(n){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(n)[1]};function oM(n,e){return n<e?-1:n>e?1:0}function Ky(){var n=pe.navigator;return n&&(n=n.userAgent)?n:""}function bs(n){return-1!=Ky().indexOf(n)}function aM(n){return aM[" "](n),n}aM[" "]=zy;var Yy,n,Sye=bs("Opera"),Vu=bs("Trident")||bs("MSIE"),m3=bs("Edge"),lM=m3||Vu,g3=bs("Gecko")&&!(-1!=Ky().toLowerCase().indexOf("webkit")&&!bs("Edge"))&&!(bs("Trident")||bs("MSIE"))&&!bs("Edge"),Dye=-1!=Ky().toLowerCase().indexOf("webkit")&&!bs("Edge");function _3(){var n=pe.document;return n?n.documentMode:void 0}e:{var cM="",uM=(n=Ky(),g3?/rv:([^\);]+)(\)|;)/.exec(n):m3?/Edge\/([\d\.]+)/.exec(n):Vu?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(n):Dye?/WebKit\/(\S+)/.exec(n):Sye?/(?:Version)[ \/]?(\S+)/.exec(n):void 0);if(uM&&(cM=uM?uM[1]:""),Vu){var dM=_3();if(null!=dM&&dM>parseFloat(cM)){Yy=String(dM);break e}}Yy=cM}var Aye={};var xye=pe.document&&Vu&&(_3()||parseInt(Yy,10))||void 0;function Of(n,e){if(nr.call(this,n?n.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,n){var t=this.type=n.type,r=n.changedTouches&&n.changedTouches.length?n.changedTouches[0]:null;if(this.target=n.target||n.srcElement,this.g=e,e=n.relatedTarget){if(g3){e:{try{aM(e.nodeName);var i=!0;break e}catch{}i=!1}i||(e=null)}}else"mouseover"==t?e=n.fromElement:"mouseout"==t&&(e=n.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==n.clientX?n.clientX:n.pageX,this.clientY=void 0!==n.clientY?n.clientY:n.pageY,this.screenX=n.screenX||0,this.screenY=n.screenY||0),this.button=n.button,this.key=n.key||"",this.ctrlKey=n.ctrlKey,this.altKey=n.altKey,this.shiftKey=n.shiftKey,this.metaKey=n.metaKey,this.pointerId=n.pointerId||0,this.pointerType="string"==typeof n.pointerType?n.pointerType:kye[n.pointerType]||"",this.state=n.state,this.i=n,n.defaultPrevented&&Of.X.h.call(this)}}Un(Of,nr);var kye={2:"touch",3:"pen",4:"mouse"};Of.prototype.h=function(){Of.X.h.call(this);var n=this.i;n.preventDefault?n.preventDefault():n.returnValue=!1};var Nf="closure_listenable_"+(1e6*Math.random()|0),Rye=0;function Pye(n,e,t,r,i){this.listener=n,this.proxy=null,this.src=e,this.type=t,this.capture=!!r,this.ha=i,this.key=++Rye,this.ba=this.ea=!1}function Qy(n){n.ba=!0,n.listener=null,n.proxy=null,n.src=null,n.ha=null}function fM(n,e,t){for(const r in n)e.call(t,n[r],r,n)}function v3(n){const e={};for(const t in n)e[t]=n[t];return e}const b3="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function w3(n,e){let t,r;for(let i=1;i<arguments.length;i++){for(t in r=arguments[i],r)n[t]=r[t];for(let s=0;s<b3.length;s++)t=b3[s],Object.prototype.hasOwnProperty.call(r,t)&&(n[t]=r[t])}}function Xy(n){this.src=n,this.g={},this.h=0}function pM(n,e){var t=e.type;if(t in n.g){var s,r=n.g[t],i=h3(r,e);(s=0<=i)&&Array.prototype.splice.call(r,i,1),s&&(Qy(e),0==n.g[t].length&&(delete n.g[t],n.h--))}}function mM(n,e,t,r){for(var i=0;i<n.length;++i){var s=n[i];if(!s.ba&&s.listener==e&&s.capture==!!t&&s.ha==r)return i}return-1}Xy.prototype.add=function(n,e,t,r,i){var s=n.toString();(n=this.g[s])||(n=this.g[s]=[],this.h++);var o=mM(n,e,r,i);return-1<o?(e=n[o],t||(e.ea=!1)):((e=new Pye(e,this.src,s,!!r,i)).ea=t,n.push(e)),e};var gM="closure_lm_"+(1e6*Math.random()|0),_M={};function C3(n,e,t,r,i){if(r&&r.once)return I3(n,e,t,r,i);if(Array.isArray(e)){for(var s=0;s<e.length;s++)C3(n,e[s],t,r,i);return null}return t=wM(t),n&&n[Nf]?n.N(e,t,Pf(r)?!!r.capture:!!r,i):E3(n,e,t,!1,r,i)}function E3(n,e,t,r,i,s){if(!e)throw Error("Invalid event type");var o=Pf(i)?!!i.capture:!!i,a=vM(n);if(a||(n[gM]=a=new Xy(n)),(t=a.add(e,t,r,o,s)).proxy)return t;if(r=function Oye(){const e=Nye;return function n(t){return e.call(n.src,n.listener,t)}}(),t.proxy=r,r.src=n,r.listener=t,n.addEventListener)Iye||(i=o),void 0===i&&(i=!1),n.addEventListener(e.toString(),r,i);else if(n.attachEvent)n.attachEvent(S3(e.toString()),r);else{if(!n.addListener||!n.removeListener)throw Error("addEventListener and attachEvent are unavailable.");n.addListener(r)}return t}function I3(n,e,t,r,i){if(Array.isArray(e)){for(var s=0;s<e.length;s++)I3(n,e[s],t,r,i);return null}return t=wM(t),n&&n[Nf]?n.O(e,t,Pf(r)?!!r.capture:!!r,i):E3(n,e,t,!0,r,i)}function T3(n,e,t,r,i){if(Array.isArray(e))for(var s=0;s<e.length;s++)T3(n,e[s],t,r,i);else r=Pf(r)?!!r.capture:!!r,t=wM(t),n&&n[Nf]?(n=n.i,(e=String(e).toString())in n.g&&-1<(t=mM(s=n.g[e],t,r,i))&&(Qy(s[t]),Array.prototype.splice.call(s,t,1),0==s.length&&(delete n.g[e],n.h--))):n&&(n=vM(n))&&(e=n.g[e.toString()],n=-1,e&&(n=mM(e,t,r,i)),(t=-1<n?e[n]:null)&&yM(t))}function yM(n){if("number"!=typeof n&&n&&!n.ba){var e=n.src;if(e&&e[Nf])pM(e.i,n);else{var t=n.type,r=n.proxy;e.removeEventListener?e.removeEventListener(t,r,n.capture):e.detachEvent?e.detachEvent(S3(t),r):e.addListener&&e.removeListener&&e.removeListener(r),(t=vM(e))?(pM(t,n),0==t.h&&(t.src=null,e[gM]=null)):Qy(n)}}}function S3(n){return n in _M?_M[n]:_M[n]="on"+n}function Nye(n,e){if(n.ba)n=!0;else{e=new Of(e,this);var t=n.listener,r=n.ha||n.src;n.ea&&yM(n),n=t.call(r,e)}return n}function vM(n){return(n=n[gM])instanceof Xy?n:null}var bM="__closure_events_fn_"+(1e9*Math.random()>>>0);function wM(n){return"function"==typeof n?n:(n[bM]||(n[bM]=function(e){return n.handleEvent(e)}),n[bM])}function Cn(){oa.call(this),this.i=new Xy(this),this.P=this,this.I=null}function Hn(n,e){var t,r=n.I;if(r)for(t=[];r;r=r.I)t.push(r);if(n=n.P,r=e.type||e,"string"==typeof e)e=new nr(e,n);else if(e instanceof nr)e.target=e.target||n;else{var i=e;w3(e=new nr(r,n),i)}if(i=!0,t)for(var s=t.length-1;0<=s;s--){var o=e.g=t[s];i=Zy(o,r,!0,e)&&i}if(i=Zy(o=e.g=n,r,!0,e)&&i,i=Zy(o,r,!1,e)&&i,t)for(s=0;s<t.length;s++)i=Zy(o=e.g=t[s],r,!1,e)&&i}function Zy(n,e,t,r){if(!(e=n.i.g[String(e)]))return!0;e=e.concat();for(var i=!0,s=0;s<e.length;++s){var o=e[s];if(o&&!o.ba&&o.capture==t){var a=o.listener,l=o.ha||o.src;o.ea&&pM(n.i,o),i=!1!==a.call(l,r)&&i}}return i&&!r.defaultPrevented}Un(Cn,oa),Cn.prototype[Nf]=!0,Cn.prototype.removeEventListener=function(n,e,t,r){T3(this,n,e,t,r)},Cn.prototype.M=function(){if(Cn.X.M.call(this),this.i){var e,n=this.i;for(e in n.g){for(var t=n.g[e],r=0;r<t.length;r++)Qy(t[r]);delete n.g[e],n.h--}}this.I=null},Cn.prototype.N=function(n,e,t,r){return this.i.add(String(n),e,!1,t,r)},Cn.prototype.O=function(n,e,t,r){return this.i.add(String(n),e,!0,t,r)};var CM=pe.JSON.stringify;function Fye(){var n=M3;let e=null;return n.g&&(e=n.g,n.g=n.g.next,n.g||(n.h=null),e.next=null),e}var EM,D3=new class{constructor(n,e){this.i=n,this.j=e,this.h=0,this.g=null}get(){let n;return 0<this.h?(this.h--,n=this.g,this.g=n.next,n.next=null):n=this.i(),n}}(()=>new Vye,n=>n.reset());class Vye{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function Bye(n){pe.setTimeout(()=>{throw n},0)}function A3(n,e){EM||function Uye(){var n=pe.Promise.resolve(void 0);EM=function(){n.then(Hye)}}(),IM||(EM(),IM=!0),M3.add(n,e)}var IM=!1,M3=new class Lye{constructor(){this.h=this.g=null}add(e,t){const r=D3.get();r.set(e,t),this.h?this.h.next=r:this.g=r,this.h=r}};function Hye(){for(var n;n=Fye();){try{n.h.call(n.g)}catch(t){Bye(t)}var e=D3;e.j(n),100>e.h&&(e.h++,n.next=e.g,e.g=n)}IM=!1}function Jy(n,e){Cn.call(this),this.h=n||1,this.g=e||pe,this.j=tr(this.lb,this),this.l=Date.now()}function TM(n){n.ca=!1,n.R&&(n.g.clearTimeout(n.R),n.R=null)}function SM(n,e,t){if("function"==typeof n)t&&(n=tr(n,t));else{if(!n||"function"!=typeof n.handleEvent)throw Error("Invalid listener argument");n=tr(n.handleEvent,n)}return 2147483647<Number(e)?-1:pe.setTimeout(n,e||0)}function x3(n){n.g=SM(()=>{n.g=null,n.i&&(n.i=!1,x3(n))},n.j);const e=n.h;n.h=null,n.m.apply(null,e)}Un(Jy,Cn),(Q=Jy.prototype).ca=!1,Q.R=null,Q.lb=function(){if(this.ca){var n=Date.now()-this.l;0<n&&n<.8*this.h?this.R=this.g.setTimeout(this.j,this.h-n):(this.R&&(this.g.clearTimeout(this.R),this.R=null),Hn(this,"tick"),this.ca&&(TM(this),this.start()))}},Q.start=function(){this.ca=!0,this.R||(this.R=this.g.setTimeout(this.j,this.h),this.l=Date.now())},Q.M=function(){Jy.X.M.call(this),TM(this),delete this.g};class $ye extends oa{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:x3(this)}M(){super.M(),this.g&&(pe.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Ff(n){oa.call(this),this.h=n,this.g={}}Un(Ff,oa);var k3=[];function R3(n,e,t,r){Array.isArray(t)||(t&&(k3[0]=t.toString()),t=k3);for(var i=0;i<t.length;i++){var s=C3(e,t[i],r||n.handleEvent,!1,n.h||n);if(!s)break;n.g[s.key]=s}}function P3(n){fM(n.g,function(e,t){this.g.hasOwnProperty(t)&&yM(e)},n),n.g={}}function ev(){this.g=!0}function Bu(n,e,t,r){n.info(function(){return"XMLHTTP TEXT ("+e+"): "+function Wye(n,e){if(!n.g)return e;if(!e)return null;try{var t=JSON.parse(e);if(t)for(n=0;n<t.length;n++)if(Array.isArray(t[n])){var r=t[n];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var s=i[0];if("noop"!=s&&"stop"!=s&&"close"!=s)for(var o=1;o<i.length;o++)i[o]=""}}}return CM(t)}catch{return e}}(n,t)+(r?" "+r:"")})}Ff.prototype.M=function(){Ff.X.M.call(this),P3(this)},Ff.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},ev.prototype.Aa=function(){this.g=!1},ev.prototype.info=function(){};var Ml={},O3=null;function tv(){return O3=O3||new Cn}function N3(n){nr.call(this,Ml.Pa,n)}function Lf(n){const e=tv();Hn(e,new N3(e))}function F3(n,e){nr.call(this,Ml.STAT_EVENT,n),this.stat=e}function gr(n){const e=tv();Hn(e,new F3(e,n))}function L3(n,e){nr.call(this,Ml.Qa,n),this.size=e}function Vf(n,e){if("function"!=typeof n)throw Error("Fn must not be null and must be a function");return pe.setTimeout(function(){n()},e)}Ml.Pa="serverreachability",Un(N3,nr),Ml.STAT_EVENT="statevent",Un(F3,nr),Ml.Qa="timingevent",Un(L3,nr);var nv={NO_ERROR:0,mb:1,zb:2,yb:3,tb:4,xb:5,Ab:6,Ma:7,TIMEOUT:8,Db:9},V3={rb:"complete",Nb:"success",Na:"error",Ma:"abort",Fb:"ready",Gb:"readystatechange",TIMEOUT:"timeout",Bb:"incrementaldata",Eb:"progress",ub:"downloadprogress",Vb:"uploadprogress"};function DM(){}function U3(){}DM.prototype.h=null;var xM,Bf={OPEN:"a",qb:"b",Na:"c",Cb:"d"};function AM(){nr.call(this,"d")}function MM(){nr.call(this,"c")}function rv(){}function Uf(n,e,t,r){this.l=n,this.j=e,this.m=t,this.U=r||1,this.S=new Ff(this),this.O=qye,this.T=new Jy(n=lM?125:void 0),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.V=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.Y=-1,this.I=!1,this.N=0,this.L=null,this.$=this.J=this.Z=this.P=!1,this.h=new H3}function H3(){this.i=null,this.g="",this.h=!1}Un(AM,nr),Un(MM,nr),Un(rv,DM),rv.prototype.g=function(){return new XMLHttpRequest},rv.prototype.i=function(){return{}},xM=new rv;var qye=45e3,kM={},iv={};function RM(n,e,t){n.K=1,n.v=lv(Co(e)),n.s=t,n.P=!0,$3(n,null)}function $3(n,e){n.F=Date.now(),Hf(n),n.A=Co(n.v);var t=n.A,r=n.U;Array.isArray(r)||(r=[String(r)]),Z3(t.i,"t",r),n.C=0,t=n.l.H,n.h=new H3,n.g=Cz(n.l,t?e:null,!n.s),0<n.N&&(n.L=new $ye(tr(n.La,n,n.g),n.N)),R3(n.S,n.g,"readystatechange",n.ib),e=n.H?v3(n.H):{},n.s?(n.u||(n.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",n.g.da(n.A,n.u,n.s,e)):(n.u="GET",n.g.da(n.A,n.u,null,e)),Lf(),function jye(n,e,t,r,i,s){n.info(function(){if(n.g)if(s)for(var o="",a=s.split("&"),l=0;l<a.length;l++){var c=a[l].split("=");if(1<c.length){var u=c[0];c=c[1];var d=u.split("_");o=2<=d.length&&"type"==d[1]?o+(u+"=")+c+"&":o+(u+"=redacted&")}}else o=null;else o=s;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+"\n"+t+"\n"+o})}(n.j,n.u,n.A,n.m,n.U,n.s)}function j3(n){return!!n.g&&"GET"==n.u&&2!=n.K&&n.l.Da}function z3(n,e,t){let i,r=!0;for(;!n.I&&n.C<t.length;){if(i=Kye(n,t),i==iv){4==e&&(n.o=4,gr(14),r=!1),Bu(n.j,n.m,null,"[Incomplete Response]");break}if(i==kM){n.o=4,gr(15),Bu(n.j,n.m,t,"[Invalid Chunk]"),r=!1;break}Bu(n.j,n.m,i,null),PM(n,i)}j3(n)&&i!=iv&&i!=kM&&(n.h.g="",n.C=0),4!=e||0!=t.length||n.h.h||(n.o=1,gr(16),r=!1),n.i=n.i&&r,r?0<t.length&&!n.$&&(n.$=!0,(e=n.l).g==n&&e.$&&!e.K&&(e.j.info("Great, no buffering proxy detected. Bytes received: "+t.length),HM(e),e.K=!0,gr(11))):(Bu(n.j,n.m,t,"[Invalid Chunked Response]"),xl(n),$f(n))}function Kye(n,e){var t=n.C,r=e.indexOf("\n",t);return-1==r?iv:(t=Number(e.substring(t,r)),isNaN(t)?kM:(r+=1)+t>e.length?iv:(e=e.substr(r,t),n.C=r+t,e))}function Hf(n){n.V=Date.now()+n.O,G3(n,n.O)}function G3(n,e){if(null!=n.B)throw Error("WatchDog timer not null");n.B=Vf(tr(n.gb,n),e)}function sv(n){n.B&&(pe.clearTimeout(n.B),n.B=null)}function $f(n){0==n.l.G||n.I||yz(n.l,n)}function xl(n){sv(n);var e=n.L;e&&"function"==typeof e.na&&e.na(),n.L=null,TM(n.T),P3(n.S),n.g&&(e=n.g,n.g=null,e.abort(),e.na())}function PM(n,e){try{var t=n.l;if(0!=t.G&&(t.g==n||OM(t.h,n)))if(!n.J&&OM(t.h,n)&&3==t.G){try{var r=t.Fa.g.parse(e)}catch{r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!t.u){if(t.g){if(!(t.g.F+3e3<n.F))break e;pv(t),hv(t)}UM(t),gr(18)}}else t.Ba=i[1],0<t.Ba-t.T&&37500>i[2]&&t.L&&0==t.A&&!t.v&&(t.v=Vf(tr(t.cb,t),6e3));if(1>=tz(t.h)&&t.ja){try{t.ja()}catch{}t.ja=void 0}}else Rl(t,11)}else if((n.J||t.g==n)&&pv(t),!qy(e))for(i=t.Fa.g.parse(e),e=0;e<i.length;e++){let c=i[e];if(t.T=c[0],c=c[1],2==t.G)if("c"==c[0]){t.I=c[1],t.ka=c[2];const u=c[3];null!=u&&(t.ma=u,t.j.info("VER="+t.ma));const d=c[4];null!=d&&(t.Ca=d,t.j.info("SVER="+t.Ca));const h=c[5];null!=h&&"number"==typeof h&&0<h&&(t.J=r=1.5*h,t.j.info("backChannelRequestTimeoutMs_="+r)),r=t;const f=n.g;if(f){const p=f.g?f.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(p){var s=r.h;s.g||-1==p.indexOf("spdy")&&-1==p.indexOf("quic")&&-1==p.indexOf("h2")||(s.j=s.l,s.g=new Set,s.h&&(NM(s,s.h),s.h=null))}if(r.D){const m=f.g?f.g.getResponseHeader("X-HTTP-Session-Id"):null;m&&(r.za=m,It(r.F,r.D,m))}}t.G=3,t.l&&t.l.xa(),t.$&&(t.P=Date.now()-n.F,t.j.info("Handshake RTT: "+t.P+"ms"));var o=n;if((r=t).sa=wz(r,r.H?r.ka:null,r.V),o.J){nz(r.h,o);var a=o,l=r.J;l&&a.setTimeout(l),a.B&&(sv(a),Hf(a)),r.g=o}else gz(r);0<t.i.length&&fv(t)}else"stop"!=c[0]&&"close"!=c[0]||Rl(t,7);else 3==t.G&&("stop"==c[0]||"close"==c[0]?"stop"==c[0]?Rl(t,7):BM(t):"noop"!=c[0]&&t.l&&t.l.wa(c),t.A=0)}Lf()}catch{}}function W3(n,e){if(n.forEach&&"function"==typeof n.forEach)n.forEach(e,void 0);else if(Gy(n)||"string"==typeof n)Array.prototype.forEach.call(n,e,void 0);else for(var t=function Qye(n){if(n.oa&&"function"==typeof n.oa)return n.oa();if(!n.W||"function"!=typeof n.W){if(typeof Map<"u"&&n instanceof Map)return Array.from(n.keys());if(!(typeof Set<"u"&&n instanceof Set)){if(Gy(n)||"string"==typeof n){var e=[];n=n.length;for(var t=0;t<n;t++)e.push(t);return e}e=[],t=0;for(const r in n)e[t++]=r;return e}}}(n),r=function Yye(n){if(n.W&&"function"==typeof n.W)return n.W();if(typeof Map<"u"&&n instanceof Map||typeof Set<"u"&&n instanceof Set)return Array.from(n.values());if("string"==typeof n)return n.split("");if(Gy(n)){for(var e=[],t=n.length,r=0;r<t;r++)e.push(n[r]);return e}for(r in e=[],t=0,n)e[t++]=n[r];return e}(n),i=r.length,s=0;s<i;s++)e.call(void 0,r[s],t&&t[s],n)}(Q=Uf.prototype).setTimeout=function(n){this.O=n},Q.ib=function(n){n=n.target;const e=this.L;e&&3==Eo(n)?e.l():this.La(n)},Q.La=function(n){try{if(n==this.g)e:{const u=Eo(this.g);var e=this.g.Ea();if(this.g.aa(),!(3>u)&&(3!=u||lM||this.g&&(this.h.h||this.g.fa()||uz(this.g)))){this.I||4!=u||7==e||Lf(),sv(this);var t=this.g.aa();this.Y=t;t:if(j3(this)){var r=uz(this.g);n="";var i=r.length,s=4==Eo(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){xl(this),$f(this);var o="";break t}this.h.i=new pe.TextDecoder}for(e=0;e<i;e++)this.h.h=!0,n+=this.h.i.decode(r[e],{stream:s&&e==i-1});r.splice(0,i),this.h.g+=n,this.C=0,o=this.h.g}else o=this.g.fa();if(this.i=200==t,function zye(n,e,t,r,i,s,o){n.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+"\n"+t+"\n"+s+" "+o})}(this.j,this.u,this.A,this.m,this.U,u,t),this.i){if(this.Z&&!this.J){t:{if(this.g){var a,l=this.g;if((a=l.g?l.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!qy(a)){var c=a;break t}}c=null}if(!(t=c)){this.i=!1,this.o=3,gr(12),xl(this),$f(this);break e}Bu(this.j,this.m,t,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,PM(this,t)}this.P?(z3(this,u,o),lM&&this.i&&3==u&&(R3(this.S,this.T,"tick",this.hb),this.T.start())):(Bu(this.j,this.m,o,null),PM(this,o)),4==u&&xl(this),this.i&&!this.I&&(4==u?yz(this.l,this):(this.i=!1,Hf(this)))}else 400==t&&0<o.indexOf("Unknown SID")?(this.o=3,gr(12)):(this.o=0,gr(13)),xl(this),$f(this)}}}catch{}},Q.hb=function(){if(this.g){var n=Eo(this.g),e=this.g.fa();this.C<e.length&&(sv(this),z3(this,n,e),this.i&&4!=n&&Hf(this))}},Q.cancel=function(){this.I=!0,xl(this)},Q.gb=function(){this.B=null;const n=Date.now();0<=n-this.V?(function Gye(n,e){n.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.K&&(Lf(),gr(17)),xl(this),this.o=2,$f(this)):G3(this,this.V-n)};var q3=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function kl(n,e){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,n instanceof kl){this.h=void 0!==e?e:n.h,ov(this,n.j),this.s=n.s,this.g=n.g,av(this,n.m),this.l=n.l,e=n.i;var t=new Gf;t.i=e.i,e.g&&(t.g=new Map(e.g),t.h=e.h),K3(this,t),this.o=n.o}else n&&(t=String(n).match(q3))?(this.h=!!e,ov(this,t[1]||"",!0),this.s=jf(t[2]||""),this.g=jf(t[3]||"",!0),av(this,t[4]),this.l=jf(t[5]||"",!0),K3(this,t[6]||"",!0),this.o=jf(t[7]||"")):(this.h=!!e,this.i=new Gf(null,this.h))}function Co(n){return new kl(n)}function ov(n,e,t){n.j=t?jf(e,!0):e,n.j&&(n.j=n.j.replace(/:$/,""))}function av(n,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);n.m=e}else n.m=null}function K3(n,e,t){e instanceof Gf?(n.i=e,function rve(n,e){e&&!n.j&&(aa(n),n.i=null,n.g.forEach(function(t,r){var i=r.toLowerCase();r!=i&&(Q3(this,r),Z3(this,i,t))},n)),n.j=e}(n.i,n.h)):(t||(e=zf(e,tve)),n.i=new Gf(e,n.h))}function It(n,e,t){n.i.set(e,t)}function lv(n){return It(n,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),n}function jf(n,e){return n?e?decodeURI(n.replace(/%25/g,"%2525")):decodeURIComponent(n):""}function zf(n,e,t){return"string"==typeof n?(n=encodeURI(n).replace(e,Zye),t&&(n=n.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n):null}function Zye(n){return"%"+((n=n.charCodeAt(0))>>4&15).toString(16)+(15&n).toString(16)}kl.prototype.toString=function(){var n=[],e=this.j;e&&n.push(zf(e,Y3,!0),":");var t=this.g;return(t||"file"==e)&&(n.push("//"),(e=this.s)&&n.push(zf(e,Y3,!0),"@"),n.push(encodeURIComponent(String(t)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(t=this.m)&&n.push(":",String(t))),(t=this.l)&&(this.g&&"/"!=t.charAt(0)&&n.push("/"),n.push(zf(t,"/"==t.charAt(0)?eve:Jye,!0))),(t=this.i.toString())&&n.push("?",t),(t=this.o)&&n.push("#",zf(t,nve)),n.join("")};var Y3=/[#\/\?@]/g,Jye=/[#\?:]/g,eve=/[#\?]/g,tve=/[#\?@]/g,nve=/#/g;function Gf(n,e){this.h=this.g=null,this.i=n||null,this.j=!!e}function aa(n){n.g||(n.g=new Map,n.h=0,n.i&&function Xye(n,e){if(n){n=n.split("&");for(var t=0;t<n.length;t++){var r=n[t].indexOf("="),i=null;if(0<=r){var s=n[t].substring(0,r);i=n[t].substring(r+1)}else s=n[t];e(s,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(n.i,function(e,t){n.add(decodeURIComponent(e.replace(/\+/g," ")),t)}))}function Q3(n,e){aa(n),e=Uu(n,e),n.g.has(e)&&(n.i=null,n.h-=n.g.get(e).length,n.g.delete(e))}function X3(n,e){return aa(n),e=Uu(n,e),n.g.has(e)}function Z3(n,e,t){Q3(n,e),0<t.length&&(n.i=null,n.g.set(Uu(n,e),sM(t)),n.h+=t.length)}function Uu(n,e){return e=String(e),n.j&&(e=e.toLowerCase()),e}function J3(n){this.l=n||sve,n=pe.PerformanceNavigationTiming?0<(n=pe.performance.getEntriesByType("navigation")).length&&("hq"==n[0].nextHopProtocol||"h2"==n[0].nextHopProtocol):!!(pe.g&&pe.g.Ga&&pe.g.Ga()&&pe.g.Ga().$b),this.j=n?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(Q=Gf.prototype).add=function(n,e){aa(this),this.i=null,n=Uu(this,n);var t=this.g.get(n);return t||this.g.set(n,t=[]),t.push(e),this.h+=1,this},Q.forEach=function(n,e){aa(this),this.g.forEach(function(t,r){t.forEach(function(i){n.call(e,i,r,this)},this)},this)},Q.oa=function(){aa(this);const n=Array.from(this.g.values()),e=Array.from(this.g.keys()),t=[];for(let r=0;r<e.length;r++){const i=n[r];for(let s=0;s<i.length;s++)t.push(e[r])}return t},Q.W=function(n){aa(this);let e=[];if("string"==typeof n)X3(this,n)&&(e=e.concat(this.g.get(Uu(this,n))));else{n=Array.from(this.g.values());for(let t=0;t<n.length;t++)e=e.concat(n[t])}return e},Q.set=function(n,e){return aa(this),this.i=null,X3(this,n=Uu(this,n))&&(this.h-=this.g.get(n).length),this.g.set(n,[e]),this.h+=1,this},Q.get=function(n,e){return n&&0<(n=this.W(n)).length?String(n[0]):e},Q.toString=function(){if(this.i)return this.i;if(!this.g)return"";const n=[],e=Array.from(this.g.keys());for(var t=0;t<e.length;t++){var r=e[t];const s=encodeURIComponent(String(r)),o=this.W(r);for(r=0;r<o.length;r++){var i=s;""!==o[r]&&(i+="="+encodeURIComponent(String(o[r]))),n.push(i)}}return this.i=n.join("&")};var sve=10;function ez(n){return!!n.h||!!n.g&&n.g.size>=n.j}function tz(n){return n.h?1:n.g?n.g.size:0}function OM(n,e){return n.h?n.h==e:!!n.g&&n.g.has(e)}function NM(n,e){n.g?n.g.add(e):n.h=e}function nz(n,e){n.h&&n.h==e?n.h=null:n.g&&n.g.has(e)&&n.g.delete(e)}function rz(n){if(null!=n.h)return n.i.concat(n.h.D);if(null!=n.g&&0!==n.g.size){let e=n.i;for(const t of n.g.values())e=e.concat(t.D);return e}return sM(n.i)}function FM(){}function ove(){this.g=new FM}function ave(n,e,t){const r=t||"";try{W3(n,function(i,s){let o=i;Pf(i)&&(o=CM(i)),e.push(r+s+"="+encodeURIComponent(o))})}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function cv(n,e,t,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch{}}function Wf(n){this.l=n.ac||null,this.j=n.jb||!1}function uv(n,e){Cn.call(this),this.D=n,this.u=e,this.m=void 0,this.readyState=LM,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}J3.prototype.cancel=function(){if(this.i=rz(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const n of this.g.values())n.cancel();this.g.clear()}},FM.prototype.stringify=function(n){return pe.JSON.stringify(n,void 0)},FM.prototype.parse=function(n){return pe.JSON.parse(n,void 0)},Un(Wf,DM),Wf.prototype.g=function(){return new uv(this.l,this.j)},Wf.prototype.i=function(n){return function(){return n}}({}),Un(uv,Cn);var LM=0;function iz(n){n.j.read().then(n.Ta.bind(n)).catch(n.ga.bind(n))}function qf(n){n.readyState=4,n.l=null,n.j=null,n.A=null,Kf(n)}function Kf(n){n.onreadystatechange&&n.onreadystatechange.call(n)}(Q=uv.prototype).open=function(n,e){if(this.readyState!=LM)throw this.abort(),Error("Error reopening a connection");this.C=n,this.B=e,this.readyState=1,Kf(this)},Q.send=function(n){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};n&&(e.body=n),(this.D||pe).fetch(new Request(this.B,e)).then(this.Wa.bind(this),this.ga.bind(this))},Q.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,qf(this)),this.readyState=LM},Q.Wa=function(n){if(this.g&&(this.l=n,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=n.headers,this.readyState=2,Kf(this)),this.g&&(this.readyState=3,Kf(this),this.g)))if("arraybuffer"===this.responseType)n.arrayBuffer().then(this.Ua.bind(this),this.ga.bind(this));else if(typeof pe.ReadableStream<"u"&&"body"in n){if(this.j=n.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;iz(this)}else n.text().then(this.Va.bind(this),this.ga.bind(this))},Q.Ta=function(n){if(this.g){if(this.u&&n.value)this.response.push(n.value);else if(!this.u){var e=n.value?n.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!n.done}))&&(this.response=this.responseText+=e)}n.done?qf(this):Kf(this),3==this.readyState&&iz(this)}},Q.Va=function(n){this.g&&(this.response=this.responseText=n,qf(this))},Q.Ua=function(n){this.g&&(this.response=n,qf(this))},Q.ga=function(){this.g&&qf(this)},Q.setRequestHeader=function(n,e){this.v.append(n,e)},Q.getResponseHeader=function(n){return this.h&&this.h.get(n.toLowerCase())||""},Q.getAllResponseHeaders=function(){if(!this.h)return"";const n=[],e=this.h.entries();for(var t=e.next();!t.done;)n.push((t=t.value)[0]+": "+t[1]),t=e.next();return n.join("\r\n")},Object.defineProperty(uv.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(n){this.m=n?"include":"same-origin"}});var cve=pe.JSON.parse;function $t(n){Cn.call(this),this.headers=new Map,this.u=n||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=sz,this.K=this.L=!1}Un($t,Cn);var sz="",uve=/^https?$/i,dve=["POST","PUT"];function oz(n,e){n.h=!1,n.g&&(n.l=!0,n.g.abort(),n.l=!1),n.j=e,n.m=5,az(n),dv(n)}function az(n){n.D||(n.D=!0,Hn(n,"complete"),Hn(n,"error"))}function lz(n){if(n.h&&typeof rM<"u"&&(!n.C[1]||4!=Eo(n)||2!=n.aa()))if(n.v&&4==Eo(n))SM(n.Ha,0,n);else if(Hn(n,"readystatechange"),4==Eo(n)){n.h=!1;try{const a=n.aa();e:switch(a){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var t;if(!(t=e)){var r;if(r=0===a){var i=String(n.H).match(q3)[1]||null;if(!i&&pe.self&&pe.self.location){var s=pe.self.location.protocol;i=s.substr(0,s.length-1)}r=!uve.test(i?i.toLowerCase():"")}t=r}if(t)Hn(n,"complete"),Hn(n,"success");else{n.m=6;try{var o=2<Eo(n)?n.g.statusText:""}catch{o=""}n.j=o+" ["+n.aa()+"]",az(n)}}finally{dv(n)}}}function dv(n,e){if(n.g){cz(n);const t=n.g,r=n.C[0]?zy:null;n.g=null,n.C=null,e||Hn(n,"ready");try{t.onreadystatechange=r}catch{}}}function cz(n){n.g&&n.K&&(n.g.ontimeout=null),n.A&&(pe.clearTimeout(n.A),n.A=null)}function Eo(n){return n.g?n.g.readyState:0}function uz(n){try{if(!n.g)return null;if("response"in n.g)return n.g.response;switch(n.J){case sz:case"text":return n.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in n.g)return n.g.mozResponseArrayBuffer}return null}catch{return null}}function dz(n){let e="";return fM(n,function(t,r){e+=r,e+=":",e+=t,e+="\r\n"}),e}function VM(n,e,t){e:{for(r in t){var r=!1;break e}r=!0}r||(t=dz(t),"string"==typeof n?null!=t&&encodeURIComponent(String(t)):It(n,e,t))}function Yf(n,e,t){return t&&t.internalChannelParams&&t.internalChannelParams[n]||e}function hz(n){this.Ca=0,this.i=[],this.j=new ev,this.ka=this.sa=this.F=this.V=this.g=this.za=this.D=this.ia=this.o=this.S=this.s=null,this.ab=this.U=0,this.Za=Yf("failFast",!1,n),this.L=this.v=this.u=this.m=this.l=null,this.Y=!0,this.pa=this.Ba=this.T=-1,this.Z=this.A=this.C=0,this.Xa=Yf("baseRetryDelayMs",5e3,n),this.bb=Yf("retryDelaySeedMs",1e4,n),this.$a=Yf("forwardChannelMaxRetries",2,n),this.ta=Yf("forwardChannelRequestTimeoutMs",2e4,n),this.ra=n&&n.xmlHttpFactory||void 0,this.Da=n&&n.Zb||!1,this.J=void 0,this.H=n&&n.supportsCrossDomainXhr||!1,this.I="",this.h=new J3(n&&n.concurrentRequestLimit),this.Fa=new ove,this.O=n&&n.fastHandshake||!1,this.N=n&&n.encodeInitMessageHeaders||!1,this.O&&this.N&&(this.N=!1),this.Ya=n&&n.Xb||!1,n&&n.Aa&&this.j.Aa(),n&&n.forceLongPolling&&(this.Y=!1),this.$=!this.O&&this.Y&&n&&n.detectBufferingProxy||!1,this.ja=void 0,this.P=0,this.K=!1,this.la=this.B=null}function BM(n){if(fz(n),3==n.G){var e=n.U++,t=Co(n.F);It(t,"SID",n.I),It(t,"RID",e),It(t,"TYPE","terminate"),Qf(n,t),(e=new Uf(n,n.j,e,void 0)).K=2,e.v=lv(Co(t)),t=!1,pe.navigator&&pe.navigator.sendBeacon&&(t=pe.navigator.sendBeacon(e.v.toString(),"")),!t&&pe.Image&&((new Image).src=e.v,t=!0),t||(e.g=Cz(e.l,null),e.g.da(e.v)),e.F=Date.now(),Hf(e)}bz(n)}function hv(n){n.g&&(HM(n),n.g.cancel(),n.g=null)}function fz(n){hv(n),n.u&&(pe.clearTimeout(n.u),n.u=null),pv(n),n.h.cancel(),n.m&&("number"==typeof n.m&&pe.clearTimeout(n.m),n.m=null)}function fv(n){ez(n.h)||n.m||(n.m=!0,A3(n.Ja,n),n.C=0)}function pz(n,e){var t;t=e?e.m:n.U++;const r=Co(n.F);It(r,"SID",n.I),It(r,"RID",t),It(r,"AID",n.T),Qf(n,r),n.o&&n.s&&VM(r,n.o,n.s),t=new Uf(n,n.j,t,n.C+1),null===n.o&&(t.H=n.s),e&&(n.i=e.D.concat(n.i)),e=mz(n,t,1e3),t.setTimeout(Math.round(.5*n.ta)+Math.round(.5*n.ta*Math.random())),NM(n.h,t),RM(t,r,e)}function Qf(n,e){n.ia&&fM(n.ia,function(t,r){It(e,r,t)}),n.l&&W3({},function(t,r){It(e,r,t)})}function mz(n,e,t){t=Math.min(n.i.length,t);var r=n.l?tr(n.l.Ra,n.l,n):null;e:{var i=n.i;let s=-1;for(;;){const o=["count="+t];-1==s?0<t?(s=i[0].h,o.push("ofs="+s)):s=0:o.push("ofs="+s);let a=!0;for(let l=0;l<t;l++){let c=i[l].h;const u=i[l].g;if(c-=s,0>c)s=Math.max(0,i[l].h-100),a=!1;else try{ave(u,o,"req"+c+"_")}catch{r&&r(u)}}if(a){r=o.join("&");break e}}}return n=n.i.splice(0,t),e.D=n,r}function gz(n){n.g||n.u||(n.Z=1,A3(n.Ia,n),n.A=0)}function UM(n){return!(n.g||n.u||3<=n.A||(n.Z++,n.u=Vf(tr(n.Ia,n),vz(n,n.A)),n.A++,0))}function HM(n){null!=n.B&&(pe.clearTimeout(n.B),n.B=null)}function _z(n){n.g=new Uf(n,n.j,"rpc",n.Z),null===n.o&&(n.g.H=n.s),n.g.N=0;var e=Co(n.sa);It(e,"RID","rpc"),It(e,"SID",n.I),It(e,"CI",n.L?"0":"1"),It(e,"AID",n.T),It(e,"TYPE","xmlhttp"),Qf(n,e),n.o&&n.s&&VM(e,n.o,n.s),n.J&&n.g.setTimeout(n.J);var t=n.g;n=n.ka,t.K=1,t.v=lv(Co(e)),t.s=null,t.P=!0,$3(t,n)}function pv(n){null!=n.v&&(pe.clearTimeout(n.v),n.v=null)}function yz(n,e){var t=null;if(n.g==e){pv(n),HM(n),n.g=null;var r=2}else{if(!OM(n.h,e))return;t=e.D,nz(n.h,e),r=1}if(0!=n.G)if(n.pa=e.Y,e.i)if(1==r){t=e.s?e.s.length:0,e=Date.now()-e.F;var i=n.C;Hn(r=tv(),new L3(r,t)),fv(n)}else gz(n);else if(3==(i=e.o)||0==i&&0<n.pa||!(1==r&&function fve(n,e){return!(tz(n.h)>=n.h.j-(n.m?1:0)||(n.m?(n.i=e.D.concat(n.i),0):1==n.G||2==n.G||n.C>=(n.Za?0:n.$a)||(n.m=Vf(tr(n.Ja,n,e),vz(n,n.C)),n.C++,0)))}(n,e)||2==r&&UM(n)))switch(t&&0<t.length&&(e=n.h,e.i=e.i.concat(t)),i){case 1:Rl(n,5);break;case 4:Rl(n,10);break;case 3:Rl(n,6);break;default:Rl(n,2)}}function vz(n,e){let t=n.Xa+Math.floor(Math.random()*n.bb);return n.l||(t*=2),t*e}function Rl(n,e){if(n.j.info("Error code "+e),2==e){var t=null;n.l&&(t=null);var r=tr(n.kb,n);t||(t=new kl("//www.google.com/images/cleardot.gif"),pe.location&&"http"==pe.location.protocol||ov(t,"https"),lv(t)),function lve(n,e){const t=new ev;if(pe.Image){const r=new Image;r.onload=Wy(cv,t,r,"TestLoadImage: loaded",!0,e),r.onerror=Wy(cv,t,r,"TestLoadImage: error",!1,e),r.onabort=Wy(cv,t,r,"TestLoadImage: abort",!1,e),r.ontimeout=Wy(cv,t,r,"TestLoadImage: timeout",!1,e),pe.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=n}else e(!1)}(t.toString(),r)}else gr(2);n.G=0,n.l&&n.l.va(e),bz(n),fz(n)}function bz(n){if(n.G=0,n.la=[],n.l){const e=rz(n.h);(0!=e.length||0!=n.i.length)&&(f3(n.la,e),f3(n.la,n.i),n.h.i.length=0,sM(n.i),n.i.length=0),n.l.ua()}}function wz(n,e,t){var r=t instanceof kl?Co(t):new kl(t,void 0);if(""!=r.g)e&&(r.g=e+"."+r.g),av(r,r.m);else{var i=pe.location;r=i.protocol,e=e?e+"."+i.hostname:i.hostname,i=+i.port;var s=new kl(null,void 0);r&&ov(s,r),e&&(s.g=e),i&&av(s,i),t&&(s.l=t),r=s}return e=n.za,(t=n.D)&&e&&It(r,t,e),It(r,"VER",n.ma),Qf(n,r),r}function Cz(n,e,t){if(e&&!n.H)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new $t(t&&n.Da&&!n.ra?new Wf({jb:!0}):n.ra)).Ka(n.H),e}function Ez(){}function mv(){if(Vu&&!(10<=Number(xye)))throw Error("Environmental error: no available transport.")}function ti(n,e){Cn.call(this),this.g=new hz(e),this.l=n,this.h=e&&e.messageUrlParams||null,n=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(n?n["X-Client-Protocol"]="webchannel":n={"X-Client-Protocol":"webchannel"}),this.g.s=n,n=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(n?n["X-WebChannel-Content-Type"]=e.messageContentType:n={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.ya&&(n?n["X-WebChannel-Client-Profile"]=e.ya:n={"X-WebChannel-Client-Profile":e.ya}),this.g.S=n,(n=e&&e.Yb)&&!qy(n)&&(this.g.o=n),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!qy(e)&&(this.g.D=e,null!==(n=this.h)&&e in n&&e in(n=this.h)&&delete n[e]),this.j=new Hu(this)}function Iz(n){AM.call(this);var e=n.__sm__;if(e){e:{for(const t in e){n=t;break e}n=void 0}(this.i=n)&&(n=this.i,e=null!==e&&n in e?e[n]:void 0),this.data=e}else this.data=n}function Tz(){MM.call(this),this.status=1}function Hu(n){this.g=n}(Q=$t.prototype).Ka=function(n){this.L=n},Q.da=function(n,e,t,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+n);e=e?e.toUpperCase():"GET",this.H=n,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():xM.g(),this.C=function B3(n){return n.h||(n.h=n.i())}(this.u?this.u:xM),this.g.onreadystatechange=tr(this.Ha,this);try{this.F=!0,this.g.open(e,String(n),!0),this.F=!1}catch(s){return void oz(this,s)}if(n=t||"",t=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)t.set(i,r[i]);else{if("function"!=typeof r.keys||"function"!=typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));for(const s of r.keys())t.set(s,r.get(s))}r=Array.from(t.keys()).find(s=>"content-type"==s.toLowerCase()),i=pe.FormData&&n instanceof pe.FormData,!(0<=h3(dve,e))||r||i||t.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[s,o]of t)this.g.setRequestHeader(s,o);this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{cz(this),0<this.B&&((this.K=function hve(n){return Vu&&function Mye(){return function Tye(n){var e=Aye;return Object.prototype.hasOwnProperty.call(e,9)?e[9]:e[9]=n(9)}(function(){let n=0;const e=p3(String(Yy)).split("."),t=p3("9").split("."),r=Math.max(e.length,t.length);for(let o=0;0==n&&o<r;o++){var i=e[o]||"",s=t[o]||"";do{if(i=/(\d*)(\D*)(.*)/.exec(i)||["","","",""],s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],0==i[0].length&&0==s[0].length)break;n=oM(0==i[1].length?0:parseInt(i[1],10),0==s[1].length?0:parseInt(s[1],10))||oM(0==i[2].length,0==s[2].length)||oM(i[2],s[2]),i=i[3],s=s[3]}while(0==n)}return 0<=n})}()&&"number"==typeof n.timeout&&void 0!==n.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=tr(this.qa,this)):this.A=SM(this.qa,this.B,this)),this.v=!0,this.g.send(n),this.v=!1}catch(s){oz(this,s)}},Q.qa=function(){typeof rM<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Hn(this,"timeout"),this.abort(8))},Q.abort=function(n){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=n||7,Hn(this,"complete"),Hn(this,"abort"),dv(this))},Q.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),dv(this,!0)),$t.X.M.call(this)},Q.Ha=function(){this.s||(this.F||this.v||this.l?lz(this):this.fb())},Q.fb=function(){lz(this)},Q.aa=function(){try{return 2<Eo(this)?this.g.status:-1}catch{return-1}},Q.fa=function(){try{return this.g?this.g.responseText:""}catch{return""}},Q.Sa=function(n){if(this.g){var e=this.g.responseText;return n&&0==e.indexOf(n)&&(e=e.substring(n.length)),cve(e)}},Q.Ea=function(){return this.m},Q.Oa=function(){return"string"==typeof this.j?this.j:String(this.j)},(Q=hz.prototype).ma=8,Q.G=1,Q.Ja=function(n){if(this.m)if(this.m=null,1==this.G){if(!n){this.U=Math.floor(1e5*Math.random()),n=this.U++;const i=new Uf(this,this.j,n,void 0);let s=this.s;if(this.S&&(s?(s=v3(s),w3(s,this.S)):s=this.S),null!==this.o||this.N||(i.H=s,s=null),this.O)e:{for(var e=0,t=0;t<this.i.length;t++){var r=this.i[t];if(void 0===(r="__data__"in r.g&&"string"==typeof(r=r.g.__data__)?r.length:void 0))break;if(4096<(e+=r)){e=t;break e}if(4096===e||t===this.i.length-1){e=t+1;break e}}e=1e3}else e=1e3;e=mz(this,i,e),It(t=Co(this.F),"RID",n),It(t,"CVER",22),this.D&&It(t,"X-HTTP-Session-Id",this.D),Qf(this,t),s&&(this.N?e="headers="+encodeURIComponent(String(dz(s)))+"&"+e:this.o&&VM(t,this.o,s)),NM(this.h,i),this.Ya&&It(t,"TYPE","init"),this.O?(It(t,"$req",e),It(t,"SID","null"),i.Z=!0,RM(i,t,null)):RM(i,t,e),this.G=2}}else 3==this.G&&(n?pz(this,n):0==this.i.length||ez(this.h)||pz(this))},Q.Ia=function(){if(this.u=null,_z(this),this.$&&!(this.K||null==this.g||0>=this.P)){var n=2*this.P;this.j.info("BP detection timer enabled: "+n),this.B=Vf(tr(this.eb,this),n)}},Q.eb=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.L=!1,this.K=!0,gr(10),hv(this),_z(this))},Q.cb=function(){null!=this.v&&(this.v=null,hv(this),UM(this),gr(19))},Q.kb=function(n){n?(this.j.info("Successfully pinged google.com"),gr(2)):(this.j.info("Failed to ping google.com"),gr(1))},(Q=Ez.prototype).xa=function(){},Q.wa=function(){},Q.va=function(){},Q.ua=function(){},Q.Ra=function(){},mv.prototype.g=function(n,e){return new ti(n,e)},Un(ti,Cn),ti.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.H=!0);var n=this.g,e=this.l,t=this.h||void 0;gr(0),n.V=e,n.ia=t||{},n.L=n.Y,n.F=wz(n,null,n.V),fv(n)},ti.prototype.close=function(){BM(this.g)},ti.prototype.u=function(n){var e=this.g;if("string"==typeof n){var t={};t.__data__=n,n=t}else this.v&&((t={}).__data__=CM(n),n=t);e.i.push(new class{constructor(n,e){this.h=n,this.g=e}}(e.ab++,n)),3==e.G&&fv(e)},ti.prototype.M=function(){this.g.l=null,delete this.j,BM(this.g),delete this.g,ti.X.M.call(this)},Un(Iz,AM),Un(Tz,MM),Un(Hu,Ez),Hu.prototype.xa=function(){Hn(this.g,"a")},Hu.prototype.wa=function(n){Hn(this.g,new Iz(n))},Hu.prototype.va=function(n){Hn(this.g,new Tz)},Hu.prototype.ua=function(){Hn(this.g,"b")},mv.prototype.createWebChannel=mv.prototype.g,ti.prototype.send=ti.prototype.u,ti.prototype.open=ti.prototype.m,ti.prototype.close=ti.prototype.close,nv.NO_ERROR=0,nv.TIMEOUT=8,nv.HTTP_ERROR=6,V3.COMPLETE="complete",U3.EventType=Bf,Bf.OPEN="a",Bf.CLOSE="b",Bf.ERROR="c",Bf.MESSAGE="d",Cn.prototype.listen=Cn.prototype.N,$t.prototype.listenOnce=$t.prototype.O,$t.prototype.getLastError=$t.prototype.Oa,$t.prototype.getLastErrorCode=$t.prototype.Ea,$t.prototype.getStatus=$t.prototype.aa,$t.prototype.getResponseJson=$t.prototype.Sa,$t.prototype.getResponseText=$t.prototype.fa,$t.prototype.send=$t.prototype.da,$t.prototype.setWithCredentials=$t.prototype.Ka;var pve=wo.createWebChannelTransport=function(){return new mv},mve=wo.getStatEventTarget=function(){return tv()},$M=wo.ErrorCode=nv,gve=wo.EventType=V3,_ve=wo.Event=Ml,Sz=wo.Stat={sb:0,vb:1,wb:2,Pb:3,Ub:4,Rb:5,Sb:6,Qb:7,Ob:8,Tb:9,PROXY:10,NOPROXY:11,Mb:12,Ib:13,Jb:14,Hb:15,Kb:16,Lb:17,ob:18,nb:19,pb:20},yve=wo.FetchXmlHttpFactory=Wf,gv=wo.WebChannel=U3,vve=wo.XhrIo=$t;const Dz="@firebase/firestore";class En{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}En.UNAUTHENTICATED=new En(null),En.GOOGLE_CREDENTIALS=new En("google-credentials-uid"),En.FIRST_PARTY=new En("first-party-uid"),En.MOCK_USER=new En("mock-user");let $u="9.14.0";const la=new ta("@firebase/firestore");function jM(){return la.logLevel}function O(n,...e){if(la.logLevel<=Ne.DEBUG){const t=e.map(zM);la.debug(`Firestore (${$u}): ${n}`,...t)}}function qt(n,...e){if(la.logLevel<=Ne.ERROR){const t=e.map(zM);la.error(`Firestore (${$u}): ${n}`,...t)}}function ju(n,...e){if(la.logLevel<=Ne.WARN){const t=e.map(zM);la.warn(`Firestore (${$u}): ${n}`,...t)}}function zM(n){if("string"==typeof n)return n;try{return JSON.stringify(n)}catch{return n}}function Y(n="Unexpected state"){const e=`FIRESTORE (${$u}) INTERNAL ASSERTION FAILED: `+n;throw qt(e),new Error(e)}function oe(n,e){n||Y()}function j(n,e){return n}const T={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class P extends Xr{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class mn{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class Az{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class bve{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(En.UNAUTHENTICATED))}shutdown(){}}class wve{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class Cve{constructor(e){this.t=e,this.currentUser=En.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){var r=this;let i=this.i;const s=c=>this.i!==i?(i=this.i,t(c)):Promise.resolve();let o=new mn;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new mn,e.enqueueRetryable(()=>s(this.currentUser))};const a=()=>{const c=o;e.enqueueRetryable(_(function*(){yield c.promise,yield s(r.currentUser)}))},l=c=>{O("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=c,this.auth.addAuthTokenListener(this.o),a()};this.t.onInit(c=>l(c)),setTimeout(()=>{if(!this.auth){const c=this.t.getImmediate({optional:!0});c?l(c):(O("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new mn)}},0),a()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(r=>this.i!==e?(O("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(oe("string"==typeof r.accessToken),new Az(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return oe(null===e||"string"==typeof e),new En(e)}}class Eve{constructor(e,t,r,i){this.h=e,this.l=t,this.m=r,this.g=i,this.type="FirstParty",this.user=En.FIRST_PARTY,this.p=new Map}I(){return this.g?this.g():(oe(!("object"!=typeof this.h||null===this.h||!this.h.auth||!this.h.auth.getAuthHeaderValueForFirstParty)),this.h.auth.getAuthHeaderValueForFirstParty([]))}get headers(){this.p.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.p.set("Authorization",e),this.m&&this.p.set("X-Goog-Iam-Authorization-Token",this.m),this.p}}class Ive{constructor(e,t,r,i){this.h=e,this.l=t,this.m=r,this.g=i}getToken(){return Promise.resolve(new Eve(this.h,this.l,this.m,this.g))}start(e,t){e.enqueueRetryable(()=>t(En.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Mz{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Tve{constructor(e){this.T=e,this.forceRefresh=!1,this.appCheck=null,this.A=null}start(e,t){const r=s=>{null!=s.error&&O("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const o=s.token!==this.A;return this.A=s.token,O("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?t(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};const i=s=>{O("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.appCheck.addTokenListener(this.o)};this.T.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.T.getImmediate({optional:!0});s?i(s):O("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(oe("string"==typeof t.token),this.A=t.token,new Mz(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function Sve(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}class xz{static R(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=Sve(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<t&&(r+=e.charAt(i[s]%e.length))}return r}}function me(n,e){return n<e?-1:n>e?1:0}function zu(n,e,t){return n.length===e.length&&n.every((r,i)=>t(r,e[i]))}class Rt{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new P(T.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new P(T.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new P(T.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new P(T.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Rt.fromMillis(Date.now())}static fromDate(e){return Rt.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*t));return new Rt(t,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?me(this.nanoseconds,e.nanoseconds):me(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class ae{constructor(e){this.timestamp=e}static fromTimestamp(e){return new ae(e)}static min(){return new ae(new Rt(0,0))}static max(){return new ae(new Rt(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class Xf{constructor(e,t,r){void 0===t?t=0:t>e.length&&Y(),void 0===r?r=e.length-t:r>e.length-t&&Y(),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return 0===Xf.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Xf?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const r=Math.min(e.length,t.length);for(let i=0;i<r;i++){const s=e.get(i),o=t.get(i);if(s<o)return-1;if(s>o)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class Be extends Xf{construct(e,t,r){return new Be(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const t=[];for(const r of e){if(r.indexOf("//")>=0)throw new P(T.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(i=>i.length>0))}return new Be(t)}static emptyPath(){return new Be([])}}const Dve=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Kt extends Xf{construct(e,t,r){return new Kt(e,t,r)}static isValidIdentifier(e){return Dve.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Kt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new Kt(["__name__"])}static fromServerFormat(e){const t=[];let r="",i=0;const s=()=>{if(0===r.length)throw new P(T.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""};let o=!1;for(;i<e.length;){const a=e[i];if("\\"===a){if(i+1===e.length)throw new P(T.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[i+1];if("\\"!==l&&"."!==l&&"`"!==l)throw new P(T.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=l,i+=2}else"`"===a?(o=!o,i++):"."!==a||o?(r+=a,i++):(s(),i++)}if(s(),o)throw new P(T.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Kt(t)}static emptyPath(){return new Kt([])}}class H{constructor(e){this.path=e}static fromPath(e){return new H(Be.fromString(e))}static fromName(e){return new H(Be.fromString(e).popFirst(5))}static empty(){return new H(Be.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===Be.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return Be.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new H(new Be(e.slice()))}}function Pz(n){return new ni(n.readTime,n.key,-1)}class ni{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new ni(ae.min(),H.empty(),-1)}static max(){return new ni(ae.max(),H.empty(),-1)}}function WM(n,e){let t=n.readTime.compareTo(e.readTime);return 0!==t?t:(t=H.comparator(n.documentKey,e.documentKey),0!==t?t:me(n.largestBatchId,e.largestBatchId))}const Oz="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";function ca(n){return qM.apply(this,arguments)}function qM(){return qM=_(function*(n){if(n.code!==T.FAILED_PRECONDITION||n.message!==Oz)throw n;O("LocalStore","Unexpectedly lost primary lease")}),qM.apply(this,arguments)}class I{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Y(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new I((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(t,s).next(r,i)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof I?t:I.resolve(t)}catch(t){return I.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):I.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):I.reject(t)}static resolve(e){return new I((t,r)=>{t(e)})}static reject(e){return new I((t,r)=>{r(e)})}static waitFor(e){return new I((t,r)=>{let i=0,s=0,o=!1;e.forEach(a=>{++i,a.next(()=>{++s,o&&s===i&&t()},l=>r(l))}),o=!0,s===i&&t()})}static or(e){let t=I.resolve(!1);for(const r of e)t=t.next(i=>i?I.resolve(i):r());return t}static forEach(e,t){const r=[];return e.forEach((i,s)=>{r.push(t.call(this,i,s))}),this.waitFor(r)}static mapArray(e,t){return new I((r,i)=>{const s=e.length,o=new Array(s);let a=0;for(let l=0;l<s;l++){const c=l;t(e[c]).next(u=>{o[c]=u,++a,a===s&&r(o)},u=>i(u))}})}static doWhile(e,t){return new I((r,i)=>{const s=()=>{!0===e()?t().next(()=>{s()},i):r()};s()})}}function ua(n){return"IndexedDbTransactionError"===n.name}class Rr{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=r=>this.ut(r),this.ct=r=>t.writeSequenceNumber(r))}ut(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ct&&this.ct(e),e}}function Fz(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function Nl(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function Lz(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}Rr.at=-1;class jt{constructor(e,t){this.comparator=e,this.root=t||$n.EMPTY}insert(e,t){return new jt(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,$n.BLACK,null,null))}remove(e){return new jt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,$n.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const r=this.comparator(e,t.key);if(0===r)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(0===i)return t+r.left.size;i<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){const e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new bv(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new bv(this.root,e,this.comparator,!1)}getReverseIterator(){return new bv(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new bv(this.root,e,this.comparator,!0)}}class bv{constructor(e,t,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=t?r(e.key,t):1,t&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(0===s){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class $n{constructor(e,t,r,i,s){this.key=e,this.value=t,this.color=r??$n.RED,this.left=i??$n.EMPTY,this.right=s??$n.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,i,s){return new $n(e??this.key,t??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,t,r),null):0===s?i.copy(null,t,null,null,null):i.copy(null,null,null,null,i.right.insert(e,t,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return $n.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,i=this;if(t(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,t),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===t(e,i.key)){if(i.right.isEmpty())return $n.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,t))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,$n.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,$n.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Y();const e=this.left.check();if(e!==this.right.check())throw Y();return e+(this.isRed()?0:1)}}$n.EMPTY=null,$n.RED=!0,$n.BLACK=!1,$n.EMPTY=new class{constructor(){this.size=0}get key(){throw Y()}get value(){throw Y()}get color(){throw Y()}get left(){throw Y()}get right(){throw Y()}copy(n,e,t,r,i){return this}insert(n,e,t){return new $n(n,e)}remove(n,e){return this}isEmpty(){return!0}inorderTraversal(n){return!1}reverseTraversal(n){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class it{constructor(e){this.comparator=e,this.data=new jt(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;t(i.key)}}forEachWhile(e,t){let r;for(r=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new Vz(this.data.getIterator())}getIteratorFrom(e){return new Vz(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof it)||this.size!==e.size)return!1;const t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){const i=t.getNext().key,s=r.getNext().key;if(0!==this.comparator(i,s))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new it(this.comparator);return t.data=e,t}}class Vz{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class ri{constructor(e){this.fields=e,e.sort(Kt.comparator)}static empty(){return new ri([])}unionWith(e){let t=new it(Kt.comparator);for(const r of this.fields)t=t.add(r);for(const r of e)t=t.add(r);return new ri(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return zu(this.fields,e.fields,(t,r)=>t.isEqual(r))}}class gn{constructor(e){this.binaryString=e}static fromBase64String(e){const t=atob(e);return new gn(t)}static fromUint8Array(e){const t=function(r){let i="";for(let s=0;s<r.length;++s)i+=String.fromCharCode(r[s]);return i}(e);return new gn(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let r=0;r<e.length;r++)t[r]=e.charCodeAt(r);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return me(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}gn.EMPTY_BYTE_STRING=new gn("");const Nve=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function da(n){if(oe(!!n),"string"==typeof n){let e=0;const t=Nve.exec(n);if(oe(!!t),t[1]){let i=t[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:zt(n.seconds),nanos:zt(n.nanos)}}function zt(n){return"number"==typeof n?n:"string"==typeof n?Number(n):0}function Fl(n){return"string"==typeof n?gn.fromBase64String(n):gn.fromUint8Array(n)}function YM(n){var e,t;return"server_timestamp"===(null===(t=((null===(e=n?.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===t?void 0:t.stringValue)}function Bz(n){const e=n.mapValue.fields.__previous_value__;return YM(e)?Bz(e):e}function ep(n){const e=da(n.mapValue.fields.__local_write_time__.timestampValue);return new Rt(e.seconds,e.nanos)}class Fve{constructor(e,t,r,i,s,o,a,l){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.useFetchStreams=l}}class Ll{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new Ll("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof Ll&&e.projectId===this.projectId&&e.database===this.database}}function tp(n){return null==n}function np(n){return 0===n&&1/n==-1/0}const ha_mapValue={fields:{__type__:{stringValue:"__max__"}}};function Vl(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?YM(n)?4:zz(n)?9007199254740991:10:Y()}function ws(n,e){if(n===e)return!0;const t=Vl(n);if(t!==Vl(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return ep(n).isEqual(ep(e));case 3:return function(r,i){if("string"==typeof r.timestampValue&&"string"==typeof i.timestampValue&&r.timestampValue.length===i.timestampValue.length)return r.timestampValue===i.timestampValue;const s=da(r.timestampValue),o=da(i.timestampValue);return s.seconds===o.seconds&&s.nanos===o.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return i=e,Fl(n.bytesValue).isEqual(Fl(i.bytesValue));case 7:return n.referenceValue===e.referenceValue;case 8:return function(r,i){return zt(r.geoPointValue.latitude)===zt(i.geoPointValue.latitude)&&zt(r.geoPointValue.longitude)===zt(i.geoPointValue.longitude)}(n,e);case 2:return function(r,i){if("integerValue"in r&&"integerValue"in i)return zt(r.integerValue)===zt(i.integerValue);if("doubleValue"in r&&"doubleValue"in i){const s=zt(r.doubleValue),o=zt(i.doubleValue);return s===o?np(s)===np(o):isNaN(s)&&isNaN(o)}return!1}(n,e);case 9:return zu(n.arrayValue.values||[],e.arrayValue.values||[],ws);case 10:return function(r,i){const s=r.mapValue.fields||{},o=i.mapValue.fields||{};if(Fz(s)!==Fz(o))return!1;for(const a in s)if(s.hasOwnProperty(a)&&(void 0===o[a]||!ws(s[a],o[a])))return!1;return!0}(n,e);default:return Y()}var i}function rp(n,e){return void 0!==(n.values||[]).find(t=>ws(t,e))}function fa(n,e){if(n===e)return 0;const t=Vl(n),r=Vl(e);if(t!==r)return me(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return me(n.booleanValue,e.booleanValue);case 2:return function(i,s){const o=zt(i.integerValue||i.doubleValue),a=zt(s.integerValue||s.doubleValue);return o<a?-1:o>a?1:o===a?0:isNaN(o)?isNaN(a)?0:-1:1}(n,e);case 3:return Hz(n.timestampValue,e.timestampValue);case 4:return Hz(ep(n),ep(e));case 5:return me(n.stringValue,e.stringValue);case 6:return function(i,s){const o=Fl(i),a=Fl(s);return o.compareTo(a)}(n.bytesValue,e.bytesValue);case 7:return function(i,s){const o=i.split("/"),a=s.split("/");for(let l=0;l<o.length&&l<a.length;l++){const c=me(o[l],a[l]);if(0!==c)return c}return me(o.length,a.length)}(n.referenceValue,e.referenceValue);case 8:return function(i,s){const o=me(zt(i.latitude),zt(s.latitude));return 0!==o?o:me(zt(i.longitude),zt(s.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return function(i,s){const o=i.values||[],a=s.values||[];for(let l=0;l<o.length&&l<a.length;++l){const c=fa(o[l],a[l]);if(c)return c}return me(o.length,a.length)}(n.arrayValue,e.arrayValue);case 10:return function(i,s){if(i===ha_mapValue&&s===ha_mapValue)return 0;if(i===ha_mapValue)return 1;if(s===ha_mapValue)return-1;const o=i.fields||{},a=Object.keys(o),l=s.fields||{},c=Object.keys(l);a.sort(),c.sort();for(let u=0;u<a.length&&u<c.length;++u){const d=me(a[u],c[u]);if(0!==d)return d;const h=fa(o[a[u]],l[c[u]]);if(0!==h)return h}return me(a.length,c.length)}(n.mapValue,e.mapValue);default:throw Y()}}function Hz(n,e){if("string"==typeof n&&"string"==typeof e&&n.length===e.length)return me(n,e);const t=da(n),r=da(e),i=me(t.seconds,r.seconds);return 0!==i?i:me(t.nanos,r.nanos)}function Wu(n){return QM(n)}function QM(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(r){const i=da(r);return`time(${i.seconds},${i.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?Fl(n.bytesValue).toBase64():"referenceValue"in n?H.fromName(n.referenceValue).toString():"geoPointValue"in n?`geo(${(e=n.geoPointValue).latitude},${e.longitude})`:"arrayValue"in n?function(r){let i="[",s=!0;for(const o of r.values||[])s?s=!1:i+=",",i+=QM(o);return i+"]"}(n.arrayValue):"mapValue"in n?function(r){const i=Object.keys(r.fields||{}).sort();let s="{",o=!0;for(const a of i)o?o=!1:s+=",",s+=`${a}:${QM(r.fields[a])}`;return s+"}"}(n.mapValue):Y();var e}function XM(n){return!!n&&"integerValue"in n}function ip(n){return!!n&&"arrayValue"in n}function $z(n){return!!n&&"nullValue"in n}function jz(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function Cv(n){return!!n&&"mapValue"in n}function sp(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&"object"==typeof n.timestampValue)return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return Nl(n.mapValue.fields,(t,r)=>e.mapValue.fields[t]=sp(r)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=sp(n.arrayValue.values[t]);return e}return Object.assign({},n)}function zz(n){return"__max__"===(((n.mapValue||{}).fields||{}).__type__||{}).stringValue}class jn{constructor(e){this.value=e}static empty(){return new jn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!Cv(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=sp(t)}setAll(e){let t=Kt.emptyPath(),r={},i=[];e.forEach((o,a)=>{if(!t.isImmediateParentOf(a)){const l=this.getFieldsMap(t);this.applyChanges(l,r,i),r={},i=[],t=a.popLast()}o?r[a.lastSegment()]=sp(o):i.push(a.lastSegment())});const s=this.getFieldsMap(t);this.applyChanges(s,r,i)}delete(e){const t=this.field(e.popLast());Cv(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return ws(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=t.mapValue.fields[e.get(r)];Cv(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=i),t=i}return t.mapValue.fields}applyChanges(e,t,r){Nl(t,(i,s)=>e[i]=s);for(const i of r)delete e[i]}clone(){return new jn(sp(this.value))}}function qz(n){const e=[];return Nl(n.fields,(t,r)=>{const i=new Kt([t]);if(Cv(r)){const s=qz(r.mapValue).fields;if(0===s.length)e.push(i);else for(const o of s)e.push(i.child(o))}else e.push(i)}),new ri(e)}class mt{constructor(e,t,r,i,s,o){this.key=e,this.documentType=t,this.version=r,this.readTime=i,this.data=s,this.documentState=o}static newInvalidDocument(e){return new mt(e,0,ae.min(),ae.min(),jn.empty(),0)}static newFoundDocument(e,t,r){return new mt(e,1,t,ae.min(),r,0)}static newNoDocument(e,t){return new mt(e,2,t,ae.min(),jn.empty(),0)}static newUnknownDocument(e,t){return new mt(e,3,t,ae.min(),jn.empty(),2)}convertToFoundDocument(e,t){return this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=jn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=jn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ae.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof mt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new mt(this.key,this.documentType,this.version,this.readTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Bve{constructor(e,t=null,r=[],i=[],s=null,o=null,a=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=a,this.ht=null}}function Kz(n,e=null,t=[],r=[],i=null,s=null,o=null){return new Bve(n,e,t,r,i,s,o)}function Ul(n){const e=j(n);if(null===e.ht){let t=e.path.canonicalString();null!==e.collectionGroup&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(r=>{return(i=r).field.canonicalString()+i.op.toString()+Wu(i.value);var i}).join(","),t+="|ob:",t+=e.orderBy.map(r=>{return(i=r).field.canonicalString()+i.dir;var i}).join(","),tp(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>Wu(r)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>Wu(r)).join(",")),e.ht=t}return e.ht}function op(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let i=0;i<n.orderBy.length;i++)if(!Kve(n.orderBy[i],e.orderBy[i]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let i=0;i<n.filters.length;i++)if((t=n.filters[i]).op!==(r=e.filters[i]).op||!t.field.isEqual(r.field)||!ws(t.value,r.value))return!1;var t,r;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!Jz(n.startAt,e.startAt)&&Jz(n.endAt,e.endAt)}function Ev(n){return H.isDocumentKey(n.path)&&null===n.collectionGroup&&0===n.filters.length}class zn extends class{}{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?"in"===t||"not-in"===t?this.lt(e,t,r):new Hve(e,t,r):"array-contains"===t?new zve(e,r):"in"===t?new Gve(e,r):"not-in"===t?new Wve(e,r):"array-contains-any"===t?new qve(e,r):new zn(e,t,r)}static lt(e,t,r){return"in"===t?new $ve(e,r):new jve(e,r)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.ft(fa(t,this.value)):null!==t&&Vl(this.value)===Vl(t)&&this.ft(fa(t,this.value))}ft(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return Y()}}dt(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}}class Hve extends zn{constructor(e,t,r){super(e,t,r),this.key=H.fromName(r.referenceValue)}matches(e){const t=H.comparator(e.key,this.key);return this.ft(t)}}class $ve extends zn{constructor(e,t){super(e,"in",t),this.keys=Xz(0,t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class jve extends zn{constructor(e,t){super(e,"not-in",t),this.keys=Xz(0,t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function Xz(n,e){var t;return((null===(t=e.arrayValue)||void 0===t?void 0:t.values)||[]).map(r=>H.fromName(r.referenceValue))}class zve extends zn{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return ip(t)&&rp(t.arrayValue,this.value)}}class Gve extends zn{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&rp(this.value.arrayValue,t)}}class Wve extends zn{constructor(e,t){super(e,"not-in",t)}matches(e){if(rp(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!rp(this.value.arrayValue,t)}}class qve extends zn{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!ip(t)||!t.arrayValue.values)&&t.arrayValue.values.some(r=>rp(this.value.arrayValue,r))}}class pa{constructor(e,t){this.position=e,this.inclusive=t}}class qu{constructor(e,t="asc"){this.field=e,this.dir=t}}function Kve(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}function Zz(n,e,t){let r=0;for(let i=0;i<n.position.length;i++){const s=e[i],o=n.position[i];if(r=s.field.isKeyField()?H.comparator(H.fromName(o.referenceValue),t.key):fa(o,t.data.field(s.field)),"desc"===s.dir&&(r*=-1),0!==r)break}return r}function Jz(n,e){if(null===n)return null===e;if(null===e||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!ws(n.position[t],e.position[t]))return!1;return!0}class Io{constructor(e,t=null,r=[],i=[],s=null,o="F",a=null,l=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=a,this.endAt=l,this._t=null,this.wt=null}}function Ku(n){return new Io(n)}function tG(n){return 0===n.filters.length&&null===n.limit&&null==n.startAt&&null==n.endAt&&(0===n.explicitOrderBy.length||1===n.explicitOrderBy.length&&n.explicitOrderBy[0].field.isKeyField())}function Yu(n){const e=j(n);if(null===e._t){e._t=[];const t=function JM(n){for(const e of n.filters)if(e.dt())return e.field;return null}(e),r=function ZM(n){return n.explicitOrderBy.length>0?n.explicitOrderBy[0].field:null}(e);if(null!==t&&null===r)t.isKeyField()||e._t.push(new qu(t)),e._t.push(new qu(Kt.keyField(),"asc"));else{let i=!1;for(const s of e.explicitOrderBy)e._t.push(s),s.field.isKeyField()&&(i=!0);if(!i){const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e._t.push(new qu(Kt.keyField(),s))}}}return e._t}function _r(n){const e=j(n);if(!e.wt)if("F"===e.limitType)e.wt=Kz(e.path,e.collectionGroup,Yu(e),e.filters,e.limit,e.startAt,e.endAt);else{const t=[];for(const s of Yu(e))t.push(new qu(s.field,"desc"===s.dir?"asc":"desc"));const r=e.endAt?new pa(e.endAt.position,e.endAt.inclusive):null,i=e.startAt?new pa(e.startAt.position,e.startAt.inclusive):null;e.wt=Kz(e.path,e.collectionGroup,t,e.filters,e.limit,r,i)}return e.wt}function Tv(n,e,t){return new Io(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function ap(n,e){return op(_r(n),_r(e))&&n.limitType===e.limitType}function nG(n){return`${Ul(_r(n))}|lt:${n.limitType}`}function tx(n){return`Query(target=${function Uve(n){let e=n.path.canonicalString();return null!==n.collectionGroup&&(e+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(e+=`, filters: [${n.filters.map(t=>{return`${(r=t).field.canonicalString()} ${r.op} ${Wu(r.value)}`;var r}).join(", ")}]`),tp(n.limit)||(e+=", limit: "+n.limit),n.orderBy.length>0&&(e+=`, orderBy: [${n.orderBy.map(t=>{return`${(r=t).field.canonicalString()} (${r.dir})`;var r}).join(", ")}]`),n.startAt&&(e+=", startAt: ",e+=n.startAt.inclusive?"b:":"a:",e+=n.startAt.position.map(t=>Wu(t)).join(",")),n.endAt&&(e+=", endAt: ",e+=n.endAt.inclusive?"a:":"b:",e+=n.endAt.position.map(t=>Wu(t)).join(",")),`Target(${e})`}(_r(n))}; limitType=${n.limitType})`}function nx(n,e){return e.isFoundDocument()&&function(t,r){const i=r.key.path;return null!==t.collectionGroup?r.key.hasCollectionId(t.collectionGroup)&&t.path.isPrefixOf(i):H.isDocumentKey(t.path)?t.path.isEqual(i):t.path.isImmediateParentOf(i)}(n,e)&&function(t,r){for(const i of t.explicitOrderBy)if(!i.field.isKeyField()&&null===r.data.field(i.field))return!1;return!0}(n,e)&&function(t,r){for(const i of t.filters)if(!i.matches(r))return!1;return!0}(n,e)&&(r=e,!((t=n).startAt&&!function(i,s,o){const a=Zz(i,s,o);return i.inclusive?a<=0:a<0}(t.startAt,Yu(t),r)||t.endAt&&!function(i,s,o){const a=Zz(i,s,o);return i.inclusive?a>=0:a>0}(t.endAt,Yu(t),r)));var t,r}function iG(n){return(e,t)=>{let r=!1;for(const i of Yu(n)){const s=Yve(i,e,t);if(0!==s)return s;r=r||i.field.isKeyField()}return 0}}function Yve(n,e,t){const r=n.field.isKeyField()?H.comparator(e.key,t.key):function(i,s,o){const a=s.data.field(i),l=o.data.field(i);return null!==a&&null!==l?fa(a,l):Y()}(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return Y()}}function sG(n,e){if(n.gt){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:np(e)?"-0":e}}function oG(n){return{integerValue:""+n}}function aG(n,e){return function Uz(n){return"number"==typeof n&&Number.isInteger(n)&&!np(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}(e)?oG(e):sG(n,e)}class Sv{constructor(){this._=void 0}}function Qve(n,e,t){return n instanceof Qu?function(r,i){const s={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return i&&(s.fields.__previous_value__=i),{mapValue:s}}(t,e):n instanceof Hl?cG(n,e):n instanceof $l?uG(n,e):function(r,i){const s=lG(r,i),o=dG(s)+dG(r.yt);return XM(s)&&XM(r.yt)?oG(o):sG(r.It,o)}(n,e)}function Xve(n,e,t){return n instanceof Hl?cG(n,e):n instanceof $l?uG(n,e):t}function lG(n,e){return n instanceof Xu?XM(t=e)||(r=t)&&"doubleValue"in r?e:{integerValue:0}:null;var r,t}class Qu extends Sv{}class Hl extends Sv{constructor(e){super(),this.elements=e}}function cG(n,e){const t=hG(e);for(const r of n.elements)t.some(i=>ws(i,r))||t.push(r);return{arrayValue:{values:t}}}class $l extends Sv{constructor(e){super(),this.elements=e}}function uG(n,e){let t=hG(e);for(const r of n.elements)t=t.filter(i=>!ws(i,r));return{arrayValue:{values:t}}}class Xu extends Sv{constructor(e,t){super(),this.It=e,this.yt=t}}function dG(n){return zt(n.integerValue||n.doubleValue)}function hG(n){return ip(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}class Jve{constructor(e,t){this.version=e,this.transformResults=t}}class Tt{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Tt}static exists(e){return new Tt(void 0,e)}static updateTime(e){return new Tt(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Dv(n,e){return void 0!==n.updateTime?e.isFoundDocument()&&e.version.isEqual(n.updateTime):void 0===n.exists||n.exists===e.isFoundDocument()}class Av{}function fG(n,e){if(!n.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return n.isNoDocument()?new Ju(n.key,Tt.none()):new Zu(n.key,n.data,Tt.none());{const t=n.data,r=jn.empty();let i=new it(Kt.comparator);for(let s of e.fields)if(!i.has(s)){let o=t.field(s);null===o&&s.length>1&&(s=s.popLast(),o=t.field(s)),null===o?r.delete(s):r.set(s,o),i=i.add(s)}return new To(n.key,r,new ri(i.toArray()),Tt.none())}}function ebe(n,e,t){n instanceof Zu?function(r,i,s){const o=r.value.clone(),a=gG(r.fieldTransforms,i,s.transformResults);o.setAll(a),i.convertToFoundDocument(s.version,o).setHasCommittedMutations()}(n,e,t):n instanceof To?function(r,i,s){if(!Dv(r.precondition,i))return void i.convertToUnknownDocument(s.version);const o=gG(r.fieldTransforms,i,s.transformResults),a=i.data;a.setAll(mG(r)),a.setAll(o),i.convertToFoundDocument(s.version,a).setHasCommittedMutations()}(n,e,t):e.convertToNoDocument(t.version).setHasCommittedMutations()}function cp(n,e,t,r){return n instanceof Zu?function(i,s,o,a){if(!Dv(i.precondition,s))return o;const l=i.value.clone(),c=_G(i.fieldTransforms,a,s);return l.setAll(c),s.convertToFoundDocument(s.version,l).setHasLocalMutations(),null}(n,e,t,r):n instanceof To?function(i,s,o,a){if(!Dv(i.precondition,s))return o;const l=_G(i.fieldTransforms,a,s),c=s.data;return c.setAll(mG(i)),c.setAll(l),s.convertToFoundDocument(s.version,c).setHasLocalMutations(),null===o?null:o.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map(u=>u.field))}(n,e,t,r):(o=t,Dv(n.precondition,s=e)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):o);var s,o}function tbe(n,e){let t=null;for(const r of n.fieldTransforms){const i=e.data.field(r.field),s=lG(r.transform,i||null);null!=s&&(null===t&&(t=jn.empty()),t.set(r.field,s))}return t||null}function pG(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&(r=e.fieldTransforms,!!(void 0===(t=n.fieldTransforms)&&void 0===r||t&&r&&zu(t,r,(i,s)=>function Zve(n,e){return n.field.isEqual(e.field)&&(r=e.transform,(t=n.transform)instanceof Hl&&r instanceof Hl||t instanceof $l&&r instanceof $l?zu(t.elements,r.elements,ws):t instanceof Xu&&r instanceof Xu?ws(t.yt,r.yt):t instanceof Qu&&r instanceof Qu);var t,r}(i,s))))&&(0===n.type?n.value.isEqual(e.value):1!==n.type||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask));var t,r}class Zu extends Av{constructor(e,t,r,i=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class To extends Av{constructor(e,t,r,i,s=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function mG(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const r=n.data.field(t);e.set(t,r)}}),e}function gG(n,e,t){const r=new Map;oe(n.length===t.length);for(let i=0;i<t.length;i++){const s=n[i],o=s.transform,a=e.data.field(s.field);r.set(s.field,Xve(o,a,t[i]))}return r}function _G(n,e,t){const r=new Map;for(const i of n){const s=i.transform,o=t.data.field(i.field);r.set(i.field,Qve(s,o,e))}return r}class Ju extends Av{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class rx extends Av{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class nbe{constructor(e){this.count=e}}var sn,Ue;function yG(n){switch(n){default:return Y();case T.CANCELLED:case T.UNKNOWN:case T.DEADLINE_EXCEEDED:case T.RESOURCE_EXHAUSTED:case T.INTERNAL:case T.UNAVAILABLE:case T.UNAUTHENTICATED:return!1;case T.INVALID_ARGUMENT:case T.NOT_FOUND:case T.ALREADY_EXISTS:case T.PERMISSION_DENIED:case T.FAILED_PRECONDITION:case T.ABORTED:case T.OUT_OF_RANGE:case T.UNIMPLEMENTED:case T.DATA_LOSS:return!0}}function vG(n){if(void 0===n)return qt("GRPC error has no .code"),T.UNKNOWN;switch(n){case sn.OK:return T.OK;case sn.CANCELLED:return T.CANCELLED;case sn.UNKNOWN:return T.UNKNOWN;case sn.DEADLINE_EXCEEDED:return T.DEADLINE_EXCEEDED;case sn.RESOURCE_EXHAUSTED:return T.RESOURCE_EXHAUSTED;case sn.INTERNAL:return T.INTERNAL;case sn.UNAVAILABLE:return T.UNAVAILABLE;case sn.UNAUTHENTICATED:return T.UNAUTHENTICATED;case sn.INVALID_ARGUMENT:return T.INVALID_ARGUMENT;case sn.NOT_FOUND:return T.NOT_FOUND;case sn.ALREADY_EXISTS:return T.ALREADY_EXISTS;case sn.PERMISSION_DENIED:return T.PERMISSION_DENIED;case sn.FAILED_PRECONDITION:return T.FAILED_PRECONDITION;case sn.ABORTED:return T.ABORTED;case sn.OUT_OF_RANGE:return T.OUT_OF_RANGE;case sn.UNIMPLEMENTED:return T.UNIMPLEMENTED;case sn.DATA_LOSS:return T.DATA_LOSS;default:return Y()}}(Ue=sn||(sn={}))[Ue.OK=0]="OK",Ue[Ue.CANCELLED=1]="CANCELLED",Ue[Ue.UNKNOWN=2]="UNKNOWN",Ue[Ue.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ue[Ue.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ue[Ue.NOT_FOUND=5]="NOT_FOUND",Ue[Ue.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ue[Ue.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ue[Ue.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ue[Ue.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ue[Ue.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ue[Ue.ABORTED=10]="ABORTED",Ue[Ue.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ue[Ue.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ue[Ue.INTERNAL=13]="INTERNAL",Ue[Ue.UNAVAILABLE=14]="UNAVAILABLE",Ue[Ue.DATA_LOSS=15]="DATA_LOSS";class ma{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),r=this.inner[t];if(void 0!==r)for(const[i,s]of r)if(this.equalsFn(i,e))return s}has(e){return void 0!==this.get(e)}set(e,t){const r=this.mapKeyFn(e),i=this.inner[r];if(void 0===i)return this.inner[r]=[[e,t]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,t]);i.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),r=this.inner[t];if(void 0===r)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return 1===r.length?delete this.inner[t]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Nl(this.inner,(t,r)=>{for(const[i,s]of r)e(i,s)})}isEmpty(){return Lz(this.inner)}size(){return this.innerSize}}const rbe=new jt(H.comparator);function Pr(){return rbe}const bG=new jt(H.comparator);function up(...n){let e=bG;for(const t of n)e=e.insert(t.key,t);return e}function wG(n){let e=bG;return n.forEach((t,r)=>e=e.insert(t,r.overlayedDocument)),e}function Cs(){return dp()}function CG(){return dp()}function dp(){return new ma(n=>n.toString(),(n,e)=>n.isEqual(e))}const ibe=new jt(H.comparator),sbe=new it(H.comparator);function we(...n){let e=sbe;for(const t of n)e=e.add(t);return e}const obe=new it(me);function Mv(){return obe}class hp{constructor(e,t,r,i,s){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,t,r){const i=new Map;return i.set(e,fp.createSynthesizedTargetChangeForCurrentChange(e,t,r)),new hp(ae.min(),i,Mv(),Pr(),we())}}class fp{constructor(e,t,r,i,s){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,t,r){return new fp(r,t,we(),we(),we())}}class xv{constructor(e,t,r,i){this.Tt=e,this.removedTargetIds=t,this.key=r,this.Et=i}}class EG{constructor(e,t){this.targetId=e,this.At=t}}class IG{constructor(e,t,r=gn.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=i}}class TG{constructor(){this.Rt=0,this.bt=DG(),this.Pt=gn.EMPTY_BYTE_STRING,this.vt=!1,this.Vt=!0}get current(){return this.vt}get resumeToken(){return this.Pt}get St(){return 0!==this.Rt}get Dt(){return this.Vt}Ct(e){e.approximateByteSize()>0&&(this.Vt=!0,this.Pt=e)}xt(){let e=we(),t=we(),r=we();return this.bt.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:t=t.add(i);break;case 1:r=r.add(i);break;default:Y()}}),new fp(this.Pt,this.vt,e,t,r)}Nt(){this.Vt=!1,this.bt=DG()}kt(e,t){this.Vt=!0,this.bt=this.bt.insert(e,t)}Ot(e){this.Vt=!0,this.bt=this.bt.remove(e)}Mt(){this.Rt+=1}Ft(){this.Rt-=1}$t(){this.Vt=!0,this.vt=!0}}class abe{constructor(e){this.Bt=e,this.Lt=new Map,this.Ut=Pr(),this.qt=SG(),this.Kt=new it(me)}Gt(e){for(const t of e.Tt)e.Et&&e.Et.isFoundDocument()?this.Qt(t,e.Et):this.jt(t,e.key,e.Et);for(const t of e.removedTargetIds)this.jt(t,e.key,e.Et)}Wt(e){this.forEachTarget(e,t=>{const r=this.zt(t);switch(e.state){case 0:this.Ht(t)&&r.Ct(e.resumeToken);break;case 1:r.Ft(),r.St||r.Nt(),r.Ct(e.resumeToken);break;case 2:r.Ft(),r.St||this.removeTarget(t);break;case 3:this.Ht(t)&&(r.$t(),r.Ct(e.resumeToken));break;case 4:this.Ht(t)&&(this.Jt(t),r.Ct(e.resumeToken));break;default:Y()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Lt.forEach((r,i)=>{this.Ht(i)&&t(i)})}Yt(e){const t=e.targetId,r=e.At.count,i=this.Xt(t);if(i){const s=i.target;if(Ev(s))if(0===r){const o=new H(s.path);this.jt(t,o,mt.newNoDocument(o,ae.min()))}else oe(1===r);else this.Zt(t)!==r&&(this.Jt(t),this.Kt=this.Kt.add(t))}}te(e){const t=new Map;this.Lt.forEach((s,o)=>{const a=this.Xt(o);if(a){if(s.current&&Ev(a.target)){const l=new H(a.target.path);null!==this.Ut.get(l)||this.ee(o,l)||this.jt(o,l,mt.newNoDocument(l,e))}s.Dt&&(t.set(o,s.xt()),s.Nt())}});let r=we();this.qt.forEach((s,o)=>{let a=!0;o.forEachWhile(l=>{const c=this.Xt(l);return!c||2===c.purpose||(a=!1,!1)}),a&&(r=r.add(s))}),this.Ut.forEach((s,o)=>o.setReadTime(e));const i=new hp(e,t,this.Kt,this.Ut,r);return this.Ut=Pr(),this.qt=SG(),this.Kt=new it(me),i}Qt(e,t){if(!this.Ht(e))return;const r=this.ee(e,t.key)?2:0;this.zt(e).kt(t.key,r),this.Ut=this.Ut.insert(t.key,t),this.qt=this.qt.insert(t.key,this.ne(t.key).add(e))}jt(e,t,r){if(!this.Ht(e))return;const i=this.zt(e);this.ee(e,t)?i.kt(t,1):i.Ot(t),this.qt=this.qt.insert(t,this.ne(t).delete(e)),r&&(this.Ut=this.Ut.insert(t,r))}removeTarget(e){this.Lt.delete(e)}Zt(e){const t=this.zt(e).xt();return this.Bt.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Mt(e){this.zt(e).Mt()}zt(e){let t=this.Lt.get(e);return t||(t=new TG,this.Lt.set(e,t)),t}ne(e){let t=this.qt.get(e);return t||(t=new it(me),this.qt=this.qt.insert(e,t)),t}Ht(e){const t=null!==this.Xt(e);return t||O("WatchChangeAggregator","Detected inactive target",e),t}Xt(e){const t=this.Lt.get(e);return t&&t.St?null:this.Bt.se(e)}Jt(e){this.Lt.set(e,new TG),this.Bt.getRemoteKeysForTarget(e).forEach(t=>{this.jt(e,t,null)})}ee(e,t){return this.Bt.getRemoteKeysForTarget(e).has(t)}}function SG(){return new jt(H.comparator)}function DG(){return new jt(H.comparator)}const lbe={asc:"ASCENDING",desc:"DESCENDING"},cbe={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"};class ube{constructor(e,t){this.databaseId=e,this.gt=t}}function pp(n,e){return n.gt?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function AG(n,e){return n.gt?e.toBase64():e.toUint8Array()}function dbe(n,e){return pp(n,e.toTimestamp())}function In(n){return oe(!!n),ae.fromTimestamp(function(e){const t=da(e);return new Rt(t.seconds,t.nanos)}(n))}function ix(n,e){return(t=n,new Be(["projects",t.projectId,"databases",t.database])).child("documents").child(e).canonicalString();var t}function MG(n){const e=Be.fromString(n);return oe(LG(e)),e}function mp(n,e){return ix(n.databaseId,e.path)}function Es(n,e){const t=MG(e);if(t.get(1)!==n.databaseId.projectId)throw new P(T.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new P(T.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new H(kG(t))}function sx(n,e){return ix(n.databaseId,e)}function gp(n){return new Be(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function kG(n){return oe(n.length>4&&"documents"===n.get(4)),n.popFirst(5)}function RG(n,e,t){return{name:mp(n,e),fields:t.value.mapValue.fields}}function OG(n,e){return{documents:[sx(n,e.path)]}}function ax(n,e){const t={structuredQuery:{}},r=e.path;null!==e.collectionGroup?(t.parent=sx(n,r),t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(t.parent=sx(n,r.popLast()),t.structuredQuery.from=[{collectionId:r.lastSegment()}]);const i=function(l){if(0===l.length)return;const c=l.map(u=>function(d){if("=="===d.op){if(jz(d.value))return{unaryFilter:{field:ed(d.field),op:"IS_NAN"}};if($z(d.value))return{unaryFilter:{field:ed(d.field),op:"IS_NULL"}}}else if("!="===d.op){if(jz(d.value))return{unaryFilter:{field:ed(d.field),op:"IS_NOT_NAN"}};if($z(d.value))return{unaryFilter:{field:ed(d.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ed(d.field),op:_be(d.op),value:d.value}}}(u));return 1===c.length?c[0]:{compositeFilter:{op:"AND",filters:c}}}(e.filters);i&&(t.structuredQuery.where=i);const s=function(l){if(0!==l.length)return l.map(c=>{return{field:ed((u=c).field),direction:gbe(u.dir)};var u})}(e.orderBy);s&&(t.structuredQuery.orderBy=s);const o=(c=e.limit,n.gt||tp(c)?c:{value:c});var c,a,l;return null!==o&&(t.structuredQuery.limit=o),e.startAt&&(t.structuredQuery.startAt={before:(a=e.startAt).inclusive,values:a.position}),e.endAt&&(t.structuredQuery.endAt={before:!(l=e.endAt).inclusive,values:l.position}),t}function NG(n){let e=function xG(n){const e=MG(n);return 4===e.length?Be.emptyPath():kG(e)}(n.parent);const t=n.structuredQuery,r=t.from?t.from.length:0;let i=null;if(r>0){oe(1===r);const u=t.from[0];u.allDescendants?i=u.collectionId:e=e.child(u.collectionId)}let s=[];t.where&&(s=FG(t.where));let o=[];t.orderBy&&(o=t.orderBy.map(u=>{return new qu(td((d=u).field),function(h){switch(h){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(d.direction));var d}));let a=null;t.limit&&(a=function(u){let d;return d="object"==typeof u?u.value:u,tp(d)?null:d}(t.limit));let l=null;var u;t.startAt&&(l=new pa((u=t.startAt).values||[],!!u.before));let c=null;return t.endAt&&(c=function(u){return new pa(u.values||[],!u.before)}(t.endAt)),function eG(n,e,t,r,i,s,o,a){return new Io(n,e,t,r,i,s,o,a)}(e,i,o,s,a,"F",l,c)}function FG(n){return n?void 0!==n.unaryFilter?[vbe(n)]:void 0!==n.fieldFilter?[ybe(n)]:void 0!==n.compositeFilter?n.compositeFilter.filters.map(e=>FG(e)).reduce((e,t)=>e.concat(t)):Y():[]}function gbe(n){return lbe[n]}function _be(n){return cbe[n]}function ed(n){return{fieldPath:n.canonicalString()}}function td(n){return Kt.fromServerFormat(n.fieldPath)}function ybe(n){return zn.create(td(n.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Y()}}(n.fieldFilter.op),n.fieldFilter.value)}function vbe(n){switch(n.unaryFilter.op){case"IS_NAN":const e=td(n.unaryFilter.field);return zn.create(e,"==",{doubleValue:NaN});case"IS_NULL":const t=td(n.unaryFilter.field);return zn.create(t,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const r=td(n.unaryFilter.field);return zn.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const i=td(n.unaryFilter.field);return zn.create(i,"!=",{nullValue:"NULL_VALUE"});default:return Y()}}function bbe(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function LG(n){return n.length>=4&&"projects"===n.get(0)&&"databases"===n.get(2)}class cx{constructor(e,t,r,i){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,t){const r=t.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&ebe(s,e,r[i])}}applyToLocalView(e,t){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(t=cp(r,e,t,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(t=cp(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const r=CG();return this.mutations.forEach(i=>{const s=e.get(i.key),o=s.overlayedDocument;let a=this.applyToLocalView(o,s.mutatedFields);a=t.has(i.key)?null:a;const l=fG(o,a);null!==l&&r.set(i.key,l),o.isValidDocument()||o.convertToNoDocument(ae.min())}),r}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),we())}isEqual(e){return this.batchId===e.batchId&&zu(this.mutations,e.mutations,(t,r)=>pG(t,r))&&zu(this.baseMutations,e.baseMutations,(t,r)=>pG(t,r))}}class ux{constructor(e,t,r,i){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=i}static from(e,t,r){oe(e.mutations.length===r.length);let i=ibe;const s=e.mutations;for(let o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new ux(e,t,r,i)}}class dx{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class ga{constructor(e,t,r,i,s=ae.min(),o=ae.min(),a=gn.EMPTY_BYTE_STRING){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a}withSequenceNumber(e){return new ga(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(e,t){return new ga(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e)}withLastLimboFreeSnapshotVersion(e){return new ga(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken)}}class zG{constructor(e){this.re=e}}function hx(n){const e=NG({parent:n.parent,structuredQuery:n.structuredQuery});return"LAST"===n.limitType?Tv(e,e.limit,"L"):e}class Wl{constructor(){}ce(e,t){this.ae(e,t),t.he()}ae(e,t){if("nullValue"in e)this.le(t,5);else if("booleanValue"in e)this.le(t,10),t.fe(e.booleanValue?1:0);else if("integerValue"in e)this.le(t,15),t.fe(zt(e.integerValue));else if("doubleValue"in e){const r=zt(e.doubleValue);isNaN(r)?this.le(t,13):(this.le(t,15),np(r)?t.fe(0):t.fe(r))}else if("timestampValue"in e){const r=e.timestampValue;this.le(t,20),"string"==typeof r?t.de(r):(t.de(`${r.seconds||""}`),t.fe(r.nanos||0))}else if("stringValue"in e)this._e(e.stringValue,t),this.we(t);else if("bytesValue"in e)this.le(t,30),t.me(Fl(e.bytesValue)),this.we(t);else if("referenceValue"in e)this.ge(e.referenceValue,t);else if("geoPointValue"in e){const r=e.geoPointValue;this.le(t,45),t.fe(r.latitude||0),t.fe(r.longitude||0)}else"mapValue"in e?zz(e)?this.le(t,Number.MAX_SAFE_INTEGER):(this.ye(e.mapValue,t),this.we(t)):"arrayValue"in e?(this.pe(e.arrayValue,t),this.we(t)):Y()}_e(e,t){this.le(t,25),this.Ie(e,t)}Ie(e,t){t.de(e)}ye(e,t){const r=e.fields||{};this.le(t,55);for(const i of Object.keys(r))this._e(i,t),this.ae(r[i],t)}pe(e,t){const r=e.values||[];this.le(t,50);for(const i of r)this.ae(i,t)}ge(e,t){this.le(t,37),H.fromName(e).path.forEach(r=>{this.le(t,60),this.Ie(r,t)})}le(e,t){e.fe(t)}we(e){e.fe(2)}}Wl.Te=new Wl;class Wbe{constructor(){this.Ye=new px}addToCollectionParentIndex(e,t){return this.Ye.add(t),I.resolve()}getCollectionParents(e,t){return I.resolve(this.Ye.getEntries(t))}addFieldIndex(e,t){return I.resolve()}deleteFieldIndex(e,t){return I.resolve()}getDocumentsMatchingTarget(e,t){return I.resolve(null)}getIndexType(e,t){return I.resolve(0)}getFieldIndexes(e,t){return I.resolve([])}getNextCollectionGroupToUpdate(e){return I.resolve(null)}getMinOffset(e,t){return I.resolve(ni.min())}getMinOffsetFromCollectionGroup(e,t){return I.resolve(ni.min())}updateCollectionGroup(e,t,r){return I.resolve()}updateIndexEntries(e,t){return I.resolve()}}class px{constructor(){this.index={}}add(e){const t=e.lastSegment(),r=e.popLast(),i=this.index[t]||new it(Be.comparator),s=!i.has(r);return this.index[t]=i.add(r),s}has(e){const t=e.lastSegment(),r=e.popLast(),i=this.index[t];return i&&i.has(r)}getEntries(e){return(this.index[e]||new it(Be.comparator)).toArray()}}new Uint8Array(0);class Or{constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new Or(e,Or.DEFAULT_COLLECTION_PERCENTILE,Or.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}Or.DEFAULT_COLLECTION_PERCENTILE=10,Or.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Or.DEFAULT=new Or(41943040,Or.DEFAULT_COLLECTION_PERCENTILE,Or.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Or.DISABLED=new Or(-1,0,0);class Yl{constructor(e){this.bn=e}next(){return this.bn+=2,this.bn}static Pn(){return new Yl(0)}static vn(){return new Yl(-1)}}class nwe{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class dW{constructor(e,t,r,i){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next(i=>(r=i,this.getBaseDocument(e,t,r))).next(i=>(null!==r&&cp(r.mutation,i,ri.empty(),Rt.now()),i))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.getLocalViewOfDocuments(e,r,we()).next(()=>r))}getLocalViewOfDocuments(e,t,r=we()){const i=Cs();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,r).next(s=>{let o=up();return s.forEach((a,l)=>{o=o.insert(a,l.overlayedDocument)}),o}))}getOverlayedDocuments(e,t){const r=Cs();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,we()))}populateOverlays(e,t,r){const i=[];return r.forEach(s=>{t.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((o,a)=>{t.set(o,a)})})}computeViews(e,t,r,i){let s=Pr();const o=dp(),a=dp();return t.forEach((l,c)=>{const u=r.get(c.key);i.has(c.key)&&(void 0===u||u.mutation instanceof To)?s=s.insert(c.key,c):void 0!==u&&(o.set(c.key,u.mutation.getFieldMask()),cp(u.mutation,c,u.mutation.getFieldMask(),Rt.now()))}),this.recalculateAndSaveOverlays(e,s).next(l=>(l.forEach((c,u)=>o.set(c,u)),t.forEach((c,u)=>{var d;return a.set(c,new nwe(u,null!==(d=o.get(c))&&void 0!==d?d:null))}),a))}recalculateAndSaveOverlays(e,t){const r=dp();let i=new jt((o,a)=>o-a),s=we();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(o=>{for(const a of o)a.keys().forEach(l=>{const c=t.get(l);if(null===c)return;let u=r.get(l)||ri.empty();u=a.applyToLocalView(c,u),r.set(l,u);const d=(i.get(a.batchId)||we()).add(l);i=i.insert(a.batchId,d)})}).next(()=>{const o=[],a=i.getReverseIterator();for(;a.hasNext();){const l=a.getNext(),c=l.key,u=l.value,d=CG();u.forEach(h=>{if(!s.has(h)){const f=fG(t.get(h),r.get(h));null!==f&&d.set(h,f),s=s.add(h)}}),o.push(this.documentOverlayCache.saveOverlays(e,c,d))}return I.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,t,r){return H.isDocumentKey((i=t).path)&&null===i.collectionGroup&&0===i.filters.length?this.getDocumentsMatchingDocumentQuery(e,t.path):function ex(n){return null!==n.collectionGroup}(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r):this.getDocumentsMatchingCollectionQuery(e,t,r);var i}getNextDocuments(e,t,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,i).next(s=>{const o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,i-s.size):I.resolve(Cs());let a=-1,l=s;return o.next(c=>I.forEach(c,(u,d)=>(a<d.largestBatchId&&(a=d.largestBatchId),s.get(u)?I.resolve():this.getBaseDocument(e,u,d).next(h=>{l=l.insert(u,h)}))).next(()=>this.populateOverlays(e,c,s)).next(()=>this.computeViews(e,l,c,we())).next(u=>({batchId:a,changes:wG(u)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new H(t)).next(r=>{let i=up();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,t,r){const i=t.collectionGroup;let s=up();return this.indexManager.getCollectionParents(e,i).next(o=>I.forEach(o,a=>{const l=(c=t,u=a.child(i),new Io(u,null,c.explicitOrderBy.slice(),c.filters.slice(),c.limit,c.limitType,c.startAt,c.endAt));var c,u;return this.getDocumentsMatchingCollectionQuery(e,l,r).next(c=>{c.forEach((u,d)=>{s=s.insert(u,d)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,t,r){let i;return this.remoteDocumentCache.getAllFromCollection(e,t.path,r).next(s=>(i=s,this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId))).next(s=>{s.forEach((a,l)=>{const c=l.getKey();null===i.get(c)&&(i=i.insert(c,mt.newInvalidDocument(c)))});let o=up();return i.forEach((a,l)=>{const c=s.get(a);void 0!==c&&cp(c.mutation,l,ri.empty(),Rt.now()),nx(t,l)&&(o=o.insert(a,l))}),o})}getBaseDocument(e,t,r){return null===r||1===r.mutation.type?this.remoteDocumentCache.getEntry(e,t):I.resolve(mt.newInvalidDocument(t))}}class rwe{constructor(e){this.It=e,this.Zn=new Map,this.ts=new Map}getBundleMetadata(e,t){return I.resolve(this.Zn.get(t))}saveBundleMetadata(e,t){var r;return this.Zn.set(t.id,{id:(r=t).id,version:r.version,createTime:In(r.createTime)}),I.resolve()}getNamedQuery(e,t){return I.resolve(this.ts.get(t))}saveNamedQuery(e,t){return this.ts.set(t.name,{name:(r=t).name,query:hx(r.bundledQuery),readTime:In(r.readTime)}),I.resolve();var r}}class iwe{constructor(){this.overlays=new jt(H.comparator),this.es=new Map}getOverlay(e,t){return I.resolve(this.overlays.get(t))}getOverlays(e,t){const r=Cs();return I.forEach(t,i=>this.getOverlay(e,i).next(s=>{null!==s&&r.set(i,s)})).next(()=>r)}saveOverlays(e,t,r){return r.forEach((i,s)=>{this.ue(e,t,s)}),I.resolve()}removeOverlaysForBatchId(e,t,r){const i=this.es.get(r);return void 0!==i&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.es.delete(r)),I.resolve()}getOverlaysForCollection(e,t,r){const i=Cs(),s=t.length+1,o=new H(t.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const l=a.getNext().value,c=l.getKey();if(!t.isPrefixOf(c.path))break;c.path.length===s&&l.largestBatchId>r&&i.set(l.getKey(),l)}return I.resolve(i)}getOverlaysForCollectionGroup(e,t,r,i){let s=new jt((c,u)=>c-u);const o=this.overlays.getIterator();for(;o.hasNext();){const c=o.getNext().value;if(c.getKey().getCollectionGroup()===t&&c.largestBatchId>r){let u=s.get(c.largestBatchId);null===u&&(u=Cs(),s=s.insert(c.largestBatchId,u)),u.set(c.getKey(),c)}}const a=Cs(),l=s.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((c,u)=>a.set(c,u)),!(a.size()>=i)););return I.resolve(a)}ue(e,t,r){const i=this.overlays.get(r.key);if(null!==i){const o=this.es.get(i.largestBatchId).delete(r.key);this.es.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new dx(t,r));let s=this.es.get(t);void 0===s&&(s=we(),this.es.set(t,s)),this.es.set(t,s.add(r.key))}}class mx{constructor(){this.ns=new it(Sn.ss),this.rs=new it(Sn.os)}isEmpty(){return this.ns.isEmpty()}addReference(e,t){const r=new Sn(e,t);this.ns=this.ns.add(r),this.rs=this.rs.add(r)}us(e,t){e.forEach(r=>this.addReference(r,t))}removeReference(e,t){this.cs(new Sn(e,t))}hs(e,t){e.forEach(r=>this.removeReference(r,t))}ls(e){const t=new H(new Be([])),r=new Sn(t,e),i=new Sn(t,e+1),s=[];return this.rs.forEachInRange([r,i],o=>{this.cs(o),s.push(o.key)}),s}fs(){this.ns.forEach(e=>this.cs(e))}cs(e){this.ns=this.ns.delete(e),this.rs=this.rs.delete(e)}ds(e){const t=new H(new Be([])),r=new Sn(t,e),i=new Sn(t,e+1);let s=we();return this.rs.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(e){const t=new Sn(e,0),r=this.ns.firstAfterOrEqual(t);return null!==r&&e.isEqual(r.key)}}class Sn{constructor(e,t){this.key=e,this._s=t}static ss(e,t){return H.comparator(e.key,t.key)||me(e._s,t._s)}static os(e,t){return me(e._s,t._s)||H.comparator(e.key,t.key)}}class swe{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.ws=1,this.gs=new it(Sn.ss)}checkEmpty(e){return I.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,r,i){const s=this.ws;this.ws++;const o=new cx(s,t,r,i);this.mutationQueue.push(o);for(const a of i)this.gs=this.gs.add(new Sn(a.key,s)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return I.resolve(o)}lookupMutationBatch(e,t){return I.resolve(this.ys(t))}getNextMutationBatchAfterBatchId(e,t){const i=this.ps(t+1),s=i<0?0:i;return I.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return I.resolve(0===this.mutationQueue.length?-1:this.ws-1)}getAllMutationBatches(e){return I.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const r=new Sn(t,0),i=new Sn(t,Number.POSITIVE_INFINITY),s=[];return this.gs.forEachInRange([r,i],o=>{const a=this.ys(o._s);s.push(a)}),I.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new it(me);return t.forEach(i=>{const s=new Sn(i,0),o=new Sn(i,Number.POSITIVE_INFINITY);this.gs.forEachInRange([s,o],a=>{r=r.add(a._s)})}),I.resolve(this.Is(r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,i=r.length+1;let s=r;H.isDocumentKey(s)||(s=s.child(""));const o=new Sn(new H(s),0);let a=new it(me);return this.gs.forEachWhile(l=>{const c=l.key.path;return!!r.isPrefixOf(c)&&(c.length===i&&(a=a.add(l._s)),!0)},o),I.resolve(this.Is(a))}Is(e){const t=[];return e.forEach(r=>{const i=this.ys(r);null!==i&&t.push(i)}),t}removeMutationBatch(e,t){oe(0===this.Ts(t.batchId,"removed")),this.mutationQueue.shift();let r=this.gs;return I.forEach(t.mutations,i=>{const s=new Sn(i.key,t.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.gs=r})}An(e){}containsKey(e,t){const r=new Sn(t,0),i=this.gs.firstAfterOrEqual(r);return I.resolve(t.isEqual(i&&i.key))}performConsistencyCheck(e){return I.resolve()}Ts(e,t){return this.ps(e)}ps(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}ys(e){const t=this.ps(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class owe{constructor(e){this.Es=e,this.docs=new jt(H.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const r=t.key,i=this.docs.get(r),s=i?i.size:0,o=this.Es(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const r=this.docs.get(t);return I.resolve(r?r.document.mutableCopy():mt.newInvalidDocument(t))}getEntries(e,t){let r=Pr();return t.forEach(i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():mt.newInvalidDocument(i))}),I.resolve(r)}getAllFromCollection(e,t,r){let i=Pr();const s=new H(t.child("")),o=this.docs.getIteratorFrom(s);for(;o.hasNext();){const{key:a,value:{document:l}}=o.getNext();if(!t.isPrefixOf(a.path))break;a.path.length>t.length+1||WM(Pz(l),r)<=0||(i=i.insert(l.key,l.mutableCopy()))}return I.resolve(i)}getAllFromCollectionGroup(e,t,r,i){Y()}As(e,t){return I.forEach(this.docs,r=>t(r))}newChangeBuffer(e){return new awe(this)}getSize(e){return I.resolve(this.size)}}class awe extends class Jbe{constructor(){this.changes=new ma(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,mt.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const r=this.changes.get(t);return void 0!==r?I.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}{constructor(e){super(),this.Yn=e}applyChanges(e){const t=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?t.push(this.Yn.addEntry(e,i)):this.Yn.removeEntry(r)}),I.waitFor(t)}getFromCache(e,t){return this.Yn.getEntry(e,t)}getAllFromCache(e,t){return this.Yn.getEntries(e,t)}}class lwe{constructor(e){this.persistence=e,this.Rs=new ma(t=>Ul(t),op),this.lastRemoteSnapshotVersion=ae.min(),this.highestTargetId=0,this.bs=0,this.Ps=new mx,this.targetCount=0,this.vs=Yl.Pn()}forEachTarget(e,t){return this.Rs.forEach((r,i)=>t(i)),I.resolve()}getLastRemoteSnapshotVersion(e){return I.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return I.resolve(this.bs)}allocateTargetId(e){return this.highestTargetId=this.vs.next(),I.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.bs&&(this.bs=t),I.resolve()}Dn(e){this.Rs.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.vs=new Yl(t),this.highestTargetId=t),e.sequenceNumber>this.bs&&(this.bs=e.sequenceNumber)}addTargetData(e,t){return this.Dn(t),this.targetCount+=1,I.resolve()}updateTargetData(e,t){return this.Dn(t),I.resolve()}removeTargetData(e,t){return this.Rs.delete(t.target),this.Ps.ls(t.targetId),this.targetCount-=1,I.resolve()}removeTargets(e,t,r){let i=0;const s=[];return this.Rs.forEach((o,a)=>{a.sequenceNumber<=t&&null===r.get(a.targetId)&&(this.Rs.delete(o),s.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),I.waitFor(s).next(()=>i)}getTargetCount(e){return I.resolve(this.targetCount)}getTargetData(e,t){const r=this.Rs.get(t)||null;return I.resolve(r)}addMatchingKeys(e,t,r){return this.Ps.us(t,r),I.resolve()}removeMatchingKeys(e,t,r){this.Ps.hs(t,r);const i=this.persistence.referenceDelegate,s=[];return i&&t.forEach(o=>{s.push(i.markPotentiallyOrphaned(e,o))}),I.waitFor(s)}removeMatchingKeysForTargetId(e,t){return this.Ps.ls(t),I.resolve()}getMatchingKeysForTargetId(e,t){const r=this.Ps.ds(t);return I.resolve(r)}containsKey(e,t){return I.resolve(this.Ps.containsKey(t))}}class hW{constructor(e,t){this.Vs={},this.overlays={},this.Ss=new Rr(0),this.Ds=!1,this.Ds=!0,this.referenceDelegate=e(this),this.Cs=new lwe(this),this.indexManager=new Wbe,this.remoteDocumentCache=new owe(r=>this.referenceDelegate.xs(r)),this.It=new zG(t),this.Ns=new rwe(this.It)}start(){return Promise.resolve()}shutdown(){return this.Ds=!1,Promise.resolve()}get started(){return this.Ds}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new iwe,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.Vs[e.toKey()];return r||(r=new swe(t,this.referenceDelegate),this.Vs[e.toKey()]=r),r}getTargetCache(){return this.Cs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ns}runTransaction(e,t,r){O("MemoryPersistence","Starting transaction:",e);const i=new cwe(this.Ss.next());return this.referenceDelegate.ks(),r(i).next(s=>this.referenceDelegate.Os(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Ms(e,t){return I.or(Object.values(this.Vs).map(r=>()=>r.containsKey(e,t)))}}class cwe extends class xve{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}{constructor(e){super(),this.currentSequenceNumber=e}}class Bv{constructor(e){this.persistence=e,this.Fs=new mx,this.$s=null}static Bs(e){return new Bv(e)}get Ls(){if(this.$s)return this.$s;throw Y()}addReference(e,t,r){return this.Fs.addReference(r,t),this.Ls.delete(r.toString()),I.resolve()}removeReference(e,t,r){return this.Fs.removeReference(r,t),this.Ls.add(r.toString()),I.resolve()}markPotentiallyOrphaned(e,t){return this.Ls.add(t.toString()),I.resolve()}removeTarget(e,t){this.Fs.ls(t.targetId).forEach(i=>this.Ls.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(i=>{i.forEach(s=>this.Ls.add(s.toString()))}).next(()=>r.removeTargetData(e,t))}ks(){this.$s=new Set}Os(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return I.forEach(this.Ls,r=>{const i=H.fromPath(r);return this.Us(e,i).next(s=>{s||t.removeEntry(i,ae.min())})}).next(()=>(this.$s=null,t.apply(e)))}updateLimboDocument(e,t){return this.Us(e,t).next(r=>{r?this.Ls.delete(t.toString()):this.Ls.add(t.toString())})}xs(e){return 0}Us(e,t){return I.or([()=>I.resolve(this.Fs.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ms(e,t)])}}class vx{constructor(e,t,r,i){this.targetId=e,this.fromCache=t,this.Si=r,this.Di=i}static Ci(e,t){let r=we(),i=we();for(const s of t.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new vx(e,t.fromCache,r,i)}}class pW{constructor(){this.xi=!1}initialize(e,t){this.Ni=e,this.indexManager=t,this.xi=!0}getDocumentsMatchingQuery(e,t,r,i){return this.ki(e,t).next(s=>s||this.Oi(e,t,i,r)).next(s=>s||this.Mi(e,t))}ki(e,t){if(tG(t))return I.resolve(null);let r=_r(t);return this.indexManager.getIndexType(e,r).next(i=>0===i?null:(null!==t.limit&&1===i&&(t=Tv(t,null,"F"),r=_r(t)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{const o=we(...s);return this.Ni.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(l=>{const c=this.Fi(t,a);return this.$i(t,c,o,l.readTime)?this.ki(e,Tv(t,null,"F")):this.Bi(e,c,t,l)}))})))}Oi(e,t,r,i){return tG(t)||i.isEqual(ae.min())?this.Mi(e,t):this.Ni.getDocuments(e,r).next(s=>{const o=this.Fi(t,s);return this.$i(t,o,r,i)?this.Mi(e,t):(jM()<=Ne.DEBUG&&O("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),tx(t)),this.Bi(e,o,t,function Rz(n,e){const t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,i=ae.fromTimestamp(1e9===r?new Rt(t+1,0):new Rt(t,r));return new ni(i,H.empty(),e)}(i,-1)))})}Fi(e,t){let r=new it(iG(e));return t.forEach((i,s)=>{nx(e,s)&&(r=r.add(s))}),r}$i(e,t,r,i){if(null===e.limit)return!1;if(r.size!==t.size)return!0;const s="F"===e.limitType?t.last():t.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Mi(e,t){return jM()<=Ne.DEBUG&&O("QueryEngine","Using full collection scan to execute query:",tx(t)),this.Ni.getDocumentsMatchingQuery(e,t,ni.min())}Bi(e,t,r,i){return this.Ni.getDocumentsMatchingQuery(e,r,i).next(s=>(t.forEach(o=>{s=s.insert(o.key,o)}),s))}}class dwe{constructor(e,t,r,i){this.persistence=e,this.Li=t,this.It=i,this.Ui=new jt(me),this.qi=new ma(s=>Ul(s),op),this.Ki=new Map,this.Gi=e.getRemoteDocumentCache(),this.Cs=e.getTargetCache(),this.Ns=e.getBundleCache(),this.Qi(r)}Qi(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new dW(this.Gi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Gi.setIndexManager(this.indexManager),this.Li.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Ui))}}function gW(n,e){return bx.apply(this,arguments)}function bx(){return bx=_(function*(n,e){const t=j(n);return yield t.persistence.runTransaction("Handle user change","readonly",r=>{let i;return t.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,t.Qi(e),t.mutationQueue.getAllMutationBatches(r))).next(s=>{const o=[],a=[];let l=we();for(const c of i){o.push(c.batchId);for(const u of c.mutations)l=l.add(u.key)}for(const c of s){a.push(c.batchId);for(const u of c.mutations)l=l.add(u.key)}return t.localDocuments.getDocuments(r,l).next(c=>({ji:c,removedBatchIds:o,addedBatchIds:a}))})})}),bx.apply(this,arguments)}function hwe(n,e){const t=j(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),s=t.Gi.newChangeBuffer({trackRemovals:!0});return function(o,a,l,c){const u=l.batch,d=u.keys();let h=I.resolve();return d.forEach(f=>{h=h.next(()=>c.getEntry(a,f)).next(p=>{const m=l.docVersions.get(f);oe(null!==m),p.version.compareTo(m)<0&&(u.applyToRemoteDocument(p,l),p.isValidDocument()&&(p.setReadTime(l.commitVersion),c.addEntry(p)))})}),h.next(()=>o.mutationQueue.removeMutationBatch(a,u))}(t,r,e,s).next(()=>s.apply(r)).next(()=>t.mutationQueue.performConsistencyCheck(r)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(o){let a=we();for(let l=0;l<o.mutationResults.length;++l)o.mutationResults[l].transformResults.length>0&&(a=a.add(o.batch.mutations[l].key));return a}(e))).next(()=>t.localDocuments.getDocuments(r,i))})}function _W(n){const e=j(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Cs.getLastRemoteSnapshotVersion(t))}function fwe(n,e){const t=j(n),r=e.snapshotVersion;let i=t.Ui;return t.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const o=t.Gi.newChangeBuffer({trackRemovals:!0});i=t.Ui;const a=[];e.targetChanges.forEach((u,d)=>{const h=i.get(d);if(!h)return;a.push(t.Cs.removeMatchingKeys(s,u.removedDocuments,d).next(()=>t.Cs.addMatchingKeys(s,u.addedDocuments,d)));let f=h.withSequenceNumber(s.currentSequenceNumber);var p,m,g;e.targetMismatches.has(d)?f=f.withResumeToken(gn.EMPTY_BYTE_STRING,ae.min()).withLastLimboFreeSnapshotVersion(ae.min()):u.resumeToken.approximateByteSize()>0&&(f=f.withResumeToken(u.resumeToken,r)),i=i.insert(d,f),m=f,g=u,(0===(p=h).resumeToken.approximateByteSize()||m.snapshotVersion.toMicroseconds()-p.snapshotVersion.toMicroseconds()>=3e8||g.addedDocuments.size+g.modifiedDocuments.size+g.removedDocuments.size>0)&&a.push(t.Cs.updateTargetData(s,f))});let l=Pr(),c=we();if(e.documentUpdates.forEach(u=>{e.resolvedLimboDocuments.has(u)&&a.push(t.persistence.referenceDelegate.updateLimboDocument(s,u))}),a.push(function yW(n,e,t){let r=we(),i=we();return t.forEach(s=>r=r.add(s)),e.getEntries(n,r).next(s=>{let o=Pr();return t.forEach((a,l)=>{const c=s.get(a);l.isFoundDocument()!==c.isFoundDocument()&&(i=i.add(a)),l.isNoDocument()&&l.version.isEqual(ae.min())?(e.removeEntry(a,l.readTime),o=o.insert(a,l)):!c.isValidDocument()||l.version.compareTo(c.version)>0||0===l.version.compareTo(c.version)&&c.hasPendingWrites?(e.addEntry(l),o=o.insert(a,l)):O("LocalStore","Ignoring outdated watch update for ",a,". Current version:",c.version," Watch version:",l.version)}),{Wi:o,zi:i}})}(s,o,e.documentUpdates).next(u=>{l=u.Wi,c=u.zi})),!r.isEqual(ae.min())){const u=t.Cs.getLastRemoteSnapshotVersion(s).next(d=>t.Cs.setTargetsMetadata(s,s.currentSequenceNumber,r));a.push(u)}return I.waitFor(a).next(()=>o.apply(s)).next(()=>t.localDocuments.getLocalViewOfDocuments(s,l,c)).next(()=>l)}).then(s=>(t.Ui=i,s))}function pwe(n,e){const t=j(n);return t.persistence.runTransaction("Get next mutation batch","readonly",r=>(void 0===e&&(e=-1),t.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function id(n,e){const t=j(n);return t.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return t.Cs.getTargetData(r,e).next(s=>s?(i=s,I.resolve(i)):t.Cs.allocateTargetId(r).next(o=>(i=new ga(e,o,0,r.currentSequenceNumber),t.Cs.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=t.Ui.get(r.targetId);return(null===i||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(t.Ui=t.Ui.insert(r.targetId,r),t.qi.set(e,r.targetId)),r})}function sd(n,e,t){return wx.apply(this,arguments)}function wx(){return wx=_(function*(n,e,t){const r=j(n),i=r.Ui.get(e),s=t?"readwrite":"readwrite-primary";try{t||(yield r.persistence.runTransaction("Release target",s,o=>r.persistence.referenceDelegate.removeTarget(o,i)))}catch(o){if(!ua(o))throw o;O("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}r.Ui=r.Ui.remove(e),r.qi.delete(i.target)}),wx.apply(this,arguments)}function Hv(n,e,t){const r=j(n);let i=ae.min(),s=we();return r.persistence.runTransaction("Execute query","readonly",o=>function(a,l,c){const u=j(a),d=u.qi.get(c);return void 0!==d?I.resolve(u.Ui.get(d)):u.Cs.getTargetData(l,c)}(r,o,_r(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.Cs.getMatchingKeysForTargetId(o,a.targetId).next(l=>{s=l})}).next(()=>r.Li.getDocumentsMatchingQuery(o,e,t?i:ae.min(),t?s:we())).next(a=>(function wW(n,e,t){let r=n.Ki.get(e)||ae.min();t.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),n.Ki.set(e,r)}(r,function rG(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}(e),a),{documents:a,Hi:s})))}class Sx{constructor(){this.activeTargetIds=Mv()}er(e){this.activeTargetIds=this.activeTargetIds.add(e)}nr(e){this.activeTargetIds=this.activeTargetIds.delete(e)}tr(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class IW{constructor(){this.Lr=new Sx,this.Ur={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e){return this.Lr.er(e),this.Ur[e]||"not-current"}updateQueryState(e,t,r){this.Ur[e]=t}removeLocalQueryTarget(e){this.Lr.nr(e)}isLocalQueryTarget(e){return this.Lr.activeTargetIds.has(e)}clearQueryState(e){delete this.Ur[e]}getAllActiveQueryTargets(){return this.Lr.activeTargetIds}isActiveQueryTarget(e){return this.Lr.activeTargetIds.has(e)}start(){return this.Lr=new Sx,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class _we{qr(e){}shutdown(){}}class TW{constructor(){this.Kr=()=>this.Gr(),this.Qr=()=>this.jr(),this.Wr=[],this.zr()}qr(e){this.Wr.push(e)}shutdown(){window.removeEventListener("online",this.Kr),window.removeEventListener("offline",this.Qr)}zr(){window.addEventListener("online",this.Kr),window.addEventListener("offline",this.Qr)}Gr(){O("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.Wr)e(0)}jr(){O("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.Wr)e(1)}static C(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}const ywe={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class vwe{constructor(e){this.Hr=e.Hr,this.Jr=e.Jr}Yr(e){this.Xr=e}Zr(e){this.eo=e}onMessage(e){this.no=e}close(){this.Jr()}send(e){this.Hr(e)}so(){this.Xr()}io(e){this.eo(e)}ro(e){this.no(e)}}class bwe extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.oo=(e.ssl?"https":"http")+"://"+e.host,this.uo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get co(){return!1}ao(e,t,r,i,s){const o=this.ho(e,t);O("RestConnection","Sending: ",o,r);const a={};return this.lo(a,i,s),this.fo(e,o,a,r).then(l=>(O("RestConnection","Received: ",l),l),l=>{throw ju("RestConnection",`${e} failed with error: `,l,"url: ",o,"request:",r),l})}_o(e,t,r,i,s,o){return this.ao(e,t,r,i,s)}lo(e,t,r){e["X-Goog-Api-Client"]="gl-js/ fire/"+$u,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((i,s)=>e[s]=i),r&&r.headers.forEach((i,s)=>e[s]=i)}ho(e,t){return`${this.oo}/v1/${t}:${ywe[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams}fo(e,t,r,i){return new Promise((s,o)=>{const a=new vve;a.setWithCredentials(!0),a.listenOnce(gve.COMPLETE,()=>{var c;try{switch(a.getLastErrorCode()){case $M.NO_ERROR:const u=a.getResponseJson();O("Connection","XHR received:",JSON.stringify(u)),s(u);break;case $M.TIMEOUT:O("Connection",'RPC "'+e+'" timed out'),o(new P(T.DEADLINE_EXCEEDED,"Request time out"));break;case $M.HTTP_ERROR:const d=a.getStatus();if(O("Connection",'RPC "'+e+'" failed with status:',d,"response text:",a.getResponseText()),d>0){let h=a.getResponseJson();Array.isArray(h)&&(h=h[0]);const f=null===(c=h)||void 0===c?void 0:c.error;if(f&&f.status&&f.message){const p=function(m){const g=m.toLowerCase().replace(/_/g,"-");return Object.values(T).indexOf(g)>=0?g:T.UNKNOWN}(f.status);o(new P(p,f.message))}else o(new P(T.UNKNOWN,"Server responded with status "+a.getStatus()))}else o(new P(T.UNAVAILABLE,"Connection failed."));break;default:Y()}}finally{O("Connection",'RPC "'+e+'" completed.')}});const l=JSON.stringify(i);a.send(t,"POST",l,r,15)})}wo(e,t,r){const i=[this.oo,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=pve(),o=mve(),a={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(a.xmlHttpFactory=new yve({})),this.lo(a.initMessageHeaders,t,r),a.encodeInitMessageHeaders=!0;const l=i.join("");O("Connection","Creating WebChannel: "+l,a);const c=s.createWebChannel(l,a);let u=!1,d=!1;const h=new vwe({Hr:p=>{d?O("Connection","Not sending because WebChannel is closed:",p):(u||(O("Connection","Opening WebChannel transport."),c.open(),u=!0),O("Connection","WebChannel sending:",p),c.send(p))},Jr:()=>c.close()}),f=(p,m,g)=>{p.listen(m,b=>{try{g(b)}catch(E){setTimeout(()=>{throw E},0)}})};return f(c,gv.EventType.OPEN,()=>{d||O("Connection","WebChannel transport opened.")}),f(c,gv.EventType.CLOSE,()=>{d||(d=!0,O("Connection","WebChannel transport closed"),h.io())}),f(c,gv.EventType.ERROR,p=>{d||(d=!0,ju("Connection","WebChannel transport errored:",p),h.io(new P(T.UNAVAILABLE,"The operation could not be completed")))}),f(c,gv.EventType.MESSAGE,p=>{var m;if(!d){const g=p.data[0];oe(!!g);const b=g,E=b.error||(null===(m=b[0])||void 0===m?void 0:m.error);if(E){O("Connection","WebChannel received error:",E);const v=E.status;let M=function(U){const de=sn[U];if(void 0!==de)return vG(de)}(v),L=E.message;void 0===M&&(M=T.INTERNAL,L="Unknown error status: "+v+" with message "+E.message),d=!0,h.io(new P(M,L)),c.close()}else O("Connection","WebChannel received:",g),h.ro(g)}}),f(o,_ve.STAT_EVENT,p=>{p.stat===Sz.PROXY?O("Connection","Detected buffering proxy"):p.stat===Sz.NOPROXY&&O("Connection","Detected no buffering proxy")}),setTimeout(()=>{h.so()},0),h}}function zv(){return typeof document<"u"?document:null}function Sp(n){return new ube(n,!0)}class Ax{constructor(e,t,r=1e3,i=1.5,s=6e4){this.Hs=e,this.timerId=t,this.mo=r,this.yo=i,this.po=s,this.Io=0,this.To=null,this.Eo=Date.now(),this.reset()}reset(){this.Io=0}Ao(){this.Io=this.po}Ro(e){this.cancel();const t=Math.floor(this.Io+this.bo()),r=Math.max(0,Date.now()-this.Eo),i=Math.max(0,t-r);i>0&&O("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Io} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.To=this.Hs.enqueueAfterDelay(this.timerId,i,()=>(this.Eo=Date.now(),e())),this.Io*=this.yo,this.Io<this.mo&&(this.Io=this.mo),this.Io>this.po&&(this.Io=this.po)}Po(){null!==this.To&&(this.To.skipDelay(),this.To=null)}cancel(){null!==this.To&&(this.To.cancel(),this.To=null)}bo(){return(Math.random()-.5)*this.Io}}class DW{constructor(e,t,r,i,s,o,a,l){this.Hs=e,this.vo=r,this.Vo=i,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.So=0,this.Do=null,this.Co=null,this.stream=null,this.xo=new Ax(e,t)}No(){return 1===this.state||5===this.state||this.ko()}ko(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Oo()}stop(){var e=this;return _(function*(){e.No()&&(yield e.close(0))})()}Mo(){this.state=0,this.xo.reset()}Fo(){this.ko()&&null===this.Do&&(this.Do=this.Hs.enqueueAfterDelay(this.vo,6e4,()=>this.$o()))}Bo(e){this.Lo(),this.stream.send(e)}$o(){var e=this;return _(function*(){if(e.ko())return e.close(0)})()}Lo(){this.Do&&(this.Do.cancel(),this.Do=null)}Uo(){this.Co&&(this.Co.cancel(),this.Co=null)}close(e,t){var r=this;return _(function*(){r.Lo(),r.Uo(),r.xo.cancel(),r.So++,4!==e?r.xo.reset():t&&t.code===T.RESOURCE_EXHAUSTED?(qt(t.toString()),qt("Using maximum backoff delay to prevent overloading the backend."),r.xo.Ao()):t&&t.code===T.UNAUTHENTICATED&&3!==r.state&&(r.authCredentialsProvider.invalidateToken(),r.appCheckCredentialsProvider.invalidateToken()),null!==r.stream&&(r.qo(),r.stream.close(),r.stream=null),r.state=e,yield r.listener.Zr(t)})()}qo(){}auth(){this.state=1;const e=this.Ko(this.So),t=this.So;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.So===t&&this.Go(r,i)},r=>{e(()=>{const i=new P(T.UNKNOWN,"Fetching auth token failed: "+r.message);return this.Qo(i)})})}Go(e,t){const r=this.Ko(this.So);this.stream=this.jo(e,t),this.stream.Yr(()=>{r(()=>(this.state=2,this.Co=this.Hs.enqueueAfterDelay(this.Vo,1e4,()=>(this.ko()&&(this.state=3),Promise.resolve())),this.listener.Yr()))}),this.stream.Zr(i=>{r(()=>this.Qo(i))}),this.stream.onMessage(i=>{r(()=>this.onMessage(i))})}Oo(){var e=this;this.state=5,this.xo.Ro(_(function*(){e.state=0,e.start()}))}Qo(e){return O("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Ko(e){return t=>{this.Hs.enqueueAndForget(()=>this.So===e?t():(O("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class wwe extends DW{constructor(e,t,r,i,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,i,o),this.It=s}jo(e,t){return this.connection.wo("Listen",e,t)}onMessage(e){this.xo.reset();const t=function fbe(n,e){let t;if("targetChange"in e){const r="NO_CHANGE"===(l=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===l?1:"REMOVE"===l?2:"CURRENT"===l?3:"RESET"===l?4:Y(),i=e.targetChange.targetIds||[],s=function(l,c){return l.gt?(oe(void 0===c||"string"==typeof c),gn.fromBase64String(c||"")):(oe(void 0===c||c instanceof Uint8Array),gn.fromUint8Array(c||new Uint8Array))}(n,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(l){const c=void 0===l.code?T.UNKNOWN:vG(l.code);return new P(c,l.message||"")}(o);t=new IG(r,i,s,a||null)}else if("documentChange"in e){const r=e.documentChange,i=Es(n,r.document.name),s=In(r.document.updateTime),o=new jn({mapValue:{fields:r.document.fields}}),a=mt.newFoundDocument(i,s,o);t=new xv(r.targetIds||[],r.removedTargetIds||[],a.key,a)}else if("documentDelete"in e){const r=e.documentDelete,i=Es(n,r.document),s=r.readTime?In(r.readTime):ae.min(),o=mt.newNoDocument(i,s);t=new xv([],r.removedTargetIds||[],o.key,o)}else if("documentRemove"in e){const r=e.documentRemove,i=Es(n,r.document);t=new xv([],r.removedTargetIds||[],i,null)}else{if(!("filter"in e))return Y();{const r=e.filter,s=new nbe(r.count||0);t=new EG(r.targetId,s)}}var l;return t}(this.It,e),r=function(i){if(!("targetChange"in i))return ae.min();const s=i.targetChange;return s.targetIds&&s.targetIds.length?ae.min():s.readTime?In(s.readTime):ae.min()}(e);return this.listener.Wo(t,r)}zo(e){const t={};t.database=gp(this.It),t.addTarget=function(i,s){let o;const a=s.target;return o=Ev(a)?{documents:OG(i,a)}:{query:ax(i,a)},o.targetId=s.targetId,s.resumeToken.approximateByteSize()>0?o.resumeToken=AG(i,s.resumeToken):s.snapshotVersion.compareTo(ae.min())>0&&(o.readTime=pp(i,s.snapshotVersion.toTimestamp())),o}(this.It,e);const r=function mbe(n,e){const t=function(r,i){switch(i){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return Y()}}(0,e.purpose);return null==t?null:{"goog-listen-tags":t}}(0,e);r&&(t.labels=r),this.Bo(t)}Ho(e){const t={};t.database=gp(this.It),t.removeTarget=e,this.Bo(t)}}class Cwe extends DW{constructor(e,t,r,i,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,i,o),this.It=s,this.Jo=!1}get Yo(){return this.Jo}start(){this.Jo=!1,this.lastStreamToken=void 0,super.start()}qo(){this.Jo&&this.Xo([])}jo(e,t){return this.connection.wo("Write",e,t)}onMessage(e){if(oe(!!e.streamToken),this.lastStreamToken=e.streamToken,this.Jo){this.xo.reset();const t=function pbe(n,e){return n&&n.length>0?(oe(void 0!==e),n.map(t=>function(r,i){let s=In(r.updateTime?r.updateTime:i);return s.isEqual(ae.min())&&(s=In(i)),new Jve(s,r.transformResults||[])}(t,e))):[]}(e.writeResults,e.commitTime),r=In(e.commitTime);return this.listener.Zo(r,t)}return oe(!e.writeResults||0===e.writeResults.length),this.Jo=!0,this.listener.tu()}eu(){const e={};e.database=gp(this.It),this.Bo(e)}Xo(e){const t={streamToken:this.lastStreamToken,writes:e.map(r=>function _p(n,e){let t;if(e instanceof Zu)t={update:RG(n,e.key,e.value)};else if(e instanceof Ju)t={delete:mp(n,e.key)};else if(e instanceof To)t={update:RG(n,e.key,e.data),updateMask:bbe(e.fieldMask)};else{if(!(e instanceof rx))return Y();t={verify:mp(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(r=>function(i,s){const o=s.transform;if(o instanceof Qu)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(o instanceof Hl)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:o.elements}};if(o instanceof $l)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:o.elements}};if(o instanceof Xu)return{fieldPath:s.field.canonicalString(),increment:o.yt};throw Y()}(0,r))),e.precondition.isNone||(t.currentDocument=void 0!==(i=e.precondition).updateTime?{updateTime:dbe(n,i.updateTime)}:void 0!==i.exists?{exists:i.exists}:Y()),t;var i}(this.It,r))};this.Bo(t)}}class Ewe extends class{}{constructor(e,t,r,i){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=r,this.It=i,this.nu=!1}su(){if(this.nu)throw new P(T.FAILED_PRECONDITION,"The client has already been terminated.")}ao(e,t,r){return this.su(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,s])=>this.connection.ao(e,t,r,i,s)).catch(i=>{throw"FirebaseError"===i.name?(i.code===T.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new P(T.UNKNOWN,i.toString())})}_o(e,t,r,i){return this.su(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection._o(e,t,r,s,o,i)).catch(s=>{throw"FirebaseError"===s.name?(s.code===T.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new P(T.UNKNOWN,s.toString())})}terminate(){this.nu=!0}}class Twe{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.iu=0,this.ru=null,this.ou=!0}uu(){0===this.iu&&(this.cu("Unknown"),this.ru=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.ru=null,this.au("Backend didn't respond within 10 seconds."),this.cu("Offline"),Promise.resolve())))}hu(e){"Online"===this.state?this.cu("Unknown"):(this.iu++,this.iu>=1&&(this.lu(),this.au(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.cu("Offline")))}set(e){this.lu(),this.iu=0,"Online"===e&&(this.ou=!1),this.cu(e)}cu(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}au(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.ou?(qt(t),this.ou=!1):O("OnlineStateTracker",t)}lu(){null!==this.ru&&(this.ru.cancel(),this.ru=null)}}class Swe{constructor(e,t,r,i,s){var o=this;this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.fu=[],this.du=new Map,this._u=new Set,this.wu=[],this.mu=s,this.mu.qr(a=>{r.enqueueAndForget(_(function*(){var l;So(o)&&(O("RemoteStore","Restarting streams for network reachability change."),yield(l=_(function*(c){const u=j(c);u._u.add(4),yield od(u),u.gu.set("Unknown"),u._u.delete(4),yield Dp(u)}),function(c){return l.apply(this,arguments)})(o))}))}),this.gu=new Twe(r,i)}}function Dp(n){return xx.apply(this,arguments)}function xx(){return xx=_(function*(n){if(So(n))for(const e of n.wu)yield e(!0)}),xx.apply(this,arguments)}function od(n){return kx.apply(this,arguments)}function kx(){return kx=_(function*(n){for(const e of n.wu)yield e(!1)}),kx.apply(this,arguments)}function Gv(n,e){const t=j(n);t.du.has(e.targetId)||(t.du.set(e.targetId,e),Ox(t)?Px(t):ld(t).ko()&&Rx(t,e))}function Ap(n,e){const t=j(n),r=ld(t);t.du.delete(e),r.ko()&&AW(t,e),0===t.du.size&&(r.ko()?r.Fo():So(t)&&t.gu.set("Unknown"))}function Rx(n,e){n.yu.Mt(e.targetId),ld(n).zo(e)}function AW(n,e){n.yu.Mt(e),ld(n).Ho(e)}function Px(n){n.yu=new abe({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),se:e=>n.du.get(e)||null}),ld(n).start(),n.gu.uu()}function Ox(n){return So(n)&&!ld(n).No()&&n.du.size>0}function So(n){return 0===j(n)._u.size}function MW(n){n.yu=void 0}function Dwe(n){return Nx.apply(this,arguments)}function Nx(){return Nx=_(function*(n){n.du.forEach((e,t)=>{Rx(n,e)})}),Nx.apply(this,arguments)}function Awe(n,e){return Fx.apply(this,arguments)}function Fx(){return Fx=_(function*(n,e){MW(n),Ox(n)?(n.gu.hu(e),Px(n)):n.gu.set("Unknown")}),Fx.apply(this,arguments)}function Mwe(n,e,t){return Lx.apply(this,arguments)}function Lx(){return Lx=_(function*(n,e,t){if(n.gu.set("Online"),e instanceof IG&&2===e.state&&e.cause)try{yield(r=_(function*(i,s){const o=s.cause;for(const a of s.targetIds)i.du.has(a)&&(yield i.remoteSyncer.rejectListen(a,o),i.du.delete(a),i.yu.removeTarget(a))}),function(i,s){return r.apply(this,arguments)})(n,e)}catch(r){O("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield Wv(n,r)}else if(e instanceof xv?n.yu.Gt(e):e instanceof EG?n.yu.Yt(e):n.yu.Wt(e),!t.isEqual(ae.min()))try{const r=yield _W(n.localStore);t.compareTo(r)>=0&&(yield function(i,s){const o=i.yu.te(s);return o.targetChanges.forEach((a,l)=>{if(a.resumeToken.approximateByteSize()>0){const c=i.du.get(l);c&&i.du.set(l,c.withResumeToken(a.resumeToken,s))}}),o.targetMismatches.forEach(a=>{const l=i.du.get(a);if(!l)return;i.du.set(a,l.withResumeToken(gn.EMPTY_BYTE_STRING,l.snapshotVersion)),AW(i,a);const c=new ga(l.target,a,1,l.sequenceNumber);Rx(i,c)}),i.remoteSyncer.applyRemoteEvent(o)}(n,t))}catch(r){O("RemoteStore","Failed to raise snapshot:",r),yield Wv(n,r)}var r}),Lx.apply(this,arguments)}function Wv(n,e,t){return Vx.apply(this,arguments)}function Vx(){return Vx=_(function*(n,e,t){if(!ua(e))throw e;n._u.add(1),yield od(n),n.gu.set("Offline"),t||(t=()=>_W(n.localStore)),n.asyncQueue.enqueueRetryable(_(function*(){O("RemoteStore","Retrying IndexedDB access"),yield t(),n._u.delete(1),yield Dp(n)}))}),Vx.apply(this,arguments)}function xW(n,e){return e().catch(t=>Wv(n,t,e))}function ad(n){return Bx.apply(this,arguments)}function Bx(){return Bx=_(function*(n){const e=j(n),t=va(e);let r=e.fu.length>0?e.fu[e.fu.length-1].batchId:-1;for(;xwe(e);)try{const i=yield pwe(e.localStore,r);if(null===i){0===e.fu.length&&t.Fo();break}r=i.batchId,kwe(e,i)}catch(i){yield Wv(e,i)}kW(e)&&RW(e)}),Bx.apply(this,arguments)}function xwe(n){return So(n)&&n.fu.length<10}function kwe(n,e){n.fu.push(e);const t=va(n);t.ko()&&t.Yo&&t.Xo(e.mutations)}function kW(n){return So(n)&&!va(n).No()&&n.fu.length>0}function RW(n){va(n).start()}function Rwe(n){return Ux.apply(this,arguments)}function Ux(){return Ux=_(function*(n){va(n).eu()}),Ux.apply(this,arguments)}function Pwe(n){return Hx.apply(this,arguments)}function Hx(){return Hx=_(function*(n){const e=va(n);for(const t of n.fu)e.Xo(t.mutations)}),Hx.apply(this,arguments)}function Owe(n,e,t){return $x.apply(this,arguments)}function $x(){return $x=_(function*(n,e,t){const r=n.fu.shift(),i=ux.from(r,e,t);yield xW(n,()=>n.remoteSyncer.applySuccessfulWrite(i)),yield ad(n)}),$x.apply(this,arguments)}function Nwe(n,e){return jx.apply(this,arguments)}function jx(){return jx=_(function*(n,e){var t;e&&va(n).Yo&&(yield(t=_(function*(r,i){if(yG(s=i.code)&&s!==T.ABORTED){const o=r.fu.shift();va(r).Mo(),yield xW(r,()=>r.remoteSyncer.rejectFailedWrite(o.batchId,i)),yield ad(r)}var s}),function(r,i){return t.apply(this,arguments)})(n,e)),kW(n)&&RW(n)}),jx.apply(this,arguments)}function PW(n,e){return zx.apply(this,arguments)}function zx(){return zx=_(function*(n,e){const t=j(n);t.asyncQueue.verifyOperationInProgress(),O("RemoteStore","RemoteStore received new credentials");const r=So(t);t._u.add(3),yield od(t),r&&t.gu.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t._u.delete(3),yield Dp(t)}),zx.apply(this,arguments)}function Wx(){return Wx=_(function*(n,e){const t=j(n);e?(t._u.delete(2),yield Dp(t)):e||(t._u.add(2),yield od(t),t.gu.set("Unknown"))}),Wx.apply(this,arguments)}function ld(n){return n.pu||(n.pu=function(e,t,r){const i=j(e);return i.su(),new wwe(t,i.connection,i.authCredentials,i.appCheckCredentials,i.It,r)}(n.datastore,n.asyncQueue,{Yr:Dwe.bind(null,n),Zr:Awe.bind(null,n),Wo:Mwe.bind(null,n)}),n.wu.push(function(){var e=_(function*(t){t?(n.pu.Mo(),Ox(n)?Px(n):n.gu.set("Unknown")):(yield n.pu.stop(),MW(n))});return function(t){return e.apply(this,arguments)}}())),n.pu}function va(n){return n.Iu||(n.Iu=function(e,t,r){const i=j(e);return i.su(),new Cwe(t,i.connection,i.authCredentials,i.appCheckCredentials,i.It,r)}(n.datastore,n.asyncQueue,{Yr:Rwe.bind(null,n),Zr:Nwe.bind(null,n),tu:Pwe.bind(null,n),Zo:Owe.bind(null,n)}),n.wu.push(function(){var e=_(function*(t){t?(n.Iu.Mo(),yield ad(n)):(yield n.Iu.stop(),n.fu.length>0&&(O("RemoteStore",`Stopping write stream with ${n.fu.length} pending writes`),n.fu=[]))});return function(t){return e.apply(this,arguments)}}())),n.Iu}class qx{constructor(e,t,r,i,s){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new mn,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}static createAndSchedule(e,t,r,i,s){const o=Date.now()+r,a=new qx(e,t,o,i,s);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new P(T.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function cd(n,e){if(qt("AsyncQueue",`${e}: ${n}`),ua(n))return new P(T.UNAVAILABLE,`${e}: ${n}`);throw n}class ud{constructor(e){this.comparator=e?(t,r)=>e(t,r)||H.comparator(t.key,r.key):(t,r)=>H.comparator(t.key,r.key),this.keyedMap=up(),this.sortedSet=new jt(this.comparator)}static emptySet(e){return new ud(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,r)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof ud)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){const i=t.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const r=new ud;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}}class OW{constructor(){this.Tu=new jt(H.comparator)}track(e){const t=e.doc.key,r=this.Tu.get(t);r?0!==e.type&&3===r.type?this.Tu=this.Tu.insert(t,e):3===e.type&&1!==r.type?this.Tu=this.Tu.insert(t,{type:r.type,doc:e.doc}):2===e.type&&2===r.type?this.Tu=this.Tu.insert(t,{type:2,doc:e.doc}):2===e.type&&0===r.type?this.Tu=this.Tu.insert(t,{type:0,doc:e.doc}):1===e.type&&0===r.type?this.Tu=this.Tu.remove(t):1===e.type&&2===r.type?this.Tu=this.Tu.insert(t,{type:1,doc:r.doc}):0===e.type&&1===r.type?this.Tu=this.Tu.insert(t,{type:2,doc:e.doc}):Y():this.Tu=this.Tu.insert(t,e)}Eu(){const e=[];return this.Tu.inorderTraversal((t,r)=>{e.push(r)}),e}}class dd{constructor(e,t,r,i,s,o,a,l,c){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=l,this.hasCachedResults=c}static fromInitialDocuments(e,t,r,i,s){const o=[];return t.forEach(a=>{o.push({type:0,doc:a})}),new dd(e,t,ud.emptySet(t),o,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&ap(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let i=0;i<t.length;i++)if(t[i].type!==r[i].type||!t[i].doc.isEqual(r[i].doc))return!1;return!0}}class Fwe{constructor(){this.Au=void 0,this.listeners=[]}}class Lwe{constructor(){this.queries=new ma(e=>nG(e),ap),this.onlineState="Unknown",this.Ru=new Set}}function Yx(){return Yx=_(function*(n,e){const t=j(n),r=e.query;let i=!1,s=t.queries.get(r);if(s||(i=!0,s=new Fwe),i)try{s.Au=yield t.onListen(r)}catch(o){const a=cd(o,`Initialization of query '${tx(e.query)}' failed`);return void e.onError(a)}t.queries.set(r,s),s.listeners.push(e),e.bu(t.onlineState),s.Au&&e.Pu(s.Au)&&Zx(t)}),Yx.apply(this,arguments)}function Xx(){return Xx=_(function*(n,e){const t=j(n),r=e.query;let i=!1;const s=t.queries.get(r);if(s){const o=s.listeners.indexOf(e);o>=0&&(s.listeners.splice(o,1),i=0===s.listeners.length)}if(i)return t.queries.delete(r),t.onUnlisten(r)}),Xx.apply(this,arguments)}function Vwe(n,e){const t=j(n);let r=!1;for(const i of e){const o=t.queries.get(i.query);if(o){for(const a of o.listeners)a.Pu(i)&&(r=!0);o.Au=i}}r&&Zx(t)}function Bwe(n,e,t){const r=j(n),i=r.queries.get(e);if(i)for(const s of i.listeners)s.onError(t);r.queries.delete(e)}function Zx(n){n.Ru.forEach(e=>{e.next()})}class Jx{constructor(e,t,r){this.query=e,this.vu=t,this.Vu=!1,this.Su=null,this.onlineState="Unknown",this.options=r||{}}Pu(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)3!==i.type&&r.push(i);e=new dd(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Vu?this.Du(e)&&(this.vu.next(e),t=!0):this.Cu(e,this.onlineState)&&(this.xu(e),t=!0),this.Su=e,t}onError(e){this.vu.error(e)}bu(e){this.onlineState=e;let t=!1;return this.Su&&!this.Vu&&this.Cu(this.Su,e)&&(this.xu(this.Su),t=!0),t}Cu(e,t){return!e.fromCache||(!this.options.Nu||!("Offline"!==t))&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}Du(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.Su&&this.Su.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}xu(e){e=dd.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Vu=!0,this.vu.next(e)}}class LW{constructor(e){this.key=e}}class VW{constructor(e){this.key=e}}class BW{constructor(e,t){this.query=e,this.Uu=t,this.qu=null,this.hasCachedResults=!1,this.current=!1,this.Ku=we(),this.mutatedKeys=we(),this.Gu=iG(e),this.Qu=new ud(this.Gu)}get ju(){return this.Uu}Wu(e,t){const r=t?t.zu:new OW,i=t?t.Qu:this.Qu;let s=t?t.mutatedKeys:this.mutatedKeys,o=i,a=!1;const l="F"===this.query.limitType&&i.size===this.query.limit?i.last():null,c="L"===this.query.limitType&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((u,d)=>{const h=i.get(u),f=nx(this.query,d)?d:null,p=!!h&&this.mutatedKeys.has(h.key),m=!!f&&(f.hasLocalMutations||this.mutatedKeys.has(f.key)&&f.hasCommittedMutations);let g=!1;h&&f?h.data.isEqual(f.data)?p!==m&&(r.track({type:3,doc:f}),g=!0):this.Hu(h,f)||(r.track({type:2,doc:f}),g=!0,(l&&this.Gu(f,l)>0||c&&this.Gu(f,c)<0)&&(a=!0)):!h&&f?(r.track({type:0,doc:f}),g=!0):h&&!f&&(r.track({type:1,doc:h}),g=!0,(l||c)&&(a=!0)),g&&(f?(o=o.add(f),s=m?s.add(u):s.delete(u)):(o=o.delete(u),s=s.delete(u)))}),null!==this.query.limit)for(;o.size>this.query.limit;){const u="F"===this.query.limitType?o.last():o.first();o=o.delete(u.key),s=s.delete(u.key),r.track({type:1,doc:u})}return{Qu:o,zu:r,$i:a,mutatedKeys:s}}Hu(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r){const i=this.Qu;this.Qu=e.Qu,this.mutatedKeys=e.mutatedKeys;const s=e.zu.Eu();s.sort((c,u)=>function(d,h){const f=p=>{switch(p){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Y()}};return f(d)-f(h)}(c.type,u.type)||this.Gu(c.doc,u.doc)),this.Ju(r);const o=t?this.Yu():[],a=0===this.Ku.size&&this.current?1:0,l=a!==this.qu;return this.qu=a,0!==s.length||l?{snapshot:new dd(this.query,e.Qu,i,s,e.mutatedKeys,0===a,l,!1,!!r&&r.resumeToken.approximateByteSize()>0),Xu:o}:{Xu:o}}bu(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Qu:this.Qu,zu:new OW,mutatedKeys:this.mutatedKeys,$i:!1},!1)):{Xu:[]}}Zu(e){return!this.Uu.has(e)&&!!this.Qu.has(e)&&!this.Qu.get(e).hasLocalMutations}Ju(e){e&&(e.addedDocuments.forEach(t=>this.Uu=this.Uu.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Uu=this.Uu.delete(t)),this.current=e.current)}Yu(){if(!this.current)return[];const e=this.Ku;this.Ku=we(),this.Qu.forEach(r=>{this.Zu(r.key)&&(this.Ku=this.Ku.add(r.key))});const t=[];return e.forEach(r=>{this.Ku.has(r)||t.push(new VW(r))}),this.Ku.forEach(r=>{e.has(r)||t.push(new LW(r))}),t}tc(e){this.Uu=e.Hi,this.Ku=we();const t=this.Wu(e.documents);return this.applyChanges(t,!0)}ec(){return dd.fromInitialDocuments(this.query,this.Qu,this.mutatedKeys,0===this.qu,this.hasCachedResults)}}class $we{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}}class jwe{constructor(e){this.key=e,this.nc=!1}}class zwe{constructor(e,t,r,i,s,o){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.sc={},this.ic=new ma(a=>nG(a),ap),this.rc=new Map,this.oc=new Set,this.uc=new jt(H.comparator),this.cc=new Map,this.ac=new mx,this.hc={},this.lc=new Map,this.fc=Yl.vn(),this.onlineState="Unknown",this.dc=void 0}get isPrimaryClient(){return!0===this.dc}}function Gwe(n,e){return ek.apply(this,arguments)}function ek(){return ek=_(function*(n,e){const t=Ek(n);let r,i;const s=t.ic.get(e);if(s)r=s.targetId,t.sharedClientState.addLocalQueryTarget(r),i=s.view.ec();else{const o=yield id(t.localStore,_r(e));t.isPrimaryClient&&Gv(t.remoteStore,o);const a=t.sharedClientState.addLocalQueryTarget(o.targetId);r=o.targetId,i=yield tk(t,e,r,"current"===a,o.resumeToken)}return i}),ek.apply(this,arguments)}function tk(n,e,t,r,i){return nk.apply(this,arguments)}function nk(){return nk=_(function*(n,e,t,r,i){n._c=(d,h,f)=>{return(p=_(function*(m,g,b,E){let v=g.view.Wu(b);v.$i&&(v=yield Hv(m.localStore,g.query,!1).then(({documents:U})=>g.view.Wu(U,v)));const M=E&&E.targetChanges.get(g.targetId),L=g.view.applyChanges(v,m.isPrimaryClient,M);return hk(m,g.targetId,L.Xu),L.snapshot}),function(m,g,b,E){return p.apply(this,arguments)})(n,d,h,f);var p};const s=yield Hv(n.localStore,e,!0),o=new BW(e,s.Hi),a=o.Wu(s.documents),l=fp.createSynthesizedTargetChangeForCurrentChange(t,r&&"Offline"!==n.onlineState,i),c=o.applyChanges(a,n.isPrimaryClient,l);hk(n,t,c.Xu);const u=new $we(e,t,o);return n.ic.set(e,u),n.rc.has(t)?n.rc.get(t).push(e):n.rc.set(t,[e]),c.snapshot}),nk.apply(this,arguments)}function Wwe(n,e){return rk.apply(this,arguments)}function rk(){return rk=_(function*(n,e){const t=j(n),r=t.ic.get(e),i=t.rc.get(r.targetId);if(i.length>1)return t.rc.set(r.targetId,i.filter(s=>!ap(s,e))),void t.ic.delete(e);t.isPrimaryClient?(t.sharedClientState.removeLocalQueryTarget(r.targetId),t.sharedClientState.isActiveQueryTarget(r.targetId)||(yield sd(t.localStore,r.targetId,!1).then(()=>{t.sharedClientState.clearQueryState(r.targetId),Ap(t.remoteStore,r.targetId),hd(t,r.targetId)}).catch(ca))):(hd(t,r.targetId),yield sd(t.localStore,r.targetId,!0))}),rk.apply(this,arguments)}function ik(){return ik=_(function*(n,e,t){const r=Ik(n);try{const i=yield function(s,o){const a=j(s),l=Rt.now(),c=o.reduce((h,f)=>h.add(f.key),we());let u,d;return a.persistence.runTransaction("Locally write mutations","readwrite",h=>{let f=Pr(),p=we();return a.Gi.getEntries(h,c).next(m=>{f=m,f.forEach((g,b)=>{b.isValidDocument()||(p=p.add(g))})}).next(()=>a.localDocuments.getOverlayedDocuments(h,f)).next(m=>{u=m;const g=[];for(const b of o){const E=tbe(b,u.get(b.key).overlayedDocument);null!=E&&g.push(new To(b.key,E,qz(E.value.mapValue),Tt.exists(!0)))}return a.mutationQueue.addMutationBatch(h,l,g,o)}).next(m=>{d=m;const g=m.applyToLocalDocumentSet(u,p);return a.documentOverlayCache.saveOverlays(h,m.batchId,g)})}).then(()=>({batchId:d.batchId,changes:wG(u)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(s,o,a){let l=s.hc[s.currentUser.toKey()];l||(l=new jt(me)),l=l.insert(o,a),s.hc[s.currentUser.toKey()]=l}(r,i.batchId,t),yield Do(r,i.changes),yield ad(r.remoteStore)}catch(i){const s=cd(i,"Failed to persist write");t.reject(s)}}),ik.apply(this,arguments)}function UW(n,e){return sk.apply(this,arguments)}function sk(){return sk=_(function*(n,e){const t=j(n);try{const r=yield fwe(t.localStore,e);e.targetChanges.forEach((i,s)=>{const o=t.cc.get(s);o&&(oe(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?o.nc=!0:i.modifiedDocuments.size>0?oe(o.nc):i.removedDocuments.size>0&&(oe(o.nc),o.nc=!1))}),yield Do(t,r,e)}catch(r){yield ca(r)}}),sk.apply(this,arguments)}function HW(n,e,t){const r=j(n);if(r.isPrimaryClient&&0===t||!r.isPrimaryClient&&1===t){const i=[];r.ic.forEach((s,o)=>{const a=o.view.bu(e);a.snapshot&&i.push(a.snapshot)}),function(s,o){const a=j(s);a.onlineState=o;let l=!1;a.queries.forEach((c,u)=>{for(const d of u.listeners)d.bu(o)&&(l=!0)}),l&&Zx(a)}(r.eventManager,e),i.length&&r.sc.Wo(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function Kwe(n,e,t){return ok.apply(this,arguments)}function ok(){return ok=_(function*(n,e,t){const r=j(n);r.sharedClientState.updateQueryState(e,"rejected",t);const i=r.cc.get(e),s=i&&i.key;if(s){let o=new jt(H.comparator);o=o.insert(s,mt.newNoDocument(s,ae.min()));const a=we().add(s),l=new hp(ae.min(),new Map,new it(me),o,a);yield UW(r,l),r.uc=r.uc.remove(s),r.cc.delete(e),fk(r)}else yield sd(r.localStore,e,!1).then(()=>hd(r,e,t)).catch(ca)}),ok.apply(this,arguments)}function Ywe(n,e){return ak.apply(this,arguments)}function ak(){return ak=_(function*(n,e){const t=j(n),r=e.batch.batchId;try{const i=yield hwe(t.localStore,e);dk(t,r,null),uk(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),yield Do(t,i)}catch(i){yield ca(i)}}),ak.apply(this,arguments)}function Qwe(n,e,t){return lk.apply(this,arguments)}function lk(){return lk=_(function*(n,e,t){const r=j(n);try{const i=yield function(s,o){const a=j(s);return a.persistence.runTransaction("Reject batch","readwrite-primary",l=>{let c;return a.mutationQueue.lookupMutationBatch(l,o).next(u=>(oe(null!==u),c=u.keys(),a.mutationQueue.removeMutationBatch(l,u))).next(()=>a.mutationQueue.performConsistencyCheck(l)).next(()=>a.documentOverlayCache.removeOverlaysForBatchId(l,c,o)).next(()=>a.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(l,c)).next(()=>a.localDocuments.getDocuments(l,c))})}(r.localStore,e);dk(r,e,t),uk(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),yield Do(r,i)}catch(i){yield ca(i)}}),lk.apply(this,arguments)}function uk(n,e){(n.lc.get(e)||[]).forEach(t=>{t.resolve()}),n.lc.delete(e)}function dk(n,e,t){const r=j(n);let i=r.hc[r.currentUser.toKey()];if(i){const s=i.get(e);s&&(t?s.reject(t):s.resolve(),i=i.remove(e)),r.hc[r.currentUser.toKey()]=i}}function hd(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const r of n.rc.get(e))n.ic.delete(r),t&&n.sc.wc(r,t);n.rc.delete(e),n.isPrimaryClient&&n.ac.ls(e).forEach(r=>{n.ac.containsKey(r)||$W(n,r)})}function $W(n,e){n.oc.delete(e.path.canonicalString());const t=n.uc.get(e);null!==t&&(Ap(n.remoteStore,t),n.uc=n.uc.remove(e),n.cc.delete(t),fk(n))}function hk(n,e,t){for(const r of t)r instanceof LW?(n.ac.addReference(r.key,e),Zwe(n,r)):r instanceof VW?(O("SyncEngine","Document no longer in limbo: "+r.key),n.ac.removeReference(r.key,e),n.ac.containsKey(r.key)||$W(n,r.key)):Y()}function Zwe(n,e){const t=e.key,r=t.path.canonicalString();n.uc.get(t)||n.oc.has(r)||(O("SyncEngine","New document in limbo: "+t),n.oc.add(r),fk(n))}function fk(n){for(;n.oc.size>0&&n.uc.size<n.maxConcurrentLimboResolutions;){const e=n.oc.values().next().value;n.oc.delete(e);const t=new H(Be.fromString(e)),r=n.fc.next();n.cc.set(r,new jwe(t)),n.uc=n.uc.insert(t,r),Gv(n.remoteStore,new ga(_r(Ku(t.path)),r,2,Rr.at))}}function Do(n,e,t){return pk.apply(this,arguments)}function pk(){return pk=_(function*(n,e,t){const r=j(n),i=[],s=[],o=[];var a;r.ic.isEmpty()||(r.ic.forEach((a,l)=>{o.push(r._c(l,e,t).then(c=>{if((c||t)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(l.targetId,c?.fromCache?"not-current":"current"),c){i.push(c);const u=vx.Ci(l.targetId,c);s.push(u)}}))}),yield Promise.all(o),r.sc.Wo(i),yield(a=_(function*(l,c){const u=j(l);try{yield u.persistence.runTransaction("notifyLocalViewChanges","readwrite",d=>I.forEach(c,h=>I.forEach(h.Si,f=>u.persistence.referenceDelegate.addReference(d,h.targetId,f)).next(()=>I.forEach(h.Di,f=>u.persistence.referenceDelegate.removeReference(d,h.targetId,f)))))}catch(d){if(!ua(d))throw d;O("LocalStore","Failed to update sequence numbers: "+d)}for(const d of c){const h=d.targetId;if(!d.fromCache){const f=u.Ui.get(h),m=f.withLastLimboFreeSnapshotVersion(f.snapshotVersion);u.Ui=u.Ui.insert(h,m)}}}),function(l,c){return a.apply(this,arguments)})(r.localStore,s))}),pk.apply(this,arguments)}function Jwe(n,e){return mk.apply(this,arguments)}function mk(){return mk=_(function*(n,e){const t=j(n);if(!t.currentUser.isEqual(e)){O("SyncEngine","User change. New user:",e.toKey());const r=yield gW(t.localStore,e);t.currentUser=e,(i=t).lc.forEach(o=>{o.forEach(a=>{a.reject(new P(T.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),i.lc.clear(),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield Do(t,r.ji)}var i}),mk.apply(this,arguments)}function eCe(n,e){const t=j(n),r=t.cc.get(e);if(r&&r.nc)return we().add(r.key);{let i=we();const s=t.rc.get(e);if(!s)return i;for(const o of s){const a=t.ic.get(o);i=i.unionWith(a.view.ju)}return i}}function Ek(n){const e=j(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=UW.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=eCe.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=Kwe.bind(null,e),e.sc.Wo=Vwe.bind(null,e.eventManager),e.sc.wc=Bwe.bind(null,e.eventManager),e}function Ik(n){const e=j(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=Ywe.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=Qwe.bind(null,e),e}class cCe{constructor(){this.synchronizeTabs=!1}initialize(e){var t=this;return _(function*(){t.It=Sp(e.databaseInfo.databaseId),t.sharedClientState=t.gc(e),t.persistence=t.yc(e),yield t.persistence.start(),t.localStore=t.Ic(e),t.gcScheduler=t.Tc(e,t.localStore),t.indexBackfillerScheduler=t.Ec(e,t.localStore)})()}Tc(e,t){return null}Ec(e,t){return null}Ic(e){return function mW(n,e,t,r){return new dwe(n,e,t,r)}(this.persistence,new pW,e.initialUser,this.It)}yc(e){return new hW(Bv.Bs,this.It)}gc(e){return new IW}terminate(){var e=this;return _(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class Tk{initialize(e,t){var r=this;return _(function*(){r.localStore||(r.localStore=e.localStore,r.sharedClientState=e.sharedClientState,r.datastore=r.createDatastore(t),r.remoteStore=r.createRemoteStore(t),r.eventManager=r.createEventManager(t),r.syncEngine=r.createSyncEngine(t,!e.synchronizeTabs),r.sharedClientState.onlineStateHandler=i=>HW(r.syncEngine,i,1),r.remoteStore.remoteSyncer.handleCredentialChange=Jwe.bind(null,r.syncEngine),yield function Gx(n,e){return Wx.apply(this,arguments)}(r.remoteStore,r.syncEngine.isPrimaryClient))})()}createEventManager(e){return new Lwe}createDatastore(e){const t=Sp(e.databaseInfo.databaseId),r=new bwe(e.databaseInfo);return new Ewe(e.authCredentials,e.appCheckCredentials,r,t)}createRemoteStore(e){return t=this.localStore,r=this.datastore,i=e.asyncQueue,s=a=>HW(this.syncEngine,a,0),o=TW.C()?new TW:new _we,new Swe(t,r,i,s,o);var t,r,i,s,o}createSyncEngine(e,t){return function(r,i,s,o,a,l,c){const u=new zwe(r,i,s,o,a,l);return c&&(u.dc=!0),u}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return(e=_(function*(t){const r=j(t);O("RemoteStore","RemoteStore shutting down."),r._u.add(5),yield od(r),r.mu.shutdown(),r.gu.set("Unknown")}),function(t){return e.apply(this,arguments)})(this.remoteStore);var e}}function Sk(n,e,t){if(!t)throw new P(T.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function GW(n){if(!H.isDocumentKey(n))throw new P(T.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function qv(n){if(void 0===n)return"undefined";if(null===n)return"null";if("string"==typeof n)return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if("number"==typeof n||"boolean"==typeof n)return""+n;if("object"==typeof n){if(n instanceof Array)return"an array";{const e=(t=n).constructor?t.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var t;return"function"==typeof n?"a function":Y()}function Fe(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new P(T.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=qv(n);throw new P(T.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}const KW=new Map;class YW{constructor(e){var t;if(void 0===e.host){if(void 0!==e.ssl)throw new P(T.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new P(T.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.useFetchStreams=!!e.useFetchStreams,function hCe(n,e,t,r){if(!0===e&&!0===r)throw new P(T.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling)}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Mp{constructor(e,t,r,i){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new YW({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new P(T.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new P(T.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new YW(e),void 0!==e.credentials&&(this._authCredentials=function(t){if(!t)return new bve;switch(t.type){case"gapi":return new Ive(t.client,t.sessionIndex||"0",t.iamToken||null,t.authTokenFactory||null);case"provider":return t.client;default:throw new P(T.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=KW.get(e);t&&(O("ComponentProvider","Removing Datastore"),KW.delete(e),t.terminate())}(this),Promise.resolve()}}class Yt{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ts(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Yt(this.firestore,e,this._key)}}class rr{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new rr(this.firestore,e,this._query)}}class Ts extends rr{constructor(e,t,r){super(e,t,Ku(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Yt(this.firestore,null,new H(e))}withConverter(e){return new Ts(this.firestore,e,this._path)}}function QW(n,e,...t){if(n=Ge(n),1===arguments.length&&(e=xz.R()),Sk("doc","path",e),n instanceof Mp){const r=Be.fromString(e,...t);return GW(r),new Yt(n,null,new H(r))}{if(!(n instanceof Yt||n instanceof Ts))throw new P(T.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(Be.fromString(e,...t));return GW(r),new Yt(n.firestore,n instanceof Ts?n.converter:null,new H(r))}}class Kv{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Rc(this.observer.next,e)}error(e){this.observer.error?this.Rc(this.observer.error,e):qt("Uncaught Error in snapshot listener:",e.toString())}bc(){this.muted=!0}Rc(e,t){this.muted||setTimeout(()=>{this.muted||e(t)},0)}}class vCe{constructor(e,t,r,i){var s=this;this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=i,this.user=En.UNAUTHENTICATED,this.clientId=xz.R(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,function(){var o=_(function*(a){O("FirestoreClient","Received user=",a.uid),yield s.authCredentialListener(a),s.user=a});return function(a){return o.apply(this,arguments)}}()),this.appCheckCredentials.start(r,o=>(O("FirestoreClient","Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}getConfiguration(){var e=this;return _(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new P(T.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const t=new mn;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(_(function*(){try{e.onlineComponents&&(yield e.onlineComponents.terminate()),e.offlineComponents&&(yield e.offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve()}catch(r){const i=cd(r,"Failed to shutdown persistence");t.reject(i)}})),t.promise}}function JW(n,e){return Dk.apply(this,arguments)}function Dk(){return Dk=_(function*(n,e){n.asyncQueue.verifyOperationInProgress(),O("FirestoreClient","Initializing OfflineComponentProvider");const t=yield n.getConfiguration();yield e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener(function(){var i=_(function*(s){r.isEqual(s)||(yield gW(e.localStore,s),r=s)});return function(s){return i.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n.offlineComponents=e}),Dk.apply(this,arguments)}function eq(n,e){return Ak.apply(this,arguments)}function Ak(){return Ak=_(function*(n,e){n.asyncQueue.verifyOperationInProgress();const t=yield Mk(n);O("FirestoreClient","Initializing OnlineComponentProvider");const r=yield n.getConfiguration();yield e.initialize(t,r),n.setCredentialChangeListener(i=>PW(e.remoteStore,i)),n.setAppCheckTokenChangeListener((i,s)=>PW(e.remoteStore,s)),n.onlineComponents=e}),Ak.apply(this,arguments)}function Mk(n){return xk.apply(this,arguments)}function xk(){return xk=_(function*(n){return n.offlineComponents||(O("FirestoreClient","Using default OfflineComponentProvider"),yield JW(n,new cCe)),n.offlineComponents}),xk.apply(this,arguments)}function Yv(n){return kk.apply(this,arguments)}function kk(){return kk=_(function*(n){return n.onlineComponents||(O("FirestoreClient","Using default OnlineComponentProvider"),yield eq(n,new Tk)),n.onlineComponents}),kk.apply(this,arguments)}function fd(n){return Ok.apply(this,arguments)}function Ok(){return Ok=_(function*(n){const e=yield Yv(n),t=e.eventManager;return t.onListen=Gwe.bind(null,e.syncEngine),t.onUnlisten=Wwe.bind(null,e.syncEngine),t}),Ok.apply(this,arguments)}class DCe{constructor(){this.Bc=Promise.resolve(),this.Lc=[],this.Uc=!1,this.qc=[],this.Kc=null,this.Gc=!1,this.Qc=!1,this.jc=[],this.xo=new Ax(this,"async_queue_retry"),this.Wc=()=>{const t=zv();t&&O("AsyncQueue","Visibility state changed to "+t.visibilityState),this.xo.Po()};const e=zv();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Wc)}get isShuttingDown(){return this.Uc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.zc(),this.Hc(e)}enterRestrictedMode(e){if(!this.Uc){this.Uc=!0,this.Qc=e||!1;const t=zv();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Wc)}}enqueue(e){if(this.zc(),this.Uc)return new Promise(()=>{});const t=new mn;return this.Hc(()=>this.Uc&&this.Qc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Lc.push(e),this.Jc()))}Jc(){var e=this;return _(function*(){if(0!==e.Lc.length){try{yield e.Lc[0](),e.Lc.shift(),e.xo.reset()}catch(t){if(!ua(t))throw t;O("AsyncQueue","Operation failed with retryable error: "+t)}e.Lc.length>0&&e.xo.Ro(()=>e.Jc())}})()}Hc(e){const t=this.Bc.then(()=>(this.Gc=!0,e().catch(r=>{throw this.Kc=r,this.Gc=!1,qt("INTERNAL UNHANDLED ERROR: ",function(s){let o=s.message||"";return s.stack&&(o=s.stack.includes(s.message)?s.stack:s.message+"\n"+s.stack),o}(r)),r}).then(r=>(this.Gc=!1,r))));return this.Bc=t,t}enqueueAfterDelay(e,t,r){this.zc(),this.jc.indexOf(e)>-1&&(t=0);const i=qx.createAndSchedule(this,e,t,r,s=>this.Yc(s));return this.qc.push(i),i}zc(){this.Kc&&Y()}verifyOperationInProgress(){}Xc(){var e=this;return _(function*(){let t;do{t=e.Bc,yield t}while(t!==e.Bc)})()}Zc(e){for(const t of this.qc)if(t.timerId===e)return!0;return!1}ta(e){return this.Xc().then(()=>{this.qc.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(const t of this.qc)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.Xc()})}ea(e){this.jc.push(e)}Yc(e){const t=this.qc.indexOf(e);this.qc.splice(t,1)}}function Nk(n){return function(e,t){if("object"!=typeof e||null===e)return!1;const r=e;for(const i of["next","error","complete"])if(i in r&&"function"==typeof r[i])return!0;return!1}(n)}class wt extends Mp{constructor(e,t,r,i){super(e,t,r,i),this.type="firestore",this._queue=new DCe,this._persistenceKey=i?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||sq(this),this._firestoreClient.terminate()}}function MCe(n,e){const r="string"==typeof n?n:e||"(default)",i=Ar("object"==typeof n?n:fs(),"firestore").getImmediate({identifier:r});if(!i._initialized){const s=ly("firestore");s&&function fCe(n,e,t,r={}){var i;const s=(n=Fe(n,Mp))._getSettings();if("firestore.googleapis.com"!==s.host&&s.host!==e&&ju("Host has been set in both settings() and useEmulator(), emulator host will be used"),n._setSettings(Object.assign(Object.assign({},s),{host:`${e}:${t}`,ssl:!1})),r.mockUserToken){let o,a;if("string"==typeof r.mockUserToken)o=r.mockUserToken,a=En.MOCK_USER;else{o=GI(r.mockUserToken,null===(i=n._app)||void 0===i?void 0:i.options.projectId);const l=r.mockUserToken.sub||r.mockUserToken.user_id;if(!l)throw new P(T.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");a=new En(l)}n._authCredentials=new wve(new Az(o,a))}}(i,...s)}return i}function on(n){return n._firestoreClient||sq(n),n._firestoreClient.verifyNotTerminated(),n._firestoreClient}function sq(n){var e;const t=n._freezeSettings(),r=(s=(null===(e=n._app)||void 0===e?void 0:e.options.appId)||"",new Fve(n._databaseId,s,n._persistenceKey,(a=t).host,a.ssl,a.experimentalForceLongPolling,a.experimentalAutoDetectLongPolling,a.useFetchStreams));var s,a;n._firestoreClient=new vCe(n._authCredentials,n._appCheckCredentials,n._queue,r)}class Xl{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Xl(gn.fromBase64String(e))}catch(t){throw new P(T.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new Xl(gn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class pd{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new P(T.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Kt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Fk{constructor(e){this._methodName=e}}class Lk{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new P(T.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new P(T.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return me(this._lat,e._lat)||me(this._long,e._long)}}const xCe=/^__.*__$/;class kCe{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return null!==this.fieldMask?new To(e,this.data,this.fieldMask,t,this.fieldTransforms):new Zu(e,this.data,t,this.fieldTransforms)}}class lq{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return new To(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function cq(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Y()}}class Xv{constructor(e,t,r,i,s,o){this.settings=e,this.databaseId=t,this.It=r,this.ignoreUndefinedProperties=i,void 0===s&&this.na(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get sa(){return this.settings.sa}ia(e){return new Xv(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.It,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ra(e){var t;const r=null===(t=this.path)||void 0===t?void 0:t.child(e),i=this.ia({path:r,oa:!1});return i.ua(e),i}ca(e){var t;const r=null===(t=this.path)||void 0===t?void 0:t.child(e),i=this.ia({path:r,oa:!1});return i.na(),i}aa(e){return this.ia({path:void 0,oa:!0})}ha(e){return Jv(e,this.settings.methodName,this.settings.la||!1,this.path,this.settings.fa)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}na(){if(this.path)for(let e=0;e<this.path.length;e++)this.ua(this.path.get(e))}ua(e){if(0===e.length)throw this.ha("Document fields must not be empty");if(cq(this.sa)&&xCe.test(e))throw this.ha('Document fields cannot begin and end with "__"')}}class RCe{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.It=r||Sp(e)}da(e,t,r,i=!1){return new Xv({sa:e,methodName:t,fa:r,path:Kt.emptyPath(),oa:!1,la:i},this.databaseId,this.It,this.ignoreUndefinedProperties)}}function md(n){const e=n._freezeSettings(),t=Sp(n._databaseId);return new RCe(n._databaseId,!!e.ignoreUndefinedProperties,t)}function Vk(n,e,t,r,i,s={}){const o=n.da(s.merge||s.mergeFields?2:0,e,t,i);Uk("Data must be an object, but it was:",o,r);const a=pq(r,o);let l,c;if(s.merge)l=new ri(o.fieldMask),c=o.fieldTransforms;else if(s.mergeFields){const u=[];for(const d of s.mergeFields){const h=Hk(e,d,t);if(!o.contains(h))throw new P(T.INVALID_ARGUMENT,`Field '${h}' is specified in your field mask but missing from your input data.`);gq(u,h)||u.push(h)}l=new ri(u),c=o.fieldTransforms.filter(d=>l.covers(d.field))}else l=null,c=o.fieldTransforms;return new kCe(new jn(a),l,c)}class xp extends Fk{_toFieldTransform(e){if(2!==e.sa)throw e.ha(1===e.sa?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof xp}}function Zl(n,e){if(mq(n=Ge(n)))return Uk("Unsupported field value:",e,n),pq(n,e);if(n instanceof Fk)return function(t,r){if(!cq(r.sa))throw r.ha(`${t._methodName}() can only be used with update() and set()`);if(!r.path)throw r.ha(`${t._methodName}() is not currently supported inside arrays`);const i=t._toFieldTransform(r);i&&r.fieldTransforms.push(i)}(n,e),null;if(void 0===n&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.oa&&4!==e.sa)throw e.ha("Nested arrays are not supported");return function(t,r){const i=[];let s=0;for(const o of t){let a=Zl(o,r.aa(s));null==a&&(a={nullValue:"NULL_VALUE"}),i.push(a),s++}return{arrayValue:{values:i}}}(n,e)}return function(t,r){if(null===(t=Ge(t)))return{nullValue:"NULL_VALUE"};if("number"==typeof t)return aG(r.It,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){const i=Rt.fromDate(t);return{timestampValue:pp(r.It,i)}}if(t instanceof Rt){const i=new Rt(t.seconds,1e3*Math.floor(t.nanoseconds/1e3));return{timestampValue:pp(r.It,i)}}if(t instanceof Lk)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof Xl)return{bytesValue:AG(r.It,t._byteString)};if(t instanceof Yt){const i=r.databaseId,s=t.firestore._databaseId;if(!s.isEqual(i))throw r.ha(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:ix(t.firestore._databaseId||r.databaseId,t._key.path)}}throw r.ha(`Unsupported field value: ${qv(t)}`)}(n,e)}function pq(n,e){const t={};return Lz(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Nl(n,(r,i)=>{const s=Zl(i,e.ra(r));null!=s&&(t[r]=s)}),{mapValue:{fields:t}}}function mq(n){return!("object"!=typeof n||null===n||n instanceof Array||n instanceof Date||n instanceof Rt||n instanceof Lk||n instanceof Xl||n instanceof Yt||n instanceof Fk)}function Uk(n,e,t){if(!mq(t)||"object"!=typeof(r=t)||null===r||Object.getPrototypeOf(r)!==Object.prototype&&null!==Object.getPrototypeOf(r)){const r=qv(t);throw e.ha("an object"===r?n+" a custom object":n+" "+r)}var r}function Hk(n,e,t){if((e=Ge(e))instanceof pd)return e._internalPath;if("string"==typeof e)return Zv(n,e);throw Jv("Field path arguments must be of type string or ",n,!1,void 0,t)}const FCe=new RegExp("[~\\*/\\[\\]]");function Zv(n,e,t){if(e.search(FCe)>=0)throw Jv(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new pd(...e.split("."))._internalPath}catch{throw Jv(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function Jv(n,e,t,r,i){const s=r&&!r.isEmpty(),o=void 0!==i;let a=`Function ${e}() called with invalid data`;t&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(s||o)&&(l+=" (found",s&&(l+=` in field ${r}`),o&&(l+=` in document ${i}`),l+=")"),new P(T.INVALID_ARGUMENT,a+n+l)}function gq(n,e){return n.some(t=>t.isEqual(e))}class $k{constructor(e,t,r,i,s){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new Yt(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new LCe(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(eb("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class LCe extends $k{data(){return super.data()}}function eb(n,e){return"string"==typeof e?Zv(n,e):e instanceof pd?e._internalPath:e._delegate._internalPath}class Jl{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class gd extends $k{constructor(e,t,r,i,s,o){super(e,t,r,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new tb(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const r=this._document.data.field(eb("DocumentSnapshot.get",e));if(null!==r)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}}class tb extends gd{data(e={}){return super.data(e)}}class _d{constructor(e,t,r,i){this._firestore=e,this._userDataWriter=t,this._snapshot=i,this.metadata=new Jl(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(r=>{e.call(t,new tb(this._firestore,this._userDataWriter,r.key,r,new Jl(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new P(T.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(r,i){if(r._snapshot.oldDocs.isEmpty()){let s=0;return r._snapshot.docChanges.map(o=>({type:"added",doc:new tb(r._firestore,r._userDataWriter,o.doc.key,o.doc,new Jl(r._snapshot.mutatedKeys.has(o.doc.key),r._snapshot.fromCache),r.query.converter),oldIndex:-1,newIndex:s++}))}{let s=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(o=>i||3!==o.type).map(o=>{const a=new tb(r._firestore,r._userDataWriter,o.doc.key,o.doc,new Jl(r._snapshot.mutatedKeys.has(o.doc.key),r._snapshot.fromCache),r.query.converter);let l=-1,c=-1;return 0!==o.type&&(l=s.indexOf(o.doc.key),s=s.delete(o.doc.key)),1!==o.type&&(s=s.add(o.doc),c=s.indexOf(o.doc.key)),{type:HCe(o.type),doc:a,oldIndex:l,newIndex:c}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function HCe(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Y()}}class ba extends class UCe{convertValue(e,t="none"){switch(Vl(e)){case 0:return null;case 1:return e.booleanValue;case 2:return zt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Fl(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw Y()}}convertObject(e,t){const r={};return Nl(e.fields,(i,s)=>{r[i]=this.convertValue(s,t)}),r}convertGeoPoint(e){return new Lk(zt(e.latitude),zt(e.longitude))}convertArray(e,t){return(e.values||[]).map(r=>this.convertValue(r,t))}convertServerTimestamp(e,t){switch(t){case"previous":const r=Bz(e);return null==r?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(ep(e));default:return null}}convertTimestamp(e){const t=da(e);return new Rt(t.seconds,t.nanos)}convertDocumentKey(e,t){const r=Be.fromString(e);oe(LG(r));const i=new Ll(r.get(1),r.get(3)),s=new H(r.popFirst(5));return i.isEqual(t)||qt(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),s}}{constructor(e){super(),this.firestore=e}convertBytes(e){return new Xl(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Yt(this.firestore,null,t)}}function $Ce(n,e,t){n=Fe(n,Yt);const r=Fe(n.firestore,wt),i=function jk(n,e,t){let r;return r=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,r}(n.converter,e,t);return kp(r,[Vk(md(r),"setDoc",n._key,i,null!==n.converter,t).toMutation(n._key,Tt.none())])}function jCe(n,e,t,...r){n=Fe(n,Yt);const i=Fe(n.firestore,wt),s=md(i);let o;return o="string"==typeof(e=Ge(e))||e instanceof pd?function hq(n,e,t,r,i,s){const o=n.da(1,e,t),a=[Hk(e,r,t)],l=[i];if(s.length%2!=0)throw new P(T.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let h=0;h<s.length;h+=2)a.push(Hk(e,s[h])),l.push(s[h+1]);const c=[],u=jn.empty();for(let h=a.length-1;h>=0;--h)if(!gq(c,a[h])){const f=a[h];let p=l[h];p=Ge(p);const m=o.ca(f);if(p instanceof xp)c.push(f);else{const g=Zl(p,m);null!=g&&(c.push(f),u.set(f,g))}}const d=new ri(c);return new lq(u,d,o.fieldTransforms)}(s,"updateDoc",n._key,e,t,r):function dq(n,e,t,r){const i=n.da(1,e,t);Uk("Data must be an object, but it was:",i,r);const s=[],o=jn.empty();Nl(r,(l,c)=>{const u=Zv(e,l,t);c=Ge(c);const d=i.ca(u);if(c instanceof xp)s.push(u);else{const h=Zl(c,d);null!=h&&(s.push(u),o.set(u,h))}});const a=new ri(s);return new lq(o,a,i.fieldTransforms)}(s,"updateDoc",n._key,e),kp(i,[o.toMutation(n._key,Tt.exists(!0))])}function kp(n,e){return function(t,r){const i=new mn;return t.asyncQueue.enqueueAndForget(_(function*(){return function qwe(n,e,t){return ik.apply(this,arguments)}(yield function Pk(n){return Yv(n).then(e=>e.syncEngine)}(t),r,i)})),i.promise}(on(n),e)}!function(n,e=!0){$u="9.14.0",hn(new rn("firestore",(t,{instanceIdentifier:r,options:i})=>{const s=t.getProvider("app").getImmediate(),o=new wt(new Cve(t.getProvider("auth-internal")),new Tve(t.getProvider("app-check-internal")),function(a,l){if(!Object.prototype.hasOwnProperty.apply(a.options,["projectId"]))throw new P(T.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Ll(a.options.projectId,l)}(s,r),s);return i=Object.assign({useFetchStreams:e},i),o._setSettings(i),o},"PUBLIC").setMultipleInstances(!0)),Ae(Dz,"3.7.3",n),Ae(Dz,"3.7.3","esm2017")}();var KCe={includeMetadataChanges:!1};function Gk(n,e){return void 0===e&&(e=KCe),new ze(function(t){var r=function zCe(n,...e){var t,r,i;n=Ge(n);let s={includeMetadataChanges:!1},o=0;"object"!=typeof e[o]||Nk(e[o])||(s=e[o],o++);const a={includeMetadataChanges:s.includeMetadataChanges};if(Nk(e[o])){const d=e[o];e[o]=null===(t=d.next)||void 0===t?void 0:t.bind(d),e[o+1]=null===(r=d.error)||void 0===r?void 0:r.bind(d),e[o+2]=null===(i=d.complete)||void 0===i?void 0:i.bind(d)}let l,c,u;if(n instanceof Yt)c=Fe(n.firestore,wt),u=Ku(n._key.path),l={next:d=>{e[o]&&e[o](function zk(n,e,t){const r=t.docs.get(e._key),i=new ba(n);return new gd(n,i,e._key,r,new Jl(t.hasPendingWrites,t.fromCache),e.converter)}(c,n,d))},error:e[o+1],complete:e[o+2]};else{const d=Fe(n,rr);c=Fe(d.firestore,wt),u=d._query;const h=new ba(c);l={next:f=>{e[o]&&e[o](new _d(c,h,d,f))},error:e[o+1],complete:e[o+2]},function _q(n){if("L"===n.limitType&&0===n.explicitOrderBy.length)throw new P(T.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}(n._query)}return function(d,h,f,p){const m=new Kv(p),g=new Jx(h,m,f);return d.asyncQueue.enqueueAndForget(_(function*(){return function Kx(n,e){return Yx.apply(this,arguments)}(yield fd(d),g)})),()=>{m.bc(),d.asyncQueue.enqueueAndForget(_(function*(){return function Qx(n,e){return Xx.apply(this,arguments)}(yield fd(d),g)}))}}(on(c),u,a,l)}(n,e,{next:t.next.bind(t),error:t.error.bind(t),complete:t.complete.bind(t)});return{unsubscribe:r}})}function QCe(n,e){return void 0===e&&(e={}),function YCe(n){return Gk(n,{includeMetadataChanges:!0})}(n).pipe(re(function(t){return function Sq(n,e){void 0===e&&(e={});var t=n.data();return!n.exists()||"object"!=typeof t||null===t||e.idField&&(t[e.idField]=n.id),t}(t,e)}))}class Rp{constructor(e){return e}}const xq="firestore",Kk=new N("angularfire2.firestore-instances");function i0e(n){return(e,t)=>{const r=e.runOutsideAngular(()=>n(t));return new Rp(r)}}const s0e={provide:class n0e{constructor(){return ms(xq)}},deps:[[new Ie,Kk]]},o0e={provide:Rp,useFactory:function r0e(n,e){const t=ps(xq,n,e);return t&&new Rp(t)},deps:[[new Ie,Kk],ei]};let a0e=(()=>{class n{constructor(){Ae("angularfire",Jr.full,"fst")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=te({type:n}),n.\u0275inj=ee({providers:[o0e,s0e]}),n})();function l0e(n,...e){return{ngModule:a0e,providers:[{provide:Kk,useFactory:i0e(n),multi:!0,deps:[se,Je,gs,_s,[new Ie,Rf],[new Ie,Pu],...e]}]}}const c0e=kt(QCe,!0),Yk=kt(QW,!0),u0e=kt(MCe,!0),d0e=kt($Ce,!0),h0e=kt(jCe,!0);let Qk=(()=>{class n{constructor(t,r,i){this.firestore=t,this.authService=r}get currentUserProfile$(){return this.authService.currentUser$.pipe(On(t=>{if(!t?.uid)return W(null);const r=Yk(this.firestore,"users",t?.uid);return c0e(r)}))}addUser(t){const r=Yk(this.firestore,"users",t?.uid);return ut(d0e(r,t))}updateUser(t){const r=Yk(this.firestore,"users",t.uid);return ut(h0e(r,{...t}))}}return n.\u0275fac=function(t){return new(t||n)(w(Rp),w(Lu),w(Rp))},n.\u0275prov=V({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function f0e(n,e){if(1&n&&(C(0,"h1"),D(1),S()),2&n){const t=e.ngIf;R(1),Zn(" ",t.displayName,', \u0414\u043e\u0431\u0440\u043e \u043f\u043e\u0436\u0430\u043b\u043e\u0432\u0430\u0442\u044c \u0432 "\u041e\u043d\u043b\u0430\u0439\u043d \u0430\u043f\u0442\u0435\u043a\u0443" ')}}function p0e(n,e){1&n&&(C(0,"div",4)(1,"h3"),D(2," \u041d\u043e\u0432\u044b\u0439 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044c? "),C(3,"button",5),D(4," \u0420\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u044f"),S()(),C(5,"h3"),D(6," \u041d\u043e\u0432\u044b\u0439 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044c? "),C(7,"button",6),D(8," \u0412\u043e\u0439\u0442\u0438"),S()()())}let m0e=(()=>{class n{constructor(t,r,i){this.auth=t,this.userService=r,this.drugService=i,this.user$=this.userService.currentUserProfile$,this.drugs=[]}ngOnInit(){this.drugs=this.drugService.drugs,console.log(this.user$)}}return n.\u0275fac=function(t){return new(t||n)(y(Lu),y(Qk),y($_))},n.\u0275cmp=Ye({type:n,selectors:[["app-home"]],decls:6,vars:4,consts:[[1,"home-page"],[1,"box"],[4,"ngIf","ngIfElse"],["newUser",""],[1,"user-navigate"],["mat-button","","routerLink","signup",1,"btn"],["mat-button","","routerLink","login",1,"btn"]],template:function(t,r){if(1&t&&(C(0,"div",0)(1,"div",1),Z(2,f0e,2,1,"h1",2),Li(3,"async"),Z(4,p0e,9,0,"ng-template",null,3,uu),S()()),2&t){const i=Gt(5);R(2),F("ngIf",Bg(3,2,r.user$))("ngIfElse",i)}},dependencies:[Kr,Xh,gl,o_],styles:[".home-page[_ngcontent-%COMP%]{display:flex;width:100%;flex-direction:row}.box[_ngcontent-%COMP%]{width:300px;height:200px;background-color:#dde3e8;border-radius:5px;box-shadow:0 14px 28px #673ab740,0 10px 10px #673ab738}"]}),n})(),kq=(()=>{class n{constructor(t,r){this._renderer=t,this._elementRef=r,this.onChange=i=>{},this.onTouched=()=>{}}setProperty(t,r){this._renderer.setProperty(this._elementRef.nativeElement,t,r)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}}return n.\u0275fac=function(t){return new(t||n)(y(ki),y(Ze))},n.\u0275dir=q({type:n}),n})(),ec=(()=>{class n extends kq{}return n.\u0275fac=function(){let e;return function(r){return(e||(e=vn(n)))(r||n)}}(),n.\u0275dir=q({type:n,features:[Te]}),n})();const zi=new N("NgValueAccessor"),g0e={provide:zi,useExisting:rt(()=>Xk),multi:!0};let Xk=(()=>{class n extends ec{writeValue(t){this.setProperty("checked",t)}}return n.\u0275fac=function(){let e;return function(r){return(e||(e=vn(n)))(r||n)}}(),n.\u0275dir=q({type:n,selectors:[["input","type","checkbox","formControlName",""],["input","type","checkbox","formControl",""],["input","type","checkbox","ngModel",""]],hostBindings:function(t,r){1&t&&ye("change",function(s){return r.onChange(s.target.checked)})("blur",function(){return r.onTouched()})},features:[$e([g0e]),Te]}),n})();const _0e={provide:zi,useExisting:rt(()=>tc),multi:!0},v0e=new N("CompositionEventMode");let tc=(()=>{class n extends kq{constructor(t,r,i){super(t,r),this._compositionMode=i,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function y0e(){const n=cs()?cs().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}())}writeValue(t){this.setProperty("value",t??"")}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}}return n.\u0275fac=function(t){return new(t||n)(y(ki),y(Ze),y(v0e,8))},n.\u0275dir=q({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(t,r){1&t&&ye("input",function(s){return r._handleInput(s.target.value)})("blur",function(){return r.onTouched()})("compositionstart",function(){return r._compositionStart()})("compositionend",function(s){return r._compositionEnd(s.target.value)})},features:[$e([_0e]),Te]}),n})();function wa(n){return null==n||("string"==typeof n||Array.isArray(n))&&0===n.length}function Rq(n){return null!=n&&"number"==typeof n.length}const Gn=new N("NgValidators"),Ca=new N("NgAsyncValidators"),w0e=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class Gi{static min(e){return function Pq(n){return e=>{if(wa(e.value)||wa(n))return null;const t=parseFloat(e.value);return!isNaN(t)&&t<n?{min:{min:n,actual:e.value}}:null}}(e)}static max(e){return function Oq(n){return e=>{if(wa(e.value)||wa(n))return null;const t=parseFloat(e.value);return!isNaN(t)&&t>n?{max:{max:n,actual:e.value}}:null}}(e)}static required(e){return function Nq(n){return wa(n.value)?{required:!0}:null}(e)}static requiredTrue(e){return function Fq(n){return!0===n.value?null:{required:!0}}(e)}static email(e){return function Lq(n){return wa(n.value)||w0e.test(n.value)?null:{email:!0}}(e)}static minLength(e){return function Vq(n){return e=>wa(e.value)||!Rq(e.value)?null:e.value.length<n?{minlength:{requiredLength:n,actualLength:e.value.length}}:null}(e)}static maxLength(e){return function Bq(n){return e=>Rq(e.value)&&e.value.length>n?{maxlength:{requiredLength:n,actualLength:e.value.length}}:null}(e)}static pattern(e){return function Uq(n){if(!n)return rb;let e,t;return"string"==typeof n?(t="","^"!==n.charAt(0)&&(t+="^"),t+=n,"$"!==n.charAt(n.length-1)&&(t+="$"),e=new RegExp(t)):(t=n.toString(),e=n),r=>{if(wa(r.value))return null;const i=r.value;return e.test(i)?null:{pattern:{requiredPattern:t,actualValue:i}}}}(e)}static nullValidator(e){return null}static compose(e){return Wq(e)}static composeAsync(e){return qq(e)}}function rb(n){return null}function Hq(n){return null!=n}function $q(n){return vh(n)?ut(n):n}function jq(n){let e={};return n.forEach(t=>{e=null!=t?{...e,...t}:e}),0===Object.keys(e).length?null:e}function zq(n,e){return e.map(t=>t(n))}function Gq(n){return n.map(e=>function C0e(n){return!n.validate}(e)?e:t=>e.validate(t))}function Wq(n){if(!n)return null;const e=n.filter(Hq);return 0==e.length?null:function(t){return jq(zq(t,e))}}function Zk(n){return null!=n?Wq(Gq(n)):null}function qq(n){if(!n)return null;const e=n.filter(Hq);return 0==e.length?null:function(t){return d$(zq(t,e).map($q)).pipe(re(jq))}}function Jk(n){return null!=n?qq(Gq(n)):null}function Kq(n,e){return null===n?[e]:Array.isArray(n)?[...n,e]:[n,e]}function Yq(n){return n._rawValidators}function Qq(n){return n._rawAsyncValidators}function eR(n){return n?Array.isArray(n)?n:[n]:[]}function ib(n,e){return Array.isArray(n)?n.includes(e):n===e}function Xq(n,e){const t=eR(e);return eR(n).forEach(i=>{ib(t,i)||t.push(i)}),t}function Zq(n,e){return eR(e).filter(t=>!ib(n,t))}class Jq{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=Zk(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=Jk(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e){this.control&&this.control.reset(e)}hasError(e,t){return!!this.control&&this.control.hasError(e,t)}getError(e,t){return this.control?this.control.getError(e,t):null}}class vr extends Jq{get formDirective(){return null}get path(){return null}}class Ao extends Jq{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class e5{constructor(e){this._cd=e}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let Pp=(()=>{class n extends e5{constructor(t){super(t)}}return n.\u0275fac=function(t){return new(t||n)(y(Ao,2))},n.\u0275dir=q({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(t,r){2&t&&Vt("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)},features:[Te]}),n})(),Op=(()=>{class n extends e5{constructor(t){super(t)}}return n.\u0275fac=function(t){return new(t||n)(y(vr,10))},n.\u0275dir=q({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(t,r){2&t&&Vt("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)("ng-submitted",r.isSubmitted)},features:[Te]}),n})();const Np="VALID",ob="INVALID",yd="PENDING",Fp="DISABLED";function iR(n){return(ab(n)?n.validators:n)||null}function n5(n){return Array.isArray(n)?Zk(n):n||null}function sR(n,e){return(ab(e)?e.asyncValidators:n)||null}function r5(n){return Array.isArray(n)?Jk(n):n||null}function ab(n){return null!=n&&!Array.isArray(n)&&"object"==typeof n}function s5(n,e,t){const r=n.controls;if(!(e?Object.keys(r):r).length)throw new x(1e3,"");if(!r[t])throw new x(1001,"")}function o5(n,e,t){n._forEachChild((r,i)=>{if(void 0===t[i])throw new x(1002,"")})}class lb{constructor(e,t){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=e,this._rawAsyncValidators=t,this._composedValidatorFn=n5(this._rawValidators),this._composedAsyncValidatorFn=r5(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===Np}get invalid(){return this.status===ob}get pending(){return this.status==yd}get disabled(){return this.status===Fp}get enabled(){return this.status!==Fp}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._rawValidators=e,this._composedValidatorFn=n5(e)}setAsyncValidators(e){this._rawAsyncValidators=e,this._composedAsyncValidatorFn=r5(e)}addValidators(e){this.setValidators(Xq(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(Xq(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(Zq(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(Zq(e,this._rawAsyncValidators))}hasValidator(e){return ib(this._rawValidators,e)}hasAsyncValidator(e){return ib(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(t=>{t.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(t=>{t.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=yd,!1!==e.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=Fp,this.errors=null,this._forEachChild(r=>{r.disable({...e,onlySelf:!0})}),this._updateValue(),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...e,skipPristineCheck:t}),this._onDisabledChange.forEach(r=>r(!0))}enable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=Np,this._forEachChild(r=>{r.enable({...e,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors({...e,skipPristineCheck:t}),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Np||this.status===yd)&&this._runAsyncValidator(e.emitEvent)),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Fp:Np}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=yd,this._hasOwnPendingAsyncValidator=!0;const t=$q(this.asyncValidator(this));this._asyncValidationSubscription=t.subscribe(r=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(r,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(!1!==t.emitEvent)}get(e){let t=e;return null==t||(Array.isArray(t)||(t=t.split(".")),0===t.length)?null:t.reduce((r,i)=>r&&r._find(i),this)}getError(e,t){const r=t?this.get(t):this;return r&&r.errors?r.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new Pe,this.statusChanges=new Pe}_calculateStatus(){return this._allControlsDisabled()?Fp:this.errors?ob:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(yd)?yd:this._anyControlsHaveStatus(ob)?ob:Np}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){ab(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){return!e&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(e){return null}}class Ea extends lb{constructor(e,t,r){super(iR(t),sR(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(e,t,r={}){this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}setControl(e,t,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,t={}){o5(this,0,e),Object.keys(e).forEach(r=>{s5(this,!0,r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(Object.keys(e).forEach(r=>{const i=this.controls[r];i&&i.patchValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e={},t={}){this._forEachChild((r,i)=>{r.reset(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this._reduceChildren({},(e,t,r)=>(e[r]=t.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(t,r)=>!!r._syncPendingControls()||t);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(t=>{const r=this.controls[t];r&&e(r,t)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(const[t,r]of Object.entries(this.controls))if(this.contains(t)&&e(r))return!0;return!1}_reduceValue(){return this._reduceChildren({},(t,r,i)=>((r.enabled||this.disabled)&&(t[i]=r.value),t))}_reduceChildren(e,t){let r=e;return this._forEachChild((i,s)=>{r=t(r,i,s)}),r}_allControlsDisabled(){for(const e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}}class a5 extends Ea{}function cb(n,e){return[...e.path,n]}function Lp(n,e){oR(n,e),e.valueAccessor.writeValue(n.value),n.disabled&&e.valueAccessor.setDisabledState?.(!0),function x0e(n,e){e.valueAccessor.registerOnChange(t=>{n._pendingValue=t,n._pendingChange=!0,n._pendingDirty=!0,"change"===n.updateOn&&l5(n,e)})}(n,e),function R0e(n,e){const t=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};n.registerOnChange(t),e._registerOnDestroy(()=>{n._unregisterOnChange(t)})}(n,e),function k0e(n,e){e.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,"blur"===n.updateOn&&n._pendingChange&&l5(n,e),"submit"!==n.updateOn&&n.markAsTouched()})}(n,e),function M0e(n,e){if(e.valueAccessor.setDisabledState){const t=r=>{e.valueAccessor.setDisabledState(r)};n.registerOnDisabledChange(t),e._registerOnDestroy(()=>{n._unregisterOnDisabledChange(t)})}}(n,e)}function ub(n,e,t=!0){const r=()=>{};e.valueAccessor&&(e.valueAccessor.registerOnChange(r),e.valueAccessor.registerOnTouched(r)),hb(n,e),n&&(e._invokeOnDestroyCallbacks(),n._registerOnCollectionChange(()=>{}))}function db(n,e){n.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function oR(n,e){const t=Yq(n);null!==e.validator?n.setValidators(Kq(t,e.validator)):"function"==typeof t&&n.setValidators([t]);const r=Qq(n);null!==e.asyncValidator?n.setAsyncValidators(Kq(r,e.asyncValidator)):"function"==typeof r&&n.setAsyncValidators([r]);const i=()=>n.updateValueAndValidity();db(e._rawValidators,i),db(e._rawAsyncValidators,i)}function hb(n,e){let t=!1;if(null!==n){if(null!==e.validator){const i=Yq(n);if(Array.isArray(i)&&i.length>0){const s=i.filter(o=>o!==e.validator);s.length!==i.length&&(t=!0,n.setValidators(s))}}if(null!==e.asyncValidator){const i=Qq(n);if(Array.isArray(i)&&i.length>0){const s=i.filter(o=>o!==e.asyncValidator);s.length!==i.length&&(t=!0,n.setAsyncValidators(s))}}}const r=()=>{};return db(e._rawValidators,r),db(e._rawAsyncValidators,r),t}function l5(n,e){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function c5(n,e){oR(n,e)}function aR(n,e){if(!n.hasOwnProperty("model"))return!1;const t=n.model;return!!t.isFirstChange()||!Object.is(e,t.currentValue)}function d5(n,e){n._syncPendingControls(),e.forEach(t=>{const r=t.control;"submit"===r.updateOn&&r._pendingChange&&(t.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}function lR(n,e){if(!e)return null;let t,r,i;return Array.isArray(e),e.forEach(s=>{s.constructor===tc?t=s:function N0e(n){return Object.getPrototypeOf(n.constructor)===ec}(s)?r=s:i=s}),i||r||t||null}const L0e={provide:vr,useExisting:rt(()=>Bp)},Vp=(()=>Promise.resolve())();let Bp=(()=>{class n extends vr{constructor(t,r){super(),this.submitted=!1,this._directives=new Set,this.ngSubmit=new Pe,this.form=new Ea({},Zk(t),Jk(r))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(t){Vp.then(()=>{const r=this._findContainer(t.path);t.control=r.registerControl(t.name,t.control),Lp(t.control,t),t.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(t)})}getControl(t){return this.form.get(t.path)}removeControl(t){Vp.then(()=>{const r=this._findContainer(t.path);r&&r.removeControl(t.name),this._directives.delete(t)})}addFormGroup(t){Vp.then(()=>{const r=this._findContainer(t.path),i=new Ea({});c5(i,t),r.registerControl(t.name,i),i.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(t){Vp.then(()=>{const r=this._findContainer(t.path);r&&r.removeControl(t.name)})}getFormGroup(t){return this.form.get(t.path)}updateModel(t,r){Vp.then(()=>{this.form.get(t.path).setValue(r)})}setValue(t){this.control.setValue(t)}onSubmit(t){return this.submitted=!0,d5(this.form,this._directives),this.ngSubmit.emit(t),"dialog"===t?.target?.method}onReset(){this.resetForm()}resetForm(t){this.form.reset(t),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(t){return t.pop(),t.length?this.form.get(t):this.form}}return n.\u0275fac=function(t){return new(t||n)(y(Gn,10),y(Ca,10))},n.\u0275dir=q({type:n,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(t,r){1&t&&ye("submit",function(s){return r.onSubmit(s)})("reset",function(){return r.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[$e([L0e]),Te]}),n})();function h5(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}function f5(n){return"object"==typeof n&&null!==n&&2===Object.keys(n).length&&"value"in n&&"disabled"in n}const _n=class extends lb{constructor(e=null,t,r){super(iR(t),sR(r,t)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),ab(t)&&(t.nonNullable||t.initialValueIsDefault)&&(this.defaultValue=f5(e)?e.value:e)}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&!1!==t.emitModelToViewChange&&this._onChange.forEach(r=>r(this.value,!1!==t.emitViewToModelChange)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=this.defaultValue,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){h5(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){h5(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(e){f5(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}},U0e={provide:Ao,useExisting:rt(()=>cR)},g5=(()=>Promise.resolve())();let cR=(()=>{class n extends Ao{constructor(t,r,i,s,o){super(),this._changeDetectorRef=o,this.control=new _n,this._registered=!1,this.update=new Pe,this._parent=t,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=lR(0,s)}ngOnChanges(t){if(this._checkForErrors(),!this._registered||"name"in t){if(this._registered&&(this._checkName(),this.formDirective)){const r=t.name.previousValue;this.formDirective.removeControl({name:r,path:this._getPath(r)})}this._setUpControl()}"isDisabled"in t&&this._updateDisabled(t),aR(t,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){Lp(this.control,this),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(t){g5.then(()=>{this.control.setValue(t,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(t){const r=t.isDisabled.currentValue,i=0!==r&&eo(r);g5.then(()=>{i&&!this.control.disabled?this.control.disable():!i&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(t){return this._parent?cb(t,this._parent):[t]}}return n.\u0275fac=function(t){return new(t||n)(y(vr,9),y(Gn,10),y(Ca,10),y(zi,10),y(Js,8))},n.\u0275dir=q({type:n,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[$e([U0e]),Te,lr]}),n})(),Up=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=q({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),n})(),y5=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=te({type:n}),n.\u0275inj=ee({}),n})();const uR=new N("NgModelWithFormControlWarning"),W0e={provide:vr,useExisting:rt(()=>nc)};let nc=(()=>{class n extends vr{constructor(t,r){super(),this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new Pe,this._setValidators(t),this._setAsyncValidators(r)}ngOnChanges(t){this._checkFormPresent(),t.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(hb(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(t){const r=this.form.get(t.path);return Lp(r,t),r.updateValueAndValidity({emitEvent:!1}),this.directives.push(t),r}getControl(t){return this.form.get(t.path)}removeControl(t){ub(t.control||null,t,!1),function F0e(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}(this.directives,t)}addFormGroup(t){this._setUpFormContainer(t)}removeFormGroup(t){this._cleanUpFormContainer(t)}getFormGroup(t){return this.form.get(t.path)}addFormArray(t){this._setUpFormContainer(t)}removeFormArray(t){this._cleanUpFormContainer(t)}getFormArray(t){return this.form.get(t.path)}updateModel(t,r){this.form.get(t.path).setValue(r)}onSubmit(t){return this.submitted=!0,d5(this.form,this.directives),this.ngSubmit.emit(t),"dialog"===t?.target?.method}onReset(){this.resetForm()}resetForm(t){this.form.reset(t),this.submitted=!1}_updateDomValue(){this.directives.forEach(t=>{const r=t.control,i=this.form.get(t.path);r!==i&&(ub(r||null,t),(n=>n instanceof _n)(i)&&(Lp(i,t),t.control=i))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(t){const r=this.form.get(t.path);c5(r,t),r.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(t){if(this.form){const r=this.form.get(t.path);r&&function P0e(n,e){return hb(n,e)}(r,t)&&r.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){oR(this.form,this),this._oldForm&&hb(this._oldForm,this)}_checkFormPresent(){}}return n.\u0275fac=function(t){return new(t||n)(y(Gn,10),y(Ca,10))},n.\u0275dir=q({type:n,selectors:[["","formGroup",""]],hostBindings:function(t,r){1&t&&ye("submit",function(s){return r.onSubmit(s)})("reset",function(){return r.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[$e([W0e]),Te,lr]}),n})();const Y0e={provide:Ao,useExisting:rt(()=>Hp)};let Hp=(()=>{class n extends Ao{constructor(t,r,i,s,o){super(),this._ngModelWarningConfig=o,this._added=!1,this.update=new Pe,this._ngModelWarningSent=!1,this._parent=t,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=lR(0,s)}set isDisabled(t){}ngOnChanges(t){this._added||this._setUpControl(),aR(t,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}get path(){return cb(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}}return n._ngModelWarningSentOnce=!1,n.\u0275fac=function(t){return new(t||n)(y(vr,13),y(Gn,10),y(Ca,10),y(zi,10),y(uR,8))},n.\u0275dir=q({type:n,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[$e([Y0e]),Te,lr]}),n})(),P5=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=te({type:n}),n.\u0275inj=ee({imports:[y5]}),n})(),uEe=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=te({type:n}),n.\u0275inj=ee({imports:[P5]}),n})(),O5=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:uR,useValue:t.warnOnNgModelWithFormControl}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=te({type:n}),n.\u0275inj=ee({imports:[P5]}),n})();class N5 extends lb{constructor(e,t,r){super(iR(t),sR(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(e){return this.controls[this._adjustIndex(e)]}push(e,t={}){this.controls.push(e),this._registerControl(e),this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}insert(e,t,r={}){this.controls.splice(e,0,t),this._registerControl(t),this.updateValueAndValidity({emitEvent:r.emitEvent})}removeAt(e,t={}){let r=this._adjustIndex(e);r<0&&(r=0),this.controls[r]&&this.controls[r]._registerOnCollectionChange(()=>{}),this.controls.splice(r,1),this.updateValueAndValidity({emitEvent:t.emitEvent})}setControl(e,t,r={}){let i=this._adjustIndex(e);i<0&&(i=0),this.controls[i]&&this.controls[i]._registerOnCollectionChange(()=>{}),this.controls.splice(i,1),t&&(this.controls.splice(i,0,t),this._registerControl(t)),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(e,t={}){o5(this,0,e),e.forEach((r,i)=>{s5(this,!1,i),this.at(i).setValue(r,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(e.forEach((r,i)=>{this.at(i)&&this.at(i).patchValue(r,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e=[],t={}){this._forEachChild((r,i)=>{r.reset(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this.controls.map(e=>e.getRawValue())}clear(e={}){this.controls.length<1||(this._forEachChild(t=>t._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:e.emitEvent}))}_adjustIndex(e){return e<0?e+this.length:e}_syncPendingControls(){let e=this.controls.reduce((t,r)=>!!r._syncPendingControls()||t,!1);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){this.controls.forEach((t,r)=>{e(t,r)})}_updateValue(){this.value=this.controls.filter(e=>e.enabled||this.disabled).map(e=>e.value)}_anyControls(e){return this.controls.some(t=>t.enabled&&e(t))}_setUpControls(){this._forEachChild(e=>this._registerControl(e))}_allControlsDisabled(){for(const e of this.controls)if(e.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(e){e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)}_find(e){return this.at(e)??null}}function F5(n){return!!n&&(void 0!==n.asyncValidators||void 0!==n.validators||void 0!==n.updateOn)}let dEe=(()=>{class n{constructor(){this.useNonNullable=!1}get nonNullable(){const t=new n;return t.useNonNullable=!0,t}group(t,r=null){const i=this._reduceControls(t);let s={};return F5(r)?s=r:null!==r&&(s.validators=r.validator,s.asyncValidators=r.asyncValidator),new Ea(i,s)}record(t,r=null){const i=this._reduceControls(t);return new a5(i,r)}control(t,r,i){let s={};return this.useNonNullable?(F5(r)?s=r:(s.validators=r,s.asyncValidators=i),new _n(t,{...s,nonNullable:!0})):new _n(t,r,i)}array(t,r,i){const s=t.map(o=>this._createControl(o));return new N5(s,r,i)}_reduceControls(t){const r={};return Object.keys(t).forEach(i=>{r[i]=this._createControl(t[i])}),r}_createControl(t){return t instanceof _n||t instanceof lb?t:Array.isArray(t)?this.control(t[0],t.length>1?t[1]:null,t.length>2?t[2]:null):this.control(t)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=V({token:n,factory:n.\u0275fac,providedIn:O5}),n})();function _R(n){return n instanceof mi}function yR(n){return"function"==typeof n}function L5(n){return"string"==typeof n}let hEe=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=Ye({type:n,selectors:[["dynamic-view"]],inputs:{content:"content"},decls:1,vars:1,consts:[[3,"innerHTML"]],template:function(t,r){1&t&&he(0,"div",0),2&t&&F("innerHTML",r.content,mF)},encapsulation:2}),n})();class fEe{constructor(e){this.args=e,this.wrapper=null,this.args.vcr?(this.viewRef=this.args.vcr.createEmbeddedView(this.args.tpl,this.args.context||{}),this.viewRef.detectChanges()):(this.viewRef=this.args.tpl.createEmbeddedView(this.args.context||{}),this.viewRef.detectChanges(),this.args.appRef.attachView(this.viewRef))}detectChanges(){this.viewRef.detectChanges()}getElement(){const e=this.viewRef.rootNodes;return 1===e.length&&e[0]===Node.ELEMENT_NODE?this.element=e[0]:(this.element=document.createElement("div"),this.element.append(...e)),this.element}destroy(){1!==this.viewRef.rootNodes[0]&&(this.element?.parentNode.removeChild(this.element),this.element=null),this.args.vcr||this.args.appRef.detachView(this.viewRef),this.viewRef.destroy(),this.viewRef=null}}class pEe{constructor(e){this.value=e}getElement(){return this.value}detectChanges(){}destroy(){}}class mEe{constructor(e){if(this.options=e,e.vcr)this.compRef=e.vcr.createComponent(e.component,{index:e.vcr.length,injector:e.injector||e.vcr.injector});else{const t=e.resolver.resolveComponentFactory(e.component);this.compRef=t.create(e.injector),e.appRef.attachView(this.compRef.hostView)}}get ref(){return this.compRef}setInput(e,t){return this.compRef.instance[e]=t,this}setInputs(e){return Object.keys(e).forEach(t=>{this.compRef.instance[t]=e[t]}),this}detectChanges(){return this.compRef.hostView.detectChanges(),this}appendTo(e){return e.appendChild(this.getElement()),this}removeFrom(e){return e.removeChild(this.getElement()),this}getRawContent(){return this.getElement().outerHTML}getElement(){return this.compRef.location.nativeElement}destroy(){this.compRef.destroy(),!this.options.vcr&&this.options.appRef.detachView(this.compRef.hostView),this.compRef=null}}let V5=(()=>{class n{constructor(t,r,i){this.resolver=t,this.injector=r,this.appRef=i}createComponent(t,r={}){return new mEe({component:t,vcr:r.vcr,injector:r.injector||this.injector,appRef:this.appRef,resolver:this.resolver})}createTemplate(t,r={}){return new fEe({vcr:r.vcr,appRef:this.appRef,tpl:t,context:r.context})}createView(t,r={}){if(_R(t))return this.createTemplate(t,r);if(yR(t))return this.createComponent(t,r);if(L5(t))return new pEe(t);throw"Type of content is not supported"}}return n.\u0275fac=function(t){return new(t||n)(w(jo),w(Je),w(il))},n.\u0275prov=V({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),gEe=(()=>{class n{constructor(t,r,i){this.defaultTpl=t,this.vcr=r,this.viewService=i}ngOnInit(){this.resolveContentType()}ngOnChanges(t){t.view&&!t.view.isFirstChange()&&this.resolveContentType()}resolveContentType(){this.viewRef?.destroy(),L5(this.view)?(this.viewRef=this.viewService.createComponent(hEe,{vcr:this.vcr,injector:this.injector}),this.viewRef.setInput("content",this.view).detectChanges()):this.viewRef=this.viewService.createView(this.view||this.defaultTpl,{vcr:this.vcr,injector:this.injector??this.vcr.injector,context:this.context})}ngOnDestroy(){this.viewRef?.destroy()}}return n.\u0275fac=function(t){return new(t||n)(y(mi),y(qr),y(V5))},n.\u0275dir=q({type:n,selectors:[["","dynamicView",""]],inputs:{view:["dynamicView","view"],injector:["dynamicViewInjector","injector"],context:["dynamicViewContext","context"]},features:[lr]}),n})();const{isArray:_Ee}=Array;const wEe=["*"],CEe=function(n,e){return{"border-color":n,"border-right-color":e}};function EEe(n,e){if(1&n&&(C(0,"div"),D(1,"\n        "),he(2,"hot-toast-error",2),D(3,"\n      "),S()),2&n){const t=X(3);R(2),F("theme",t.theme)}}function IEe(n,e){if(1&n&&(C(0,"div"),D(1,"\n        "),he(2,"hot-toast-checkmark",2),D(3,"\n      "),S()),2&n){const t=X(3);R(2),F("theme",t.theme)}}function TEe(n,e){if(1&n&&(C(0,"div"),D(1,"\n        "),he(2,"hot-toast-warning",2),D(3,"\n      "),S()),2&n){const t=X(3);R(2),F("theme",t.theme)}}function SEe(n,e){if(1&n&&(C(0,"div"),D(1,"\n        "),he(2,"hot-toast-info",2),D(3,"\n      "),S()),2&n){const t=X(3);R(2),F("theme",t.theme)}}function DEe(n,e){if(1&n&&(C(0,"div",4),D(1,"\n    "),C(2,"div",5),D(3,"\n      "),Z(4,EEe,4,1,"div",6),D(5,"\n      "),Z(6,IEe,4,1,"div",6),D(7,"\n      "),Z(8,TEe,4,1,"div",6),D(9,"\n      "),Z(10,SEe,4,1,"div",6),D(11,"\n    "),S(),D(12,"\n  "),S()),2&n){const t=X(2);R(2),F("ngSwitch",t.type),R(2),F("ngSwitchCase","error"),R(2),F("ngSwitchCase","success"),R(2),F("ngSwitchCase","warning"),R(2),F("ngSwitchCase","info")}}function AEe(n,e){if(1&n&&(C(0,"div",1),D(1,"\n  "),he(2,"hot-toast-loader",2),D(3,"\n  "),Z(4,DEe,13,5,"div",3),D(5,"\n"),S()),2&n){const t=X();R(2),F("theme",t.theme),R(2),F("ngIf","loading"!==t.type)}}const MEe=["hotToastBarBase"];function xEe(n,e){if(1&n&&(Ks(0),D(1,"\n          "),C(2,"hot-toast-animated-icon",10),D(3),S(),D(4,"\n        "),Ys()),2&n){const t=X(2);R(2),F("iconTheme",t.toast.iconTheme),R(1),Xn(t.toast.icon)}}function kEe(n,e){if(1&n&&(D(0,"\n          "),C(1,"div"),D(2,"\n            "),kg(3,11),D(4,"\n          "),S(),D(5,"\n        ")),2&n){const t=X(2);R(3),F("dynamicView",t.toast.icon)}}function REe(n,e){if(1&n&&(Ks(0),D(1,"\n        "),Z(2,xEe,5,2,"ng-container",4),D(3,"\n        "),Z(4,kEe,6,1,"ng-template",null,9,uu),D(6,"\n      "),Ys()),2&n){const t=Gt(5),r=X();R(2),F("ngIf",r.isIconString)("ngIfElse",t)}}function PEe(n,e){if(1&n&&(D(0,"\n        "),he(1,"hot-toast-indicator",12),D(2,"\n      ")),2&n){const t=X();R(1),F("theme",t.toast.iconTheme)("type",t.toast.type)}}function OEe(n,e){1&n&&kg(0)}function NEe(n,e){if(1&n){const t=Oi();C(0,"button",13),ye("click",function(){return Dt(t),At(X().close())}),S()}2&n&&F("ngStyle",X().toast.closeStyle)}function FEe(n,e){if(1&n){const t=Oi();C(0,"hot-toast",3),ye("height",function(i){const o=Dt(t).$implicit;return At(X().updateHeight(i,o))})("beforeClosed",function(){const s=Dt(t).$implicit;return At(X().beforeClosed(s))})("afterClosed",function(i){return Dt(t),At(X().afterClosed(i))}),S()}if(2&n){const t=e.$implicit,r=e.index,i=X();F("toast",t)("offset",i.calculateOffset(t.id,t.position))("toastRef",i.toastRefs[r])}}const B5={blank:4e3,error:4e3,success:4e3,loading:3e4,warning:4e3,info:4e3};class H5{constructor(e){this.toast=e,this._onClosed=new Le}set dispose(e){this._dispose=e}getToast(){return this.toast}appendTo(e){const{dispose:t,updateMessage:r,updateToast:i,afterClosed:s}=e.addToast(this);return this.dispose=t,this.updateMessage=r,this.updateToast=i,this.afterClosed=function vEe(...n){return 1===(n=function yEe(n){return 1===n.length&&_Ee(n[0])?n[0]:n}(n)).length?kn(n[0]):new ze(function bEe(n){return e=>{let t=[];for(let r=0;t&&!e.closed&&r<n.length;r++)t.push(kn(n[r]).subscribe(nt(e,i=>{if(t){for(let s=0;s<t.length;s++)s!==r&&t[s].unsubscribe();t=null}e.next(i)})))}}(n))}(this._onClosed.asObservable(),s),this}close(e={dismissedByAction:!1}){this._dispose(),this._onClosed.next({dismissedByAction:e.dismissedByAction,id:this.toast.id}),this._onClosed.complete()}get data(){return this.toast.data}}let UEe=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=Ye({type:n,selectors:[["hot-toast-animated-icon"]],inputs:{iconTheme:"iconTheme"},ngContentSelectors:wEe,decls:5,vars:2,consts:[[1,"hot-toast-animated-icon"]],template:function(t,r){1&t&&(Qs(),C(0,"div",0),D(1,"\n  "),Pn(2),D(3,"\n"),S(),D(4,"\n")),2&t&&Wo("color",null==r.iconTheme?null:r.iconTheme.primary)},styles:["@keyframes hotToastEnter{0%{transform:scale(0)}to{transform:scale(1)}}.hot-toast-animated-icon[_ngcontent-%COMP%]{animation:var(--hot-toast-animated-icon-animation, hotToastEnter .3s ease-in-out forwards);position:var(--hot-toast-animated-icon-position, relative);transform:var(--hot-toast-animated-icon-transform, scale(0))}@media (prefers-reduced-motion: reduce){.hot-toast-animated-icon[_ngcontent-%COMP%]{animation-duration:var(--hot-toast-animated-icon-reduced-motion-animation-duration, none);opacity:var(--hot-toast-animated-icon-reduced-motion-opacity, 1);transform:var(--hot-toast-animated-icon-reduced-motion-transform, scale(1))}}"],changeDetection:0}),n})(),HEe=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=Ye({type:n,selectors:[["hot-toast-loader"]],inputs:{theme:"theme"},decls:2,vars:4,consts:[[1,"hot-toast-loader-icon",3,"ngStyle"]],template:function(t,r){1&t&&(he(0,"div",0),D(1,"\n")),2&t&&F("ngStyle",G0(1,CEe,null==r.theme?null:r.theme.primary,null==r.theme?null:r.theme.secondary))},dependencies:[kE],styles:["@keyframes hotToastRotate{0%{transform:rotate(0)}to{transform:rotate(360deg)}}.hot-toast-loader-icon[_ngcontent-%COMP%]{animation:var(--hot-toast-loader-icon-animation, hotToastRotate 1s linear infinite);border:var(--hot-toast-loader-icon-border, 2px solid);border-bottom-color:var(--hot-toast-loader-icon-border-color, #e0e0e0);border-left-color:var(--hot-toast-loader-icon-border-color, #e0e0e0);border-radius:var(--hot-toast-loader-icon-border-radius, 100%);border-right-color:var(--hot-toast-loader-icon-border-right-color, #616161);border-top-color:var(--hot-toast-loader-icon-border-color, #e0e0e0);box-sizing:var(--hot-toast-loader-icon-box-sizing, border-box);height:var(--hot-toast-loader-icon-height, 18px);padding-top:var(--hot-toast-loader-icon-padding-top, 2px);width:var(--hot-toast-loader-icon-width, 18px)}@media (prefers-reduced-motion: reduce){.hot-toast-loader-icon[_ngcontent-%COMP%]{animation-duration:var(--hot-toast-loader-icon-reduced-motion-animation-duration, 5s)}}"],changeDetection:0}),n})(),$Ee=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=Ye({type:n,selectors:[["hot-toast-error"]],inputs:{theme:"theme"},decls:2,vars:4,consts:[[1,"hot-toast-error-icon"]],template:function(t,r){1&t&&(he(0,"div",0),D(1,"\n")),2&t&&Wo("--error-primary",null==r.theme?null:r.theme.primary)("--error-secondary",null==r.theme?null:r.theme.secondary)},styles:['@keyframes hotToastErrorCircleAnimation{0%{opacity:0;transform:scale(0) rotate(45deg)}to{opacity:1;transform:scale(1) rotate(45deg)}}@keyframes hotToastFirstLineAnimation{0%{opacity:0;transform:scale(0)}to{opacity:1;transform:scale(1)}}@keyframes hotToastSecondLineAnimation{0%{opacity:0;transform:scale(0) rotate(90deg)}to{opacity:1;transform:scale(1) rotate(90deg)}}.hot-toast-error-icon[_ngcontent-%COMP%]{animation:var(--hot-toast-error-icon-animation, hotToastErrorCircleAnimation .3s cubic-bezier(.175, .885, .32, 1.275) forwards);animation-delay:var(--hot-toast-error-icon-animation-delay, .1s);background:var(--hot-toast-error-icon-background, var(--error-primary, #ff4b4b));border-radius:var(--hot-toast-error-icon-border-radius, 10px);height:var(--hot-toast-error-icon-height, 20px);opacity:var(--hot-toast-error-icon-opacity, 0);position:var(--hot-toast-error-icon-position, relative);transform:var(--hot-toast-error-icon-transform, rotate(45deg));width:var(--hot-toast-error-icon-width, 20px)}@media (prefers-reduced-motion: reduce){.hot-toast-error-icon[_ngcontent-%COMP%]{animation-duration:var(--hot-toast-error-icon-reduced-motion-animation-duration, 0ms)}}.hot-toast-error-icon[_ngcontent-%COMP%]:after, .hot-toast-error-icon[_ngcontent-%COMP%]:before{animation:var(--hot-toast-error-icon-after-before-animation, hotToastFirstLineAnimation .15s ease-out forwards);animation-delay:var(--hot-toast-error-icon-after-before-animation-delay, .15s);background:var(--hot-toast-error-icon-after-before-background, var(--error-secondary, #fff));border-radius:var(--hot-toast-error-icon-after-before-border-radius, 3px);bottom:var(--hot-toast-error-icon-after-before-bottom, 9px);content:var(--hot-toast-error-icon-after-before-content, "");height:var(--hot-toast-error-icon-after-before-height, 2px);left:var(--hot-toast-error-icon-after-before-left, 4px);opacity:var(--hot-toast-error-icon-after-before-opacity, 0);position:var(--hot-toast-error-icon-after-before-position, absolute);width:var(--hot-toast-error-icon-after-before-width, 12px)}@media (prefers-reduced-motion: reduce){.hot-toast-error-icon[_ngcontent-%COMP%]:after, .hot-toast-error-icon[_ngcontent-%COMP%]:before{animation-duration:var(--hot-toast-error-icon-after-before-reduced-motion-animation-duration, 0ms)}}.hot-toast-error-icon[_ngcontent-%COMP%]:before{animation:var(--hot-toast-error-icon-before-animation, hotToastSecondLineAnimation .15s ease-out forwards);animation-delay:var(--hot-toast-error-icon-before-animation-delay, .18s);transform:var(--hot-toast-error-icon-before-transform, rotate(90deg))}@media (prefers-reduced-motion: reduce){.hot-toast-error-icon[_ngcontent-%COMP%]:before{animation-duration:var(--hot-toast-error-icon-before-reduced-motion-animation-duration, 0ms)}}'],changeDetection:0}),n})(),jEe=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=Ye({type:n,selectors:[["hot-toast-checkmark"]],inputs:{theme:"theme"},decls:2,vars:4,consts:[[1,"hot-toast-checkmark-icon"]],template:function(t,r){1&t&&(he(0,"div",0),D(1,"\n")),2&t&&Wo("--check-primary",null==r.theme?null:r.theme.primary)("--check-secondary",null==r.theme?null:r.theme.secondary)},styles:['@keyframes hotToastCircleAnimation{0%{opacity:0;transform:scale(0) rotate(45deg)}to{opacity:1;transform:scale(1) rotate(45deg)}}@keyframes hotToastCheckmarkAnimation{0%{height:0;opacity:0;width:0}40%{height:0;opacity:1;width:6px}to{height:10px;opacity:1}}.hot-toast-checkmark-icon[_ngcontent-%COMP%]{animation:var(--hot-toast-checkmark-icon-animation, hotToastCircleAnimation .3s cubic-bezier(.175, .885, .32, 1.275) forwards);animation-delay:var(--hot-toast-checkmark-icon-animation-delay, .1s);background-color:var(--hot-toast-checkmark-icon-background-color, var(--check-primary, #61d345));border-radius:var(--hot-toast-checkmark-icon-border-radius, 10px);height:var(--hot-toast-checkmark-icon-height, 20px);opacity:var(--hot-toast-checkmark-icon-opacity, 0);position:var(--hot-toast-checkmark-icon-position, relative);transform:var(--hot-toast-checkmark-icon-transform, rotate(45deg));width:var(--hot-toast-checkmark-icon-width, 20px)}@media (prefers-reduced-motion: reduce){.hot-toast-checkmark-icon[_ngcontent-%COMP%]{animation-duration:var(--hot-toast-checkmark-icon-reduced-motion-animation-duration, 0ms)}}.hot-toast-checkmark-icon[_ngcontent-%COMP%]:after{animation:var(--hot-toast-checkmark-icon-after-animation, hotToastCheckmarkAnimation .2s ease-out forwards);animation-delay:var(--hot-toast-checkmark-icon-after-animation-delay, .2s);border-bottom-style:solid;border-bottom-width:var(--hot-toast-checkmark-icon-after-border-bottom, 2px);border-color:var(--hot-toast-checkmark-icon-after-border-color, var(--check-secondary, #fff));border-right-style:solid;border-right-width:var(--hot-toast-checkmark-icon-after-border-right, 2px);bottom:var(--hot-toast-checkmark-icon-after-bottom, 6px);box-sizing:var(--hot-toast-checkmark-icon-after-box-sizing, border-box);content:var(--hot-toast-checkmark-icon-after-content, "");height:var(--hot-toast-checkmark-icon-after-height, 10px);left:var(--hot-toast-checkmark-icon-after-left, 6px);opacity:var(--hot-toast-checkmark-icon-after-opacity, 0);position:var(--hot-toast-checkmark-icon-after-position, absolute);width:var(--hot-toast-checkmark-icon-after-width, 6px)}@media (prefers-reduced-motion: reduce){.hot-toast-checkmark-icon[_ngcontent-%COMP%]:after{animation-duration:var(--hot-toast-checkmark-icon-after-reduced-motion-animation-duration, 0ms)}}'],changeDetection:0}),n})(),zEe=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=Ye({type:n,selectors:[["hot-toast-warning"]],inputs:{theme:"theme"},decls:2,vars:4,consts:[[1,"hot-toast-warning-icon"]],template:function(t,r){1&t&&(he(0,"div",0),D(1,"\n")),2&t&&Wo("--warn-primary",null==r.theme?null:r.theme.primary)("--warn-secondary",null==r.theme?null:r.theme.secondary)},styles:['@keyframes animate-warn-background{0%{opacity:0;transform:scale(0)}to{opacity:1;transform:scale(1)}}@keyframes animate-warn-line{0%{height:0;opacity:0}40%{height:4.8px;opacity:1}to{height:8px;opacity:1}}.hot-toast-warning-icon[_ngcontent-%COMP%]{animation:var(--hot-toast-warning-icon-animation, animate-warn-background .3s cubic-bezier(.175, .885, .32, 1.275) forwards);animation-delay:var(--hot-toast-warning-icon-animation-delay, .1s);background-color:var(--hot-toast-warning-icon-background-color, var(--warn-primary, #ffab00));border-radius:var(--hot-toast-warning-icon-border-radius, 50%);display:var(--hot-toast-warning-icon-display, block);height:var(--hot-toast-warning-icon-height, 20px);opacity:var(--hot-toast-warning-icon-opacity, 0);position:var(--hot-toast-warning-icon-position, relative);transform:var(--hot-toast-warning-icon-transform, scale(0));width:var(--hot-toast-warning-icon-width, 20px)}.hot-toast-warning-icon[_ngcontent-%COMP%]:after, .hot-toast-warning-icon[_ngcontent-%COMP%]:before{background-color:var(--hot-toast-warning-icon-after-before-background-color, var(--warn-secondary, #fff));border-radius:var(--hot-toast-warning-icon-after-before-border-radius, 3px);box-sizing:var(--hot-toast-warning-icon-after-before-box-sizing, border-box);content:var(--hot-toast-warning-icon-after-before-content, "");display:var(--hot-toast-warning-icon-after-before-display, block);left:var(--hot-toast-warning-icon-after-before-left, 8.5px);position:var(--hot-toast-warning-icon-after-before-position, absolute);width:var(--hot-toast-warning-icon-after-before-width, 2.5px)}.hot-toast-warning-icon[_ngcontent-%COMP%]:after{animation:var(--hot-toast-warning-icon-after-animation, animate-warn-line .2s ease-out forwards);animation-delay:var(--hot-toast-warning-icon-after-animation-delay, .2s);height:var(--hot-toast-warning-icon-after-height, 0);opacity:var(--hot-toast-warning-icon-after-opacity, 0);top:var(--hot-toast-warning-icon-after-top, 4px)}.hot-toast-warning-icon[_ngcontent-%COMP%]:before{bottom:var(--hot-toast-warning-icon-before-bottom, 4px);height:var(--hot-toast-warning-icon-before-height, 2px)}'],changeDetection:0}),n})(),GEe=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=Ye({type:n,selectors:[["hot-toast-info"]],inputs:{theme:"theme"},decls:2,vars:4,consts:[[1,"hot-toast-info-icon"]],template:function(t,r){1&t&&(he(0,"div",0),D(1,"\n")),2&t&&Wo("--warn-primary",null==r.theme?null:r.theme.primary)("--warn-secondary",null==r.theme?null:r.theme.secondary)},styles:['@keyframes animate-info-background{0%{opacity:0;transform:scale(0)}to{opacity:1;transform:scale(1)}}@keyframes animate-info-line{0%{height:0;opacity:0}40%{height:4.8px;opacity:1}to{height:8px;opacity:1}}.hot-toast-info-icon[_ngcontent-%COMP%]{animation:var(--hot-toast-info-icon-animation, animate-info-background .3s cubic-bezier(.175, .885, .32, 1.275) forwards);animation-delay:var(--hot-toast-info-icon-animation-delay, .1s);background-color:var(--hot-toast-info-icon-background-color, var(--info-primary, #0d6efd));border-radius:var(--hot-toast-info-icon-border-radius, 50%);display:var(--hot-toast-info-icon-display, block);height:var(--hot-toast-info-icon-height, 20px);opacity:var(--hot-toast-info-icon-opacity, 0);position:var(--hot-toast-info-icon-position, relative);transform:var(--hot-toast-info-icon-transform, scale(0));width:var(--hot-toast-info-icon-width, 20px)}.hot-toast-info-icon[_ngcontent-%COMP%]:after, .hot-toast-info-icon[_ngcontent-%COMP%]:before{background-color:var(--hot-toast-info-icon-after-before-background-color, var(--info-secondary, #fff));border-radius:var(--hot-toast-info-icon-after-before-border-radius, 3px);box-sizing:var(--hot-toast-info-icon-after-before-box-sizing, border-box);content:var(--hot-toast-info-icon-after-before-content, "");display:var(--hot-toast-info-icon-after-before-display, block);left:var(--hot-toast-info-icon-after-before-left, 8.5px);position:var(--hot-toast-info-icon-after-before-position, absolute);width:var(--hot-toast-info-icon-after-before-width, 2.5px)}.hot-toast-info-icon[_ngcontent-%COMP%]:after{animation:var(--hot-toast-info-icon-after-animation, animate-info-line .2s ease-out forwards);animation-delay:var(--hot-toast-info-icon-after-animation-delay, .2s);height:var(--hot-toast-info-icon-after-height, 0);opacity:var(--hot-toast-info-icon-after-opacity, 0);top:var(--hot-toast-info-icon-after-bottom, 8px)}.hot-toast-info-icon[_ngcontent-%COMP%]:before{height:var(--hot-toast-info-icon-before-height, 2px);top:var(--hot-toast-info-icon-before-top, 4px)}'],changeDetection:0}),n})(),WEe=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=Ye({type:n,selectors:[["hot-toast-indicator"]],inputs:{theme:"theme",type:"type"},decls:2,vars:1,consts:[["class","hot-toast-indicator-wrapper",4,"ngIf"],[1,"hot-toast-indicator-wrapper"],[3,"theme"],["class","hot-toast-status-wrapper",4,"ngIf"],[1,"hot-toast-status-wrapper"],[3,"ngSwitch"],[4,"ngSwitchCase"]],template:function(t,r){1&t&&(Z(0,AEe,6,2,"div",0),D(1,"\n")),2&t&&F("ngIf","blank"!==r.type)},dependencies:[HEe,$Ee,jEe,zEe,GEe,Kr,Oh,xE],styles:[".hot-toast-indicator-wrapper[_ngcontent-%COMP%]{align-items:var(--hot-toast-indicator-wrapper-align-items, center);display:var(--hot-toast-indicator-wrapper-display, flex);justify-content:var(--hot-toast-indicator-wrapper-justify-content, center);min-height:var(--hot-toast-indicator-wrapper-min-height, 20px);min-width:var(--hot-toast-indicator-wrapper-min-width, 20px);position:var(--hot-toast-indicator-wrapper-position, relative)}.hot-toast-status-wrapper[_ngcontent-%COMP%]{position:var(--hot-toast-status-wrapper-position, absolute)}"],changeDetection:0}),n})(),$5=(()=>{class n{constructor(t,r,i){this.injector=t,this.renderer=r,this.ngZone=i,this.offset=0,this.height=new Pe,this.beforeClosed=new Pe,this.afterClosed=new Pe,this.isManualClose=!1,this.unlisteners=[]}ngOnInit(){_R(this.toast.message)&&(this.context={$implicit:this.toastRef}),yR(this.toast.message)&&(this.toastComponentInjector=Je.create({providers:[{provide:H5,useValue:this.toastRef}],parent:this.toast.injector||this.injector}))}ngAfterViewInit(){const t=this.toastBarBase.nativeElement;requestAnimationFrame(()=>{this.height.emit(t.offsetHeight)}),this.ngZone.runOutsideAngular(()=>{this.unlisteners.push(this.renderer.listen(t,"animationstart",r=>{this.isExitAnimation(r)&&this.ngZone.run(()=>this.beforeClosed.emit())}),this.renderer.listen(t,"animationend",r=>{this.isExitAnimation(r)&&this.ngZone.run(()=>this.afterClosed.emit({dismissedByAction:this.isManualClose,id:this.toast.id}))}))}),this.setToastAttributes()}get containerPositionStyle(){const t=this.toast.position.includes("top"),r=t?{top:0}:{bottom:0},i=this.toast.position.includes("left")?{left:0}:this.toast.position.includes("right")?{right:0}:{left:0,right:0,justifyContent:"center"};return{transform:`translateY(${this.offset*(t?1:-1)}px)`,...r,...i}}get toastBarBaseStyles(){const t=this.toast.position.includes("top"),r=`hotToastEnterAnimation${t?"Negative":"Positive"} 350ms cubic-bezier(0.21, 1.02, 0.73, 1) forwards`;return{...this.toast.style,animation:this.toast.autoClose?`${r}, hotToastExitAnimation${t?"Negative":"Positive"} 800ms forwards cubic-bezier(0.06, 0.71, 0.55, 1) ${this.toast.duration}ms`:r}}get isIconString(){return"string"==typeof this.toast.icon}close(){this.isManualClose=!0;((n,e)=>{this.toastBarBase.nativeElement.style.animation=e})(0,`hotToastExitAnimation${this.toast.position.includes("top")?"Negative":"Positive"} 800ms forwards cubic-bezier(0.06, 0.71, 0.55, 1)`)}ngOnDestroy(){for(this.close();this.unlisteners.length;)this.unlisteners.pop()()}isExitAnimation(t){return t.animationName.includes("hotToastExitAnimation")}setToastAttributes(){const t=this.toast.attributes;for(const[r,i]of Object.entries(t))this.renderer.setAttribute(this.toastBarBase.nativeElement,r,i)}}return n.\u0275fac=function(t){return new(t||n)(y(Je),y(ki),y(se))},n.\u0275cmp=Ye({type:n,selectors:[["hot-toast"]],viewQuery:function(t,r){if(1&t&&as(MEe,5),2&t){let i;vt(i=bt())&&(r.toastBarBase=i.first)}},inputs:{toast:"toast",offset:"offset",defaultConfig:"defaultConfig",toastRef:"toastRef"},outputs:{height:"height",beforeClosed:"beforeClosed",afterClosed:"afterClosed"},decls:25,vars:14,consts:[[1,"hot-toast-bar-base-container",3,"ngStyle","ngClass"],[1,"hot-toast-bar-base",3,"ngStyle","ngClass"],["hotToastBarBase",""],["aria-hidden","true",1,"hot-toast-icon"],[4,"ngIf","ngIfElse"],["indicator",""],[1,"hot-toast-message"],[4,"dynamicView","dynamicViewContext","dynamicViewInjector"],["type","button","class","hot-toast-close-btn","aria-label","Close",3,"ngStyle","click",4,"ngIf"],["iconTemplateOrComponent",""],[3,"iconTheme"],[3,"dynamicView"],[3,"theme","type"],["type","button","aria-label","Close",1,"hot-toast-close-btn",3,"ngStyle","click"]],template:function(t,r){if(1&t&&(C(0,"div",0),D(1,"\n  "),C(2,"div",1,2),D(4,"\n    "),C(5,"div",3),D(6,"\n      "),Z(7,REe,7,2,"ng-container",4),D(8,"\n\n      "),Z(9,PEe,3,2,"ng-template",null,5,uu),D(11,"\n    "),S(),D(12,"\n\n    "),C(13,"div",6),D(14,"\n      "),C(15,"div"),D(16,"\n        "),Z(17,OEe,1,0,"ng-container",7),D(18,"\n      "),S(),D(19,"\n    "),S(),D(20,"\n\n    "),Z(21,NEe,1,1,"button",8),D(22,"\n  "),S(),D(23,"\n"),S(),D(24,"\n")),2&t){const i=Gt(10);F("ngStyle",r.containerPositionStyle)("ngClass","hot-toast-theme-"+r.toast.theme),R(2),Wo("--hot-toast-animation-state",r.isManualClose?"running":"paused"),F("ngStyle",r.toastBarBaseStyles)("ngClass",r.toast.className),ft("aria-live",r.toast.ariaLive)("role",r.toast.role),R(5),F("ngIf",void 0!==r.toast.icon)("ngIfElse",i),R(10),F("dynamicView",r.toast.message)("dynamicViewContext",r.context)("dynamicViewInjector",r.toastComponentInjector),R(4),F("ngIf",r.toast.dismissible)}},dependencies:[UEe,WEe,kE,AE,Kr,gEe],styles:[".hot-toast-bar-base[_ngcontent-%COMP%]{align-items:var(--hot-toast-align-items, center);background-color:var(--hot-toast-bg, #fff);border-radius:var(--hot-toast-border-radius, 4px);box-shadow:var(--hot-toast-shadow, 0 3px 10px rgba(0, 0, 0, .1), 0 3px 3px rgba(0, 0, 0, .05));color:var(--hot-toast-color, #363636);display:var(--hot-toast-display, flex);line-height:var(--hot-toast-line, 1.3);margin:var(--hot-toast-margin, 16px);max-width:var(--hot-toast-max-width, 350px);padding:var(--hot-toast-padding, 8px 10px);pointer-events:var(--hot-toast-pointer-events, auto);width:var(--hot-toast-width, -moz-fit-content);width:var(--hot-toast-width, fit-content);will-change:var(--hot-toast-will-change, transform)}.hot-toast-bar-base[_ngcontent-%COMP%]:hover, .hot-toast-bar-base[_ngcontent-%COMP%]:focus{animation-play-state:var(--hot-toast-animation-state, paused)!important}@media (prefers-reduced-motion: reduce){.hot-toast-bar-base[_ngcontent-%COMP%]{animation-duration:var(--hot-toast-reduced-motion-animation-duration, 10ms)!important}}.hot-toast-message[_ngcontent-%COMP%]{color:var(--hot-toast-message-color, inherit);display:var(--hot-toast-message-display, flex);flex:var(--hot-toast-message-flex, 1);justify-content:var(--hot-toast-message-justify-content, center);margin:var(--hot-toast-message-margin, 4px 10px)}.hot-toast-bar-base-container[_ngcontent-%COMP%]{display:var(--hot-toast-container-display, flex);pointer-events:var(--hot-toast-container-pointer-events, none);position:var(--hot-toast-container-position, absolute);transition:var(--hot-toast-container-transition, transform .23s cubic-bezier(.21, 1.02, .73, 1))}@media (prefers-reduced-motion: reduce){.hot-toast-bar-base-container[_ngcontent-%COMP%]{transition-duration:var(--hot-toast-container-reduced-motion-transition-duration, 10ms)!important}}.hot-toast-bar-base-container.hot-toast-theme-snackbar[_ngcontent-%COMP%]   .hot-toast-bar-base[_ngcontent-%COMP%]{background:var(--hot-toast-snackbar-bg, #323232);box-shadow:var(--hot-toast-snackbar-shadow, 0 3px 5px -1px rgba(0, 0, 0, .2), 0 6px 10px 0 rgba(0, 0, 0, .14), 0 1px 18px 0 rgba(0, 0, 0, .12));color:var(--hot-toast-snackbar-color, white)}.hot-toast-bar-base-container.hot-toast-theme-snackbar[_ngcontent-%COMP%]   .hot-toast-close-btn[_ngcontent-%COMP%]{filter:var(--hot-toast-snackbar-close-btn-filter, invert(1) grayscale(100%) brightness(200%))}@keyframes hotToastEnterAnimationNegative{0%{opacity:.5;transform:translateY(-80px) scale(.6)}to{opacity:1;transform:translate(0) scale(1)}}@keyframes hotToastEnterAnimationPositive{0%{opacity:.5;transform:translateY(80px) scale(.6)}to{opacity:1;transform:translate(0) scale(1)}}@keyframes hotToastExitAnimationPositive{0%{opacity:1;transform:translateZ(-1px) scale(1)}to{opacity:0;transform:translate3d(0,130px,-1px) scale(.5)}}@keyframes hotToastExitAnimationNegative{0%{opacity:1;transform:translateZ(-1px) scale(1)}to{opacity:0;transform:translate3d(0,-130px,-1px) scale(.5)}}.hot-toast-close-btn[_ngcontent-%COMP%]{align-self:var(--hot-toast-close-btn-align-self, flex-start);background-color:var(--hot-toast-close-btn-background-color, transparent);background-image:var(--hot-toast-close-btn-background-image, url(\"data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 16 16' fill='%23000'%3e%3cpath d='M.293.293a1 1 0 011.414 0L8 6.586 14.293.293a1 1 0 111.414 1.414L9.414 8l6.293 6.293a1 1 0 01-1.414 1.414L8 9.414l-6.293 6.293a1 1 0 01-1.414-1.414L6.586 8 .293 1.707a1 1 0 010-1.414z'/%3e%3c/svg%3e\"));background-position:var(--hot-toast-close-btn-background-position, center);background-repeat:var(--hot-toast-close-btn-background-repeat, no-repeat);background-size:var(--hot-toast-close-btn-background-size, .75em);border:var(--hot-toast-close-btn-border, 0);border-radius:var(--hot-toast-close-btn-border-radius, .25rem);box-sizing:var(--hot-toast-close-btn-box-sizing, content-box);display:var(--hot-toast-close-btn-display, flex);height:var(--hot-toast-close-btn-height, .8em);margin-top:var(--hot-toast-close-btn-margin-top, .25em);opacity:var(--hot-toast-close-btn-opacity, .5);padding:var(--hot-toast-close-btn-padding, .25em);width:var(--hot-toast-close-btn-width, .8em)}.hot-toast-close-btn[_ngcontent-%COMP%]:focus{box-shadow:var(--hot-toast-close-btn-box-shadow, 0 0 0 .125rem rgba(13, 110, 253, .25));outline:var(--hot-toast-close-btn-outline, none)}.hot-toast-close-btn[_ngcontent-%COMP%]:hover, .hot-toast-close-btn[_ngcontent-%COMP%]:focus{opacity:var(--hot-toast-close-btn-opacity, .75)}.hot-toast-icon[_ngcontent-%COMP%]{align-self:var(--hot-toast-icon-align-self, flex-start);padding-top:var(--hot-toast-icon-padding-top, .25em)}"],changeDetection:0}),n})(),qEe=(()=>{class n{constructor(t){this.cdr=t,this.toasts=[],this.toastRefs=[],this._onClosed=new Le,this.onClosed$=this._onClosed.asObservable()}trackById(t,r){return r.id}calculateOffset(t,r){const i=this.toasts.filter(a=>a.visible&&a.position===r),s=i.findIndex(a=>a.id===t);return-1!==s?i.slice(...this.defaultConfig.reverseOrder?[s+1]:[0,s]).reduce((a,l)=>a+(l.height||0)+8,0):0}updateHeight(t,r){r.height=t,this.cdr.detectChanges()}addToast(t){this.toastRefs.push(t);const r=t.getToast();return this.toasts.push(t.getToast()),this.cdr.detectChanges(),{dispose:()=>{this.closeToast(r.id)},updateMessage:i=>{r.message=i,this.cdr.detectChanges()},updateToast:i=>{this.updateToasts(r,i),this.cdr.detectChanges()},afterClosed:this.getAfterClosed(r)}}closeToast(t){if(t){const r=this.hotToastComponentList.find(i=>i.toast.id===t);r&&r.close()}else this.hotToastComponentList.forEach(r=>r.close())}beforeClosed(t){t.visible=!1}afterClosed(t){this.toasts.findIndex(i=>i.id===t.id)>-1&&(this._onClosed.next(t),this.toasts=this.toasts.filter(i=>i.id!==t.id),this.toastRefs=this.toastRefs.filter(i=>i.getToast().id!==t.id),this.cdr.detectChanges())}hasToast(t){return this.toasts.findIndex(r=>r.id===t)>-1}getAfterClosed(t){return this.onClosed$.pipe(dn(r=>r.id===t.id))}updateToasts(t,r){this.toasts=this.toasts.map(i=>({...i,...i.id===t.id&&{...t,...r}}))}}return n.\u0275fac=function(t){return new(t||n)(y(Js))},n.\u0275cmp=Ye({type:n,selectors:[["hot-toast-container"]],viewQuery:function(t,r){if(1&t&&as($5,5),2&t){let i;vt(i=bt())&&(r.hotToastComponentList=i)}},inputs:{defaultConfig:"defaultConfig"},decls:8,vars:2,consts:[[2,"position","fixed","z-index","9999","top","0","right","0","bottom","0","left","0","pointer-events","none"],[2,"position","relative","height","100%"],[3,"toast","offset","toastRef","height","beforeClosed","afterClosed",4,"ngFor","ngForOf","ngForTrackBy"],[3,"toast","offset","toastRef","height","beforeClosed","afterClosed"]],template:function(t,r){1&t&&(C(0,"div",0),D(1,"\n  "),C(2,"div",1),D(3,"\n    "),Z(4,FEe,1,3,"hot-toast",2),D(5,"\n  "),S(),D(6,"\n"),S(),D(7,"\n")),2&t&&(R(4),F("ngForOf",r.toasts)("ngForTrackBy",r.trackById))},dependencies:[$5,Ph],encapsulation:2,changeDetection:0}),n})();class j5{constructor(){this.reverseOrder=!1,this.ariaLive="polite",this.role="status",this.position="top-center",this.autoClose=!0,this.theme="toast",this.attributes={},this.success={content:""},this.error={content:""},this.loading={content:""},this.blank={content:""},this.warning={content:""}}}class QEe{constructor(){this.storage="local",this.key="ngneat/hototast-${id}",this.count=1,this.enabled=!1}}let vR=(()=>{class n{constructor(t,r,i){this._viewService=t,this.platformId=r,this._isInitialized=!1,this._defaultConfig=new j5,this._defaultPersistConfig=new QEe,i&&(this._defaultConfig={...this._defaultConfig,...i})}get defaultConfig(){return this._defaultConfig}set defaultConfig(t){this._defaultConfig={...this._defaultConfig,...t},this._componentRef&&this._componentRef.setInput("defaultConfig",this._defaultConfig)}show(t,r){return this.createToast(t||this._defaultConfig.blank.content,"blank",{...this._defaultConfig,...r})}error(t,r){return this.createToast(t||this._defaultConfig.error.content,"error",{...this._defaultConfig,...this._defaultConfig?.error,...r})}success(t,r){return this.createToast(t||this._defaultConfig.success.content,"success",{...this._defaultConfig,...this._defaultConfig?.success,...r})}loading(t,r){return this.createToast(t||this._defaultConfig.loading.content,"loading",{...this._defaultConfig,...this._defaultConfig?.loading,...r})}warning(t,r){return this.createToast(t||this._defaultConfig.warning.content,"warning",{...this._defaultConfig,...this._defaultConfig?.warning,...r})}info(t,r){return this.createToast(t||this._defaultConfig.warning.content,"info",{...this._defaultConfig,...this._defaultConfig?.warning,...r})}observe(t){return r=>{let i,s=0;const o=t.loading??this._defaultConfig.loading?.content,a=t.success??this._defaultConfig.success?.content,l=t.error??this._defaultConfig.error?.content;return qE(()=>(o&&(i=this.createLoadingToast(o),s=Date.now()),r.pipe(Ut({...a&&{next:c=>{i=this.createOrUpdateToast(t,c,i,"success",0===s?s:Date.now()-s)}},...l&&{error:c=>{i=this.createOrUpdateToast(t,c,i,"error",0===s?s:Date.now()-s)}}}))))}}close(t){this._componentRef&&this._componentRef.ref.instance.closeToast(t)}init(){(function ise(n){return"server"===n})(this.platformId)||(this._componentRef=this._viewService.createComponent(qEe).setInput("defaultConfig",this._defaultConfig).appendTo(document.body))}createOrUpdateToast(t,r,i,s,o){let a=null,l={};if(({content:a,options:l}=this.getContentAndOptions(s,t[s]||(this._defaultConfig[s]?this._defaultConfig[s].content:""))),a=((n,e)=>(n=>"function"==typeof n)(n)?n(e):n)(a,r),i){i.updateMessage(a);const c={type:s,duration:o+B5[s],...l,...l.duration&&{duration:o+l.duration}};i.updateToast(c)}else this.createToast(a,s,l);return i}createToast(t,r,i,s){this._isInitialized||(this._isInitialized=!0,this.init());const o=Date.now(),a=i?.id??o.toString();if(!this.isDuplicate(a)&&(!i.persist?.enabled||i.persist?.enabled&&this.handleStorageValue(a,i))){const l={ariaLive:i?.ariaLive??"polite",createdAt:o,duration:i?.duration??B5[r],id:a,message:t,role:i?.role??"status",type:r,visible:!0,observableMessages:s??void 0,...i};return new H5(l).appendTo(this._componentRef.ref.instance)}}isDuplicate(t){return this._componentRef.ref.instance.hasToast(t)}handleStorageValue(t,r){let i=1;const s={...this._defaultPersistConfig,...r.persist},o="local"===s.storage?localStorage:sessionStorage,a=s.key.replace(/\${id}/g,t);let l=o.getItem(a);return l?(l=parseInt(l,10),i=l>0?l-1:l):i=s.count,o.setItem(a,i.toString()),i}getContentAndOptions(t,r){let i,s={...this._defaultConfig,...this._defaultConfig[t]};if("string"==typeof r||_R(r)||yR(r))i=r;else{let o;({content:i,...o}=r),s={...s,...o}}return{content:i,options:s}}createLoadingToast(t){let r=null,i={};return({content:r,options:i}=this.getContentAndOptions("loading",t)),this.loading(r,i)}}return n.\u0275fac=function(t){return new(t||n)(w(V5),w(Xs),w(j5,8))},n.\u0275prov=V({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const XEe=["addListener","removeListener"],ZEe=["addEventListener","removeEventListener"],JEe=["on","off"];function fb(n,e,t,r){if(He(t)&&(r=t,t=void 0),r)return fb(n,e,t).pipe(WE(r));const[i,s]=function nIe(n){return He(n.addEventListener)&&He(n.removeEventListener)}(n)?ZEe.map(o=>a=>n[o](e,a,t)):function eIe(n){return He(n.addListener)&&He(n.removeListener)}(n)?XEe.map(z5(n,e)):function tIe(n){return He(n.on)&&He(n.off)}(n)?JEe.map(z5(n,e)):[];if(!i&&Nw(n))return Xt(o=>fb(o,e,t))(kn(n));if(!i)throw new TypeError("Invalid event target");return new ze(o=>{const a=(...l)=>o.next(1<l.length?l:l[0]);return i(a),()=>s(a)})}function z5(n,e){return t=>r=>n[t](e,r)}class G5{}const Mo="*";function $p(n,e){return{type:7,name:n,definitions:e,options:{}}}function vd(n,e=null){return{type:4,styles:e,timings:n}}function W5(n,e=null){return{type:2,steps:n,options:e}}function ii(n){return{type:6,styles:n,offset:null}}function bd(n,e,t){return{type:0,name:n,styles:e,options:t}}function ic(n,e,t=null){return{type:1,expr:n,animation:e,options:t}}function q5(n){Promise.resolve().then(n)}class jp{constructor(e=0,t=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=e+t}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){q5(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(e=>e()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(e){this._position=this.totalTime?e*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}}class K5{constructor(e){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=e;let t=0,r=0,i=0;const s=this.players.length;0==s?q5(()=>this._onFinish()):this.players.forEach(o=>{o.onDone(()=>{++t==s&&this._onFinish()}),o.onDestroy(()=>{++r==s&&this._onDestroy()}),o.onStart(()=>{++i==s&&this._onStart()})}),this.totalTime=this.players.reduce((o,a)=>Math.max(o,a.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this.players.forEach(e=>e.init())}onStart(e){this._onStartFns.push(e)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(e=>e()),this._onStartFns=[])}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(e=>e.play())}pause(){this.players.forEach(e=>e.pause())}restart(){this.players.forEach(e=>e.restart())}finish(){this._onFinish(),this.players.forEach(e=>e.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(e=>e.destroy()),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this.players.forEach(e=>e.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(e){const t=e*this.totalTime;this.players.forEach(r=>{const i=r.totalTime?Math.min(1,t/r.totalTime):1;r.setPosition(i)})}getPosition(){const e=this.players.reduce((t,r)=>null===t||r.totalTime>t.totalTime?r:t,null);return null!=e?e.getPosition():0}beforeDestroy(){this.players.forEach(e=>{e.beforeDestroy&&e.beforeDestroy()})}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}}const oIe=["connectionContainer"],aIe=["inputContainer"],lIe=["label"];function cIe(n,e){1&n&&(Ks(0),C(1,"div",14),he(2,"div",15)(3,"div",16)(4,"div",17),S(),C(5,"div",18),he(6,"div",15)(7,"div",16)(8,"div",17),S(),Ys())}function uIe(n,e){1&n&&(C(0,"div",19),Pn(1,1),S())}function dIe(n,e){if(1&n&&(Ks(0),Pn(1,2),C(2,"span"),D(3),S(),Ys()),2&n){const t=X(2);R(3),Xn(t._control.placeholder)}}function hIe(n,e){1&n&&Pn(0,3,["*ngSwitchCase","true"])}function fIe(n,e){1&n&&(C(0,"span",23),D(1," *"),S())}function pIe(n,e){if(1&n){const t=Oi();C(0,"label",20,21),ye("cdkObserveContent",function(){return Dt(t),At(X().updateOutlineGap())}),Z(2,dIe,4,1,"ng-container",12),Z(3,hIe,1,0,"ng-content",12),Z(4,fIe,2,0,"span",22),S()}if(2&n){const t=X();Vt("mat-empty",t._control.empty&&!t._shouldAlwaysFloat())("mat-form-field-empty",t._control.empty&&!t._shouldAlwaysFloat())("mat-accent","accent"==t.color)("mat-warn","warn"==t.color),F("cdkObserveContentDisabled","outline"!=t.appearance)("id",t._labelId)("ngSwitch",t._hasLabel()),ft("for",t._control.id)("aria-owns",t._control.id),R(2),F("ngSwitchCase",!1),R(1),F("ngSwitchCase",!0),R(1),F("ngIf",!t.hideRequiredMarker&&t._control.required&&!t._control.disabled)}}function mIe(n,e){1&n&&(C(0,"div",24),Pn(1,4),S())}function gIe(n,e){if(1&n&&(C(0,"div",25),he(1,"span",26),S()),2&n){const t=X();R(1),Vt("mat-accent","accent"==t.color)("mat-warn","warn"==t.color)}}function _Ie(n,e){1&n&&(C(0,"div"),Pn(1,5),S()),2&n&&F("@transitionMessages",X()._subscriptAnimationState)}function yIe(n,e){if(1&n&&(C(0,"div",30),D(1),S()),2&n){const t=X(2);F("id",t._hintLabelId),R(1),Xn(t.hintLabel)}}function vIe(n,e){if(1&n&&(C(0,"div",27),Z(1,yIe,2,2,"div",28),Pn(2,6),he(3,"div",29),Pn(4,7),S()),2&n){const t=X();F("@transitionMessages",t._subscriptAnimationState),R(1),F("ngIf",t.hintLabel)}}const bIe=["*",[["","matPrefix",""]],[["mat-placeholder"]],[["mat-label"]],[["","matSuffix",""]],[["mat-error"]],[["mat-hint",3,"align","end"]],[["mat-hint","align","end"]]],wIe=["*","[matPrefix]","mat-placeholder","mat-label","[matSuffix]","mat-error","mat-hint:not([align='end'])","mat-hint[align='end']"];let CIe=0;const Y5=new N("MatError");let wR=(()=>{class n{constructor(t,r){this.id="mat-error-"+CIe++,t||r.nativeElement.setAttribute("aria-live","polite")}}return n.\u0275fac=function(t){return new(t||n)(Ho("aria-live"),y(Ze))},n.\u0275dir=q({type:n,selectors:[["mat-error"]],hostAttrs:["aria-atomic","true",1,"mat-error"],hostVars:1,hostBindings:function(t,r){2&t&&ft("id",r.id)},inputs:{id:"id"},features:[$e([{provide:Y5,useExisting:n}])]}),n})();const EIe={transitionMessages:$p("transitionMessages",[bd("enter",ii({opacity:1,transform:"translateY(0%)"})),ic("void => enter",[ii({opacity:0,transform:"translateY(-5px)"}),vd("300ms cubic-bezier(0.55, 0, 0.55, 0.2)")])])};let CR=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=q({type:n}),n})(),IIe=0;const Q5=new N("MatHint");let TIe=(()=>{class n{constructor(){this.align="start",this.id="mat-hint-"+IIe++}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=q({type:n,selectors:[["mat-hint"]],hostAttrs:[1,"mat-hint"],hostVars:4,hostBindings:function(t,r){2&t&&(ft("id",r.id)("align",null),Vt("mat-form-field-hint-end","end"===r.align))},inputs:{align:"align",id:"id"},features:[$e([{provide:Q5,useExisting:n}])]}),n})(),zp=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=q({type:n,selectors:[["mat-label"]]}),n})(),SIe=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=q({type:n,selectors:[["mat-placeholder"]]}),n})();const X5=new N("MatPrefix");let DIe=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=q({type:n,selectors:[["","matPrefix",""]],features:[$e([{provide:X5,useExisting:n}])]}),n})();const Z5=new N("MatSuffix");let J5=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=q({type:n,selectors:[["","matSuffix",""]],features:[$e([{provide:Z5,useExisting:n}])]}),n})(),e8=0;const MIe=sf(class{constructor(n){this._elementRef=n}},"primary"),xIe=new N("MAT_FORM_FIELD_DEFAULT_OPTIONS"),n8=new N("MatFormField");let pb=(()=>{class n extends MIe{constructor(t,r,i,s,o,a,l){super(t),this._changeDetectorRef=r,this._dir=i,this._defaults=s,this._platform=o,this._ngZone=a,this._outlineGapCalculationNeededImmediately=!1,this._outlineGapCalculationNeededOnStable=!1,this._destroyed=new Le,this._showAlwaysAnimate=!1,this._subscriptAnimationState="",this._hintLabel="",this._hintLabelId="mat-hint-"+e8++,this._labelId="mat-form-field-label-"+e8++,this.floatLabel=this._getDefaultFloatLabelState(),this._animationsEnabled="NoopAnimations"!==l,this.appearance=s&&s.appearance?s.appearance:"legacy",this._hideRequiredMarker=!(!s||null==s.hideRequiredMarker)&&s.hideRequiredMarker}get appearance(){return this._appearance}set appearance(t){const r=this._appearance;this._appearance=t||this._defaults&&this._defaults.appearance||"legacy","outline"===this._appearance&&r!==t&&(this._outlineGapCalculationNeededOnStable=!0)}get hideRequiredMarker(){return this._hideRequiredMarker}set hideRequiredMarker(t){this._hideRequiredMarker=pr(t)}_shouldAlwaysFloat(){return"always"===this.floatLabel&&!this._showAlwaysAnimate}_canLabelFloat(){return"never"!==this.floatLabel}get hintLabel(){return this._hintLabel}set hintLabel(t){this._hintLabel=t,this._processHints()}get floatLabel(){return"legacy"!==this.appearance&&"never"===this._floatLabel?"auto":this._floatLabel}set floatLabel(t){t!==this._floatLabel&&(this._floatLabel=t||this._getDefaultFloatLabelState(),this._changeDetectorRef.markForCheck())}get _control(){return this._explicitFormFieldControl||this._controlNonStatic||this._controlStatic}set _control(t){this._explicitFormFieldControl=t}getLabelId(){return this._hasFloatingLabel()?this._labelId:null}getConnectedOverlayOrigin(){return this._connectionContainerRef||this._elementRef}ngAfterContentInit(){this._validateControlChild();const t=this._control;t.controlType&&this._elementRef.nativeElement.classList.add(`mat-form-field-type-${t.controlType}`),t.stateChanges.pipe(Qo(null)).subscribe(()=>{this._validatePlaceholders(),this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),t.ngControl&&t.ngControl.valueChanges&&t.ngControl.valueChanges.pipe(hl(this._destroyed)).subscribe(()=>this._changeDetectorRef.markForCheck()),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.pipe(hl(this._destroyed)).subscribe(()=>{this._outlineGapCalculationNeededOnStable&&this.updateOutlineGap()})}),Tc(this._prefixChildren.changes,this._suffixChildren.changes).subscribe(()=>{this._outlineGapCalculationNeededOnStable=!0,this._changeDetectorRef.markForCheck()}),this._hintChildren.changes.pipe(Qo(null)).subscribe(()=>{this._processHints(),this._changeDetectorRef.markForCheck()}),this._errorChildren.changes.pipe(Qo(null)).subscribe(()=>{this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),this._dir&&this._dir.change.pipe(hl(this._destroyed)).subscribe(()=>{"function"==typeof requestAnimationFrame?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>this.updateOutlineGap())}):this.updateOutlineGap()})}ngAfterContentChecked(){this._validateControlChild(),this._outlineGapCalculationNeededImmediately&&this.updateOutlineGap()}ngAfterViewInit(){this._subscriptAnimationState="enter",this._changeDetectorRef.detectChanges()}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}_shouldForward(t){const r=this._control?this._control.ngControl:null;return r&&r[t]}_hasPlaceholder(){return!!(this._control&&this._control.placeholder||this._placeholderChild)}_hasLabel(){return!(!this._labelChildNonStatic&&!this._labelChildStatic)}_shouldLabelFloat(){return this._canLabelFloat()&&(this._control&&this._control.shouldLabelFloat||this._shouldAlwaysFloat())}_hideControlPlaceholder(){return"legacy"===this.appearance&&!this._hasLabel()||this._hasLabel()&&!this._shouldLabelFloat()}_hasFloatingLabel(){return this._hasLabel()||"legacy"===this.appearance&&this._hasPlaceholder()}_getDisplayedMessages(){return this._errorChildren&&this._errorChildren.length>0&&this._control.errorState?"error":"hint"}_animateAndLockLabel(){this._hasFloatingLabel()&&this._canLabelFloat()&&(this._animationsEnabled&&this._label&&(this._showAlwaysAnimate=!0,fb(this._label.nativeElement,"transitionend").pipe(Dr(1)).subscribe(()=>{this._showAlwaysAnimate=!1})),this.floatLabel="always",this._changeDetectorRef.markForCheck())}_validatePlaceholders(){}_processHints(){this._validateHints(),this._syncDescribedByIds()}_validateHints(){}_getDefaultFloatLabelState(){return this._defaults&&this._defaults.floatLabel||"auto"}_syncDescribedByIds(){if(this._control){let t=[];if(this._control.userAriaDescribedBy&&"string"==typeof this._control.userAriaDescribedBy&&t.push(...this._control.userAriaDescribedBy.split(" ")),"hint"===this._getDisplayedMessages()){const r=this._hintChildren?this._hintChildren.find(s=>"start"===s.align):null,i=this._hintChildren?this._hintChildren.find(s=>"end"===s.align):null;r?t.push(r.id):this._hintLabel&&t.push(this._hintLabelId),i&&t.push(i.id)}else this._errorChildren&&t.push(...this._errorChildren.map(r=>r.id));this._control.setDescribedByIds(t)}}_validateControlChild(){}updateOutlineGap(){const t=this._label?this._label.nativeElement:null;if(!("outline"===this.appearance&&t&&t.children.length&&t.textContent.trim()&&this._platform.isBrowser))return;if(!this._isAttachedToDOM())return void(this._outlineGapCalculationNeededImmediately=!0);let r=0,i=0;const s=this._connectionContainerRef.nativeElement,o=s.querySelectorAll(".mat-form-field-outline-start"),a=s.querySelectorAll(".mat-form-field-outline-gap");if(this._label&&this._label.nativeElement.children.length){const l=s.getBoundingClientRect();if(0===l.width&&0===l.height)return this._outlineGapCalculationNeededOnStable=!0,void(this._outlineGapCalculationNeededImmediately=!1);const c=this._getStartEnd(l),u=t.children,d=this._getStartEnd(u[0].getBoundingClientRect());let h=0;for(let f=0;f<u.length;f++)h+=u[f].offsetWidth;r=Math.abs(d-c)-5,i=h>0?.75*h+10:0}for(let l=0;l<o.length;l++)o[l].style.width=`${r}px`;for(let l=0;l<a.length;l++)a[l].style.width=`${i}px`;this._outlineGapCalculationNeededOnStable=this._outlineGapCalculationNeededImmediately=!1}_getStartEnd(t){return this._dir&&"rtl"===this._dir.value?t.right:t.left}_isAttachedToDOM(){const t=this._elementRef.nativeElement;if(t.getRootNode){const r=t.getRootNode();return r&&r!==t}return document.documentElement.contains(t)}}return n.\u0275fac=function(t){return new(t||n)(y(Ze),y(Js),y(VI,8),y(xIe,8),y(Yr),y(se),y(rl,8))},n.\u0275cmp=Ye({type:n,selectors:[["mat-form-field"]],contentQueries:function(t,r,i){if(1&t&&(Jn(i,CR,5),Jn(i,CR,7),Jn(i,zp,5),Jn(i,zp,7),Jn(i,SIe,5),Jn(i,Y5,5),Jn(i,Q5,5),Jn(i,X5,5),Jn(i,Z5,5)),2&t){let s;vt(s=bt())&&(r._controlNonStatic=s.first),vt(s=bt())&&(r._controlStatic=s.first),vt(s=bt())&&(r._labelChildNonStatic=s.first),vt(s=bt())&&(r._labelChildStatic=s.first),vt(s=bt())&&(r._placeholderChild=s.first),vt(s=bt())&&(r._errorChildren=s),vt(s=bt())&&(r._hintChildren=s),vt(s=bt())&&(r._prefixChildren=s),vt(s=bt())&&(r._suffixChildren=s)}},viewQuery:function(t,r){if(1&t&&(as(oIe,7),as(aIe,5),as(lIe,5)),2&t){let i;vt(i=bt())&&(r._connectionContainerRef=i.first),vt(i=bt())&&(r._inputContainerRef=i.first),vt(i=bt())&&(r._label=i.first)}},hostAttrs:[1,"mat-form-field"],hostVars:40,hostBindings:function(t,r){2&t&&Vt("mat-form-field-appearance-standard","standard"==r.appearance)("mat-form-field-appearance-fill","fill"==r.appearance)("mat-form-field-appearance-outline","outline"==r.appearance)("mat-form-field-appearance-legacy","legacy"==r.appearance)("mat-form-field-invalid",r._control.errorState)("mat-form-field-can-float",r._canLabelFloat())("mat-form-field-should-float",r._shouldLabelFloat())("mat-form-field-has-label",r._hasFloatingLabel())("mat-form-field-hide-placeholder",r._hideControlPlaceholder())("mat-form-field-disabled",r._control.disabled)("mat-form-field-autofilled",r._control.autofilled)("mat-focused",r._control.focused)("ng-untouched",r._shouldForward("untouched"))("ng-touched",r._shouldForward("touched"))("ng-pristine",r._shouldForward("pristine"))("ng-dirty",r._shouldForward("dirty"))("ng-valid",r._shouldForward("valid"))("ng-invalid",r._shouldForward("invalid"))("ng-pending",r._shouldForward("pending"))("_mat-animation-noopable",!r._animationsEnabled)},inputs:{color:"color",appearance:"appearance",hideRequiredMarker:"hideRequiredMarker",hintLabel:"hintLabel",floatLabel:"floatLabel"},exportAs:["matFormField"],features:[$e([{provide:n8,useExisting:n}]),Te],ngContentSelectors:wIe,decls:15,vars:8,consts:[[1,"mat-form-field-wrapper"],[1,"mat-form-field-flex",3,"click"],["connectionContainer",""],[4,"ngIf"],["class","mat-form-field-prefix",4,"ngIf"],[1,"mat-form-field-infix"],["inputContainer",""],[1,"mat-form-field-label-wrapper"],["class","mat-form-field-label",3,"cdkObserveContentDisabled","id","mat-empty","mat-form-field-empty","mat-accent","mat-warn","ngSwitch","cdkObserveContent",4,"ngIf"],["class","mat-form-field-suffix",4,"ngIf"],["class","mat-form-field-underline",4,"ngIf"],[1,"mat-form-field-subscript-wrapper",3,"ngSwitch"],[4,"ngSwitchCase"],["class","mat-form-field-hint-wrapper",4,"ngSwitchCase"],[1,"mat-form-field-outline"],[1,"mat-form-field-outline-start"],[1,"mat-form-field-outline-gap"],[1,"mat-form-field-outline-end"],[1,"mat-form-field-outline","mat-form-field-outline-thick"],[1,"mat-form-field-prefix"],[1,"mat-form-field-label",3,"cdkObserveContentDisabled","id","ngSwitch","cdkObserveContent"],["label",""],["class","mat-placeholder-required mat-form-field-required-marker","aria-hidden","true",4,"ngIf"],["aria-hidden","true",1,"mat-placeholder-required","mat-form-field-required-marker"],[1,"mat-form-field-suffix"],[1,"mat-form-field-underline"],[1,"mat-form-field-ripple"],[1,"mat-form-field-hint-wrapper"],["class","mat-hint",3,"id",4,"ngIf"],[1,"mat-form-field-hint-spacer"],[1,"mat-hint",3,"id"]],template:function(t,r){1&t&&(Qs(bIe),C(0,"div",0)(1,"div",1,2),ye("click",function(s){return r._control.onContainerClick&&r._control.onContainerClick(s)}),Z(3,cIe,9,0,"ng-container",3),Z(4,uIe,2,0,"div",4),C(5,"div",5,6),Pn(7),C(8,"span",7),Z(9,pIe,5,16,"label",8),S()(),Z(10,mIe,2,0,"div",9),S(),Z(11,gIe,2,4,"div",10),C(12,"div",11),Z(13,_Ie,2,1,"div",12),Z(14,vIe,5,2,"div",13),S()()),2&t&&(R(3),F("ngIf","outline"==r.appearance),R(1),F("ngIf",r._prefixChildren.length),R(5),F("ngIf",r._hasFloatingLabel()),R(1),F("ngIf",r._suffixChildren.length),R(1),F("ngIf","outline"!=r.appearance),R(1),F("ngSwitch",r._getDisplayedMessages()),R(1),F("ngSwitchCase","error"),R(1),F("ngSwitchCase","hint"))},dependencies:[Kr,Oh,qH,xE],styles:[".mat-form-field{display:inline-block;position:relative;text-align:left}[dir=rtl] .mat-form-field{text-align:right}.mat-form-field-wrapper{position:relative}.mat-form-field-flex{display:inline-flex;align-items:baseline;box-sizing:border-box;width:100%}.mat-form-field-prefix,.mat-form-field-suffix{white-space:nowrap;flex:none;position:relative}.mat-form-field-infix{display:block;position:relative;flex:auto;min-width:0;width:180px}.cdk-high-contrast-active .mat-form-field-infix{border-image:linear-gradient(transparent, transparent)}.mat-form-field-label-wrapper{position:absolute;left:0;box-sizing:content-box;width:100%;height:100%;overflow:hidden;pointer-events:none}[dir=rtl] .mat-form-field-label-wrapper{left:auto;right:0}.mat-form-field-label{position:absolute;left:0;font:inherit;pointer-events:none;width:100%;white-space:nowrap;text-overflow:ellipsis;overflow:hidden;transform-origin:0 0;transition:transform 400ms cubic-bezier(0.25, 0.8, 0.25, 1),color 400ms cubic-bezier(0.25, 0.8, 0.25, 1),width 400ms cubic-bezier(0.25, 0.8, 0.25, 1);display:none}[dir=rtl] .mat-form-field-label{transform-origin:100% 0;left:auto;right:0}.mat-form-field-empty.mat-form-field-label,.mat-form-field-can-float.mat-form-field-should-float .mat-form-field-label{display:block}.mat-form-field-autofill-control:-webkit-autofill+.mat-form-field-label-wrapper .mat-form-field-label{display:none}.mat-form-field-can-float .mat-form-field-autofill-control:-webkit-autofill+.mat-form-field-label-wrapper .mat-form-field-label{display:block;transition:none}.mat-input-server:focus+.mat-form-field-label-wrapper .mat-form-field-label,.mat-input-server[placeholder]:not(:placeholder-shown)+.mat-form-field-label-wrapper .mat-form-field-label{display:none}.mat-form-field-can-float .mat-input-server:focus+.mat-form-field-label-wrapper .mat-form-field-label,.mat-form-field-can-float .mat-input-server[placeholder]:not(:placeholder-shown)+.mat-form-field-label-wrapper .mat-form-field-label{display:block}.mat-form-field-label:not(.mat-form-field-empty){transition:none}.mat-form-field-underline{position:absolute;width:100%;pointer-events:none;transform:scale3d(1, 1.0001, 1)}.mat-form-field-ripple{position:absolute;left:0;width:100%;transform-origin:50%;transform:scaleX(0.5);opacity:0;transition:background-color 300ms cubic-bezier(0.55, 0, 0.55, 0.2)}.mat-form-field.mat-focused .mat-form-field-ripple,.mat-form-field.mat-form-field-invalid .mat-form-field-ripple{opacity:1;transform:none;transition:transform 300ms cubic-bezier(0.25, 0.8, 0.25, 1),opacity 100ms cubic-bezier(0.25, 0.8, 0.25, 1),background-color 300ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-subscript-wrapper{position:absolute;box-sizing:border-box;width:100%;overflow:hidden}.mat-form-field-subscript-wrapper .mat-icon,.mat-form-field-label-wrapper .mat-icon{width:1em;height:1em;font-size:inherit;vertical-align:baseline}.mat-form-field-hint-wrapper{display:flex}.mat-form-field-hint-spacer{flex:1 0 1em}.mat-error{display:block}.mat-form-field-control-wrapper{position:relative}.mat-form-field-hint-end{order:1}.mat-form-field._mat-animation-noopable .mat-form-field-label,.mat-form-field._mat-animation-noopable .mat-form-field-ripple{transition:none}\n",'.mat-form-field-appearance-fill .mat-form-field-flex{border-radius:4px 4px 0 0;padding:.75em .75em 0 .75em}.cdk-high-contrast-active .mat-form-field-appearance-fill .mat-form-field-flex{outline:solid 1px}.cdk-high-contrast-active .mat-form-field-appearance-fill.mat-focused .mat-form-field-flex{outline:dashed 3px}.mat-form-field-appearance-fill .mat-form-field-underline::before{content:"";display:block;position:absolute;bottom:0;height:1px;width:100%}.mat-form-field-appearance-fill .mat-form-field-ripple{bottom:0;height:2px}.cdk-high-contrast-active .mat-form-field-appearance-fill .mat-form-field-ripple{height:0}.mat-form-field-appearance-fill:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{opacity:1;transform:none;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-fill._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{transition:none}.mat-form-field-appearance-fill .mat-form-field-subscript-wrapper{padding:0 1em}\n','.mat-input-element{font:inherit;background:transparent;color:currentColor;border:none;outline:none;padding:0;margin:0;width:100%;max-width:100%;vertical-align:bottom;text-align:inherit;box-sizing:content-box}.mat-input-element:-moz-ui-invalid{box-shadow:none}.mat-input-element,.mat-input-element::-webkit-search-cancel-button,.mat-input-element::-webkit-search-decoration,.mat-input-element::-webkit-search-results-button,.mat-input-element::-webkit-search-results-decoration{-webkit-appearance:none}.mat-input-element::-webkit-contacts-auto-fill-button,.mat-input-element::-webkit-caps-lock-indicator,.mat-input-element:not([type=password])::-webkit-credentials-auto-fill-button{visibility:hidden}.mat-input-element[type=date],.mat-input-element[type=datetime],.mat-input-element[type=datetime-local],.mat-input-element[type=month],.mat-input-element[type=week],.mat-input-element[type=time]{line-height:1}.mat-input-element[type=date]::after,.mat-input-element[type=datetime]::after,.mat-input-element[type=datetime-local]::after,.mat-input-element[type=month]::after,.mat-input-element[type=week]::after,.mat-input-element[type=time]::after{content:" ";white-space:pre;width:1px}.mat-input-element::-webkit-inner-spin-button,.mat-input-element::-webkit-calendar-picker-indicator,.mat-input-element::-webkit-clear-button{font-size:.75em}.mat-input-element::placeholder{-webkit-user-select:none;-moz-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element::-moz-placeholder{-webkit-user-select:none;-moz-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element::-webkit-input-placeholder{-webkit-user-select:none;-moz-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element:-ms-input-placeholder{-webkit-user-select:none;-moz-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-hide-placeholder .mat-input-element::placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element::placeholder{opacity:0}.mat-form-field-hide-placeholder .mat-input-element::-moz-placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element::-moz-placeholder{opacity:0}.mat-form-field-hide-placeholder .mat-input-element::-webkit-input-placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element::-webkit-input-placeholder{opacity:0}.mat-form-field-hide-placeholder .mat-input-element:-ms-input-placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element:-ms-input-placeholder{opacity:0}textarea.mat-input-element{resize:vertical;overflow:auto}textarea.mat-input-element.cdk-textarea-autosize{resize:none}textarea.mat-input-element{padding:2px 0;margin:-2px 0}select.mat-input-element{-moz-appearance:none;-webkit-appearance:none;position:relative;background-color:transparent;display:inline-flex;box-sizing:border-box;padding-top:1em;top:-1em;margin-bottom:-1em}select.mat-input-element::-moz-focus-inner{border:0}select.mat-input-element:not(:disabled){cursor:pointer}.mat-form-field-type-mat-native-select .mat-form-field-infix::after{content:"";width:0;height:0;border-left:5px solid transparent;border-right:5px solid transparent;border-top:5px solid;position:absolute;top:50%;right:0;margin-top:-2.5px;pointer-events:none}[dir=rtl] .mat-form-field-type-mat-native-select .mat-form-field-infix::after{right:auto;left:0}.mat-form-field-type-mat-native-select .mat-input-element{padding-right:15px}[dir=rtl] .mat-form-field-type-mat-native-select .mat-input-element{padding-right:0;padding-left:15px}.mat-form-field-type-mat-native-select .mat-form-field-label-wrapper{max-width:calc(100% - 10px)}.mat-form-field-type-mat-native-select.mat-form-field-appearance-outline .mat-form-field-infix::after{margin-top:-5px}.mat-form-field-type-mat-native-select.mat-form-field-appearance-fill .mat-form-field-infix::after{margin-top:-10px}\n',".mat-form-field-appearance-legacy .mat-form-field-label{transform:perspective(100px)}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon{width:1em}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon-button,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon-button{font:inherit;vertical-align:baseline}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon-button .mat-icon{font-size:inherit}.mat-form-field-appearance-legacy .mat-form-field-underline{height:1px}.cdk-high-contrast-active .mat-form-field-appearance-legacy .mat-form-field-underline{height:0;border-top:solid 1px}.mat-form-field-appearance-legacy .mat-form-field-ripple{top:0;height:2px;overflow:hidden}.cdk-high-contrast-active .mat-form-field-appearance-legacy .mat-form-field-ripple{height:0;border-top:solid 2px}.mat-form-field-appearance-legacy.mat-form-field-disabled .mat-form-field-underline{background-position:0;background-color:transparent}.cdk-high-contrast-active .mat-form-field-appearance-legacy.mat-form-field-disabled .mat-form-field-underline{border-top-style:dotted;border-top-width:2px}.mat-form-field-appearance-legacy.mat-form-field-invalid:not(.mat-focused) .mat-form-field-ripple{height:1px}\n",".mat-form-field-appearance-outline .mat-form-field-wrapper{margin:.25em 0}.mat-form-field-appearance-outline .mat-form-field-flex{padding:0 .75em 0 .75em;margin-top:-0.25em;position:relative}.mat-form-field-appearance-outline .mat-form-field-prefix,.mat-form-field-appearance-outline .mat-form-field-suffix{top:.25em}.mat-form-field-appearance-outline .mat-form-field-outline{display:flex;position:absolute;top:.25em;left:0;right:0;bottom:0;pointer-events:none}.mat-form-field-appearance-outline .mat-form-field-outline-start,.mat-form-field-appearance-outline .mat-form-field-outline-end{border:1px solid currentColor;min-width:5px}.mat-form-field-appearance-outline .mat-form-field-outline-start{border-radius:5px 0 0 5px;border-right-style:none}[dir=rtl] .mat-form-field-appearance-outline .mat-form-field-outline-start{border-right-style:solid;border-left-style:none;border-radius:0 5px 5px 0}.mat-form-field-appearance-outline .mat-form-field-outline-end{border-radius:0 5px 5px 0;border-left-style:none;flex-grow:1}[dir=rtl] .mat-form-field-appearance-outline .mat-form-field-outline-end{border-left-style:solid;border-right-style:none;border-radius:5px 0 0 5px}.mat-form-field-appearance-outline .mat-form-field-outline-gap{border-radius:.000001px;border:1px solid currentColor;border-left-style:none;border-right-style:none}.mat-form-field-appearance-outline.mat-form-field-can-float.mat-form-field-should-float .mat-form-field-outline-gap{border-top-color:transparent}.mat-form-field-appearance-outline .mat-form-field-outline-thick{opacity:0}.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-start,.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-end,.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-gap{border-width:2px}.mat-form-field-appearance-outline.mat-focused .mat-form-field-outline,.mat-form-field-appearance-outline.mat-form-field-invalid .mat-form-field-outline{opacity:0;transition:opacity 100ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-outline.mat-focused .mat-form-field-outline-thick,.mat-form-field-appearance-outline.mat-form-field-invalid .mat-form-field-outline-thick{opacity:1}.cdk-high-contrast-active .mat-form-field-appearance-outline.mat-focused .mat-form-field-outline-thick{border:3px dashed}.mat-form-field-appearance-outline:not(.mat-form-field-disabled) .mat-form-field-flex:hover .mat-form-field-outline{opacity:0;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-outline:not(.mat-form-field-disabled) .mat-form-field-flex:hover .mat-form-field-outline-thick{opacity:1}.mat-form-field-appearance-outline .mat-form-field-subscript-wrapper{padding:0 1em}.mat-form-field-appearance-outline._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-outline,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-start,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-end,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-gap{transition:none}\n",".mat-form-field-appearance-standard .mat-form-field-flex{padding-top:.75em}.mat-form-field-appearance-standard .mat-form-field-underline{height:1px}.cdk-high-contrast-active .mat-form-field-appearance-standard .mat-form-field-underline{height:0;border-top:solid 1px}.mat-form-field-appearance-standard .mat-form-field-ripple{bottom:0;height:2px}.cdk-high-contrast-active .mat-form-field-appearance-standard .mat-form-field-ripple{height:0;border-top:solid 2px}.mat-form-field-appearance-standard.mat-form-field-disabled .mat-form-field-underline{background-position:0;background-color:transparent}.cdk-high-contrast-active .mat-form-field-appearance-standard.mat-form-field-disabled .mat-form-field-underline{border-top-style:dotted;border-top-width:2px}.mat-form-field-appearance-standard:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{opacity:1;transform:none;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-standard._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{transition:none}\n"],encapsulation:2,data:{animation:[EIe.transitionMessages]},changeDetection:0}),n})(),Gp=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=te({type:n}),n.\u0275inj=ee({imports:[[fu,at,PI],at]}),n})();const r8=nf({passive:!0});let kIe=(()=>{class n{constructor(t,r){this._platform=t,this._ngZone=r,this._monitoredElements=new Map}monitor(t){if(!this._platform.isBrowser)return Ji;const r=ao(t),i=this._monitoredElements.get(r);if(i)return i.subject;const s=new Le,o="cdk-text-field-autofilled",a=l=>{"cdk-text-field-autofill-start"!==l.animationName||r.classList.contains(o)?"cdk-text-field-autofill-end"===l.animationName&&r.classList.contains(o)&&(r.classList.remove(o),this._ngZone.run(()=>s.next({target:l.target,isAutofilled:!1}))):(r.classList.add(o),this._ngZone.run(()=>s.next({target:l.target,isAutofilled:!0})))};return this._ngZone.runOutsideAngular(()=>{r.addEventListener("animationstart",a,r8),r.classList.add("cdk-text-field-autofill-monitored")}),this._monitoredElements.set(r,{subject:s,unlisten:()=>{r.removeEventListener("animationstart",a,r8)}}),s}stopMonitoring(t){const r=ao(t),i=this._monitoredElements.get(r);i&&(i.unlisten(),i.subject.complete(),r.classList.remove("cdk-text-field-autofill-monitored"),r.classList.remove("cdk-text-field-autofilled"),this._monitoredElements.delete(r))}ngOnDestroy(){this._monitoredElements.forEach((t,r)=>this.stopMonitoring(r))}}return n.\u0275fac=function(t){return new(t||n)(w(Yr),w(se))},n.\u0275prov=V({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),s8=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=te({type:n}),n.\u0275inj=ee({imports:[[W_]]}),n})();const RIe=new N("MAT_INPUT_VALUE_ACCESSOR"),PIe=["button","checkbox","file","hidden","image","radio","range","reset","submit"];let OIe=0;const NIe=Nce(class{constructor(n,e,t,r){this._defaultErrorStateMatcher=n,this._parentForm=e,this._parentFormGroup=t,this.ngControl=r}});let mb=(()=>{class n extends NIe{constructor(t,r,i,s,o,a,l,c,u,d){super(a,s,o,i),this._elementRef=t,this._platform=r,this._autofillMonitor=c,this._formField=d,this._uid="mat-input-"+OIe++,this.focused=!1,this.stateChanges=new Le,this.controlType="mat-input",this.autofilled=!1,this._disabled=!1,this._type="text",this._readonly=!1,this._neverEmptyInputTypes=["date","datetime","datetime-local","month","time","week"].filter(p=>GH().has(p));const h=this._elementRef.nativeElement,f=h.nodeName.toLowerCase();this._inputValueAccessor=l||h,this._previousNativeValue=this.value,this.id=this.id,r.IOS&&u.runOutsideAngular(()=>{t.nativeElement.addEventListener("keyup",p=>{const m=p.target;!m.value&&0===m.selectionStart&&0===m.selectionEnd&&(m.setSelectionRange(1,1),m.setSelectionRange(0,0))})}),this._isServer=!this._platform.isBrowser,this._isNativeSelect="select"===f,this._isTextarea="textarea"===f,this._isInFormField=!!d,this._isNativeSelect&&(this.controlType=h.multiple?"mat-native-select-multiple":"mat-native-select")}get disabled(){return this.ngControl&&null!==this.ngControl.disabled?this.ngControl.disabled:this._disabled}set disabled(t){this._disabled=pr(t),this.focused&&(this.focused=!1,this.stateChanges.next())}get id(){return this._id}set id(t){this._id=t||this._uid}get required(){return this._required??this.ngControl?.control?.hasValidator(Gi.required)??!1}set required(t){this._required=pr(t)}get type(){return this._type}set type(t){this._type=t||"text",this._validateType(),!this._isTextarea&&GH().has(this._type)&&(this._elementRef.nativeElement.type=this._type)}get value(){return this._inputValueAccessor.value}set value(t){t!==this.value&&(this._inputValueAccessor.value=t,this.stateChanges.next())}get readonly(){return this._readonly}set readonly(t){this._readonly=pr(t)}ngAfterViewInit(){this._platform.isBrowser&&this._autofillMonitor.monitor(this._elementRef.nativeElement).subscribe(t=>{this.autofilled=t.isAutofilled,this.stateChanges.next()})}ngOnChanges(){this.stateChanges.next()}ngOnDestroy(){this.stateChanges.complete(),this._platform.isBrowser&&this._autofillMonitor.stopMonitoring(this._elementRef.nativeElement)}ngDoCheck(){this.ngControl&&this.updateErrorState(),this._dirtyCheckNativeValue(),this._dirtyCheckPlaceholder()}focus(t){this._elementRef.nativeElement.focus(t)}_focusChanged(t){t!==this.focused&&(this.focused=t,this.stateChanges.next())}_onInput(){}_dirtyCheckPlaceholder(){const t=this._formField?._hideControlPlaceholder?.()?null:this.placeholder;if(t!==this._previousPlaceholder){const r=this._elementRef.nativeElement;this._previousPlaceholder=t,t?r.setAttribute("placeholder",t):r.removeAttribute("placeholder")}}_dirtyCheckNativeValue(){const t=this._elementRef.nativeElement.value;this._previousNativeValue!==t&&(this._previousNativeValue=t,this.stateChanges.next())}_validateType(){PIe.indexOf(this._type)}_isNeverEmpty(){return this._neverEmptyInputTypes.indexOf(this._type)>-1}_isBadInput(){let t=this._elementRef.nativeElement.validity;return t&&t.badInput}get empty(){return!(this._isNeverEmpty()||this._elementRef.nativeElement.value||this._isBadInput()||this.autofilled)}get shouldLabelFloat(){if(this._isNativeSelect){const t=this._elementRef.nativeElement,r=t.options[0];return this.focused||t.multiple||!this.empty||!!(t.selectedIndex>-1&&r&&r.label)}return this.focused||!this.empty}setDescribedByIds(t){t.length?this._elementRef.nativeElement.setAttribute("aria-describedby",t.join(" ")):this._elementRef.nativeElement.removeAttribute("aria-describedby")}onContainerClick(){this.focused||this.focus()}_isInlineSelect(){const t=this._elementRef.nativeElement;return this._isNativeSelect&&(t.multiple||t.size>1)}}return n.\u0275fac=function(t){return new(t||n)(y(Ze),y(Yr),y(Ao,10),y(Bp,8),y(nc,8),y(s$),y(RIe,10),y(kIe),y(se),y(n8,8))},n.\u0275dir=q({type:n,selectors:[["input","matInput",""],["textarea","matInput",""],["select","matNativeControl",""],["input","matNativeControl",""],["textarea","matNativeControl",""]],hostAttrs:[1,"mat-input-element","mat-form-field-autofill-control"],hostVars:11,hostBindings:function(t,r){1&t&&ye("focus",function(){return r._focusChanged(!0)})("blur",function(){return r._focusChanged(!1)})("input",function(){return r._onInput()}),2&t&&(Pg("disabled",r.disabled)("required",r.required),ft("id",r.id)("data-placeholder",r.placeholder)("readonly",r.readonly&&!r._isNativeSelect||null)("aria-invalid",r.empty&&r.required?null:r.errorState)("aria-required",r.required),Vt("mat-input-server",r._isServer)("mat-native-select-inline",r._isInlineSelect()))},inputs:{disabled:"disabled",id:"id",placeholder:"placeholder",required:"required",type:"type",errorStateMatcher:"errorStateMatcher",userAriaDescribedBy:["aria-describedby","userAriaDescribedBy"],value:"value",readonly:"readonly"},exportAs:["matInput"],features:[$e([{provide:CR,useExisting:n}]),Te,lr]}),n})(),FIe=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=te({type:n}),n.\u0275inj=ee({providers:[s$],imports:[[s8,Gp,at],s8,Gp]}),n})();function LIe(n,e){1&n&&(C(0,"mat-error"),D(1,"\u043e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u043e\u0435 \u043f\u043e\u043b\u0435"),S())}function VIe(n,e){1&n&&(C(0,"mat-error"),D(1,"email \u043d\u0435\u043a\u043e\u0440\u0440\u0435\u043a\u0442\u043d\u044b\u0439"),S())}function BIe(n,e){1&n&&(C(0,"mat-error"),D(1,"\u043f\u0430\u0440\u043e\u043b\u044c \u043d\u0435\u043a\u043e\u0440\u0440\u0435\u043a\u0442\u043d\u044b\u0439"),S())}let UIe=(()=>{class n{constructor(t,r,i){this.router=t,this.auth=r,this.toast=i,this.hide=!0,this.loginForm=new Ea({email:new _n("",[Gi.required,Gi.email]),password:new _n("",[Gi.required])})}ngOnInit(){}goToSign(){this.router.navigate(["/signup"])}get email(){return this.loginForm.get("email")}get password(){return this.loginForm.get("password")}Submit(){const{email:t,password:r}=this.loginForm.value;!this.loginForm.valid||!t||!r||this.auth.login(t,r).pipe(this.toast.observe({success:"\u0412\u0445\u043e\u0434 \u0432\u044b\u043f\u043e\u043b\u043d\u0435\u043d \u0443\u0441\u043f\u0435\u0448\u043d\u043e",loading:"\u0417\u0430\u0433\u0440\u0443\u0437\u043a\u0430...",error:({message:i})=>`\u041f\u0440\u043e\u0438\u0437\u043e\u0448\u043b\u0430 \u043e\u0448\u0438\u0431\u043a\u0430: ${i} `})).subscribe(()=>{this.router.navigate(["/"])})}goToForgot(){this.router.navigate(["/reset"])}}return n.\u0275fac=function(t){return new(t||n)(y(Ht),y(Lu),y(vR))},n.\u0275cmp=Ye({type:n,selectors:[["app-login"]],decls:25,vars:8,consts:[[1,"login-container"],[1,"form",3,"formGroup","ngSubmit"],["matInput","","placeholder","Email adress","formControlName","email","type","text"],[4,"ngIf"],["appearance","fill"],["matInput","","formControlName","password",3,"type"],["align","end",1,"forgot-password",3,"click"],["mat-icon-button","","matSuffix","",3,"click"],[1,"center","margin-top"],["mat-raised-button","","color","primary","type","submit"],[1,"link",3,"click"]],template:function(t,r){1&t&&(C(0,"div",0)(1,"h1"),D(2,"Login"),S(),C(3,"form",1),ye("ngSubmit",function(){return r.Submit()}),C(4,"mat-form-field"),he(5,"input",2),Z(6,LIe,2,0,"mat-error",3),Z(7,VIe,2,0,"mat-error",3),S(),C(8,"mat-form-field",4)(9,"mat-label"),D(10,"Enter your password"),S(),he(11,"input",5),Z(12,BIe,2,0,"mat-error",3),C(13,"mat-hint",6),ye("click",function(){return r.goToForgot()}),D(14,"\u0417\u0430\u0431\u044b\u043b\u0438 \u043f\u0430\u0440\u043e\u043b\u044c?"),S(),C(15,"button",7),ye("click",function(){return r.hide=!r.hide}),C(16,"mat-icon"),D(17),S()()(),C(18,"div",8)(19,"button",9),D(20," Login "),S()(),C(21,"span"),D(22," \u0415\u0449\u0435 \u043d\u0435 \u0437\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u043b\u0438\u0441\u044c? "),C(23,"a",10),ye("click",function(){return r.goToSign()}),D(24," \u0420\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u044f..."),S()()()()),2&t&&(R(3),F("formGroup",r.loginForm),R(3),F("ngIf",null==r.email||null==r.email.errors?null:r.email.errors.required),R(1),F("ngIf",null==r.email||null==r.email.errors?null:r.email.errors.email),R(4),F("type",r.hide?"password":"text"),R(1),F("ngIf",null==r.password||null==r.password.errors?null:r.password.errors.required),R(3),ft("aria-label","Hide password")("aria-pressed",r.hide),R(2),Xn(r.hide?"visibility_off":"visibility"))},dependencies:[Kr,ry,gl,wR,pb,TIe,zp,J5,mb,Up,tc,Pp,Op,nc,Hp],styles:[".login-container[_ngcontent-%COMP%]{display:block;max-width:500px;margin:auto;background:#eceff1;padding:48px;border-radius:16px}.login-container[_ngcontent-%COMP%]   mat-form-field[_ngcontent-%COMP%]{width:100%}.center[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin-bottom:16px}.link[_ngcontent-%COMP%]{font-size:1.2em;color:#00f;cursor:pointer;transition:all .6s}.link[_ngcontent-%COMP%]:hover{color:#ee0c0c}.forgot-password[_ngcontent-%COMP%]{cursor:pointer;font-size:1.3em;transition:all .3s;color:#00f}.forgot-password[_ngcontent-%COMP%]:hover{color:#8a2be2}"]}),n})();function HIe(n,e){1&n&&(C(0,"mat-error"),D(1,"email \u043d\u0435\u043a\u043e\u0440\u0440\u0435\u043a\u0442\u043d\u044b\u0439"),S())}function $Ie(n,e){1&n&&(C(0,"mat-error"),D(1,"email \u043d\u0435\u043a\u043e\u0440\u0440\u0435\u043a\u0442\u043d\u044b\u0439"),S())}function jIe(n,e){1&n&&(C(0,"mat-error"),D(1,"\u043f\u0430\u0440\u043e\u043b\u044c \u043d\u0435\u043a\u043e\u0440\u0440\u0435\u043a\u0442\u043d\u044b\u0439"),S())}function zIe(n,e){1&n&&(C(0,"mat-error"),D(1,"\u043f\u0430\u0440\u043e\u043b\u044c \u043d\u0435\u043a\u043e\u0440\u0440\u0435\u043a\u0442\u043d\u044b\u0439"),S())}function GIe(n,e){1&n&&(C(0,"mat-error"),D(1," \u041f\u0430\u0440\u043e\u043b\u0438 \u043d\u0435 \u0441\u043e\u0432\u043f\u0430\u0434\u0430\u044e\u0442 "),S())}let qIe=(()=>{class n{constructor(t,r,i,s){this.auth=t,this.toast=r,this.router=i,this.userService=s,this.signUpForm=new Ea({name:new _n("",[Gi.required]),email:new _n("",[Gi.required,Gi.email]),password:new _n("",[Gi.required,Gi.minLength(6)]),confirmPassword:new _n("",[Gi.required,Gi.minLength(6)])},{validators:n=>{const e=n.get("password")?.value,t=n.get("confirmPassword")?.value;return e&&t&&e!==t?{passwordsDontMatch:!0}:null}})}ngOnInit(){}get name(){return this.signUpForm.get("name")}get email(){return this.signUpForm.get("email")}get password(){return this.signUpForm.get("password")}get confirmPassword(){return this.signUpForm.get("confirmPassword")}submit(){const{name:t,email:r,password:i}=this.signUpForm.value;!this.signUpForm.valid||!t||!i||!r||this.auth.signUp(r,i).pipe(On(({user:{uid:s}})=>this.userService.addUser({uid:s,email:r,displayName:t})),this.toast.observe({success:"\u041f\u043e\u0437\u0434\u0440\u0430\u0432\u043b\u044f\u0435\u043c \u0441 \u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u0435\u0439",loading:"\u0420\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u044f...",error:({message:s})=>`${s}`})).subscribe(()=>{this.router.navigate(["/"])})}}return n.\u0275fac=function(t){return new(t||n)(y(Lu),y(vR),y(Ht),y(Qk))},n.\u0275cmp=Ye({type:n,selectors:[["app-signup"]],decls:20,vars:6,consts:[[1,"signup-container"],[1,"form",3,"formGroup","ngSubmit"],["matInput","","placeholder","\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0438\u043c\u044f","formControlName","name","type","text"],[4,"ngIf"],["matInput","","placeholder","Email adress","formControlName","email","type","text"],["matInput","","placeholder","\u043f\u0440\u0438\u0434\u0443\u043c\u0430\u0439\u0442\u0435 \u043f\u0430\u0440\u043e\u043b\u044c","formControlName","password","type","password"],["matInput","","placeholder","\u041f\u043e\u0432\u0442\u043e\u0440\u0438\u0442\u0435 \u043f\u0430\u0440\u043e\u043b\u044c","formControlName","confirmPassword","type","password"],[1,"center","margin-top"],["mat-raised-button","","color","primary","type","submit"]],template:function(t,r){1&t&&(C(0,"div",0)(1,"h1"),D(2,"\u0420\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u044f"),S(),C(3,"form",1),ye("ngSubmit",function(){return r.submit()}),C(4,"mat-form-field"),he(5,"input",2),Z(6,HIe,2,0,"mat-error",3),S(),C(7,"mat-form-field"),he(8,"input",4),Z(9,$Ie,2,0,"mat-error",3),S(),C(10,"mat-form-field"),he(11,"input",5),Z(12,jIe,2,0,"mat-error",3),S(),C(13,"mat-form-field"),he(14,"input",6),Z(15,zIe,2,0,"mat-error",3),S(),Z(16,GIe,2,0,"mat-error",3),C(17,"div",7)(18,"button",8),D(19," \u0417\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u0442\u044c\u0441\u044f "),S()()()()),2&t&&(R(3),F("formGroup",r.signUpForm),R(3),F("ngIf",null==r.name||null==r.name.errors?null:r.name.errors.required),R(3),F("ngIf",null==r.email||null==r.email.errors?null:r.email.errors.required),R(3),F("ngIf",null==r.password||null==r.password.errors?null:r.password.errors.required),R(3),F("ngIf",null==r.confirmPassword||null==r.confirmPassword.errors?null:r.confirmPassword.errors.required),R(1),F("ngIf",null==r.signUpForm.errors?null:r.signUpForm.errors.passwordsDontMatch))},dependencies:[Kr,gl,wR,pb,mb,Up,tc,Pp,Op,nc,Hp],styles:[".signup-container[_ngcontent-%COMP%]{display:block;max-width:500px;margin:auto;background:#eceff1;padding:48px;border-radius:16px}.signup-container[_ngcontent-%COMP%]   mat-form-field[_ngcontent-%COMP%]{width:100%}"]}),n})();const ER=re(n=>!!n);let KIe=(()=>{class n{constructor(t,r){this.router=t,this.auth=r,this.canActivate=(i,s)=>{const o=i.data.authGuardPipe||(()=>ER);return pye(this.auth).pipe(Dr(1),o(i,s),re(a=>"boolean"==typeof a?a:Array.isArray(a)?this.router.createUrlTree(a):this.router.parseUrl(a)))}}}return n.\u0275fac=function(t){return new(t||n)(w(Ht),w(Fu))},n.\u0275prov=V({token:n,factory:n.\u0275fac,providedIn:"any"}),n})();const o8=n=>({canActivate:[KIe],data:{authGuardPipe:n}}),a8="firebasestorage.googleapis.com",l8="storageBucket";class Pt extends Xr{constructor(e,t,r=0){super(IR(e),`Firebase Storage: ${t} (${IR(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Pt.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return IR(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.message=this.customData.serverResponse?`${this._baseMessage}\n${this.customData.serverResponse}`:this._baseMessage}}function IR(n){return"storage/"+n}function TR(){return new Pt("unknown","An unknown error occurred, please check the error payload for server response.")}function SR(n){return new Pt("invalid-argument",n)}function h8(){return new Pt("app-deleted","The Firebase app was deleted.")}function Wp(n,e){return new Pt("invalid-format","String does not match format '"+n+"': "+e)}function qp(n){throw new Pt("internal-error","Internal error: "+n)}class br{constructor(e,t){this.bucket=e,this.path_=t}get path(){return this.path_}get isRoot(){return 0===this.path.length}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,t){let r;try{r=br.makeFromUrl(e,t)}catch{return new br(e,"")}if(""===r.path)return r;throw function oTe(n){return new Pt("invalid-default-bucket","Invalid default bucket '"+n+"'.")}(e)}static makeFromUrl(e,t){let r=null;const i="([A-Za-z0-9.\\-_]+)",a=new RegExp("^gs://"+i+"(/(.*))?$","i");function c(M){M.path_=decodeURIComponent(M.path)}const d=t.replace(/[.]/g,"\\."),v=[{regex:a,indices:{bucket:1,path:3},postModify:function s(M){"/"===M.path.charAt(M.path.length-1)&&(M.path_=M.path_.slice(0,-1))}},{regex:new RegExp(`^https?://${d}/v[A-Za-z0-9_]+/b/${i}/o(/([^?#]*).*)?$`,"i"),indices:{bucket:1,path:3},postModify:c},{regex:new RegExp(`^https?://${t===a8?"(?:storage.googleapis.com|storage.cloud.google.com)":t}/${i}/([^?#]*)`,"i"),indices:{bucket:1,path:2},postModify:c}];for(let M=0;M<v.length;M++){const L=v[M],U=L.regex.exec(e);if(U){let ct=U[L.indices.path];ct||(ct=""),r=new br(U[L.indices.bucket],ct),L.postModify(r);break}}if(null==r)throw function sTe(n){return new Pt("invalid-url","Invalid URL '"+n+"'.")}(e);return r}}class hTe{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}function gb(n){return"string"==typeof n||n instanceof String}function f8(n){return DR()&&n instanceof Blob}function DR(){return typeof Blob<"u"&&!function w$(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}()}function AR(n,e,t,r){if(r<e)throw SR(`Invalid value for '${n}'. Expected ${e} or greater.`);if(r>t)throw SR(`Invalid value for '${n}'. Expected ${t} or less.`)}function xo(n,e,t){let r=e;return null==t&&(r=`https://${e}`),`${t}://${r}/v0${n}`}function p8(n){const e=encodeURIComponent;let t="?";for(const r in n)n.hasOwnProperty(r)&&(t=t+(e(r)+"=")+e(n[r])+"&");return t=t.slice(0,-1),t}var Ia=(()=>(function(n){n[n.NO_ERROR=0]="NO_ERROR",n[n.NETWORK_ERROR=1]="NETWORK_ERROR",n[n.ABORT=2]="ABORT"}(Ia||(Ia={})),Ia))();class yTe{constructor(e,t,r,i,s,o,a,l,c,u,d,h=!0){this.url_=e,this.method_=t,this.headers_=r,this.body_=i,this.successCodes_=s,this.additionalRetryCodes_=o,this.callback_=a,this.errorCallback_=l,this.timeout_=c,this.progressCallback_=u,this.connectionFactory_=d,this.retry=h,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((f,p)=>{this.resolve_=f,this.reject_=p,this.start_()})}start_(){const t=(r,i)=>{const s=this.resolve_,o=this.reject_,a=i.connection;if(i.wasSuccessCode)try{const l=this.callback_(a,a.getResponse());!function mTe(n){return void 0!==n}(l)?s():s(l)}catch(l){o(l)}else if(null!==a){const l=TR();l.serverResponse=a.getErrorText(),o(this.errorCallback_?this.errorCallback_(a,l):l)}else o(i.canceled?this.appDelete_?h8():function u8(){return new Pt("canceled","User canceled the upload/download.")}():function c8(){return new Pt("retry-limit-exceeded","Max retry time for operation exceeded, please try again.")}())};this.canceled_?t(0,new _b(!1,null,!0)):this.backoffId_=function fTe(n,e,t){let r=1,i=null,s=null,o=!1,a=0;function l(){return 2===a}let c=!1;function u(...g){c||(c=!0,e.apply(null,g))}function d(g){i=setTimeout(()=>{i=null,n(f,l())},g)}function h(){s&&clearTimeout(s)}function f(g,...b){if(c)return void h();if(g)return h(),void u.call(null,g,...b);if(l()||o)return h(),void u.call(null,g,...b);let v;r<64&&(r*=2),1===a?(a=2,v=0):v=1e3*(r+Math.random()),d(v)}let p=!1;function m(g){p||(p=!0,h(),!c&&(null!==i?(g||(a=2),clearTimeout(i),d(0)):g||(a=1)))}return d(0),s=setTimeout(()=>{o=!0,m(!0)},t),m}((r,i)=>{if(i)return void r(!1,new _b(!1,null,!0));const s=this.connectionFactory_();this.pendingConnection_=s;const o=a=>{null!==this.progressCallback_&&this.progressCallback_(a.loaded,a.lengthComputable?a.total:-1)};null!==this.progressCallback_&&s.addUploadProgressListener(o),s.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{null!==this.progressCallback_&&s.removeUploadProgressListener(o),this.pendingConnection_=null;const a=s.getErrorCode()===Ia.NO_ERROR,l=s.getStatus();if((!a||function m8(n,e){const t=n>=500&&n<600,i=-1!==[408,429].indexOf(n),s=-1!==e.indexOf(n);return t||i||s}(l,this.additionalRetryCodes_))&&this.retry){const u=s.getErrorCode()===Ia.ABORT;return void r(!1,new _b(!1,null,u))}const c=-1!==this.successCodes_.indexOf(l);r(!0,new _b(c,s))})},t,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,null!==this.backoffId_&&function pTe(n){n(!1)}(this.backoffId_),null!==this.pendingConnection_&&this.pendingConnection_.abort()}}class _b{constructor(e,t,r){this.wasSuccessCode=e,this.connection=t,this.canceled=!!r}}function TTe(...n){const e=function ITe(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}();if(void 0!==e){const t=new e;for(let r=0;r<n.length;r++)t.append(n[r]);return t.getBlob()}if(DR())return new Blob(n);throw new Pt("unsupported-environment","This browser doesn't seem to support creating Blobs")}class MR{constructor(e,t){this.data=e,this.contentType=t||null}}function _8(n){const e=[];for(let t=0;t<n.length;t++){let r=n.charCodeAt(t);r<=127?e.push(r):r<=2047?e.push(192|r>>6,128|63&r):55296==(64512&r)?t<n.length-1&&56320==(64512&n.charCodeAt(t+1))?(r=65536|(1023&r)<<10|1023&n.charCodeAt(++t),e.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|63&r)):e.push(239,191,189):56320==(64512&r)?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|63&r)}return new Uint8Array(e)}function y8(n,e){switch(n){case"base64":{const i=-1!==e.indexOf("-"),s=-1!==e.indexOf("_");if(i||s)throw Wp(n,"Invalid character '"+(i?"-":"_")+"' found: is it base64url encoded?");break}case"base64url":{const i=-1!==e.indexOf("+"),s=-1!==e.indexOf("/");if(i||s)throw Wp(n,"Invalid character '"+(i?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let t;try{t=function DTe(n){if(typeof atob>"u")throw function uTe(n){return new Pt("unsupported-environment",`${n} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}("base-64");return atob(n)}(e)}catch(i){throw i.message.includes("polyfill")?i:Wp(n,"Invalid character found")}const r=new Uint8Array(t.length);for(let i=0;i<t.length;i++)r[i]=t.charCodeAt(i);return r}class v8{constructor(e){this.base64=!1,this.contentType=null;const t=e.match(/^data:([^,]+)?,/);if(null===t)throw Wp("data_url","Must be formatted 'data:[<mediatype>][;base64],<data>");const r=t[1]||null;null!=r&&(this.base64=function kTe(n,e){return n.length>=e.length&&n.substring(n.length-e.length)===e}(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=e.substring(e.indexOf(",")+1)}}class ko{constructor(e,t){let r=0,i="";f8(e)?(this.data_=e,r=e.size,i=e.type):e instanceof ArrayBuffer?(t?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),r=this.data_.length):e instanceof Uint8Array&&(t?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),r=e.length),this.size_=r,this.type_=i}size(){return this.size_}type(){return this.type_}slice(e,t){if(f8(this.data_)){const i=function STe(n,e,t){return n.webkitSlice?n.webkitSlice(e,t):n.mozSlice?n.mozSlice(e,t):n.slice?n.slice(e,t):null}(this.data_,e,t);return null===i?null:new ko(i)}{const r=new Uint8Array(this.data_.buffer,e,t-e);return new ko(r,!0)}}static getBlob(...e){if(DR()){const t=e.map(r=>r instanceof ko?r.data_:r);return new ko(TTe.apply(null,t))}{const t=e.map(o=>gb(o)?function g8(n,e){switch(n){case"raw":return new MR(_8(e));case"base64":case"base64url":return new MR(y8(n,e));case"data_url":return new MR(function MTe(n){const e=new v8(n);return e.base64?y8("base64",e.rest):function ATe(n){let e;try{e=decodeURIComponent(n)}catch{throw Wp("data_url","Malformed data URL.")}return _8(e)}(e.rest)}(e),function xTe(n){return new v8(n).contentType}(e))}throw TR()}("raw",o).data:o.data_);let r=0;t.forEach(o=>{r+=o.byteLength});const i=new Uint8Array(r);let s=0;return t.forEach(o=>{for(let a=0;a<o.length;a++)i[s++]=o[a]}),new ko(i,!0)}}uploadData(){return this.data_}}function xR(n){let e;try{e=JSON.parse(n)}catch{return null}return function _Te(n){return"object"==typeof n&&!Array.isArray(n)}(e)?e:null}function b8(n){const e=n.lastIndexOf("/",n.length-2);return-1===e?n:n.slice(e+1)}function OTe(n,e){return e}class wr{constructor(e,t,r,i){this.server=e,this.local=t||e,this.writable=!!r,this.xform=i||OTe}}let yb=null;function Kp(){if(yb)return yb;const n=[];n.push(new wr("bucket")),n.push(new wr("generation")),n.push(new wr("metageneration")),n.push(new wr("name","fullPath",!0));const t=new wr("name");t.xform=function e(s,o){return function NTe(n){return!gb(n)||n.length<2?n:b8(n)}(o)},n.push(t);const i=new wr("size");return i.xform=function r(s,o){return void 0!==o?Number(o):o},n.push(i),n.push(new wr("timeCreated")),n.push(new wr("updated")),n.push(new wr("md5Hash",null,!0)),n.push(new wr("cacheControl",null,!0)),n.push(new wr("contentDisposition",null,!0)),n.push(new wr("contentEncoding",null,!0)),n.push(new wr("contentLanguage",null,!0)),n.push(new wr("contentType",null,!0)),n.push(new wr("metadata","customMetadata",!0)),yb=n,yb}function w8(n,e,t){const r=xR(e);return null===r?null:function LTe(n,e,t){const r={type:"file"},i=t.length;for(let s=0;s<i;s++){const o=t[s];r[o.local]=o.xform(r,e[o.server])}return function FTe(n,e){Object.defineProperty(n,"ref",{get:function t(){const s=new br(n.bucket,n.fullPath);return e._makeStorageReference(s)}})}(r,n),r}(n,r,t)}class Ss{constructor(e,t,r,i){this.url=e,this.method=t,this.handler=r,this.timeout=i,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}function Ds(n){if(!n)throw TR()}function wd(n){return function e(t,r){let i;return i=401===t.getStatus()?t.getErrorText().includes("Firebase App Check token is invalid")?function rTe(){return new Pt("unauthorized-app","This app does not have permission to access Firebase Storage on this project.")}():function nTe(){return new Pt("unauthenticated","User is not authenticated, please authenticate using Firebase Authentication and try again.")}():402===t.getStatus()?function tTe(n){return new Pt("quota-exceeded","Quota for bucket '"+n+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}(n.bucket):403===t.getStatus()?function iTe(n){return new Pt("unauthorized","User does not have permission to access '"+n+"'.")}(n.path):r,i.status=t.getStatus(),i.serverResponse=r.serverResponse,i}}function D8(n,e,t,r,i){const s=e.bucketOnlyServerUrl(),o={"X-Goog-Upload-Protocol":"multipart"},l=function a(){let v="";for(let M=0;M<2;M++)v+=Math.random().toString().slice(2);return v}();o["Content-Type"]="multipart/related; boundary="+l;const c=function S8(n,e,t){const r=Object.assign({},t);return r.fullPath=n.path,r.size=e.size(),r.contentType||(r.contentType=function qTe(n,e){return n&&n.contentType||e&&e.type()||"application/octet-stream"}(null,e)),r}(e,r,i),u=function kR(n,e){const t={},r=e.length;for(let i=0;i<r;i++){const s=e[i];s.writable&&(t[s.server]=n[s.local])}return JSON.stringify(t)}(c,t),f=ko.getBlob("--"+l+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+u+"\r\n--"+l+"\r\nContent-Type: "+c.contentType+"\r\n\r\n",r,"\r\n--"+l+"--");if(null===f)throw function d8(){return new Pt("cannot-slice-blob","Cannot slice blob for upload. Please retry the upload.")}();const p={name:c.fullPath},m=xo(s,n.host,n._protocol),b=n.maxUploadRetryTime,E=new Ss(m,"POST",function vb(n,e){return function t(r,i){const s=w8(n,i,e);return Ds(null!==s),s}}(n,t),b);return E.urlParams=p,E.headers=o,E.body=f.uploadData(),E.errorHandler=wd(e),E}class JTe extends class ZTe{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=Ia.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=Ia.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=Ia.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,t,r,i){if(this.sent_)throw qp("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(t,e,!0),void 0!==i)for(const s in i)i.hasOwnProperty(s)&&this.xhr_.setRequestHeader(s,i[s].toString());return void 0!==r?this.xhr_.send(r):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw qp("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw qp("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw qp("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw qp("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",e)}}{initXhr(){this.xhr_.responseType="text"}}function qi(){return new JTe}class sc{constructor(e,t){this._service=e,this._location=t instanceof br?t:br.makeFromUrl(t,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,t){return new sc(e,t)}get root(){const e=new br(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return b8(this._location.path)}get storage(){return this._service}get parent(){const e=function RTe(n){if(0===n.length)return null;const e=n.lastIndexOf("/");return-1===e?"":n.slice(0,e)}(this._location.path);if(null===e)return null;const t=new br(this._location.bucket,e);return new sc(this._service,t)}_throwIfRoot(e){if(""===this._location.path)throw function dTe(n){return new Pt("invalid-root-operation","The operation '"+n+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}(e)}}function hSe(n){n._throwIfRoot("getDownloadURL");const e=function zTe(n,e,t){const i=xo(e.fullServerUrl(),n.host,n._protocol),o=n.maxOperationRetryTime,a=new Ss(i,"GET",function $Te(n,e){return function t(r,i){const s=w8(n,i,e);return Ds(null!==s),function VTe(n,e,t,r){const i=xR(e);if(null===i||!gb(i.downloadTokens))return null;const s=i.downloadTokens;if(0===s.length)return null;const o=encodeURIComponent;return s.split(",").map(c=>{const d=n.fullPath;return xo("/b/"+o(n.bucket)+"/o/"+o(d),t,r)+p8({alt:"media",token:c})})[0]}(s,i,n.host,n._protocol)}}(n,t),o);return a.errorHandler=function Yp(n){const e=wd(n);return function t(r,i){let s=e(r,i);return 404===r.getStatus()&&(s=function eTe(n){return new Pt("object-not-found","Object '"+n+"' does not exist.")}(n.path)),s.serverResponse=i.serverResponse,s}}(e),a}(n.storage,n._location,Kp());return n.storage.makeRequestWithTokens(e,qi).then(t=>{if(null===t)throw function cTe(){return new Pt("no-download-url","The given file does not have any download URLs.")}();return t})}function O8(n,e){if(n instanceof NR){const t=n;if(null==t._bucket)throw function aTe(){return new Pt("no-default-bucket","No default bucket found. Did you set the '"+l8+"' property when initializing the app?")}();const r=new sc(t,t._bucket);return null!=e?O8(r,e):r}return void 0!==e?function P8(n,e){const t=function PTe(n,e){const t=e.split("/").filter(r=>r.length>0).join("/");return 0===n.length?t:n+"/"+t}(n._location.path,e),r=new br(n._location.bucket,t);return new sc(n.storage,r)}(n,e):n}function N8(n,e){const t=e?.[l8];return null==t?null:br.makeFromBucketSpec(t,n)}class NR{constructor(e,t,r,i,s){this.app=e,this._authProvider=t,this._appCheckProvider=r,this._url=i,this._firebaseVersion=s,this._bucket=null,this._host=a8,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=i?br.makeFromBucketSpec(i,this._host):N8(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._bucket=null!=this._url?br.makeFromBucketSpec(this._url,e):N8(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){AR("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){AR("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}_getAuthToken(){var e=this;return _(function*(){if(e._overrideAuthToken)return e._overrideAuthToken;const t=e._authProvider.getImmediate({optional:!0});if(t){const r=yield t.getToken();if(null!==r)return r.accessToken}return null})()}_getAppCheckToken(){var e=this;return _(function*(){const t=e._appCheckProvider.getImmediate({optional:!0});return t?(yield t.getToken()).token:null})()}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new sc(this,e)}_makeRequest(e,t,r,i,s=!0){if(this._deleted)return new hTe(h8());{const o=function ETe(n,e,t,r,i,s,o=!0){const a=p8(n.urlParams),l=n.url+a,c=Object.assign({},n.headers);return function wTe(n,e){e&&(n["X-Firebase-GMPID"]=e)}(c,e),function vTe(n,e){null!==e&&e.length>0&&(n.Authorization="Firebase "+e)}(c,t),function bTe(n,e){n["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}(c,s),function CTe(n,e){null!==e&&(n["X-Firebase-AppCheck"]=e)}(c,r),new yTe(l,n.method,c,n.body,n.successCodes,n.additionalRetryCodes,n.handler,n.errorHandler,n.timeout,n.progressCallback,i,o)}(e,this._appId,r,i,t,this._firebaseVersion,s);return this._requests.add(o),o.getPromise().then(()=>this._requests.delete(o),()=>this._requests.delete(o)),o}}makeRequestWithTokens(e,t){var r=this;return _(function*(){const[i,s]=yield Promise.all([r._getAuthToken(),r._getAppCheckToken()]);return r._makeRequest(e,t,i,s).getPromise()})()}}const F8="@firebase/storage",V8="storage";function ySe(n,e,t){return function x8(n,e,t){n._throwIfRoot("uploadBytes");const r=D8(n.storage,n._location,Kp(),new ko(e,!0),t);return n.storage.makeRequestWithTokens(r,qi).then(i=>({metadata:i,ref:n}))}(n=Ge(n),e,t)}function vSe(n){return hSe(n=Ge(n))}function bSe(n,e){return function gSe(n,e){if(e&&function pSe(n){return/^[A-Za-z]+:\/\//.test(n)}(e)){if(n instanceof NR)return function mSe(n,e){return new sc(n,e)}(n,e);throw SR("To use ref(service, url), the first argument must be a Storage instance.")}return O8(n,e)}(n=Ge(n),e)}function wSe(n=fs(),e){const r=Ar(n=Ge(n),V8).getImmediate({identifier:e}),i=ly("storage");return i&&function CSe(n,e,t,r={}){!function _Se(n,e,t,r={}){n.host=`${e}:${t}`,n._protocol="http";const{mockUserToken:i}=r;i&&(n._overrideAuthToken="string"==typeof i?i:GI(i,n.app.options.projectId))}(n,e,t,r)}(r,...i),r}function ESe(n,{instanceIdentifier:e}){const t=n.getProvider("app").getImmediate(),r=n.getProvider("auth-internal"),i=n.getProvider("app-check-internal");return new NR(t,r,i,e,na)}!function ISe(){hn(new rn(V8,ESe,"PUBLIC").setMultipleInstances(!0)),Ae(F8,"0.9.14",""),Ae(F8,"0.9.14","esm2017")}();class wb{constructor(e){return e}}const B8="storage",FR=new N("angularfire2.storage-instances");function DSe(n){return(e,t)=>{const r=e.runOutsideAngular(()=>n(t));return new wb(r)}}const ASe={provide:class TSe{constructor(){return ms(B8)}},deps:[[new Ie,FR]]},MSe={provide:wb,useFactory:function SSe(n,e){const t=ps(B8,n,e);return t&&new wb(t)},deps:[[new Ie,FR],ei]};let xSe=(()=>{class n{constructor(){Ae("angularfire",Jr.full,"gcs")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=te({type:n}),n.\u0275inj=ee({providers:[MSe,ASe]}),n})();function kSe(n,...e){return{ngModule:xSe,providers:[{provide:FR,useFactory:DSe(n),multi:!0,deps:[se,Je,gs,_s,[new Ie,Rf],[new Ie,Pu],...e]}]}}const RSe=kt(vSe,!0),PSe=kt(wSe,!0),OSe=kt(bSe,!0),NSe=kt(ySe,!0);let FSe=(()=>{class n{constructor(t){this.storage=t}uploadImage(t,r){const i=OSe(this.storage,r);return ut(NSe(i,t)).pipe(On(o=>RSe(o.ref)))}}return n.\u0275fac=function(t){return new(t||n)(w(wb))},n.\u0275prov=V({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function LSe(n,e){if(1&n){const t=Oi();C(0,"div",1)(1,"h1"),D(2,"\u041c\u043e\u0439 \u043f\u0440\u043e\u0444\u0438\u043b\u044c"),S(),C(3,"div",2),he(4,"img",3),C(5,"button",4),ye("click",function(){return Dt(t),At(Gt(9).click())}),C(6,"mat-icon"),D(7,"edit"),S()()(),C(8,"input",5,6),ye("change",function(i){const o=Dt(t).ngIf;return At(X().uploadImage(i,o))}),S(),C(10,"form",7),ye("ngSubmit",function(){return Dt(t),At(X().saveProfile())}),C(11,"div",8)(12,"mat-form-field"),he(13,"input",9),S(),C(14,"mat-form-field"),he(15,"input",10),S()(),C(16,"div",8)(17,"mat-form-field"),he(18,"input",11),S(),C(19,"mat-form-field")(20,"mat-label"),D(21,"Telephone"),S(),C(22,"span",12),D(23,"+994 \xa0"),S(),he(24,"input",13),C(25,"mat-icon",14),D(26,"mode_edit"),S()()(),C(27,"mat-form-field"),he(28,"input",15),S(),C(29,"button",16),D(30," \u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c "),S()()()}if(2&n){const t=e.ngIf,r=X();let i;R(4),F("src",null!==(i=t.photoURL)&&void 0!==i?i:"assets/images/image-placeholder.png",Qa),R(6),F("formGroup",r.profileForm)}}let VSe=(()=>{class n{constructor(t,r,i){this.auth=t,this.imageService=r,this.toast=i,this.user$=this.auth.currentUser$,this.profileForm=new Ea({uid:new _n(""),email:new _n(""),firstName:new _n(""),lastName:new _n(""),displayName:new _n(""),phone:new _n(""),address:new _n(""),photoURL:new _n("")})}ngOnInit(){}uploadImage(t,r){this.imageService.uploadImage(t.target.files[0],`images/profile/${r.uid}`).pipe(this.toast.observe({success:"\u0417\u0430\u0433\u0440\u0443\u0437\u043a\u0430 \u0432\u044b\u043f\u043e\u043b\u043d\u0435\u043d\u0430 \u0443\u0441\u043f\u0435\u0448\u043d\u043e.",loading:"\u0417\u0430\u0433\u0440\u0443\u0437\u043a\u0430...",error:"\u041f\u0440\u043e\u0438\u0437\u043e\u0448\u043b\u0430 \u043e\u0448\u0438\u0431\u043a\u0430."}),us(i=>this.auth.updateProfileData({photoURL:i}))).subscribe()}saveProfile(){}}return n.\u0275fac=function(t){return new(t||n)(y(Lu),y(FSe),y(vR))},n.\u0275cmp=Ye({type:n,selectors:[["app-profile"]],decls:2,vars:3,consts:[["class","form-container mat-elevation-z5 text-center",4,"ngIf"],[1,"form-container","mat-elevation-z5","text-center"],[1,"profile-image"],["width","120","height","120",3,"src"],["mat-mini-fab","",3,"click"],["type","file","hidden","",3,"change"],["inputField",""],[1,"margin-top","user-info_form",3,"formGroup","ngSubmit"],[1,"row"],["type","text","matInput","","formControlName","firstName","placeholder","\u0418\u043c\u044f"],["type","text","matInput","","formControlName","lastName","placeholder","\u0424\u0430\u043c\u0438\u043b\u0438\u044f"],["type","text","matInput","","formControlName","displayName","placeholder","Display Name"],["matPrefix",""],["type","tel","matInput","","placeholder","XX XXX XX XX"],["matSuffix",""],["type","text","matInput","","formControlName","address","placeholder","\u0410\u0434\u0440\u0435\u0441"],["type","submit","mat-raised-button","","color","primary",1,"margin-top"]],template:function(t,r){1&t&&(Z(0,LSe,31,2,"div",0),Li(1,"async")),2&t&&F("ngIf",Bg(1,1,r.user$))},dependencies:[Kr,ry,gl,pb,zp,DIe,J5,mb,Up,tc,Pp,Op,nc,Hp,o_],styles:[".profile-image[_ngcontent-%COMP%]{position:relative;width:120px;margin:auto}.profile-image[_ngcontent-%COMP%] > img[_ngcontent-%COMP%]{border-radius:100%;object-fit:cover;object-position:center}.profile-image[_ngcontent-%COMP%] > button[_ngcontent-%COMP%]{position:absolute;bottom:10px;right:0}.form-container[_ngcontent-%COMP%]{max-width:400px}.row[_ngcontent-%COMP%]{display:flex;gap:16px}"]}),n})();function BSe(n,e){if(1&n){const t=Oi();C(0,"a",12),ye("keyup.enter",function(){return Dt(t),X(3),At(Gt(1).previous())})("click",function(){return Dt(t),X(3),At(Gt(1).previous())}),D(1),C(2,"span",13),D(3),S()()}if(2&n){const t=X(3);R(1),Zn(" ",t.previousLabel," "),R(2),Xn(t.screenReaderPageLabel)}}function USe(n,e){if(1&n&&(C(0,"span",14),D(1),C(2,"span",13),D(3),S()()),2&n){const t=X(3);R(1),Zn(" ",t.previousLabel," "),R(2),Xn(t.screenReaderPageLabel)}}function HSe(n,e){if(1&n&&(C(0,"li",9),Z(1,BSe,4,2,"a",10),Z(2,USe,4,2,"span",11),S()),2&n){X(2);const t=Gt(1);Vt("disabled",t.isFirstPage()),R(1),F("ngIf",1<t.getCurrent()),R(1),F("ngIf",t.isFirstPage())}}function $Se(n,e){if(1&n){const t=Oi();C(0,"a",12),ye("keyup.enter",function(){Dt(t);const i=X().$implicit;return X(2),At(Gt(1).setCurrent(i.value))})("click",function(){Dt(t);const i=X().$implicit;return X(2),At(Gt(1).setCurrent(i.value))}),C(1,"span",13),D(2),S(),C(3,"span"),D(4),Li(5,"number"),S()()}if(2&n){const t=X().$implicit,r=X(2);R(2),Zn("",r.screenReaderPageLabel," "),R(2),Xn("..."===t.label?t.label:qo(5,2,t.label,""))}}function jSe(n,e){if(1&n&&(Ks(0),C(1,"span",16)(2,"span",13),D(3),S(),C(4,"span"),D(5),Li(6,"number"),S()(),Ys()),2&n){const t=X().$implicit,r=X(2);R(3),Zn("",r.screenReaderCurrentLabel," "),R(2),Xn("..."===t.label?t.label:qo(6,2,t.label,""))}}function zSe(n,e){if(1&n&&(C(0,"li"),Z(1,$Se,6,5,"a",10),Z(2,jSe,7,5,"ng-container",15),S()),2&n){const t=e.$implicit;X(2);const r=Gt(1);Vt("current",r.getCurrent()===t.value)("ellipsis","..."===t.label),R(1),F("ngIf",r.getCurrent()!==t.value),R(1),F("ngIf",r.getCurrent()===t.value)}}function GSe(n,e){if(1&n){const t=Oi();C(0,"a",12),ye("keyup.enter",function(){return Dt(t),X(3),At(Gt(1).next())})("click",function(){return Dt(t),X(3),At(Gt(1).next())}),D(1),C(2,"span",13),D(3),S()()}if(2&n){const t=X(3);R(1),Zn(" ",t.nextLabel," "),R(2),Xn(t.screenReaderPageLabel)}}function WSe(n,e){if(1&n&&(C(0,"span",14),D(1),C(2,"span",13),D(3),S()()),2&n){const t=X(3);R(1),Zn(" ",t.nextLabel," "),R(2),Xn(t.screenReaderPageLabel)}}function qSe(n,e){if(1&n&&(C(0,"li",17),Z(1,GSe,4,2,"a",10),Z(2,WSe,4,2,"span",11),S()),2&n){X(2);const t=Gt(1);Vt("disabled",t.isLastPage()),R(1),F("ngIf",!t.isLastPage()),R(1),F("ngIf",t.isLastPage())}}function KSe(n,e){if(1&n&&(C(0,"ul",4),Z(1,HSe,3,4,"li",5),C(2,"li",6),D(3),S(),Z(4,zSe,3,6,"li",7),Z(5,qSe,3,4,"li",8),S()),2&n){const t=X(),r=Gt(1);Vt("responsive",t.responsive),R(1),F("ngIf",t.directionLinks),R(2),F0(" ",r.getCurrent()," / ",r.getLastPage()," "),R(1),F("ngForOf",r.pages)("ngForTrackBy",t.trackByIndex),R(1),F("ngIf",t.directionLinks)}}class LR{constructor(){this.change=new Pe,this.instances={},this.DEFAULT_ID="DEFAULT_PAGINATION_ID"}defaultId(){return this.DEFAULT_ID}register(e){return null==e.id&&(e.id=this.DEFAULT_ID),this.instances[e.id]?this.updateInstance(e):(this.instances[e.id]=e,!0)}updateInstance(e){let t=!1;for(let r in this.instances[e.id])e[r]!==this.instances[e.id][r]&&(this.instances[e.id][r]=e[r],t=!0);return t}getCurrentPage(e){return this.instances[e]?this.instances[e].currentPage:1}setCurrentPage(e,t){if(this.instances[e]){let r=this.instances[e];t<=Math.ceil(r.totalItems/r.itemsPerPage)&&1<=t&&(this.instances[e].currentPage=t,this.change.emit(e))}}setTotalItems(e,t){this.instances[e]&&0<=t&&(this.instances[e].totalItems=t,this.change.emit(e))}setItemsPerPage(e,t){this.instances[e]&&(this.instances[e].itemsPerPage=t,this.change.emit(e))}getInstance(e=this.DEFAULT_ID){return this.instances[e]?this.clone(this.instances[e]):{}}clone(e){var t={};for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);return t}}const YSe=Number.MAX_SAFE_INTEGER;let QSe=(()=>{class n{constructor(t){this.service=t,this.state={}}transform(t,r){if(!(t instanceof Array)){let d=r.id||this.service.defaultId();return this.state[d]?this.state[d].slice:t}let a,l,i=r.totalItems&&r.totalItems!==t.length,s=this.createInstance(t,r),o=s.id,c=s.itemsPerPage,u=this.service.register(s);if(!i&&t instanceof Array){if(c=+c||YSe,a=(s.currentPage-1)*c,l=a+c,this.stateIsIdentical(o,t,a,l))return this.state[o].slice;{let h=t.slice(a,l);return this.saveState(o,t,h,a,l),this.service.change.emit(o),h}}return u&&this.service.change.emit(o),this.saveState(o,t,t,a,l),t}createInstance(t,r){return this.checkConfig(r),{id:null!=r.id?r.id:this.service.defaultId(),itemsPerPage:+r.itemsPerPage||0,currentPage:+r.currentPage||1,totalItems:+r.totalItems||t.length}}checkConfig(t){const i=["itemsPerPage","currentPage"].filter(s=>!(s in t));if(0<i.length)throw new Error(`PaginatePipe: Argument is missing the following required properties: ${i.join(", ")}`)}saveState(t,r,i,s,o){this.state[t]={collection:r,size:r.length,slice:i,start:s,end:o}}stateIsIdentical(t,r,i,s){let o=this.state[t];return!(!o||o.size!==r.length||o.start!==i||o.end!==s)&&o.slice.every((l,c)=>l===r[i+c])}}return n.\u0275fac=function(t){return new(t||n)(y(LR,16))},n.\u0275pipe=Rn({name:"paginate",type:n,pure:!1}),n})(),XSe=(()=>{class n{constructor(t,r){this.service=t,this.changeDetectorRef=r,this.maxSize=7,this.pageChange=new Pe,this.pageBoundsCorrection=new Pe,this.pages=[],this.changeSub=this.service.change.subscribe(i=>{this.id===i&&(this.updatePageLinks(),this.changeDetectorRef.markForCheck(),this.changeDetectorRef.detectChanges())})}ngOnInit(){void 0===this.id&&(this.id=this.service.defaultId()),this.updatePageLinks()}ngOnChanges(t){this.updatePageLinks()}ngOnDestroy(){this.changeSub.unsubscribe()}previous(){this.checkValidId(),this.setCurrent(this.getCurrent()-1)}next(){this.checkValidId(),this.setCurrent(this.getCurrent()+1)}isFirstPage(){return 1===this.getCurrent()}isLastPage(){return this.getLastPage()===this.getCurrent()}setCurrent(t){this.pageChange.emit(t)}getCurrent(){return this.service.getCurrentPage(this.id)}getLastPage(){let t=this.service.getInstance(this.id);return t.totalItems<1?1:Math.ceil(t.totalItems/t.itemsPerPage)}getTotalItems(){return this.service.getInstance(this.id).totalItems}checkValidId(){null==this.service.getInstance(this.id).id&&console.warn(`PaginationControlsDirective: the specified id "${this.id}" does not match any registered PaginationInstance`)}updatePageLinks(){let t=this.service.getInstance(this.id);const r=this.outOfBoundCorrection(t);r!==t.currentPage?setTimeout(()=>{this.pageBoundsCorrection.emit(r),this.pages=this.createPageArray(t.currentPage,t.itemsPerPage,t.totalItems,this.maxSize)}):this.pages=this.createPageArray(t.currentPage,t.itemsPerPage,t.totalItems,this.maxSize)}outOfBoundCorrection(t){const r=Math.ceil(t.totalItems/t.itemsPerPage);return r<t.currentPage&&0<r?r:t.currentPage<1?1:t.currentPage}createPageArray(t,r,i,s){s=+s;let o=[];const a=Math.max(Math.ceil(i/r),1),l=Math.ceil(s/2),c=t<=l,u=a-l<t,d=!c&&!u;let h=s<a,f=1;for(;f<=a&&f<=s;){let p,m=this.calculatePageNumber(f,t,s,a),g=2===f&&(d||u),b=f===s-1&&(d||c);p=h&&(g||b)?"...":m,o.push({label:p,value:m}),f++}return o}calculatePageNumber(t,r,i,s){let o=Math.ceil(i/2);return t===i?s:1===t?t:i<s?s-o<r?s-i+t:o<r?r-o+t:t:t}}return n.\u0275fac=function(t){return new(t||n)(y(LR),y(Js))},n.\u0275dir=q({type:n,selectors:[["pagination-template"],["","pagination-template",""]],inputs:{id:"id",maxSize:"maxSize"},outputs:{pageChange:"pageChange",pageBoundsCorrection:"pageBoundsCorrection"},exportAs:["paginationApi"],features:[lr]}),n})();function VR(n){return!!n&&"false"!==n}let ZSe=(()=>{class n{constructor(){this.maxSize=7,this.previousLabel="Previous",this.nextLabel="Next",this.screenReaderPaginationLabel="Pagination",this.screenReaderPageLabel="page",this.screenReaderCurrentLabel="You're on page",this.pageChange=new Pe,this.pageBoundsCorrection=new Pe,this._directionLinks=!0,this._autoHide=!1,this._responsive=!1}get directionLinks(){return this._directionLinks}set directionLinks(t){this._directionLinks=VR(t)}get autoHide(){return this._autoHide}set autoHide(t){this._autoHide=VR(t)}get responsive(){return this._responsive}set responsive(t){this._responsive=VR(t)}trackByIndex(t){return t}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=Ye({type:n,selectors:[["pagination-controls"]],inputs:{id:"id",maxSize:"maxSize",directionLinks:"directionLinks",autoHide:"autoHide",responsive:"responsive",previousLabel:"previousLabel",nextLabel:"nextLabel",screenReaderPaginationLabel:"screenReaderPaginationLabel",screenReaderPageLabel:"screenReaderPageLabel",screenReaderCurrentLabel:"screenReaderCurrentLabel"},outputs:{pageChange:"pageChange",pageBoundsCorrection:"pageBoundsCorrection"},decls:4,vars:4,consts:[[3,"id","maxSize","pageChange","pageBoundsCorrection"],["p","paginationApi"],["role","navigation"],["class","ngx-pagination",3,"responsive",4,"ngIf"],[1,"ngx-pagination"],["class","pagination-previous",3,"disabled",4,"ngIf"],[1,"small-screen"],[3,"current","ellipsis",4,"ngFor","ngForOf","ngForTrackBy"],["class","pagination-next",3,"disabled",4,"ngIf"],[1,"pagination-previous"],["tabindex","0",3,"keyup.enter","click",4,"ngIf"],["aria-disabled","true",4,"ngIf"],["tabindex","0",3,"keyup.enter","click"],[1,"show-for-sr"],["aria-disabled","true"],[4,"ngIf"],["aria-live","polite"],[1,"pagination-next"]],template:function(t,r){if(1&t&&(C(0,"pagination-template",0,1),ye("pageChange",function(s){return r.pageChange.emit(s)})("pageBoundsCorrection",function(s){return r.pageBoundsCorrection.emit(s)}),C(2,"nav",2),Z(3,KSe,6,8,"ul",3),S()()),2&t){const i=Gt(1);F("id",r.id)("maxSize",r.maxSize),R(2),ft("aria-label",r.screenReaderPaginationLabel),R(1),F("ngIf",!(r.autoHide&&i.pages.length<=1))}},dependencies:[XSe,Kr,Ph,FB],styles:['.ngx-pagination{margin-left:0;margin-bottom:1rem}.ngx-pagination:before,.ngx-pagination:after{content:" ";display:table}.ngx-pagination:after{clear:both}.ngx-pagination li{-moz-user-select:none;-webkit-user-select:none;-ms-user-select:none;margin-right:.0625rem;border-radius:0}.ngx-pagination li{display:inline-block}.ngx-pagination a,.ngx-pagination button{color:#0a0a0a;display:block;padding:.1875rem .625rem;border-radius:0}.ngx-pagination a:hover,.ngx-pagination button:hover{background:#e6e6e6}.ngx-pagination .current{padding:.1875rem .625rem;background:#2199e8;color:#fefefe;cursor:default}.ngx-pagination .disabled{padding:.1875rem .625rem;color:#cacaca;cursor:default}.ngx-pagination .disabled:hover{background:transparent}.ngx-pagination a,.ngx-pagination button{cursor:pointer}.ngx-pagination .pagination-previous a:before,.ngx-pagination .pagination-previous.disabled:before{content:"\\ab";display:inline-block;margin-right:.5rem}.ngx-pagination .pagination-next a:after,.ngx-pagination .pagination-next.disabled:after{content:"\\bb";display:inline-block;margin-left:.5rem}.ngx-pagination .show-for-sr{position:absolute!important;width:1px;height:1px;overflow:hidden;clip:rect(0,0,0,0)}.ngx-pagination .small-screen{display:none}@media screen and (max-width: 601px){.ngx-pagination.responsive .small-screen{display:inline-block}.ngx-pagination.responsive li:not(.small-screen):not(.pagination-previous):not(.pagination-next){display:none}}\n'],encapsulation:2,changeDetection:0}),n})(),JSe=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=te({type:n}),n.\u0275inj=ee({providers:[LR],imports:[[fu]]}),n})(),eDe=(()=>{class n{transform(t,r){return r.trim()?t.filter(i=>i.name.toLowerCase().includes(r.toLowerCase())):t}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275pipe=Rn({name:"filter",type:n,pure:!0}),n})(),tDe=(()=>{class n{transform(t,r){return r?t.filter(i=>!0===i.byPrescription):t}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275pipe=Rn({name:"prescription",type:n,pure:!0}),n})();function nDe(n,e){1&n&&(C(0,"mat-error"),D(1,"\u0414\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u043e"),S())}function rDe(n,e){if(1&n){const t=Oi();C(0,"div",12)(1,"div",13),he(2,"img",14),S(),C(3,"div",15)(4,"p"),D(5),S(),C(6,"p"),D(7),S(),C(8,"p"),D(9),Li(10,"currency"),S()(),C(11,"div",16)(12,"button",17),ye("click",function(){const s=Dt(t).$implicit;return At(X().AddDrugs(s))}),D(13,"Add"),S(),Z(14,nDe,2,0,"mat-error",18),S()()}if(2&n){const t=e.$implicit,r=X();R(2),F("src",t.imgURL,Qa)("alt",t.name),R(3),Xn(t.name),R(2),Xn(t.country),R(2),Xn(qo(10,6,t.price,"AZN")),R(5),F("ngIf",r.added===t.id.toString())}}const iDe=function(){return{standalone:!0}},sDe=function(n,e){return{itemsPerPage:n,currentPage:e}};let oDe=(()=>{class n{constructor(t,r){this.drugService=t,this._formBuilder=r,this.searchValue="",this.page=1,this.itemsPerPage=12,this.toggle=!1,this.checker=!1,this.russia=!1}ngOnInit(){this.drugSubScription=this.drugService.getDrugs().subscribe(t=>{this.drugs=t})}ngOnDestroy(){this.drugSubScription&&this.drugSubScription.unsubscribe()}AddDrugs(t){this.drugService.addDrug(t),this.added=localStorage.getItem(t.id.toString()),console.log(this.added)}}return n.\u0275fac=function(t){return new(t||n)(y($_),y(dEe))},n.\u0275cmp=Ye({type:n,selectors:[["app-store"]],decls:19,vars:17,consts:[[1,"store"],[2,"width","100%"],[1,"example-form"],[1,"example-full-width"],["matInput","","placeholder","\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0438\u043c\u044f \u0434\u043b\u044f \u043f\u043e\u0438\u0441\u043a\u0430...",3,"ngModel","ngModelOptions","ngModelChange"],[1,"wrapper"],[1,"search-parameters"],["type","checkbox",3,"ngModel","ngModelChange"],[1,"search-inner"],[1,"cards"],["class","card",4,"ngFor","ngForOf"],[3,"pageChange"],[1,"card"],[1,"card-image"],[3,"src","alt"],[1,"card-info"],[1,"card-button"],["mat-button","",1,"green-btn",3,"click"],[4,"ngIf"]],template:function(t,r){1&t&&(C(0,"div",0)(1,"div",1)(2,"form",2)(3,"mat-form-field",3)(4,"mat-label"),D(5,"\u041f\u043e\u0438\u0441\u043a"),S(),C(6,"input",4),ye("ngModelChange",function(s){return r.searchValue=s}),S()()()(),C(7,"div",5)(8,"div",6)(9,"p"),D(10,"\u0421\u0440\u0435\u0446\u0435\u043f\u0442\u043e\u043c "),C(11,"input",7),ye("ngModelChange",function(s){return r.checker=s}),S()(),he(12,"div",8),S(),C(13,"div",9),Z(14,rDe,15,9,"div",10),Li(15,"paginate"),Li(16,"filter"),Li(17,"prescription"),S()(),C(18,"pagination-controls",11),ye("pageChange",function(s){return r.page=s}),S()()),2&t&&(R(6),F("ngModel",r.searchValue)("ngModelOptions",function o2(n,e,t){const r=cr()+n,i=k();return i[r]===_e?is(i,r,t?e.call(t):e()):function yh(n,e){return n[e]}(i,r)}(13,iDe)),R(5),F("ngModel",r.checker),R(3),F("ngForOf",qo(15,4,qo(16,7,qo(17,10,r.drugs,r.checker),r.searchValue),G0(14,sDe,r.itemsPerPage,r.page))))},dependencies:[Ph,Kr,gl,wR,pb,zp,mb,Up,tc,Xk,Pp,Op,ZSe,cR,Bp,RE,QSe,eDe,tDe],styles:['.store[_ngcontent-%COMP%]{font-family:"Exo 2",sans-serif}.example-form[_ngcontent-%COMP%]{min-width:150px;width:100%}.example-full-width[_ngcontent-%COMP%]{width:100%}.example-full-width[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:100%;font-size:1.5em}.wrapper[_ngcontent-%COMP%]{width:100%;display:flex;flex-direction:row;font-family:"Exo 2",sans-serif;font-weight:700}.wrapper[_ngcontent-%COMP%]   .search-parameters[_ngcontent-%COMP%]{width:20%}.wrapper[_ngcontent-%COMP%]   .search-parameters[_ngcontent-%COMP%]   .search-inner[_ngcontent-%COMP%]{width:90%;height:300px;background-color:#0ff;margin:5px;border-radius:5px}.wrapper[_ngcontent-%COMP%]   .cards[_ngcontent-%COMP%]{display:flex;flex-direction:row;flex-wrap:wrap;width:80%}.card[_ngcontent-%COMP%]{width:180px;height:260px;display:flex;flex-direction:column;justify-content:space-between;background-color:#f0f8ff;margin:5px;border:1px solid aliceblue;border-radius:4px;box-shadow:0 14px 28px #00000040,0 10px 10px #00000038}.card[_ngcontent-%COMP%]   .card-image[_ngcontent-%COMP%]{width:100%;height:100px;min-height:120px;display:flex;flex-direction:row;align-items:center;justify-content:center}.card[_ngcontent-%COMP%]   .card-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%}.card[_ngcontent-%COMP%]   .card-info[_ngcontent-%COMP%]{width:100%;height:120px;min-height:120px;display:flex;flex-direction:column;align-items:center;justify-content:center}.card[_ngcontent-%COMP%]   .card-button[_ngcontent-%COMP%]{width:100%;min-height:20px;display:flex;flex-direction:row;align-items:center;justify-content:center}.green-btn[_ngcontent-%COMP%]{background-color:green}']}),n})(),aDe=(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=Ye({type:n,selectors:[["app-reset"]],decls:2,vars:0,template:function(t,r){1&t&&(C(0,"p"),D(1,"reset works!"),S())}}),n})();const U8=()=>(n=>oO(ER,re(e=>e||n)))(["login"]),lDe=[{path:"",pathMatch:"full",component:m0e},{path:"signup",component:qIe},{path:"login",component:UIe},{path:"reset",component:aDe},{path:"cart",component:uue,...o8(U8)},{path:"profile",component:VSe,...o8(U8)},{path:"store",component:oDe}];let cDe=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=te({type:n}),n.\u0275inj=ee({imports:[EH.forRoot(lDe),EH]}),n})();const uDe=["*",[["mat-toolbar-row"]]],dDe=["*","mat-toolbar-row"],hDe=sf(class{constructor(n){this._elementRef=n}});let BR,fDe=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=q({type:n,selectors:[["mat-toolbar-row"]],hostAttrs:[1,"mat-toolbar-row"],exportAs:["matToolbarRow"]}),n})(),pDe=(()=>{class n extends hDe{constructor(t,r,i){super(t),this._platform=r,this._document=i}ngAfterViewInit(){this._platform.isBrowser&&(this._checkToolbarMixedModes(),this._toolbarRows.changes.subscribe(()=>this._checkToolbarMixedModes()))}_checkToolbarMixedModes(){}}return n.\u0275fac=function(t){return new(t||n)(y(Ze),y(Yr),y(Se))},n.\u0275cmp=Ye({type:n,selectors:[["mat-toolbar"]],contentQueries:function(t,r,i){if(1&t&&Jn(i,fDe,5),2&t){let s;vt(s=bt())&&(r._toolbarRows=s)}},hostAttrs:[1,"mat-toolbar"],hostVars:4,hostBindings:function(t,r){2&t&&Vt("mat-toolbar-multiple-rows",r._toolbarRows.length>0)("mat-toolbar-single-row",0===r._toolbarRows.length)},inputs:{color:"color"},exportAs:["matToolbar"],features:[Te],ngContentSelectors:dDe,decls:2,vars:0,template:function(t,r){1&t&&(Qs(uDe),Pn(0),Pn(1,1))},styles:[".cdk-high-contrast-active .mat-toolbar{outline:solid 1px}.mat-toolbar-row,.mat-toolbar-single-row{display:flex;box-sizing:border-box;padding:0 16px;width:100%;flex-direction:row;align-items:center;white-space:nowrap}.mat-toolbar-multiple-rows{display:flex;box-sizing:border-box;flex-direction:column;width:100%}\n"],encapsulation:2,changeDetection:0}),n})(),mDe=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=te({type:n}),n.\u0275inj=ee({imports:[[at],at]}),n})(),gDe=1;const Cb={};function H8(n){return n in Cb&&(delete Cb[n],!0)}const _De={setImmediate(n){const e=gDe++;return Cb[e]=!0,BR||(BR=Promise.resolve()),BR.then(()=>H8(e)&&n()),e},clearImmediate(n){H8(n)}},{setImmediate:yDe,clearImmediate:vDe}=_De,Eb={setImmediate(...n){const{delegate:e}=Eb;return(e?.setImmediate||yDe)(...n)},clearImmediate(n){const{delegate:e}=Eb;return(e?.clearImmediate||vDe)(n)},delegate:void 0},UR=new class wDe extends G_{flush(e){this._active=!0;const t=this._scheduled;this._scheduled=void 0;const{actions:r}=this;let i;e=e||r.shift();do{if(i=e.execute(e.state,e.delay))break}while((e=r[0])&&e.id===t&&r.shift());if(this._active=!1,i){for(;(e=r[0])&&e.id===t&&r.shift();)e.unsubscribe();throw i}}}(class bDe extends z_{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}requestAsyncId(e,t,r=0){return null!==r&&r>0?super.requestAsyncId(e,t,r):(e.actions.push(this),e._scheduled||(e._scheduled=Eb.setImmediate(e.flush.bind(e,void 0))))}recycleAsyncId(e,t,r=0){var i;if(null!=r?r>0:this.delay>0)return super.recycleAsyncId(e,t,r);const{actions:s}=e;null!=t&&(null===(i=s[s.length-1])||void 0===i?void 0:i.id)!==t&&(Eb.clearImmediate(t),e._scheduled=void 0)}});function $8(n,e){return e?t=>p_(e.pipe(Dr(1),function CDe(){return yt((n,e)=>{n.subscribe(nt(e,Pm))})}()),t.pipe($8(n))):Xt((t,r)=>n(t,r).pipe(Dr(1),gU(t)))}function j8(n=0,e,t=ice){let r=-1;return null!=e&&(SO(e)?t=e:r=e),new ze(i=>{let s=function EDe(n){return n instanceof Date&&!isNaN(n)}(n)?+n-t.now():n;s<0&&(s=0);let o=0;return t.schedule(function(){i.closed||(i.next(o++),0<=r?this.schedule(void 0,r):i.complete())},s)})}function z8(n,e=ef){const t=j8(n,e);return $8(()=>t)}class HR{attach(e){return this._attachedHost=e,e.attach(this)}detach(){let e=this._attachedHost;null!=e&&(this._attachedHost=null,e.detach())}get isAttached(){return null!=this._attachedHost}setAttachedHost(e){this._attachedHost=e}}class IDe extends HR{constructor(e,t,r,i){super(),this.component=e,this.viewContainerRef=t,this.injector=r,this.componentFactoryResolver=i}}class G8 extends HR{constructor(e,t,r){super(),this.templateRef=e,this.viewContainerRef=t,this.context=r}get origin(){return this.templateRef.elementRef}attach(e,t=this.context){return this.context=t,super.attach(e)}detach(){return this.context=void 0,super.detach()}}class TDe extends HR{constructor(e){super(),this.element=e instanceof Ze?e.nativeElement:e}}class DDe extends class SDe{constructor(){this._isDisposed=!1,this.attachDomPortal=null}hasAttached(){return!!this._attachedPortal}attach(e){return e instanceof IDe?(this._attachedPortal=e,this.attachComponentPortal(e)):e instanceof G8?(this._attachedPortal=e,this.attachTemplatePortal(e)):this.attachDomPortal&&e instanceof TDe?(this._attachedPortal=e,this.attachDomPortal(e)):void 0}detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(e){this._disposeFn=e}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}}{constructor(e,t,r,i,s){super(),this.outletElement=e,this._componentFactoryResolver=t,this._appRef=r,this._defaultInjector=i,this.attachDomPortal=o=>{const a=o.element,l=this._document.createComment("dom-portal");a.parentNode.insertBefore(l,a),this.outletElement.appendChild(a),this._attachedPortal=o,super.setDisposeFn(()=>{l.parentNode&&l.parentNode.replaceChild(a,l)})},this._document=s}attachComponentPortal(e){const r=(e.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(e.component);let i;return e.viewContainerRef?(i=e.viewContainerRef.createComponent(r,e.viewContainerRef.length,e.injector||e.viewContainerRef.injector),this.setDisposeFn(()=>i.destroy())):(i=r.create(e.injector||this._defaultInjector),this._appRef.attachView(i.hostView),this.setDisposeFn(()=>{this._appRef.detachView(i.hostView),i.destroy()})),this.outletElement.appendChild(this._getComponentRootNode(i)),this._attachedPortal=e,i}attachTemplatePortal(e){let t=e.viewContainerRef,r=t.createEmbeddedView(e.templateRef,e.context);return r.rootNodes.forEach(i=>this.outletElement.appendChild(i)),r.detectChanges(),this.setDisposeFn(()=>{let i=t.indexOf(r);-1!==i&&t.remove(i)}),this._attachedPortal=e,r}dispose(){super.dispose(),this.outletElement.remove()}_getComponentRootNode(e){return e.hostView.rootNodes[0]}}let ADe=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=te({type:n}),n.\u0275inj=ee({}),n})();const Qp={schedule(n){let e=requestAnimationFrame,t=cancelAnimationFrame;const{delegate:r}=Qp;r&&(e=r.requestAnimationFrame,t=r.cancelAnimationFrame);const i=e(s=>{t=void 0,n(s)});return new Ft(()=>t?.(i))},requestAnimationFrame(...n){const{delegate:e}=Qp;return(e?.requestAnimationFrame||requestAnimationFrame)(...n)},cancelAnimationFrame(...n){const{delegate:e}=Qp;return(e?.cancelAnimationFrame||cancelAnimationFrame)(...n)},delegate:void 0};new class xDe extends G_{flush(e){this._active=!0;const t=this._scheduled;this._scheduled=void 0;const{actions:r}=this;let i;e=e||r.shift();do{if(i=e.execute(e.state,e.delay))break}while((e=r[0])&&e.id===t&&r.shift());if(this._active=!1,i){for(;(e=r[0])&&e.id===t&&r.shift();)e.unsubscribe();throw i}}}(class MDe extends z_{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}requestAsyncId(e,t,r=0){return null!==r&&r>0?super.requestAsyncId(e,t,r):(e.actions.push(this),e._scheduled||(e._scheduled=Qp.requestAnimationFrame(()=>e.flush(void 0))))}recycleAsyncId(e,t,r=0){var i;if(null!=r?r>0:this.delay>0)return super.recycleAsyncId(e,t,r);const{actions:s}=e;null!=t&&(null===(i=s[s.length-1])||void 0===i?void 0:i.id)!==t&&(Qp.cancelAnimationFrame(t),e._scheduled=void 0)}});function W8(n,e=ef){return function RDe(n){return yt((e,t)=>{let r=!1,i=null,s=null,o=!1;const a=()=>{if(s?.unsubscribe(),s=null,r){r=!1;const c=i;i=null,t.next(c)}o&&t.complete()},l=()=>{s=null,o&&t.complete()};e.subscribe(nt(t,c=>{r=!0,i=c,s||kn(n(c)).subscribe(s=nt(t,a,l))},()=>{o=!0,(!r||!s||s.closed)&&t.complete()}))})}(()=>j8(n,e))}let ODe=(()=>{class n{constructor(t,r,i){this._ngZone=t,this._platform=r,this._scrolled=new Le,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=i}register(t){this.scrollContainers.has(t)||this.scrollContainers.set(t,t.elementScrolled().subscribe(()=>this._scrolled.next(t)))}deregister(t){const r=this.scrollContainers.get(t);r&&(r.unsubscribe(),this.scrollContainers.delete(t))}scrolled(t=20){return this._platform.isBrowser?new ze(r=>{this._globalSubscription||this._addGlobalListener();const i=t>0?this._scrolled.pipe(W8(t)).subscribe(r):this._scrolled.subscribe(r);return this._scrolledCount++,()=>{i.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):W()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((t,r)=>this.deregister(r)),this._scrolled.complete()}ancestorScrolled(t,r){const i=this.getAncestorScrollContainers(t);return this.scrolled(r).pipe(dn(s=>!s||i.indexOf(s)>-1))}getAncestorScrollContainers(t){const r=[];return this.scrollContainers.forEach((i,s)=>{this._scrollableContainsElement(s,t)&&r.push(s)}),r}_getWindow(){return this._document.defaultView||window}_scrollableContainsElement(t,r){let i=ao(r),s=t.getElementRef().nativeElement;do{if(i==s)return!0}while(i=i.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>fb(this._getWindow().document,"scroll").subscribe(()=>this._scrolled.next()))}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}}return n.\u0275fac=function(t){return new(t||n)(w(se),w(Yr),w(Se,8))},n.\u0275prov=V({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),q8=(()=>{class n{constructor(t,r,i){this._platform=t,this._change=new Le,this._changeListener=s=>{this._change.next(s)},this._document=i,r.runOutsideAngular(()=>{if(t.isBrowser){const s=this._getWindow();s.addEventListener("resize",this._changeListener),s.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){if(this._platform.isBrowser){const t=this._getWindow();t.removeEventListener("resize",this._changeListener),t.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();const t={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),t}getViewportRect(){const t=this.getViewportScrollPosition(),{width:r,height:i}=this.getViewportSize();return{top:t.top,left:t.left,bottom:t.top+i,right:t.left+r,height:i,width:r}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};const t=this._document,r=this._getWindow(),i=t.documentElement,s=i.getBoundingClientRect();return{top:-s.top||t.body.scrollTop||r.scrollY||i.scrollTop||0,left:-s.left||t.body.scrollLeft||r.scrollX||i.scrollLeft||0}}change(t=20){return t>0?this._change.pipe(W8(t)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){const t=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:t.innerWidth,height:t.innerHeight}:{width:0,height:0}}}return n.\u0275fac=function(t){return new(t||n)(w(Yr),w(se),w(Se,8))},n.\u0275prov=V({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Ib=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=te({type:n}),n.\u0275inj=ee({}),n})(),K8=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=te({type:n}),n.\u0275inj=ee({imports:[[rf,W_,Ib],rf,Ib]}),n})();const Y8=cce();class FDe{constructor(e,t){this._viewportRuler=e,this._previousHTMLStyles={top:"",left:""},this._isEnabled=!1,this._document=t}attach(){}enable(){if(this._canBeEnabled()){const e=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=e.style.left||"",this._previousHTMLStyles.top=e.style.top||"",e.style.left=nn(-this._previousScrollPosition.left),e.style.top=nn(-this._previousScrollPosition.top),e.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}}disable(){if(this._isEnabled){const e=this._document.documentElement,r=e.style,i=this._document.body.style,s=r.scrollBehavior||"",o=i.scrollBehavior||"";this._isEnabled=!1,r.left=this._previousHTMLStyles.left,r.top=this._previousHTMLStyles.top,e.classList.remove("cdk-global-scrollblock"),Y8&&(r.scrollBehavior=i.scrollBehavior="auto"),window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),Y8&&(r.scrollBehavior=s,i.scrollBehavior=o)}}_canBeEnabled(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;const t=this._document.body,r=this._viewportRuler.getViewportSize();return t.scrollHeight>r.height||t.scrollWidth>r.width}}class LDe{constructor(e,t,r,i){this._scrollDispatcher=e,this._ngZone=t,this._viewportRuler=r,this._config=i,this._scrollSubscription=null,this._detach=()=>{this.disable(),this._overlayRef.hasAttached()&&this._ngZone.run(()=>this._overlayRef.detach())}}attach(e){this._overlayRef=e}enable(){if(this._scrollSubscription)return;const e=this._scrollDispatcher.scrolled(0);this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=e.subscribe(()=>{const t=this._viewportRuler.getViewportScrollPosition().top;Math.abs(t-this._initialScrollPosition)>this._config.threshold?this._detach():this._overlayRef.updatePosition()})):this._scrollSubscription=e.subscribe(this._detach)}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}class Q8{enable(){}disable(){}attach(){}}function $R(n,e){return e.some(t=>n.bottom<t.top||n.top>t.bottom||n.right<t.left||n.left>t.right)}function X8(n,e){return e.some(t=>n.top<t.top||n.bottom>t.bottom||n.left<t.left||n.right>t.right)}class VDe{constructor(e,t,r,i){this._scrollDispatcher=e,this._viewportRuler=t,this._ngZone=r,this._config=i,this._scrollSubscription=null}attach(e){this._overlayRef=e}enable(){this._scrollSubscription||(this._scrollSubscription=this._scrollDispatcher.scrolled(this._config?this._config.scrollThrottle:0).subscribe(()=>{if(this._overlayRef.updatePosition(),this._config&&this._config.autoClose){const t=this._overlayRef.overlayElement.getBoundingClientRect(),{width:r,height:i}=this._viewportRuler.getViewportSize();$R(t,[{width:r,height:i,bottom:i,right:r,top:0,left:0}])&&(this.disable(),this._ngZone.run(()=>this._overlayRef.detach()))}}))}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}let BDe=(()=>{class n{constructor(t,r,i,s){this._scrollDispatcher=t,this._viewportRuler=r,this._ngZone=i,this.noop=()=>new Q8,this.close=o=>new LDe(this._scrollDispatcher,this._ngZone,this._viewportRuler,o),this.block=()=>new FDe(this._viewportRuler,this._document),this.reposition=o=>new VDe(this._scrollDispatcher,this._viewportRuler,this._ngZone,o),this._document=s}}return n.\u0275fac=function(t){return new(t||n)(w(ODe),w(q8),w(se),w(Se))},n.\u0275prov=V({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class Z8{constructor(e){if(this.scrollStrategy=new Q8,this.panelClass="",this.hasBackdrop=!1,this.backdropClass="cdk-overlay-dark-backdrop",this.disposeOnNavigation=!1,e){const t=Object.keys(e);for(const r of t)void 0!==e[r]&&(this[r]=e[r])}}}class UDe{constructor(e,t,r,i,s){this.offsetX=r,this.offsetY=i,this.panelClass=s,this.originX=e.originX,this.originY=e.originY,this.overlayX=t.overlayX,this.overlayY=t.overlayY}}class HDe{}let $De=(()=>{let n=class{constructor(t,r){this.connectionPair=t,this.scrollableViewProperties=r}};return n=function eQ(n,e,t,r){var o,i=arguments.length,s=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,t):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(i<3?o(s):i>3?o(e,t,s):o(e,t))||s);return i>3&&s&&Object.defineProperty(e,t,s),s}([tQ(1,Ie()),nQ("design:paramtypes",[UDe,HDe])],n),n})(),J8=(()=>{class n{constructor(t){this._attachedOverlays=[],this._document=t}ngOnDestroy(){this.detach()}add(t){this.remove(t),this._attachedOverlays.push(t)}remove(t){const r=this._attachedOverlays.indexOf(t);r>-1&&this._attachedOverlays.splice(r,1),0===this._attachedOverlays.length&&this.detach()}}return n.\u0275fac=function(t){return new(t||n)(w(Se))},n.\u0275prov=V({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),jDe=(()=>{class n extends J8{constructor(t){super(t),this._keydownListener=r=>{const i=this._attachedOverlays;for(let s=i.length-1;s>-1;s--)if(i[s]._keydownEvents.observers.length>0){i[s]._keydownEvents.next(r);break}}}add(t){super.add(t),this._isAttached||(this._document.body.addEventListener("keydown",this._keydownListener),this._isAttached=!0)}detach(){this._isAttached&&(this._document.body.removeEventListener("keydown",this._keydownListener),this._isAttached=!1)}}return n.\u0275fac=function(t){return new(t||n)(w(Se))},n.\u0275prov=V({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),zDe=(()=>{class n extends J8{constructor(t,r){super(t),this._platform=r,this._cursorStyleIsSet=!1,this._pointerDownListener=i=>{this._pointerDownEventTarget=pl(i)},this._clickListener=i=>{const s=pl(i),o="click"===i.type&&this._pointerDownEventTarget?this._pointerDownEventTarget:s;this._pointerDownEventTarget=null;const a=this._attachedOverlays.slice();for(let l=a.length-1;l>-1;l--){const c=a[l];if(!(c._outsidePointerEvents.observers.length<1)&&c.hasAttached()){if(c.overlayElement.contains(s)||c.overlayElement.contains(o))break;c._outsidePointerEvents.next(i)}}}}add(t){if(super.add(t),!this._isAttached){const r=this._document.body;r.addEventListener("pointerdown",this._pointerDownListener,!0),r.addEventListener("click",this._clickListener,!0),r.addEventListener("auxclick",this._clickListener,!0),r.addEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&!this._cursorStyleIsSet&&(this._cursorOriginalValue=r.style.cursor,r.style.cursor="pointer",this._cursorStyleIsSet=!0),this._isAttached=!0}}detach(){if(this._isAttached){const t=this._document.body;t.removeEventListener("pointerdown",this._pointerDownListener,!0),t.removeEventListener("click",this._clickListener,!0),t.removeEventListener("auxclick",this._clickListener,!0),t.removeEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&this._cursorStyleIsSet&&(t.style.cursor=this._cursorOriginalValue,this._cursorStyleIsSet=!1),this._isAttached=!1}}}return n.\u0275fac=function(t){return new(t||n)(w(Se),w(Yr))},n.\u0275prov=V({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),eK=(()=>{class n{constructor(t,r){this._platform=r,this._document=t}ngOnDestroy(){this._containerElement?.remove()}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const t="cdk-overlay-container";if(this._platform.isBrowser||RI()){const i=this._document.querySelectorAll(`.${t}[platform="server"], .${t}[platform="test"]`);for(let s=0;s<i.length;s++)i[s].remove()}const r=this._document.createElement("div");r.classList.add(t),RI()?r.setAttribute("platform","test"):this._platform.isBrowser||r.setAttribute("platform","server"),this._document.body.appendChild(r),this._containerElement=r}}return n.\u0275fac=function(t){return new(t||n)(w(Se),w(Yr))},n.\u0275prov=V({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class GDe{constructor(e,t,r,i,s,o,a,l,c){this._portalOutlet=e,this._host=t,this._pane=r,this._config=i,this._ngZone=s,this._keyboardDispatcher=o,this._document=a,this._location=l,this._outsideClickDispatcher=c,this._backdropElement=null,this._backdropClick=new Le,this._attachments=new Le,this._detachments=new Le,this._locationChanges=Ft.EMPTY,this._backdropClickHandler=u=>this._backdropClick.next(u),this._keydownEvents=new Le,this._outsidePointerEvents=new Le,i.scrollStrategy&&(this._scrollStrategy=i.scrollStrategy,this._scrollStrategy.attach(this)),this._positionStrategy=i.positionStrategy}get overlayElement(){return this._pane}get backdropElement(){return this._backdropElement}get hostElement(){return this._host}attach(e){let t=this._portalOutlet.attach(e);return!this._host.parentElement&&this._previousHostParent&&this._previousHostParent.appendChild(this._host),this._positionStrategy&&this._positionStrategy.attach(this),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._scrollStrategy&&this._scrollStrategy.enable(),this._ngZone.onStable.pipe(Dr(1)).subscribe(()=>{this.hasAttached()&&this.updatePosition()}),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&(this._locationChanges=this._location.subscribe(()=>this.dispose())),this._outsideClickDispatcher.add(this),t}detach(){if(!this.hasAttached())return;this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._scrollStrategy&&this._scrollStrategy.disable();const e=this._portalOutlet.detach();return this._detachments.next(),this._keyboardDispatcher.remove(this),this._detachContentWhenStable(),this._locationChanges.unsubscribe(),this._outsideClickDispatcher.remove(this),e}dispose(){const e=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._disposeScrollStrategy(),this._disposeBackdrop(this._backdropElement),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._outsidePointerEvents.complete(),this._outsideClickDispatcher.remove(this),this._host?.remove(),this._previousHostParent=this._pane=this._host=null,e&&this._detachments.next(),this._detachments.complete()}hasAttached(){return this._portalOutlet.hasAttached()}backdropClick(){return this._backdropClick}attachments(){return this._attachments}detachments(){return this._detachments}keydownEvents(){return this._keydownEvents}outsidePointerEvents(){return this._outsidePointerEvents}getConfig(){return this._config}updatePosition(){this._positionStrategy&&this._positionStrategy.apply()}updatePositionStrategy(e){e!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=e,this.hasAttached()&&(e.attach(this),this.updatePosition()))}updateSize(e){this._config={...this._config,...e},this._updateElementSize()}setDirection(e){this._config={...this._config,direction:e},this._updateElementDirection()}addPanelClass(e){this._pane&&this._toggleClasses(this._pane,e,!0)}removePanelClass(e){this._pane&&this._toggleClasses(this._pane,e,!1)}getDirection(){const e=this._config.direction;return e?"string"==typeof e?e:e.value:"ltr"}updateScrollStrategy(e){e!==this._scrollStrategy&&(this._disposeScrollStrategy(),this._scrollStrategy=e,this.hasAttached()&&(e.attach(this),e.enable()))}_updateElementDirection(){this._host.setAttribute("dir",this.getDirection())}_updateElementSize(){if(!this._pane)return;const e=this._pane.style;e.width=nn(this._config.width),e.height=nn(this._config.height),e.minWidth=nn(this._config.minWidth),e.minHeight=nn(this._config.minHeight),e.maxWidth=nn(this._config.maxWidth),e.maxHeight=nn(this._config.maxHeight)}_togglePointerEvents(e){this._pane.style.pointerEvents=e?"":"none"}_attachBackdrop(){const e="cdk-overlay-backdrop-showing";this._backdropElement=this._document.createElement("div"),this._backdropElement.classList.add("cdk-overlay-backdrop"),this._config.backdropClass&&this._toggleClasses(this._backdropElement,this._config.backdropClass,!0),this._host.parentElement.insertBefore(this._backdropElement,this._host),this._backdropElement.addEventListener("click",this._backdropClickHandler),typeof requestAnimationFrame<"u"?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>{this._backdropElement&&this._backdropElement.classList.add(e)})}):this._backdropElement.classList.add(e)}_updateStackingOrder(){this._host.nextSibling&&this._host.parentNode.appendChild(this._host)}detachBackdrop(){const e=this._backdropElement;if(!e)return;let t;const r=()=>{e&&(e.removeEventListener("click",this._backdropClickHandler),e.removeEventListener("transitionend",r),this._disposeBackdrop(e)),this._config.backdropClass&&this._toggleClasses(e,this._config.backdropClass,!1),clearTimeout(t)};e.classList.remove("cdk-overlay-backdrop-showing"),this._ngZone.runOutsideAngular(()=>{e.addEventListener("transitionend",r)}),e.style.pointerEvents="none",t=this._ngZone.runOutsideAngular(()=>setTimeout(r,500))}_toggleClasses(e,t,r){const i=jH(t||[]).filter(s=>!!s);i.length&&(r?e.classList.add(...i):e.classList.remove(...i))}_detachContentWhenStable(){this._ngZone.runOutsideAngular(()=>{const e=this._ngZone.onStable.pipe(hl(Tc(this._attachments,this._detachments))).subscribe(()=>{(!this._pane||!this._host||0===this._pane.children.length)&&(this._pane&&this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!1),this._host&&this._host.parentElement&&(this._previousHostParent=this._host.parentElement,this._host.remove()),e.unsubscribe())})})}_disposeScrollStrategy(){const e=this._scrollStrategy;e&&(e.disable(),e.detach&&e.detach())}_disposeBackdrop(e){e&&(e.remove(),this._backdropElement===e&&(this._backdropElement=null))}}const tK="cdk-overlay-connected-position-bounding-box",WDe=/([A-Za-z%]+)$/;class qDe{constructor(e,t,r,i,s){this._viewportRuler=t,this._document=r,this._platform=i,this._overlayContainer=s,this._lastBoundingBoxSize={width:0,height:0},this._isPushed=!1,this._canPush=!0,this._growAfterOpen=!1,this._hasFlexibleDimensions=!0,this._positionLocked=!1,this._viewportMargin=0,this._scrollables=[],this._preferredPositions=[],this._positionChanges=new Le,this._resizeSubscription=Ft.EMPTY,this._offsetX=0,this._offsetY=0,this._appliedPanelClasses=[],this.positionChanges=this._positionChanges,this.setOrigin(e)}get positions(){return this._preferredPositions}attach(e){this._validatePositions(),e.hostElement.classList.add(tK),this._overlayRef=e,this._boundingBox=e.hostElement,this._pane=e.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe(()=>{this._isInitialRender=!0,this.apply()})}apply(){if(this._isDisposed||!this._platform.isBrowser)return;if(!this._isInitialRender&&this._positionLocked&&this._lastPosition)return void this.reapplyLastPosition();this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect();const e=this._originRect,t=this._overlayRect,r=this._viewportRect,i=[];let s;for(let o of this._preferredPositions){let a=this._getOriginPoint(e,o),l=this._getOverlayPoint(a,t,o),c=this._getOverlayFit(l,t,r,o);if(c.isCompletelyWithinViewport)return this._isPushed=!1,void this._applyPosition(o,a);this._canFitWithFlexibleDimensions(c,l,r)?i.push({position:o,origin:a,overlayRect:t,boundingBoxRect:this._calculateBoundingBoxRect(a,o)}):(!s||s.overlayFit.visibleArea<c.visibleArea)&&(s={overlayFit:c,overlayPoint:l,originPoint:a,position:o,overlayRect:t})}if(i.length){let o=null,a=-1;for(const l of i){const c=l.boundingBoxRect.width*l.boundingBoxRect.height*(l.position.weight||1);c>a&&(a=c,o=l)}return this._isPushed=!1,void this._applyPosition(o.position,o.origin)}if(this._canPush)return this._isPushed=!0,void this._applyPosition(s.position,s.originPoint);this._applyPosition(s.position,s.originPoint)}detach(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe()}dispose(){this._isDisposed||(this._boundingBox&&oc(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove(tK),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0)}reapplyLastPosition(){if(!this._isDisposed&&(!this._platform||this._platform.isBrowser)){this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect();const e=this._lastPosition||this._preferredPositions[0],t=this._getOriginPoint(this._originRect,e);this._applyPosition(e,t)}}withScrollableContainers(e){return this._scrollables=e,this}withPositions(e){return this._preferredPositions=e,-1===e.indexOf(this._lastPosition)&&(this._lastPosition=null),this._validatePositions(),this}withViewportMargin(e){return this._viewportMargin=e,this}withFlexibleDimensions(e=!0){return this._hasFlexibleDimensions=e,this}withGrowAfterOpen(e=!0){return this._growAfterOpen=e,this}withPush(e=!0){return this._canPush=e,this}withLockedPosition(e=!0){return this._positionLocked=e,this}setOrigin(e){return this._origin=e,this}withDefaultOffsetX(e){return this._offsetX=e,this}withDefaultOffsetY(e){return this._offsetY=e,this}withTransformOriginOn(e){return this._transformOriginSelector=e,this}_getOriginPoint(e,t){let r,i;if("center"==t.originX)r=e.left+e.width/2;else{const s=this._isRtl()?e.right:e.left,o=this._isRtl()?e.left:e.right;r="start"==t.originX?s:o}return i="center"==t.originY?e.top+e.height/2:"top"==t.originY?e.top:e.bottom,{x:r,y:i}}_getOverlayPoint(e,t,r){let i,s;return i="center"==r.overlayX?-t.width/2:"start"===r.overlayX?this._isRtl()?-t.width:0:this._isRtl()?0:-t.width,s="center"==r.overlayY?-t.height/2:"top"==r.overlayY?0:-t.height,{x:e.x+i,y:e.y+s}}_getOverlayFit(e,t,r,i){const s=rK(t);let{x:o,y:a}=e,l=this._getOffset(i,"x"),c=this._getOffset(i,"y");l&&(o+=l),c&&(a+=c);let h=0-a,f=a+s.height-r.height,p=this._subtractOverflows(s.width,0-o,o+s.width-r.width),m=this._subtractOverflows(s.height,h,f),g=p*m;return{visibleArea:g,isCompletelyWithinViewport:s.width*s.height===g,fitsInViewportVertically:m===s.height,fitsInViewportHorizontally:p==s.width}}_canFitWithFlexibleDimensions(e,t,r){if(this._hasFlexibleDimensions){const i=r.bottom-t.y,s=r.right-t.x,o=nK(this._overlayRef.getConfig().minHeight),a=nK(this._overlayRef.getConfig().minWidth),c=e.fitsInViewportHorizontally||null!=a&&a<=s;return(e.fitsInViewportVertically||null!=o&&o<=i)&&c}return!1}_pushOverlayOnScreen(e,t,r){if(this._previousPushAmount&&this._positionLocked)return{x:e.x+this._previousPushAmount.x,y:e.y+this._previousPushAmount.y};const i=rK(t),s=this._viewportRect,o=Math.max(e.x+i.width-s.width,0),a=Math.max(e.y+i.height-s.height,0),l=Math.max(s.top-r.top-e.y,0),c=Math.max(s.left-r.left-e.x,0);let u=0,d=0;return u=i.width<=s.width?c||-o:e.x<this._viewportMargin?s.left-r.left-e.x:0,d=i.height<=s.height?l||-a:e.y<this._viewportMargin?s.top-r.top-e.y:0,this._previousPushAmount={x:u,y:d},{x:e.x+u,y:e.y+d}}_applyPosition(e,t){if(this._setTransformOrigin(e),this._setOverlayElementStyles(t,e),this._setBoundingBoxStyles(t,e),e.panelClass&&this._addPanelClasses(e.panelClass),this._lastPosition=e,this._positionChanges.observers.length){const r=this._getScrollVisibility(),i=new $De(e,r);this._positionChanges.next(i)}this._isInitialRender=!1}_setTransformOrigin(e){if(!this._transformOriginSelector)return;const t=this._boundingBox.querySelectorAll(this._transformOriginSelector);let r,i=e.overlayY;r="center"===e.overlayX?"center":this._isRtl()?"start"===e.overlayX?"right":"left":"start"===e.overlayX?"left":"right";for(let s=0;s<t.length;s++)t[s].style.transformOrigin=`${r} ${i}`}_calculateBoundingBoxRect(e,t){const r=this._viewportRect,i=this._isRtl();let s,o,a,u,d,h;if("top"===t.overlayY)o=e.y,s=r.height-o+this._viewportMargin;else if("bottom"===t.overlayY)a=r.height-e.y+2*this._viewportMargin,s=r.height-a+this._viewportMargin;else{const f=Math.min(r.bottom-e.y+r.top,e.y),p=this._lastBoundingBoxSize.height;s=2*f,o=e.y-f,s>p&&!this._isInitialRender&&!this._growAfterOpen&&(o=e.y-p/2)}if("end"===t.overlayX&&!i||"start"===t.overlayX&&i)h=r.width-e.x+this._viewportMargin,u=e.x-this._viewportMargin;else if("start"===t.overlayX&&!i||"end"===t.overlayX&&i)d=e.x,u=r.right-e.x;else{const f=Math.min(r.right-e.x+r.left,e.x),p=this._lastBoundingBoxSize.width;u=2*f,d=e.x-f,u>p&&!this._isInitialRender&&!this._growAfterOpen&&(d=e.x-p/2)}return{top:o,left:d,bottom:a,right:h,width:u,height:s}}_setBoundingBoxStyles(e,t){const r=this._calculateBoundingBoxRect(e,t);!this._isInitialRender&&!this._growAfterOpen&&(r.height=Math.min(r.height,this._lastBoundingBoxSize.height),r.width=Math.min(r.width,this._lastBoundingBoxSize.width));const i={};if(this._hasExactPosition())i.top=i.left="0",i.bottom=i.right=i.maxHeight=i.maxWidth="",i.width=i.height="100%";else{const s=this._overlayRef.getConfig().maxHeight,o=this._overlayRef.getConfig().maxWidth;i.height=nn(r.height),i.top=nn(r.top),i.bottom=nn(r.bottom),i.width=nn(r.width),i.left=nn(r.left),i.right=nn(r.right),i.alignItems="center"===t.overlayX?"center":"end"===t.overlayX?"flex-end":"flex-start",i.justifyContent="center"===t.overlayY?"center":"bottom"===t.overlayY?"flex-end":"flex-start",s&&(i.maxHeight=nn(s)),o&&(i.maxWidth=nn(o))}this._lastBoundingBoxSize=r,oc(this._boundingBox.style,i)}_resetBoundingBoxStyles(){oc(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})}_resetOverlayElementStyles(){oc(this._pane.style,{top:"",left:"",bottom:"",right:"",position:"",transform:""})}_setOverlayElementStyles(e,t){const r={},i=this._hasExactPosition(),s=this._hasFlexibleDimensions,o=this._overlayRef.getConfig();if(i){const u=this._viewportRuler.getViewportScrollPosition();oc(r,this._getExactOverlayY(t,e,u)),oc(r,this._getExactOverlayX(t,e,u))}else r.position="static";let a="",l=this._getOffset(t,"x"),c=this._getOffset(t,"y");l&&(a+=`translateX(${l}px) `),c&&(a+=`translateY(${c}px)`),r.transform=a.trim(),o.maxHeight&&(i?r.maxHeight=nn(o.maxHeight):s&&(r.maxHeight="")),o.maxWidth&&(i?r.maxWidth=nn(o.maxWidth):s&&(r.maxWidth="")),oc(this._pane.style,r)}_getExactOverlayY(e,t,r){let i={top:"",bottom:""},s=this._getOverlayPoint(t,this._overlayRect,e);this._isPushed&&(s=this._pushOverlayOnScreen(s,this._overlayRect,r));let o=this._overlayContainer.getContainerElement().getBoundingClientRect().top;return s.y-=o,"bottom"===e.overlayY?i.bottom=this._document.documentElement.clientHeight-(s.y+this._overlayRect.height)+"px":i.top=nn(s.y),i}_getExactOverlayX(e,t,r){let o,i={left:"",right:""},s=this._getOverlayPoint(t,this._overlayRect,e);return this._isPushed&&(s=this._pushOverlayOnScreen(s,this._overlayRect,r)),o=this._isRtl()?"end"===e.overlayX?"left":"right":"end"===e.overlayX?"right":"left","right"===o?i.right=this._document.documentElement.clientWidth-(s.x+this._overlayRect.width)+"px":i.left=nn(s.x),i}_getScrollVisibility(){const e=this._getOriginRect(),t=this._pane.getBoundingClientRect(),r=this._scrollables.map(i=>i.getElementRef().nativeElement.getBoundingClientRect());return{isOriginClipped:X8(e,r),isOriginOutsideView:$R(e,r),isOverlayClipped:X8(t,r),isOverlayOutsideView:$R(t,r)}}_subtractOverflows(e,...t){return t.reduce((r,i)=>r-Math.max(i,0),e)}_getNarrowedViewportRect(){const e=this._document.documentElement.clientWidth,t=this._document.documentElement.clientHeight,r=this._viewportRuler.getViewportScrollPosition();return{top:r.top+this._viewportMargin,left:r.left+this._viewportMargin,right:r.left+e-this._viewportMargin,bottom:r.top+t-this._viewportMargin,width:e-2*this._viewportMargin,height:t-2*this._viewportMargin}}_isRtl(){return"rtl"===this._overlayRef.getDirection()}_hasExactPosition(){return!this._hasFlexibleDimensions||this._isPushed}_getOffset(e,t){return"x"===t?e.offsetX??this._offsetX:e.offsetY??this._offsetY}_validatePositions(){}_addPanelClasses(e){this._pane&&jH(e).forEach(t=>{""!==t&&-1===this._appliedPanelClasses.indexOf(t)&&(this._appliedPanelClasses.push(t),this._pane.classList.add(t))})}_clearPanelClasses(){this._pane&&(this._appliedPanelClasses.forEach(e=>{this._pane.classList.remove(e)}),this._appliedPanelClasses=[])}_getOriginRect(){const e=this._origin;if(e instanceof Ze)return e.nativeElement.getBoundingClientRect();if(e instanceof Element)return e.getBoundingClientRect();const t=e.width||0,r=e.height||0;return{top:e.y,bottom:e.y+r,left:e.x,right:e.x+t,height:r,width:t}}}function oc(n,e){for(let t in e)e.hasOwnProperty(t)&&(n[t]=e[t]);return n}function nK(n){if("number"!=typeof n&&null!=n){const[e,t]=n.split(WDe);return t&&"px"!==t?null:parseFloat(e)}return n||null}function rK(n){return{top:Math.floor(n.top),right:Math.floor(n.right),bottom:Math.floor(n.bottom),left:Math.floor(n.left),width:Math.floor(n.width),height:Math.floor(n.height)}}const iK="cdk-global-overlay-wrapper";class KDe{constructor(){this._cssPosition="static",this._topOffset="",this._bottomOffset="",this._leftOffset="",this._rightOffset="",this._alignItems="",this._justifyContent="",this._width="",this._height=""}attach(e){const t=e.getConfig();this._overlayRef=e,this._width&&!t.width&&e.updateSize({width:this._width}),this._height&&!t.height&&e.updateSize({height:this._height}),e.hostElement.classList.add(iK),this._isDisposed=!1}top(e=""){return this._bottomOffset="",this._topOffset=e,this._alignItems="flex-start",this}left(e=""){return this._rightOffset="",this._leftOffset=e,this._justifyContent="flex-start",this}bottom(e=""){return this._topOffset="",this._bottomOffset=e,this._alignItems="flex-end",this}right(e=""){return this._leftOffset="",this._rightOffset=e,this._justifyContent="flex-end",this}width(e=""){return this._overlayRef?this._overlayRef.updateSize({width:e}):this._width=e,this}height(e=""){return this._overlayRef?this._overlayRef.updateSize({height:e}):this._height=e,this}centerHorizontally(e=""){return this.left(e),this._justifyContent="center",this}centerVertically(e=""){return this.top(e),this._alignItems="center",this}apply(){if(!this._overlayRef||!this._overlayRef.hasAttached())return;const e=this._overlayRef.overlayElement.style,t=this._overlayRef.hostElement.style,r=this._overlayRef.getConfig(),{width:i,height:s,maxWidth:o,maxHeight:a}=r,l=!("100%"!==i&&"100vw"!==i||o&&"100%"!==o&&"100vw"!==o),c=!("100%"!==s&&"100vh"!==s||a&&"100%"!==a&&"100vh"!==a);e.position=this._cssPosition,e.marginLeft=l?"0":this._leftOffset,e.marginTop=c?"0":this._topOffset,e.marginBottom=this._bottomOffset,e.marginRight=this._rightOffset,l?t.justifyContent="flex-start":"center"===this._justifyContent?t.justifyContent="center":"rtl"===this._overlayRef.getConfig().direction?"flex-start"===this._justifyContent?t.justifyContent="flex-end":"flex-end"===this._justifyContent&&(t.justifyContent="flex-start"):t.justifyContent=this._justifyContent,t.alignItems=c?"flex-start":this._alignItems}dispose(){if(this._isDisposed||!this._overlayRef)return;const e=this._overlayRef.overlayElement.style,t=this._overlayRef.hostElement,r=t.style;t.classList.remove(iK),r.justifyContent=r.alignItems=e.marginTop=e.marginBottom=e.marginLeft=e.marginRight=e.position="",this._overlayRef=null,this._isDisposed=!0}}let YDe=(()=>{class n{constructor(t,r,i,s){this._viewportRuler=t,this._document=r,this._platform=i,this._overlayContainer=s}global(){return new KDe}flexibleConnectedTo(t){return new qDe(t,this._viewportRuler,this._document,this._platform,this._overlayContainer)}}return n.\u0275fac=function(t){return new(t||n)(w(q8),w(Se),w(Yr),w(eK))},n.\u0275prov=V({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),QDe=0,Xp=(()=>{class n{constructor(t,r,i,s,o,a,l,c,u,d,h){this.scrollStrategies=t,this._overlayContainer=r,this._componentFactoryResolver=i,this._positionBuilder=s,this._keyboardDispatcher=o,this._injector=a,this._ngZone=l,this._document=c,this._directionality=u,this._location=d,this._outsideClickDispatcher=h}create(t){const r=this._createHostElement(),i=this._createPaneElement(r),s=this._createPortalOutlet(i),o=new Z8(t);return o.direction=o.direction||this._directionality.value,new GDe(s,r,i,o,this._ngZone,this._keyboardDispatcher,this._document,this._location,this._outsideClickDispatcher)}position(){return this._positionBuilder}_createPaneElement(t){const r=this._document.createElement("div");return r.id="cdk-overlay-"+QDe++,r.classList.add("cdk-overlay-pane"),t.appendChild(r),r}_createHostElement(){const t=this._document.createElement("div");return this._overlayContainer.getContainerElement().appendChild(t),t}_createPortalOutlet(t){return this._appRef||(this._appRef=this._injector.get(il)),new DDe(t,this._componentFactoryResolver,this._appRef,this._injector,this._document)}}return n.\u0275fac=function(t){return new(t||n)(w(BDe),w(eK),w(jo),w(YDe),w(jDe),w(Je),w(se),w(Se),w(VI),w(Qg),w(zDe))},n.\u0275prov=V({token:n,factory:n.\u0275fac}),n})();const JDe={provide:new N("cdk-connected-overlay-scroll-strategy"),deps:[Xp],useFactory:function ZDe(n){return()=>n.scrollStrategies.reposition()}};let sK=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=te({type:n}),n.\u0275inj=ee({providers:[Xp,JDe],imports:[[rf,ADe,K8],K8]}),n})();const eAe=["mat-menu-item",""];function tAe(n,e){1&n&&(function aC(){fe.lFrame.currentNamespace="svg"}(),C(0,"svg",2),he(1,"polygon",3),S())}const oK=["*"];function nAe(n,e){if(1&n){const t=Oi();C(0,"div",0),ye("keydown",function(i){return Dt(t),At(X()._handleKeydown(i))})("click",function(){return Dt(t),At(X().closed.emit("click"))})("@transformMenu.start",function(i){return Dt(t),At(X()._onAnimationStart(i))})("@transformMenu.done",function(i){return Dt(t),At(X()._onAnimationDone(i))}),C(1,"div",1),Pn(2),S()()}if(2&n){const t=X();F("id",t.panelId)("ngClass",t._classList)("@transformMenu",t._panelAnimationState),ft("aria-label",t.ariaLabel||null)("aria-labelledby",t.ariaLabelledby||null)("aria-describedby",t.ariaDescribedby||null)}}const Tb={transformMenu:$p("transformMenu",[bd("void",ii({opacity:0,transform:"scale(0.8)"})),ic("void => enter",vd("120ms cubic-bezier(0, 0, 0.2, 1)",ii({opacity:1,transform:"scale(1)"}))),ic("* => void",vd("100ms 25ms linear",ii({opacity:0})))]),fadeInItems:$p("fadeInItems",[bd("showing",ii({opacity:1})),ic("void => *",[ii({opacity:0}),vd("400ms 100ms cubic-bezier(0.55, 0, 0.55, 0.2)")])])},rAe=new N("MatMenuContent"),jR=new N("MAT_MENU_PANEL"),iAe=BI(Z_(class{}));let Sb=(()=>{class n extends iAe{constructor(t,r,i,s,o){super(),this._elementRef=t,this._focusMonitor=i,this._parentMenu=s,this._changeDetectorRef=o,this.role="menuitem",this._hovered=new Le,this._focused=new Le,this._highlighted=!1,this._triggersSubmenu=!1,s&&s.addItem&&s.addItem(this)}focus(t,r){this._focusMonitor&&t?this._focusMonitor.focusVia(this._getHostElement(),t,r):this._getHostElement().focus(r),this._focused.next(this)}ngAfterViewInit(){this._focusMonitor&&this._focusMonitor.monitor(this._elementRef,!1)}ngOnDestroy(){this._focusMonitor&&this._focusMonitor.stopMonitoring(this._elementRef),this._parentMenu&&this._parentMenu.removeItem&&this._parentMenu.removeItem(this),this._hovered.complete(),this._focused.complete()}_getTabIndex(){return this.disabled?"-1":"0"}_getHostElement(){return this._elementRef.nativeElement}_checkDisabled(t){this.disabled&&(t.preventDefault(),t.stopPropagation())}_handleMouseEnter(){this._hovered.next(this)}getLabel(){const t=this._elementRef.nativeElement.cloneNode(!0),r=t.querySelectorAll("mat-icon, .material-icons");for(let i=0;i<r.length;i++)r[i].remove();return t.textContent?.trim()||""}_setHighlighted(t){this._highlighted=t,this._changeDetectorRef?.markForCheck()}}return n.\u0275fac=function(t){return new(t||n)(y(Ze),y(Se),y(X_),y(jR,8),y(Js))},n.\u0275cmp=Ye({type:n,selectors:[["","mat-menu-item",""]],hostAttrs:[1,"mat-focus-indicator"],hostVars:10,hostBindings:function(t,r){1&t&&ye("click",function(s){return r._checkDisabled(s)})("mouseenter",function(){return r._handleMouseEnter()}),2&t&&(ft("role",r.role)("tabindex",r._getTabIndex())("aria-disabled",r.disabled.toString())("disabled",r.disabled||null),Vt("mat-menu-item",!0)("mat-menu-item-highlighted",r._highlighted)("mat-menu-item-submenu-trigger",r._triggersSubmenu))},inputs:{disabled:"disabled",disableRipple:"disableRipple",role:"role"},exportAs:["matMenuItem"],features:[Te],attrs:eAe,ngContentSelectors:oK,decls:3,vars:3,consts:[["matRipple","",1,"mat-menu-ripple",3,"matRippleDisabled","matRippleTrigger"],["class","mat-menu-submenu-icon","viewBox","0 0 5 10","focusable","false",4,"ngIf"],["viewBox","0 0 5 10","focusable","false",1,"mat-menu-submenu-icon"],["points","0,0 5,5 0,10"]],template:function(t,r){1&t&&(Qs(),Pn(0),he(1,"div",0),Z(2,tAe,2,0,"svg",1)),2&t&&(R(1),F("matRippleDisabled",r.disableRipple||r.disabled)("matRippleTrigger",r._getHostElement()),R(1),F("ngIf",r._triggersSubmenu))},dependencies:[lf,Kr],encapsulation:2,changeDetection:0}),n})();const aK=new N("mat-menu-default-options",{providedIn:"root",factory:function sAe(){return{overlapTrigger:!1,xPosition:"after",yPosition:"below",backdropClass:"cdk-overlay-transparent-backdrop"}}});let oAe=0,Zp=(()=>{class n{constructor(t,r,i){this._elementRef=t,this._ngZone=r,this._defaultOptions=i,this._xPosition=this._defaultOptions.xPosition,this._yPosition=this._defaultOptions.yPosition,this._directDescendantItems=new cu,this._tabSubscription=Ft.EMPTY,this._classList={},this._panelAnimationState="void",this._animationDone=new Le,this.overlayPanelClass=this._defaultOptions.overlayPanelClass||"",this.backdropClass=this._defaultOptions.backdropClass,this._overlapTrigger=this._defaultOptions.overlapTrigger,this._hasBackdrop=this._defaultOptions.hasBackdrop,this.closed=new Pe,this.close=this.closed,this.panelId="mat-menu-panel-"+oAe++}get xPosition(){return this._xPosition}set xPosition(t){this._xPosition=t,this.setPositionClasses()}get yPosition(){return this._yPosition}set yPosition(t){this._yPosition=t,this.setPositionClasses()}get overlapTrigger(){return this._overlapTrigger}set overlapTrigger(t){this._overlapTrigger=pr(t)}get hasBackdrop(){return this._hasBackdrop}set hasBackdrop(t){this._hasBackdrop=pr(t)}set panelClass(t){const r=this._previousPanelClass;r&&r.length&&r.split(" ").forEach(i=>{this._classList[i]=!1}),this._previousPanelClass=t,t&&t.length&&(t.split(" ").forEach(i=>{this._classList[i]=!0}),this._elementRef.nativeElement.className="")}get classList(){return this.panelClass}set classList(t){this.panelClass=t}ngOnInit(){this.setPositionClasses()}ngAfterContentInit(){this._updateDirectDescendants(),this._keyManager=new yce(this._directDescendantItems).withWrap().withTypeAhead().withHomeAndEnd(),this._tabSubscription=this._keyManager.tabOut.subscribe(()=>this.closed.emit("tab")),this._directDescendantItems.changes.pipe(Qo(this._directDescendantItems),On(t=>Tc(...t.map(r=>r._focused)))).subscribe(t=>this._keyManager.updateActiveItem(t))}ngOnDestroy(){this._directDescendantItems.destroy(),this._tabSubscription.unsubscribe(),this.closed.complete()}_hovered(){return this._directDescendantItems.changes.pipe(Qo(this._directDescendantItems),On(r=>Tc(...r.map(i=>i._hovered))))}addItem(t){}removeItem(t){}_handleKeydown(t){const r=t.keyCode,i=this._keyManager;switch(r){case 27:VH(t)||(t.preventDefault(),this.closed.emit("keydown"));break;case 37:this.parentMenu&&"ltr"===this.direction&&this.closed.emit("keydown");break;case 39:this.parentMenu&&"rtl"===this.direction&&this.closed.emit("keydown");break;default:(38===r||40===r)&&i.setFocusOrigin("keyboard"),i.onKeydown(t)}}focusFirstItem(t="program"){this.lazyContent?this._ngZone.onStable.pipe(Dr(1)).subscribe(()=>this._focusFirstItem(t)):this._focusFirstItem(t)}_focusFirstItem(t){const r=this._keyManager;if(r.setFocusOrigin(t).setFirstItemActive(),!r.activeItem&&this._directDescendantItems.length){let i=this._directDescendantItems.first._getHostElement().parentElement;for(;i;){if("menu"===i.getAttribute("role")){i.focus();break}i=i.parentElement}}}resetActiveItem(){this._keyManager.setActiveItem(-1)}setElevation(t){const r=Math.min(this._baseElevation+t,24),i=`${this._elevationPrefix}${r}`,s=Object.keys(this._classList).find(o=>o.startsWith(this._elevationPrefix));(!s||s===this._previousElevation)&&(this._previousElevation&&(this._classList[this._previousElevation]=!1),this._classList[i]=!0,this._previousElevation=i)}setPositionClasses(t=this.xPosition,r=this.yPosition){const i=this._classList;i["mat-menu-before"]="before"===t,i["mat-menu-after"]="after"===t,i["mat-menu-above"]="above"===r,i["mat-menu-below"]="below"===r}_startAnimation(){this._panelAnimationState="enter"}_resetAnimation(){this._panelAnimationState="void"}_onAnimationDone(t){this._animationDone.next(t),this._isAnimating=!1}_onAnimationStart(t){this._isAnimating=!0,"enter"===t.toState&&0===this._keyManager.activeItemIndex&&(t.element.scrollTop=0)}_updateDirectDescendants(){this._allItems.changes.pipe(Qo(this._allItems)).subscribe(t=>{this._directDescendantItems.reset(t.filter(r=>r._parentMenu===this)),this._directDescendantItems.notifyOnChanges()})}}return n.\u0275fac=function(t){return new(t||n)(y(Ze),y(se),y(aK))},n.\u0275dir=q({type:n,contentQueries:function(t,r,i){if(1&t&&(Jn(i,rAe,5),Jn(i,Sb,5),Jn(i,Sb,4)),2&t){let s;vt(s=bt())&&(r.lazyContent=s.first),vt(s=bt())&&(r._allItems=s),vt(s=bt())&&(r.items=s)}},viewQuery:function(t,r){if(1&t&&as(mi,5),2&t){let i;vt(i=bt())&&(r.templateRef=i.first)}},inputs:{backdropClass:"backdropClass",ariaLabel:["aria-label","ariaLabel"],ariaLabelledby:["aria-labelledby","ariaLabelledby"],ariaDescribedby:["aria-describedby","ariaDescribedby"],xPosition:"xPosition",yPosition:"yPosition",overlapTrigger:"overlapTrigger",hasBackdrop:"hasBackdrop",panelClass:["class","panelClass"],classList:"classList"},outputs:{closed:"closed",close:"close"}}),n})(),aAe=(()=>{class n extends Zp{constructor(t,r,i){super(t,r,i),this._elevationPrefix="mat-elevation-z",this._baseElevation=4}}return n.\u0275fac=function(t){return new(t||n)(y(Ze),y(se),y(aK))},n.\u0275cmp=Ye({type:n,selectors:[["mat-menu"]],hostVars:3,hostBindings:function(t,r){2&t&&ft("aria-label",null)("aria-labelledby",null)("aria-describedby",null)},exportAs:["matMenu"],features:[$e([{provide:jR,useExisting:n}]),Te],ngContentSelectors:oK,decls:1,vars:0,consts:[["tabindex","-1","role","menu",1,"mat-menu-panel",3,"id","ngClass","keydown","click"],[1,"mat-menu-content"]],template:function(t,r){1&t&&(Qs(),Z(0,nAe,3,6,"ng-template"))},dependencies:[AE],styles:["mat-menu{display:none}.mat-menu-panel{min-width:112px;max-width:280px;overflow:auto;-webkit-overflow-scrolling:touch;max-height:calc(100vh - 48px);border-radius:4px;outline:0;min-height:64px}.mat-menu-panel.ng-animating{pointer-events:none}.cdk-high-contrast-active .mat-menu-panel{outline:solid 1px}.mat-menu-content:not(:empty){padding-top:8px;padding-bottom:8px}.mat-menu-item{-webkit-user-select:none;-moz-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;display:block;line-height:48px;height:48px;padding:0 16px;text-align:left;text-decoration:none;max-width:100%;position:relative}.mat-menu-item::-moz-focus-inner{border:0}.mat-menu-item[disabled]{cursor:default}[dir=rtl] .mat-menu-item{text-align:right}.mat-menu-item .mat-icon{margin-right:16px;vertical-align:middle}.mat-menu-item .mat-icon svg{vertical-align:top}[dir=rtl] .mat-menu-item .mat-icon{margin-left:16px;margin-right:0}.mat-menu-item[disabled]{pointer-events:none}.cdk-high-contrast-active .mat-menu-item{margin-top:1px}.cdk-high-contrast-active .mat-menu-item.cdk-program-focused,.cdk-high-contrast-active .mat-menu-item.cdk-keyboard-focused,.cdk-high-contrast-active .mat-menu-item-highlighted{outline:dotted 1px}.mat-menu-item-submenu-trigger{padding-right:32px}[dir=rtl] .mat-menu-item-submenu-trigger{padding-right:16px;padding-left:32px}.mat-menu-submenu-icon{position:absolute;top:50%;right:16px;transform:translateY(-50%);width:5px;height:10px;fill:currentColor}[dir=rtl] .mat-menu-submenu-icon{right:auto;left:16px;transform:translateY(-50%) scaleX(-1)}.cdk-high-contrast-active .mat-menu-submenu-icon{fill:CanvasText}button.mat-menu-item{width:100%}.mat-menu-item .mat-menu-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}\n"],encapsulation:2,data:{animation:[Tb.transformMenu,Tb.fadeInItems]},changeDetection:0}),n})();const lK=new N("mat-menu-scroll-strategy"),cAe={provide:lK,deps:[Xp],useFactory:function lAe(n){return()=>n.scrollStrategies.reposition()}},uK=nf({passive:!0});let uAe=(()=>{class n{constructor(t,r,i,s,o,a,l,c){this._overlay=t,this._element=r,this._viewContainerRef=i,this._menuItemInstance=a,this._dir=l,this._focusMonitor=c,this._overlayRef=null,this._menuOpen=!1,this._closingActionsSubscription=Ft.EMPTY,this._hoverSubscription=Ft.EMPTY,this._menuCloseSubscription=Ft.EMPTY,this._handleTouchStart=u=>{FI(u)||(this._openedBy="touch")},this._openedBy=void 0,this._ariaHaspopup=!0,this.restoreFocus=!0,this.menuOpened=new Pe,this.onMenuOpen=this.menuOpened,this.menuClosed=new Pe,this.onMenuClose=this.menuClosed,this._scrollStrategy=s,this._parentMaterialMenu=o instanceof Zp?o:void 0,r.nativeElement.addEventListener("touchstart",this._handleTouchStart,uK),a&&(a._triggersSubmenu=this.triggersSubmenu())}get _ariaExpanded(){return this.menuOpen||null}get _ariaControl(){return this.menuOpen?this.menu.panelId:null}get _deprecatedMatMenuTriggerFor(){return this.menu}set _deprecatedMatMenuTriggerFor(t){this.menu=t}get menu(){return this._menu}set menu(t){t!==this._menu&&(this._menu=t,this._menuCloseSubscription.unsubscribe(),t&&(this._menuCloseSubscription=t.close.subscribe(r=>{this._destroyMenu(r),("click"===r||"tab"===r)&&this._parentMaterialMenu&&this._parentMaterialMenu.closed.emit(r)})))}ngAfterContentInit(){this._checkMenu(),this._handleHover()}ngOnDestroy(){this._overlayRef&&(this._overlayRef.dispose(),this._overlayRef=null),this._element.nativeElement.removeEventListener("touchstart",this._handleTouchStart,uK),this._menuCloseSubscription.unsubscribe(),this._closingActionsSubscription.unsubscribe(),this._hoverSubscription.unsubscribe()}get menuOpen(){return this._menuOpen}get dir(){return this._dir&&"rtl"===this._dir.value?"rtl":"ltr"}triggersSubmenu(){return!(!this._menuItemInstance||!this._parentMaterialMenu)}toggleMenu(){return this._menuOpen?this.closeMenu():this.openMenu()}openMenu(){if(this._menuOpen)return;this._checkMenu();const t=this._createOverlay(),r=t.getConfig();this._setPosition(r.positionStrategy),r.hasBackdrop=this.menu.hasBackdrop??!this.triggersSubmenu(),t.attach(this._getPortal()),this.menu.lazyContent&&this.menu.lazyContent.attach(this.menuData),this._closingActionsSubscription=this._menuClosingActions().subscribe(()=>this.closeMenu()),this._initMenu(),this.menu instanceof Zp&&this.menu._startAnimation()}closeMenu(){this.menu.close.emit()}focus(t,r){this._focusMonitor&&t?this._focusMonitor.focusVia(this._element,t,r):this._element.nativeElement.focus(r)}updatePosition(){this._overlayRef?.updatePosition()}_destroyMenu(t){if(!this._overlayRef||!this.menuOpen)return;const r=this.menu;this._closingActionsSubscription.unsubscribe(),this._overlayRef.detach(),this.restoreFocus&&("keydown"===t||!this._openedBy||!this.triggersSubmenu())&&this.focus(this._openedBy),this._openedBy=void 0,r instanceof Zp?(r._resetAnimation(),r.lazyContent?r._animationDone.pipe(dn(i=>"void"===i.toState),Dr(1),hl(r.lazyContent._attached)).subscribe({next:()=>r.lazyContent.detach(),complete:()=>this._setIsMenuOpen(!1)}):this._setIsMenuOpen(!1)):(this._setIsMenuOpen(!1),r.lazyContent&&r.lazyContent.detach())}_initMenu(){this.menu.parentMenu=this.triggersSubmenu()?this._parentMaterialMenu:void 0,this.menu.direction=this.dir,this._setMenuElevation(),this.menu.focusFirstItem(this._openedBy||"program"),this._setIsMenuOpen(!0)}_setMenuElevation(){if(this.menu.setElevation){let t=0,r=this.menu.parentMenu;for(;r;)t++,r=r.parentMenu;this.menu.setElevation(t)}}_setIsMenuOpen(t){this._menuOpen=t,this._menuOpen?this.menuOpened.emit():this.menuClosed.emit(),this.triggersSubmenu()&&this._menuItemInstance._setHighlighted(t)}_checkMenu(){}_createOverlay(){if(!this._overlayRef){const t=this._getOverlayConfig();this._subscribeToPositions(t.positionStrategy),this._overlayRef=this._overlay.create(t),this._overlayRef.keydownEvents().subscribe()}return this._overlayRef}_getOverlayConfig(){return new Z8({positionStrategy:this._overlay.position().flexibleConnectedTo(this._element).withLockedPosition().withGrowAfterOpen().withTransformOriginOn(".mat-menu-panel, .mat-mdc-menu-panel"),backdropClass:this.menu.backdropClass||"cdk-overlay-transparent-backdrop",panelClass:this.menu.overlayPanelClass,scrollStrategy:this._scrollStrategy(),direction:this._dir})}_subscribeToPositions(t){this.menu.setPositionClasses&&t.positionChanges.subscribe(r=>{this.menu.setPositionClasses("start"===r.connectionPair.overlayX?"after":"before","top"===r.connectionPair.overlayY?"below":"above")})}_setPosition(t){let[r,i]="before"===this.menu.xPosition?["end","start"]:["start","end"],[s,o]="above"===this.menu.yPosition?["bottom","top"]:["top","bottom"],[a,l]=[s,o],[c,u]=[r,i],d=0;this.triggersSubmenu()?(u=r="before"===this.menu.xPosition?"start":"end",i=c="end"===r?"start":"end",d="bottom"===s?8:-8):this.menu.overlapTrigger||(a="top"===s?"bottom":"top",l="top"===o?"bottom":"top"),t.withPositions([{originX:r,originY:a,overlayX:c,overlayY:s,offsetY:d},{originX:i,originY:a,overlayX:u,overlayY:s,offsetY:d},{originX:r,originY:l,overlayX:c,overlayY:o,offsetY:-d},{originX:i,originY:l,overlayX:u,overlayY:o,offsetY:-d}])}_menuClosingActions(){const t=this._overlayRef.backdropClick(),r=this._overlayRef.detachments();return Tc(t,this._parentMaterialMenu?this._parentMaterialMenu.closed:W(),this._parentMaterialMenu?this._parentMaterialMenu._hovered().pipe(dn(o=>o!==this._menuItemInstance),dn(()=>this._menuOpen)):W(),r)}_handleMousedown(t){NI(t)||(this._openedBy=0===t.button?"mouse":void 0,this.triggersSubmenu()&&t.preventDefault())}_handleKeydown(t){const r=t.keyCode;(13===r||32===r)&&(this._openedBy="keyboard"),this.triggersSubmenu()&&(39===r&&"ltr"===this.dir||37===r&&"rtl"===this.dir)&&(this._openedBy="keyboard",this.openMenu())}_handleClick(t){this.triggersSubmenu()?(t.stopPropagation(),this.openMenu()):this.toggleMenu()}_handleHover(){!this.triggersSubmenu()||!this._parentMaterialMenu||(this._hoverSubscription=this._parentMaterialMenu._hovered().pipe(dn(t=>t===this._menuItemInstance&&!t.disabled),z8(0,UR)).subscribe(()=>{this._openedBy="mouse",this.menu instanceof Zp&&this.menu._isAnimating?this.menu._animationDone.pipe(Dr(1),z8(0,UR),hl(this._parentMaterialMenu._hovered())).subscribe(()=>this.openMenu()):this.openMenu()}))}_getPortal(){return(!this._portal||this._portal.templateRef!==this.menu.templateRef)&&(this._portal=new G8(this.menu.templateRef,this._viewContainerRef)),this._portal}}return n.\u0275fac=function(t){return new(t||n)(y(Xp),y(Ze),y(qr),y(lK),y(jR,8),y(Sb,10),y(VI,8),y(X_))},n.\u0275dir=q({type:n,hostVars:3,hostBindings:function(t,r){1&t&&ye("mousedown",function(s){return r._handleMousedown(s)})("keydown",function(s){return r._handleKeydown(s)})("click",function(s){return r._handleClick(s)}),2&t&&ft("aria-expanded",r._ariaExpanded)("aria-controls",r._ariaControl)("aria-haspopup",r._ariaHaspopup)},inputs:{_deprecatedMatMenuTriggerFor:["mat-menu-trigger-for","_deprecatedMatMenuTriggerFor"],menu:["matMenuTriggerFor","menu"],menuData:["matMenuTriggerData","menuData"],restoreFocus:["matMenuTriggerRestoreFocus","restoreFocus"]},outputs:{menuOpened:"menuOpened",onMenuOpen:"onMenuOpen",menuClosed:"menuClosed",onMenuClose:"onMenuClose"}}),n})(),dAe=(()=>{class n extends uAe{}return n.\u0275fac=function(){let e;return function(r){return(e||(e=vn(n)))(r||n)}}(),n.\u0275dir=q({type:n,selectors:[["","mat-menu-trigger-for",""],["","matMenuTriggerFor",""]],hostAttrs:[1,"mat-menu-trigger"],exportAs:["matMenuTrigger"],features:[Te]}),n})(),hAe=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=te({type:n}),n.\u0275inj=ee({providers:[cAe],imports:[[fu,at,J_,sK],Ib,at]}),n})(),fAe=0;const pAe=Z_(class{}),dK="mat-badge-content";let mAe=(()=>{class n extends pAe{constructor(t,r,i,s,o){super(),this._ngZone=t,this._elementRef=r,this._ariaDescriber=i,this._renderer=s,this._animationMode=o,this._color="primary",this._overlap=!0,this.position="above after",this.size="medium",this._id=fAe++,this._isInitialized=!1}get color(){return this._color}set color(t){this._setColor(t),this._color=t}get overlap(){return this._overlap}set overlap(t){this._overlap=pr(t)}get content(){return this._content}set content(t){this._updateRenderedContent(t)}get description(){return this._description}set description(t){this._updateHostAriaDescription(t)}get hidden(){return this._hidden}set hidden(t){this._hidden=pr(t)}isAbove(){return-1===this.position.indexOf("below")}isAfter(){return-1===this.position.indexOf("before")}getBadgeElement(){return this._badgeElement}ngOnInit(){this._clearExistingBadges(),this.content&&!this._badgeElement&&(this._badgeElement=this._createBadgeElement(),this._updateRenderedContent(this.content)),this._isInitialized=!0}ngOnDestroy(){this._renderer.destroyNode&&this._renderer.destroyNode(this._badgeElement),this._ariaDescriber.removeDescription(this._elementRef.nativeElement,this.description)}_createBadgeElement(){const t=this._renderer.createElement("span"),r="mat-badge-active";return t.setAttribute("id",`mat-badge-content-${this._id}`),t.setAttribute("aria-hidden","true"),t.classList.add(dK),"NoopAnimations"===this._animationMode&&t.classList.add("_mat-animation-noopable"),this._elementRef.nativeElement.appendChild(t),"function"==typeof requestAnimationFrame&&"NoopAnimations"!==this._animationMode?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>{t.classList.add(r)})}):t.classList.add(r),t}_updateRenderedContent(t){const r=`${t??""}`.trim();this._isInitialized&&r&&!this._badgeElement&&(this._badgeElement=this._createBadgeElement()),this._badgeElement&&(this._badgeElement.textContent=r),this._content=r}_updateHostAriaDescription(t){this._ariaDescriber.removeDescription(this._elementRef.nativeElement,this.description),t&&this._ariaDescriber.describe(this._elementRef.nativeElement,t),this._description=t}_setColor(t){const r=this._elementRef.nativeElement.classList;r.remove(`mat-badge-${this._color}`),t&&r.add(`mat-badge-${t}`)}_clearExistingBadges(){const t=this._elementRef.nativeElement.querySelectorAll(`:scope > .${dK}`);for(const r of Array.from(t))r!==this._badgeElement&&r.remove()}}return n.\u0275fac=function(t){return new(t||n)(y(se),y(Ze),y(gce),y(ki),y(rl,8))},n.\u0275dir=q({type:n,selectors:[["","matBadge",""]],hostAttrs:[1,"mat-badge"],hostVars:20,hostBindings:function(t,r){2&t&&Vt("mat-badge-overlap",r.overlap)("mat-badge-above",r.isAbove())("mat-badge-below",!r.isAbove())("mat-badge-before",!r.isAfter())("mat-badge-after",r.isAfter())("mat-badge-small","small"===r.size)("mat-badge-medium","medium"===r.size)("mat-badge-large","large"===r.size)("mat-badge-hidden",r.hidden||!r.content)("mat-badge-disabled",r.disabled)},inputs:{disabled:["matBadgeDisabled","disabled"],color:["matBadgeColor","color"],overlap:["matBadgeOverlap","overlap"],position:["matBadgePosition","position"],content:["matBadge","content"],description:["matBadgeDescription","description"],size:["matBadgeSize","size"],hidden:["matBadgeHidden","hidden"]},features:[Te]}),n})(),gAe=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=te({type:n}),n.\u0275inj=ee({imports:[[Mce,at],at]}),n})();function _Ae(n,e){if(1&n&&(Ks(0),C(1,"button",10),he(2,"img",11),D(3),C(4,"mat-icon"),D(5,"expand_more"),S()(),Ys()),2&n){const t=e.ngIf;X();const r=Gt(23);let i;R(1),F("matMenuTriggerFor",r),R(1),F("src",null!==(i=t.photoURL)&&void 0!==i?i:"/assets/images/image-placeholder.png",Qa),R(1),Zn(" ",t.displayName," ")}}function yAe(n,e){1&n&&(C(0,"button",12)(1,"mat-icon"),D(2,"login"),S(),D(3," \u0412\u043e\u0439\u0442\u0438 "),S())}let vAe=(()=>{class n{constructor(t,r,i,s){this.auth=t,this.router=r,this.usersService=i,this.drugService=s,this.count=this.drugService.getSum(),this.user$=this.usersService.currentUserProfile$}ngOnInit(){}logout(){this.auth.logout().subscribe(()=>{this.router.navigate(["/"])})}}return n.\u0275fac=function(t){return new(t||n)(y(Lu),y(Ht),y(Qk),y($_))},n.\u0275cmp=Ye({type:n,selectors:[["app-header"]],decls:28,vars:5,consts:[["color","primary"],["mat-button","","routerLink","/"],["mat-button","","routerLink","store"],["mat-button","","routerLink","signup"],[4,"ngIf","ngIfElse"],["LoginButton",""],["mat-button","","routerLink","cart","matBadgeColor","accent","matBadgePosition","after",3,"matBadge"],["userMenu","matMenu"],["mat-menu-item","",3,"click"],["mat-menu-item","","routerLink","/profile"],["mat-button","",3,"matMenuTriggerFor"],["alt","","width","30","height","30",1,"profile-image-toolbar",3,"src"],["mat-button","","routerLink","login"]],template:function(t,r){if(1&t&&(C(0,"mat-toolbar",0)(1,"div")(2,"button",1)(3,"mat-icon"),D(4,"home"),S(),D(5," \u041e\u043d\u043b\u0430\u0439\u043d \u0410\u043f\u0442\u0435\u043a\u0430 "),S()(),C(6,"div")(7,"button",2)(8,"mat-icon"),D(9,"signup"),S(),D(10," Store "),S(),C(11,"button",3)(12,"mat-icon"),D(13,"signup"),S(),D(14," Signup "),S(),Z(15,_Ae,6,3,"ng-container",4),Li(16,"async"),Z(17,yAe,4,0,"ng-template",null,5,uu),C(19,"button",6)(20,"mat-icon"),D(21,"shopping_cart_checkout"),S()()()(),C(22,"mat-menu",null,7)(24,"button",8),ye("click",function(){return r.logout()}),D(25,"\u0412\u044b\u0439\u0442\u0438"),S(),C(26,"button",9),D(27,"\u041f\u0440\u043e\u0444\u0438\u043b\u044c"),S()()),2&t){const i=Gt(18);R(15),F("ngIf",Bg(16,3,r.user$))("ngIfElse",i),R(4),F("matBadge",r.drugService.getSum()>0?r.drugService.getSum():"")}},dependencies:[Kr,Xh,pDe,ry,gl,aAe,Sb,dAe,mAe,o_],styles:["mat-toolbar[_ngcontent-%COMP%]{justify-content:space-between;background-color:#00f;overflow-x:hidden}"]}),n})(),bAe=(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=Ye({type:n,selectors:[["app-footer"]],decls:2,vars:0,template:function(t,r){1&t&&(C(0,"p"),D(1,"footer works!"),S())}}),n})(),wAe=(()=>{class n{constructor(){this.title="myProject"}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=Ye({type:n,selectors:[["app-root"]],decls:6,vars:0,consts:[[1,"header"],[1,"content"],[1,"footer"]],template:function(t,r){1&t&&(C(0,"div",0),he(1,"app-header"),S(),C(2,"div",1),he(3,"router-outlet"),S(),C(4,"div",2),he(5,"app-footer"),S())},dependencies:[S_,vAe,bAe],styles:[".content[_ngcontent-%COMP%]{padding:80px 32px 32px;margin:0 auto}.footer[_ngcontent-%COMP%]{position:fixed;left:0;bottom:0;width:100%;background-color:#6338b0;color:#fff;text-align:center}.header[_ngcontent-%COMP%]{position:fixed;left:0;top:0;width:100%}"]}),n})();function hK(n){return new x(3e3,!1)}function nMe(){return typeof window<"u"&&typeof window.document<"u"}function zR(){return typeof process<"u"&&"[object process]"==={}.toString.call(process)}function Ta(n){switch(n.length){case 0:return new jp;case 1:return n[0];default:return new K5(n)}}function fK(n,e,t,r,i=new Map,s=new Map){const o=[],a=[];let l=-1,c=null;if(r.forEach(u=>{const d=u.get("offset"),h=d==l,f=h&&c||new Map;u.forEach((p,m)=>{let g=m,b=p;if("offset"!==m)switch(g=e.normalizePropertyName(g,o),b){case"!":b=i.get(m);break;case Mo:b=s.get(m);break;default:b=e.normalizeStyleValue(m,g,b,o)}f.set(g,b)}),h||a.push(f),c=f,l=d}),o.length)throw function zAe(n){return new x(3502,!1)}();return a}function GR(n,e,t,r){switch(e){case"start":n.onStart(()=>r(t&&WR(t,"start",n)));break;case"done":n.onDone(()=>r(t&&WR(t,"done",n)));break;case"destroy":n.onDestroy(()=>r(t&&WR(t,"destroy",n)))}}function WR(n,e,t){const s=qR(n.element,n.triggerName,n.fromState,n.toState,e||n.phaseName,t.totalTime??n.totalTime,!!t.disabled),o=n._data;return null!=o&&(s._data=o),s}function qR(n,e,t,r,i="",s=0,o){return{element:n,triggerName:e,fromState:t,toState:r,phaseName:i,totalTime:s,disabled:!!o}}function si(n,e,t){let r=n.get(e);return r||n.set(e,r=t),r}function pK(n){const e=n.indexOf(":");return[n.substring(1,e),n.slice(e+1)]}let KR=(n,e)=>!1,mK=(n,e,t)=>[],gK=null;function YR(n){const e=n.parentNode||n.host;return e===gK?null:e}(zR()||typeof Element<"u")&&(nMe()?(gK=(()=>document.documentElement)(),KR=(n,e)=>{for(;e;){if(e===n)return!0;e=YR(e)}return!1}):KR=(n,e)=>n.contains(e),mK=(n,e,t)=>{if(t)return Array.from(n.querySelectorAll(e));const r=n.querySelector(e);return r?[r]:[]});let ac=null,_K=!1;const yK=KR,vK=mK;let bK=(()=>{class n{validateStyleProperty(t){return function iMe(n){ac||(ac=function sMe(){return typeof document<"u"?document.body:null}()||{},_K=!!ac.style&&"WebkitAppearance"in ac.style);let e=!0;return ac.style&&!function rMe(n){return"ebkit"==n.substring(1,6)}(n)&&(e=n in ac.style,!e&&_K&&(e="Webkit"+n.charAt(0).toUpperCase()+n.slice(1)in ac.style)),e}(t)}matchesElement(t,r){return!1}containsElement(t,r){return yK(t,r)}getParentElement(t){return YR(t)}query(t,r,i){return vK(t,r,i)}computeStyle(t,r,i){return i||""}animate(t,r,i,s,o,a=[],l){return new jp(i,s)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=V({token:n,factory:n.\u0275fac}),n})(),QR=(()=>{class n{}return n.NOOP=new bK,n})();const XR="ng-enter",Db="ng-leave",Ab="ng-trigger",Mb=".ng-trigger",CK="ng-animating",ZR=".ng-animating";function Ro(n){if("number"==typeof n)return n;const e=n.match(/^(-?[\.\d]+)(m?s)/);return!e||e.length<2?0:JR(parseFloat(e[1]),e[2])}function JR(n,e){return"s"===e?1e3*n:n}function xb(n,e,t){return n.hasOwnProperty("duration")?n:function lMe(n,e,t){let i,s=0,o="";if("string"==typeof n){const a=n.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===a)return e.push(hK()),{duration:0,delay:0,easing:""};i=JR(parseFloat(a[1]),a[2]);const l=a[3];null!=l&&(s=JR(parseFloat(l),a[4]));const c=a[5];c&&(o=c)}else i=n;if(!t){let a=!1,l=e.length;i<0&&(e.push(function CAe(){return new x(3100,!1)}()),a=!0),s<0&&(e.push(function EAe(){return new x(3101,!1)}()),a=!0),a&&e.splice(l,0,hK())}return{duration:i,delay:s,easing:o}}(n,e,t)}function Jp(n,e={}){return Object.keys(n).forEach(t=>{e[t]=n[t]}),e}function EK(n){const e=new Map;return Object.keys(n).forEach(t=>{e.set(t,n[t])}),e}function Sa(n,e=new Map,t){if(t)for(let[r,i]of t)e.set(r,i);for(let[r,i]of n)e.set(r,i);return e}function TK(n,e,t){return t?e+":"+t+";":""}function SK(n){let e="";for(let t=0;t<n.style.length;t++){const r=n.style.item(t);e+=TK(0,r,n.style.getPropertyValue(r))}for(const t in n.style)n.style.hasOwnProperty(t)&&!t.startsWith("_")&&(e+=TK(0,hMe(t),n.style[t]));n.setAttribute("style",e)}function As(n,e,t){n.style&&(e.forEach((r,i)=>{const s=t1(i);t&&!t.has(i)&&t.set(i,n.style[s]),n.style[s]=r}),zR()&&SK(n))}function lc(n,e){n.style&&(e.forEach((t,r)=>{const i=t1(r);n.style[i]=""}),zR()&&SK(n))}function em(n){return Array.isArray(n)?1==n.length?n[0]:W5(n):n}const e1=new RegExp("{{\\s*(.+?)\\s*}}","g");function DK(n){let e=[];if("string"==typeof n){let t;for(;t=e1.exec(n);)e.push(t[1]);e1.lastIndex=0}return e}function tm(n,e,t){const r=n.toString(),i=r.replace(e1,(s,o)=>{let a=e[o];return null==a&&(t.push(function TAe(n){return new x(3003,!1)}()),a=""),a.toString()});return i==r?n:i}function kb(n){const e=[];let t=n.next();for(;!t.done;)e.push(t.value),t=n.next();return e}const dMe=/-+([a-z0-9])/g;function t1(n){return n.replace(dMe,(...e)=>e[1].toUpperCase())}function hMe(n){return n.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function oi(n,e,t){switch(e.type){case 7:return n.visitTrigger(e,t);case 0:return n.visitState(e,t);case 1:return n.visitTransition(e,t);case 2:return n.visitSequence(e,t);case 3:return n.visitGroup(e,t);case 4:return n.visitAnimate(e,t);case 5:return n.visitKeyframes(e,t);case 6:return n.visitStyle(e,t);case 8:return n.visitReference(e,t);case 9:return n.visitAnimateChild(e,t);case 10:return n.visitAnimateRef(e,t);case 11:return n.visitQuery(e,t);case 12:return n.visitStagger(e,t);default:throw function SAe(n){return new x(3004,!1)}()}}function AK(n,e){return window.getComputedStyle(n)[e]}function yMe(n,e){const t=[];return"string"==typeof n?n.split(/\s*,\s*/).forEach(r=>function vMe(n,e,t){if(":"==n[0]){const l=function bMe(n,e){switch(n){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(t,r)=>parseFloat(r)>parseFloat(t);case":decrement":return(t,r)=>parseFloat(r)<parseFloat(t);default:return e.push(function UAe(n){return new x(3016,!1)}()),"* => *"}}(n,t);if("function"==typeof l)return void e.push(l);n=l}const r=n.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==r||r.length<4)return t.push(function BAe(n){return new x(3015,!1)}()),e;const i=r[1],s=r[2],o=r[3];e.push(MK(i,o));"<"==s[0]&&!("*"==i&&"*"==o)&&e.push(MK(o,i))}(r,t,e)):t.push(n),t}const Nb=new Set(["true","1"]),Fb=new Set(["false","0"]);function MK(n,e){const t=Nb.has(n)||Fb.has(n),r=Nb.has(e)||Fb.has(e);return(i,s)=>{let o="*"==n||n==i,a="*"==e||e==s;return!o&&t&&"boolean"==typeof i&&(o=i?Nb.has(n):Fb.has(n)),!a&&r&&"boolean"==typeof s&&(a=s?Nb.has(e):Fb.has(e)),o&&a}}const wMe=new RegExp("s*:selfs*,?","g");function n1(n,e,t,r){return new CMe(n).build(e,t,r)}class CMe{constructor(e){this._driver=e}build(e,t,r){const i=new TMe(t);return this._resetContextStyleTimingState(i),oi(this,em(e),i)}_resetContextStyleTimingState(e){e.currentQuerySelector="",e.collectedStyles=new Map,e.collectedStyles.set("",new Map),e.currentTime=0}visitTrigger(e,t){let r=t.queryCount=0,i=t.depCount=0;const s=[],o=[];return"@"==e.name.charAt(0)&&t.errors.push(function AAe(){return new x(3006,!1)}()),e.definitions.forEach(a=>{if(this._resetContextStyleTimingState(t),0==a.type){const l=a,c=l.name;c.toString().split(/\s*,\s*/).forEach(u=>{l.name=u,s.push(this.visitState(l,t))}),l.name=c}else if(1==a.type){const l=this.visitTransition(a,t);r+=l.queryCount,i+=l.depCount,o.push(l)}else t.errors.push(function MAe(){return new x(3007,!1)}())}),{type:7,name:e.name,states:s,transitions:o,queryCount:r,depCount:i,options:null}}visitState(e,t){const r=this.visitStyle(e.styles,t),i=e.options&&e.options.params||null;if(r.containsDynamicStyles){const s=new Set,o=i||{};r.styles.forEach(a=>{a instanceof Map&&a.forEach(l=>{DK(l).forEach(c=>{o.hasOwnProperty(c)||s.add(c)})})}),s.size&&(kb(s.values()),t.errors.push(function xAe(n,e){return new x(3008,!1)}()))}return{type:0,name:e.name,style:r,options:i?{params:i}:null}}visitTransition(e,t){t.queryCount=0,t.depCount=0;const r=oi(this,em(e.animation),t);return{type:1,matchers:yMe(e.expr,t.errors),animation:r,queryCount:t.queryCount,depCount:t.depCount,options:cc(e.options)}}visitSequence(e,t){return{type:2,steps:e.steps.map(r=>oi(this,r,t)),options:cc(e.options)}}visitGroup(e,t){const r=t.currentTime;let i=0;const s=e.steps.map(o=>{t.currentTime=r;const a=oi(this,o,t);return i=Math.max(i,t.currentTime),a});return t.currentTime=i,{type:3,steps:s,options:cc(e.options)}}visitAnimate(e,t){const r=function DMe(n,e){if(n.hasOwnProperty("duration"))return n;if("number"==typeof n)return r1(xb(n,e).duration,0,"");const t=n;if(t.split(/\s+/).some(s=>"{"==s.charAt(0)&&"{"==s.charAt(1))){const s=r1(0,0,"");return s.dynamic=!0,s.strValue=t,s}const i=xb(t,e);return r1(i.duration,i.delay,i.easing)}(e.timings,t.errors);t.currentAnimateTimings=r;let i,s=e.styles?e.styles:ii({});if(5==s.type)i=this.visitKeyframes(s,t);else{let o=e.styles,a=!1;if(!o){a=!0;const c={};r.easing&&(c.easing=r.easing),o=ii(c)}t.currentTime+=r.duration+r.delay;const l=this.visitStyle(o,t);l.isEmptyStep=a,i=l}return t.currentAnimateTimings=null,{type:4,timings:r,style:i,options:null}}visitStyle(e,t){const r=this._makeStyleAst(e,t);return this._validateStyleAst(r,t),r}_makeStyleAst(e,t){const r=[],i=Array.isArray(e.styles)?e.styles:[e.styles];for(let a of i)"string"==typeof a?a===Mo?r.push(a):t.errors.push(new x(3002,!1)):r.push(EK(a));let s=!1,o=null;return r.forEach(a=>{if(a instanceof Map&&(a.has("easing")&&(o=a.get("easing"),a.delete("easing")),!s))for(let l of a.values())if(l.toString().indexOf("{{")>=0){s=!0;break}}),{type:6,styles:r,easing:o,offset:e.offset,containsDynamicStyles:s,options:null}}_validateStyleAst(e,t){const r=t.currentAnimateTimings;let i=t.currentTime,s=t.currentTime;r&&s>0&&(s-=r.duration+r.delay),e.styles.forEach(o=>{"string"!=typeof o&&o.forEach((a,l)=>{const c=t.collectedStyles.get(t.currentQuerySelector),u=c.get(l);let d=!0;u&&(s!=i&&s>=u.startTime&&i<=u.endTime&&(t.errors.push(function RAe(n,e,t,r,i){return new x(3010,!1)}()),d=!1),s=u.startTime),d&&c.set(l,{startTime:s,endTime:i}),t.options&&function uMe(n,e,t){const r=e.params||{},i=DK(n);i.length&&i.forEach(s=>{r.hasOwnProperty(s)||t.push(function IAe(n){return new x(3001,!1)}())})}(a,t.options,t.errors)})})}visitKeyframes(e,t){const r={type:5,styles:[],options:null};if(!t.currentAnimateTimings)return t.errors.push(function PAe(){return new x(3011,!1)}()),r;let s=0;const o=[];let a=!1,l=!1,c=0;const u=e.steps.map(b=>{const E=this._makeStyleAst(b,t);let v=null!=E.offset?E.offset:function SMe(n){if("string"==typeof n)return null;let e=null;if(Array.isArray(n))n.forEach(t=>{if(t instanceof Map&&t.has("offset")){const r=t;e=parseFloat(r.get("offset")),r.delete("offset")}});else if(n instanceof Map&&n.has("offset")){const t=n;e=parseFloat(t.get("offset")),t.delete("offset")}return e}(E.styles),M=0;return null!=v&&(s++,M=E.offset=v),l=l||M<0||M>1,a=a||M<c,c=M,o.push(M),E});l&&t.errors.push(function OAe(){return new x(3012,!1)}()),a&&t.errors.push(function NAe(){return new x(3200,!1)}());const d=e.steps.length;let h=0;s>0&&s<d?t.errors.push(function FAe(){return new x(3202,!1)}()):0==s&&(h=1/(d-1));const f=d-1,p=t.currentTime,m=t.currentAnimateTimings,g=m.duration;return u.forEach((b,E)=>{const v=h>0?E==f?1:h*E:o[E],M=v*g;t.currentTime=p+m.delay+M,m.duration=M,this._validateStyleAst(b,t),b.offset=v,r.styles.push(b)}),r}visitReference(e,t){return{type:8,animation:oi(this,em(e.animation),t),options:cc(e.options)}}visitAnimateChild(e,t){return t.depCount++,{type:9,options:cc(e.options)}}visitAnimateRef(e,t){return{type:10,animation:this.visitReference(e.animation,t),options:cc(e.options)}}visitQuery(e,t){const r=t.currentQuerySelector,i=e.options||{};t.queryCount++,t.currentQuery=e;const[s,o]=function EMe(n){const e=!!n.split(/\s*,\s*/).find(t=>":self"==t);return e&&(n=n.replace(wMe,"")),n=n.replace(/@\*/g,Mb).replace(/@\w+/g,t=>Mb+"-"+t.slice(1)).replace(/:animating/g,ZR),[n,e]}(e.selector);t.currentQuerySelector=r.length?r+" "+s:s,si(t.collectedStyles,t.currentQuerySelector,new Map);const a=oi(this,em(e.animation),t);return t.currentQuery=null,t.currentQuerySelector=r,{type:11,selector:s,limit:i.limit||0,optional:!!i.optional,includeSelf:o,animation:a,originalSelector:e.selector,options:cc(e.options)}}visitStagger(e,t){t.currentQuery||t.errors.push(function LAe(){return new x(3013,!1)}());const r="full"===e.timings?{duration:0,delay:0,easing:"full"}:xb(e.timings,t.errors,!0);return{type:12,animation:oi(this,em(e.animation),t),timings:r,options:null}}}class TMe{constructor(e){this.errors=e,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function cc(n){return n?(n=Jp(n)).params&&(n.params=function IMe(n){return n?Jp(n):null}(n.params)):n={},n}function r1(n,e,t){return{duration:n,delay:e,easing:t}}function s1(n,e,t,r,i,s,o=null,a=!1){return{type:1,element:n,keyframes:e,preStyleProps:t,postStyleProps:r,duration:i,delay:s,totalTime:i+s,easing:o,subTimeline:a}}class Lb{constructor(){this._map=new Map}get(e){return this._map.get(e)||[]}append(e,t){let r=this._map.get(e);r||this._map.set(e,r=[]),r.push(...t)}has(e){return this._map.has(e)}clear(){this._map.clear()}}const xMe=new RegExp(":enter","g"),RMe=new RegExp(":leave","g");function o1(n,e,t,r,i,s=new Map,o=new Map,a,l,c=[]){return(new PMe).buildKeyframes(n,e,t,r,i,s,o,a,l,c)}class PMe{buildKeyframes(e,t,r,i,s,o,a,l,c,u=[]){c=c||new Lb;const d=new a1(e,t,c,i,s,u,[]);d.options=l;const h=l.delay?Ro(l.delay):0;d.currentTimeline.delayNextStep(h),d.currentTimeline.setStyles([o],null,d.errors,l),oi(this,r,d);const f=d.timelines.filter(p=>p.containsAnimation());if(f.length&&a.size){let p;for(let m=f.length-1;m>=0;m--){const g=f[m];if(g.element===t){p=g;break}}p&&!p.allowOnlyTimelineStyles()&&p.setStyles([a],null,d.errors,l)}return f.length?f.map(p=>p.buildKeyframes()):[s1(t,[],[],[],0,h,"",!1)]}visitTrigger(e,t){}visitState(e,t){}visitTransition(e,t){}visitAnimateChild(e,t){const r=t.subInstructions.get(t.element);if(r){const i=t.createSubContext(e.options),s=t.currentTimeline.currentTime,o=this._visitSubInstructions(r,i,i.options);s!=o&&t.transformIntoNewTimeline(o)}t.previousNode=e}visitAnimateRef(e,t){const r=t.createSubContext(e.options);r.transformIntoNewTimeline(),this._applyAnimationRefDelays([e.options,e.animation.options],t,r),this.visitReference(e.animation,r),t.transformIntoNewTimeline(r.currentTimeline.currentTime),t.previousNode=e}_applyAnimationRefDelays(e,t,r){for(const i of e){const s=i?.delay;if(s){const o="number"==typeof s?s:Ro(tm(s,i?.params??{},t.errors));r.delayNextStep(o)}}}_visitSubInstructions(e,t,r){let s=t.currentTimeline.currentTime;const o=null!=r.duration?Ro(r.duration):null,a=null!=r.delay?Ro(r.delay):null;return 0!==o&&e.forEach(l=>{const c=t.appendInstructionToTimeline(l,o,a);s=Math.max(s,c.duration+c.delay)}),s}visitReference(e,t){t.updateOptions(e.options,!0),oi(this,e.animation,t),t.previousNode=e}visitSequence(e,t){const r=t.subContextCount;let i=t;const s=e.options;if(s&&(s.params||s.delay)&&(i=t.createSubContext(s),i.transformIntoNewTimeline(),null!=s.delay)){6==i.previousNode.type&&(i.currentTimeline.snapshotCurrentStyles(),i.previousNode=Vb);const o=Ro(s.delay);i.delayNextStep(o)}e.steps.length&&(e.steps.forEach(o=>oi(this,o,i)),i.currentTimeline.applyStylesToKeyframe(),i.subContextCount>r&&i.transformIntoNewTimeline()),t.previousNode=e}visitGroup(e,t){const r=[];let i=t.currentTimeline.currentTime;const s=e.options&&e.options.delay?Ro(e.options.delay):0;e.steps.forEach(o=>{const a=t.createSubContext(e.options);s&&a.delayNextStep(s),oi(this,o,a),i=Math.max(i,a.currentTimeline.currentTime),r.push(a.currentTimeline)}),r.forEach(o=>t.currentTimeline.mergeTimelineCollectedStyles(o)),t.transformIntoNewTimeline(i),t.previousNode=e}_visitTiming(e,t){if(e.dynamic){const r=e.strValue;return xb(t.params?tm(r,t.params,t.errors):r,t.errors)}return{duration:e.duration,delay:e.delay,easing:e.easing}}visitAnimate(e,t){const r=t.currentAnimateTimings=this._visitTiming(e.timings,t),i=t.currentTimeline;r.delay&&(t.incrementTime(r.delay),i.snapshotCurrentStyles());const s=e.style;5==s.type?this.visitKeyframes(s,t):(t.incrementTime(r.duration),this.visitStyle(s,t),i.applyStylesToKeyframe()),t.currentAnimateTimings=null,t.previousNode=e}visitStyle(e,t){const r=t.currentTimeline,i=t.currentAnimateTimings;!i&&r.hasCurrentStyleProperties()&&r.forwardFrame();const s=i&&i.easing||e.easing;e.isEmptyStep?r.applyEmptyStep(s):r.setStyles(e.styles,s,t.errors,t.options),t.previousNode=e}visitKeyframes(e,t){const r=t.currentAnimateTimings,i=t.currentTimeline.duration,s=r.duration,a=t.createSubContext().currentTimeline;a.easing=r.easing,e.styles.forEach(l=>{a.forwardTime((l.offset||0)*s),a.setStyles(l.styles,l.easing,t.errors,t.options),a.applyStylesToKeyframe()}),t.currentTimeline.mergeTimelineCollectedStyles(a),t.transformIntoNewTimeline(i+s),t.previousNode=e}visitQuery(e,t){const r=t.currentTimeline.currentTime,i=e.options||{},s=i.delay?Ro(i.delay):0;s&&(6===t.previousNode.type||0==r&&t.currentTimeline.hasCurrentStyleProperties())&&(t.currentTimeline.snapshotCurrentStyles(),t.previousNode=Vb);let o=r;const a=t.invokeQuery(e.selector,e.originalSelector,e.limit,e.includeSelf,!!i.optional,t.errors);t.currentQueryTotal=a.length;let l=null;a.forEach((c,u)=>{t.currentQueryIndex=u;const d=t.createSubContext(e.options,c);s&&d.delayNextStep(s),c===t.element&&(l=d.currentTimeline),oi(this,e.animation,d),d.currentTimeline.applyStylesToKeyframe(),o=Math.max(o,d.currentTimeline.currentTime)}),t.currentQueryIndex=0,t.currentQueryTotal=0,t.transformIntoNewTimeline(o),l&&(t.currentTimeline.mergeTimelineCollectedStyles(l),t.currentTimeline.snapshotCurrentStyles()),t.previousNode=e}visitStagger(e,t){const r=t.parentContext,i=t.currentTimeline,s=e.timings,o=Math.abs(s.duration),a=o*(t.currentQueryTotal-1);let l=o*t.currentQueryIndex;switch(s.duration<0?"reverse":s.easing){case"reverse":l=a-l;break;case"full":l=r.currentStaggerTime}const u=t.currentTimeline;l&&u.delayNextStep(l);const d=u.currentTime;oi(this,e.animation,t),t.previousNode=e,r.currentStaggerTime=i.currentTime-d+(i.startTime-r.currentTimeline.startTime)}}const Vb={};class a1{constructor(e,t,r,i,s,o,a,l){this._driver=e,this.element=t,this.subInstructions=r,this._enterClassName=i,this._leaveClassName=s,this.errors=o,this.timelines=a,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=Vb,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=l||new Bb(this._driver,t,0),a.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(e,t){if(!e)return;const r=e;let i=this.options;null!=r.duration&&(i.duration=Ro(r.duration)),null!=r.delay&&(i.delay=Ro(r.delay));const s=r.params;if(s){let o=i.params;o||(o=this.options.params={}),Object.keys(s).forEach(a=>{(!t||!o.hasOwnProperty(a))&&(o[a]=tm(s[a],o,this.errors))})}}_copyOptions(){const e={};if(this.options){const t=this.options.params;if(t){const r=e.params={};Object.keys(t).forEach(i=>{r[i]=t[i]})}}return e}createSubContext(e=null,t,r){const i=t||this.element,s=new a1(this._driver,i,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(i,r||0));return s.previousNode=this.previousNode,s.currentAnimateTimings=this.currentAnimateTimings,s.options=this._copyOptions(),s.updateOptions(e),s.currentQueryIndex=this.currentQueryIndex,s.currentQueryTotal=this.currentQueryTotal,s.parentContext=this,this.subContextCount++,s}transformIntoNewTimeline(e){return this.previousNode=Vb,this.currentTimeline=this.currentTimeline.fork(this.element,e),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(e,t,r){const i={duration:t??e.duration,delay:this.currentTimeline.currentTime+(r??0)+e.delay,easing:""},s=new OMe(this._driver,e.element,e.keyframes,e.preStyleProps,e.postStyleProps,i,e.stretchStartingKeyframe);return this.timelines.push(s),i}incrementTime(e){this.currentTimeline.forwardTime(this.currentTimeline.duration+e)}delayNextStep(e){e>0&&this.currentTimeline.delayNextStep(e)}invokeQuery(e,t,r,i,s,o){let a=[];if(i&&a.push(this.element),e.length>0){e=(e=e.replace(xMe,"."+this._enterClassName)).replace(RMe,"."+this._leaveClassName);let c=this._driver.query(this.element,e,1!=r);0!==r&&(c=r<0?c.slice(c.length+r,c.length):c.slice(0,r)),a.push(...c)}return!s&&0==a.length&&o.push(function VAe(n){return new x(3014,!1)}()),a}}class Bb{constructor(e,t,r,i){this._driver=e,this.element=t,this.startTime=r,this._elementTimelineStylesLookup=i,this.duration=0,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(t),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(t,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(e){const t=1===this._keyframes.size&&this._pendingStyles.size;this.duration||t?(this.forwardTime(this.currentTime+e),t&&this.snapshotCurrentStyles()):this.startTime+=e}fork(e,t){return this.applyStylesToKeyframe(),new Bb(this._driver,e,t||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(e){this.applyStylesToKeyframe(),this.duration=e,this._loadKeyframe()}_updateStyle(e,t){this._localTimelineStyles.set(e,t),this._globalTimelineStyles.set(e,t),this._styleSummary.set(e,{time:this.currentTime,value:t})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(e){e&&this._previousKeyframe.set("easing",e);for(let[t,r]of this._globalTimelineStyles)this._backFill.set(t,r||Mo),this._currentKeyframe.set(t,Mo);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(e,t,r,i){t&&this._previousKeyframe.set("easing",t);const s=i&&i.params||{},o=function NMe(n,e){const t=new Map;let r;return n.forEach(i=>{if("*"===i){r=r||e.keys();for(let s of r)t.set(s,Mo)}else Sa(i,t)}),t}(e,this._globalTimelineStyles);for(let[a,l]of o){const c=tm(l,s,r);this._pendingStyles.set(a,c),this._localTimelineStyles.has(a)||this._backFill.set(a,this._globalTimelineStyles.get(a)??Mo),this._updateStyle(a,c)}}applyStylesToKeyframe(){0!=this._pendingStyles.size&&(this._pendingStyles.forEach((e,t)=>{this._currentKeyframe.set(t,e)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((e,t)=>{this._currentKeyframe.has(t)||this._currentKeyframe.set(t,e)}))}snapshotCurrentStyles(){for(let[e,t]of this._localTimelineStyles)this._pendingStyles.set(e,t),this._updateStyle(e,t)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const e=[];for(let t in this._currentKeyframe)e.push(t);return e}mergeTimelineCollectedStyles(e){e._styleSummary.forEach((t,r)=>{const i=this._styleSummary.get(r);(!i||t.time>i.time)&&this._updateStyle(r,t.value)})}buildKeyframes(){this.applyStylesToKeyframe();const e=new Set,t=new Set,r=1===this._keyframes.size&&0===this.duration;let i=[];this._keyframes.forEach((a,l)=>{const c=Sa(a,new Map,this._backFill);c.forEach((u,d)=>{"!"===u?e.add(d):u===Mo&&t.add(d)}),r||c.set("offset",l/this.duration),i.push(c)});const s=e.size?kb(e.values()):[],o=t.size?kb(t.values()):[];if(r){const a=i[0],l=new Map(a);a.set("offset",0),l.set("offset",1),i=[a,l]}return s1(this.element,i,s,o,this.duration,this.startTime,this.easing,!1)}}class OMe extends Bb{constructor(e,t,r,i,s,o,a=!1){super(e,t,o.delay),this.keyframes=r,this.preStyleProps=i,this.postStyleProps=s,this._stretchStartingKeyframe=a,this.timings={duration:o.duration,delay:o.delay,easing:o.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let e=this.keyframes,{delay:t,duration:r,easing:i}=this.timings;if(this._stretchStartingKeyframe&&t){const s=[],o=r+t,a=t/o,l=Sa(e[0]);l.set("offset",0),s.push(l);const c=Sa(e[0]);c.set("offset",RK(a)),s.push(c);const u=e.length-1;for(let d=1;d<=u;d++){let h=Sa(e[d]);const f=h.get("offset");h.set("offset",RK((t+f*r)/o)),s.push(h)}r=o,t=0,i="",e=s}return s1(this.element,e,this.preStyleProps,this.postStyleProps,r,t,i,!0)}}function RK(n,e=3){const t=Math.pow(10,e-1);return Math.round(n*t)/t}class l1{}const FMe=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]);class LMe extends l1{normalizePropertyName(e,t){return t1(e)}normalizeStyleValue(e,t,r,i){let s="";const o=r.toString().trim();if(FMe.has(t)&&0!==r&&"0"!==r)if("number"==typeof r)s="px";else{const a=r.match(/^[+-]?[\d\.]+([a-z]*)$/);a&&0==a[1].length&&i.push(function DAe(n,e){return new x(3005,!1)}())}return o+s}}function PK(n,e,t,r,i,s,o,a,l,c,u,d,h){return{type:0,element:n,triggerName:e,isRemovalTransition:i,fromState:t,fromStyles:s,toState:r,toStyles:o,timelines:a,queriedElements:l,preStyleProps:c,postStyleProps:u,totalTime:d,errors:h}}const c1={};class OK{constructor(e,t,r){this._triggerName=e,this.ast=t,this._stateStyles=r}match(e,t,r,i){return function VMe(n,e,t,r,i){return n.some(s=>s(e,t,r,i))}(this.ast.matchers,e,t,r,i)}buildStyles(e,t,r){let i=this._stateStyles.get("*");return void 0!==e&&(i=this._stateStyles.get(e?.toString())||i),i?i.buildStyles(t,r):new Map}build(e,t,r,i,s,o,a,l,c,u){const d=[],h=this.ast.options&&this.ast.options.params||c1,p=this.buildStyles(r,a&&a.params||c1,d),m=l&&l.params||c1,g=this.buildStyles(i,m,d),b=new Set,E=new Map,v=new Map,M="void"===i,L={params:BMe(m,h),delay:this.ast.options?.delay},U=u?[]:o1(e,t,this.ast.animation,s,o,p,g,L,c,d);let de=0;if(U.forEach(Qt=>{de=Math.max(Qt.duration+Qt.delay,de)}),d.length)return PK(t,this._triggerName,r,i,M,p,g,[],[],E,v,de,d);U.forEach(Qt=>{const Er=Qt.element,Bd=si(E,Er,new Set);Qt.preStyleProps.forEach(Zi=>Bd.add(Zi));const No=si(v,Er,new Set);Qt.postStyleProps.forEach(Zi=>No.add(Zi)),Er!==t&&b.add(Er)});const ct=kb(b.values());return PK(t,this._triggerName,r,i,M,p,g,U,ct,E,v,de)}}function BMe(n,e){const t=Jp(e);for(const r in n)n.hasOwnProperty(r)&&null!=n[r]&&(t[r]=n[r]);return t}class UMe{constructor(e,t,r){this.styles=e,this.defaultParams=t,this.normalizer=r}buildStyles(e,t){const r=new Map,i=Jp(this.defaultParams);return Object.keys(e).forEach(s=>{const o=e[s];null!==o&&(i[s]=o)}),this.styles.styles.forEach(s=>{"string"!=typeof s&&s.forEach((o,a)=>{o&&(o=tm(o,i,t));const l=this.normalizer.normalizePropertyName(a,t);o=this.normalizer.normalizeStyleValue(a,l,o,t),r.set(l,o)})}),r}}class $Me{constructor(e,t,r){this.name=e,this.ast=t,this._normalizer=r,this.transitionFactories=[],this.states=new Map,t.states.forEach(i=>{this.states.set(i.name,new UMe(i.style,i.options&&i.options.params||{},r))}),NK(this.states,"true","1"),NK(this.states,"false","0"),t.transitions.forEach(i=>{this.transitionFactories.push(new OK(e,i,this.states))}),this.fallbackTransition=function jMe(n,e,t){return new OK(n,{type:1,animation:{type:2,steps:[],options:null},matchers:[(o,a)=>!0],options:null,queryCount:0,depCount:0},e)}(e,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(e,t,r,i){return this.transitionFactories.find(o=>o.match(e,t,r,i))||null}matchStyles(e,t,r){return this.fallbackTransition.buildStyles(e,t,r)}}function NK(n,e,t){n.has(e)?n.has(t)||n.set(t,n.get(e)):n.has(t)&&n.set(e,n.get(t))}const zMe=new Lb;class GMe{constructor(e,t,r){this.bodyNode=e,this._driver=t,this._normalizer=r,this._animations=new Map,this._playersById=new Map,this.players=[]}register(e,t){const r=[],s=n1(this._driver,t,r,[]);if(r.length)throw function GAe(n){return new x(3503,!1)}();this._animations.set(e,s)}_buildPlayer(e,t,r){const i=e.element,s=fK(0,this._normalizer,0,e.keyframes,t,r);return this._driver.animate(i,s,e.duration,e.delay,e.easing,[],!0)}create(e,t,r={}){const i=[],s=this._animations.get(e);let o;const a=new Map;if(s?(o=o1(this._driver,t,s,XR,Db,new Map,new Map,r,zMe,i),o.forEach(u=>{const d=si(a,u.element,new Map);u.postStyleProps.forEach(h=>d.set(h,null))})):(i.push(function WAe(){return new x(3300,!1)}()),o=[]),i.length)throw function qAe(n){return new x(3504,!1)}();a.forEach((u,d)=>{u.forEach((h,f)=>{u.set(f,this._driver.computeStyle(d,f,Mo))})});const c=Ta(o.map(u=>{const d=a.get(u.element);return this._buildPlayer(u,new Map,d)}));return this._playersById.set(e,c),c.onDestroy(()=>this.destroy(e)),this.players.push(c),c}destroy(e){const t=this._getPlayer(e);t.destroy(),this._playersById.delete(e);const r=this.players.indexOf(t);r>=0&&this.players.splice(r,1)}_getPlayer(e){const t=this._playersById.get(e);if(!t)throw function KAe(n){return new x(3301,!1)}();return t}listen(e,t,r,i){const s=qR(t,"","","");return GR(this._getPlayer(e),r,s,i),()=>{}}command(e,t,r,i){if("register"==r)return void this.register(e,i[0]);if("create"==r)return void this.create(e,t,i[0]||{});const s=this._getPlayer(e);switch(r){case"play":s.play();break;case"pause":s.pause();break;case"reset":s.reset();break;case"restart":s.restart();break;case"finish":s.finish();break;case"init":s.init();break;case"setPosition":s.setPosition(parseFloat(i[0]));break;case"destroy":this.destroy(e)}}}const FK="ng-animate-queued",u1="ng-animate-disabled",QMe=[],LK={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},XMe={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},wi="__ng_removed";class d1{constructor(e,t=""){this.namespaceId=t;const r=e&&e.hasOwnProperty("value");if(this.value=function txe(n){return n??null}(r?e.value:e),r){const s=Jp(e);delete s.value,this.options=s}else this.options={};this.options.params||(this.options.params={})}get params(){return this.options.params}absorbOptions(e){const t=e.params;if(t){const r=this.options.params;Object.keys(t).forEach(i=>{null==r[i]&&(r[i]=t[i])})}}}const nm="void",h1=new d1(nm);class ZMe{constructor(e,t,r){this.id=e,this.hostElement=t,this._engine=r,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+e,Ci(t,this._hostClassName)}listen(e,t,r,i){if(!this._triggers.has(t))throw function YAe(n,e){return new x(3302,!1)}();if(null==r||0==r.length)throw function QAe(n){return new x(3303,!1)}();if(!function nxe(n){return"start"==n||"done"==n}(r))throw function XAe(n,e){return new x(3400,!1)}();const s=si(this._elementListeners,e,[]),o={name:t,phase:r,callback:i};s.push(o);const a=si(this._engine.statesByElement,e,new Map);return a.has(t)||(Ci(e,Ab),Ci(e,Ab+"-"+t),a.set(t,h1)),()=>{this._engine.afterFlush(()=>{const l=s.indexOf(o);l>=0&&s.splice(l,1),this._triggers.has(t)||a.delete(t)})}}register(e,t){return!this._triggers.has(e)&&(this._triggers.set(e,t),!0)}_getTrigger(e){const t=this._triggers.get(e);if(!t)throw function ZAe(n){return new x(3401,!1)}();return t}trigger(e,t,r,i=!0){const s=this._getTrigger(t),o=new f1(this.id,t,e);let a=this._engine.statesByElement.get(e);a||(Ci(e,Ab),Ci(e,Ab+"-"+t),this._engine.statesByElement.set(e,a=new Map));let l=a.get(t);const c=new d1(r,this.id);if(!(r&&r.hasOwnProperty("value"))&&l&&c.absorbOptions(l.options),a.set(t,c),l||(l=h1),c.value!==nm&&l.value===c.value){if(!function sxe(n,e){const t=Object.keys(n),r=Object.keys(e);if(t.length!=r.length)return!1;for(let i=0;i<t.length;i++){const s=t[i];if(!e.hasOwnProperty(s)||n[s]!==e[s])return!1}return!0}(l.params,c.params)){const m=[],g=s.matchStyles(l.value,l.params,m),b=s.matchStyles(c.value,c.params,m);m.length?this._engine.reportError(m):this._engine.afterFlush(()=>{lc(e,g),As(e,b)})}return}const h=si(this._engine.playersByElement,e,[]);h.forEach(m=>{m.namespaceId==this.id&&m.triggerName==t&&m.queued&&m.destroy()});let f=s.matchTransition(l.value,c.value,e,c.params),p=!1;if(!f){if(!i)return;f=s.fallbackTransition,p=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:t,transition:f,fromState:l,toState:c,player:o,isFallbackTransition:p}),p||(Ci(e,FK),o.onStart(()=>{Ed(e,FK)})),o.onDone(()=>{let m=this.players.indexOf(o);m>=0&&this.players.splice(m,1);const g=this._engine.playersByElement.get(e);if(g){let b=g.indexOf(o);b>=0&&g.splice(b,1)}}),this.players.push(o),h.push(o),o}deregister(e){this._triggers.delete(e),this._engine.statesByElement.forEach(t=>t.delete(e)),this._elementListeners.forEach((t,r)=>{this._elementListeners.set(r,t.filter(i=>i.name!=e))})}clearElementCache(e){this._engine.statesByElement.delete(e),this._elementListeners.delete(e);const t=this._engine.playersByElement.get(e);t&&(t.forEach(r=>r.destroy()),this._engine.playersByElement.delete(e))}_signalRemovalForInnerTriggers(e,t){const r=this._engine.driver.query(e,Mb,!0);r.forEach(i=>{if(i[wi])return;const s=this._engine.fetchNamespacesByElement(i);s.size?s.forEach(o=>o.triggerLeaveAnimation(i,t,!1,!0)):this.clearElementCache(i)}),this._engine.afterFlushAnimationsDone(()=>r.forEach(i=>this.clearElementCache(i)))}triggerLeaveAnimation(e,t,r,i){const s=this._engine.statesByElement.get(e),o=new Map;if(s){const a=[];if(s.forEach((l,c)=>{if(o.set(c,l.value),this._triggers.has(c)){const u=this.trigger(e,c,nm,i);u&&a.push(u)}}),a.length)return this._engine.markElementAsRemoved(this.id,e,!0,t,o),r&&Ta(a).onDone(()=>this._engine.processLeaveNode(e)),!0}return!1}prepareLeaveAnimationListeners(e){const t=this._elementListeners.get(e),r=this._engine.statesByElement.get(e);if(t&&r){const i=new Set;t.forEach(s=>{const o=s.name;if(i.has(o))return;i.add(o);const l=this._triggers.get(o).fallbackTransition,c=r.get(o)||h1,u=new d1(nm),d=new f1(this.id,o,e);this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:o,transition:l,fromState:c,toState:u,player:d,isFallbackTransition:!0})})}}removeNode(e,t){const r=this._engine;if(e.childElementCount&&this._signalRemovalForInnerTriggers(e,t),this.triggerLeaveAnimation(e,t,!0))return;let i=!1;if(r.totalAnimations){const s=r.players.length?r.playersByQueriedElement.get(e):[];if(s&&s.length)i=!0;else{let o=e;for(;o=o.parentNode;)if(r.statesByElement.get(o)){i=!0;break}}}if(this.prepareLeaveAnimationListeners(e),i)r.markElementAsRemoved(this.id,e,!1,t);else{const s=e[wi];(!s||s===LK)&&(r.afterFlush(()=>this.clearElementCache(e)),r.destroyInnerAnimations(e),r._onRemovalComplete(e,t))}}insertNode(e,t){Ci(e,this._hostClassName)}drainQueuedTransitions(e){const t=[];return this._queue.forEach(r=>{const i=r.player;if(i.destroyed)return;const s=r.element,o=this._elementListeners.get(s);o&&o.forEach(a=>{if(a.name==r.triggerName){const l=qR(s,r.triggerName,r.fromState.value,r.toState.value);l._data=e,GR(r.player,a.phase,l,a.callback)}}),i.markedForDestroy?this._engine.afterFlush(()=>{i.destroy()}):t.push(r)}),this._queue=[],t.sort((r,i)=>{const s=r.transition.ast.depCount,o=i.transition.ast.depCount;return 0==s||0==o?s-o:this._engine.driver.containsElement(r.element,i.element)?1:-1})}destroy(e){this.players.forEach(t=>t.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,e)}elementContainsData(e){let t=!1;return this._elementListeners.has(e)&&(t=!0),t=!!this._queue.find(r=>r.element===e)||t,t}}class JMe{constructor(e,t,r){this.bodyNode=e,this.driver=t,this._normalizer=r,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(i,s)=>{}}_onRemovalComplete(e,t){this.onRemovalComplete(e,t)}get queuedPlayers(){const e=[];return this._namespaceList.forEach(t=>{t.players.forEach(r=>{r.queued&&e.push(r)})}),e}createNamespace(e,t){const r=new ZMe(e,t,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,t)?this._balanceNamespaceList(r,t):(this.newHostElements.set(t,r),this.collectEnterElement(t)),this._namespaceLookup[e]=r}_balanceNamespaceList(e,t){const r=this._namespaceList,i=this.namespacesByHostElement;if(r.length-1>=0){let o=!1,a=this.driver.getParentElement(t);for(;a;){const l=i.get(a);if(l){const c=r.indexOf(l);r.splice(c+1,0,e),o=!0;break}a=this.driver.getParentElement(a)}o||r.unshift(e)}else r.push(e);return i.set(t,e),e}register(e,t){let r=this._namespaceLookup[e];return r||(r=this.createNamespace(e,t)),r}registerTrigger(e,t,r){let i=this._namespaceLookup[e];i&&i.register(t,r)&&this.totalAnimations++}destroy(e,t){if(!e)return;const r=this._fetchNamespace(e);this.afterFlush(()=>{this.namespacesByHostElement.delete(r.hostElement),delete this._namespaceLookup[e];const i=this._namespaceList.indexOf(r);i>=0&&this._namespaceList.splice(i,1)}),this.afterFlushAnimationsDone(()=>r.destroy(t))}_fetchNamespace(e){return this._namespaceLookup[e]}fetchNamespacesByElement(e){const t=new Set,r=this.statesByElement.get(e);if(r)for(let i of r.values())if(i.namespaceId){const s=this._fetchNamespace(i.namespaceId);s&&t.add(s)}return t}trigger(e,t,r,i){if(Ub(t)){const s=this._fetchNamespace(e);if(s)return s.trigger(t,r,i),!0}return!1}insertNode(e,t,r,i){if(!Ub(t))return;const s=t[wi];if(s&&s.setForRemoval){s.setForRemoval=!1,s.setForMove=!0;const o=this.collectedLeaveElements.indexOf(t);o>=0&&this.collectedLeaveElements.splice(o,1)}if(e){const o=this._fetchNamespace(e);o&&o.insertNode(t,r)}i&&this.collectEnterElement(t)}collectEnterElement(e){this.collectedEnterElements.push(e)}markElementAsDisabled(e,t){t?this.disabledNodes.has(e)||(this.disabledNodes.add(e),Ci(e,u1)):this.disabledNodes.has(e)&&(this.disabledNodes.delete(e),Ed(e,u1))}removeNode(e,t,r,i){if(Ub(t)){const s=e?this._fetchNamespace(e):null;if(s?s.removeNode(t,i):this.markElementAsRemoved(e,t,!1,i),r){const o=this.namespacesByHostElement.get(t);o&&o.id!==e&&o.removeNode(t,i)}}else this._onRemovalComplete(t,i)}markElementAsRemoved(e,t,r,i,s){this.collectedLeaveElements.push(t),t[wi]={namespaceId:e,setForRemoval:i,hasAnimation:r,removedBeforeQueried:!1,previousTriggersValues:s}}listen(e,t,r,i,s){return Ub(t)?this._fetchNamespace(e).listen(t,r,i,s):()=>{}}_buildInstruction(e,t,r,i,s){return e.transition.build(this.driver,e.element,e.fromState.value,e.toState.value,r,i,e.fromState.options,e.toState.options,t,s)}destroyInnerAnimations(e){let t=this.driver.query(e,Mb,!0);t.forEach(r=>this.destroyActiveAnimationsForElement(r)),0!=this.playersByQueriedElement.size&&(t=this.driver.query(e,ZR,!0),t.forEach(r=>this.finishActiveQueriedAnimationOnElement(r)))}destroyActiveAnimationsForElement(e){const t=this.playersByElement.get(e);t&&t.forEach(r=>{r.queued?r.markedForDestroy=!0:r.destroy()})}finishActiveQueriedAnimationOnElement(e){const t=this.playersByQueriedElement.get(e);t&&t.forEach(r=>r.finish())}whenRenderingDone(){return new Promise(e=>{if(this.players.length)return Ta(this.players).onDone(()=>e());e()})}processLeaveNode(e){const t=e[wi];if(t&&t.setForRemoval){if(e[wi]=LK,t.namespaceId){this.destroyInnerAnimations(e);const r=this._fetchNamespace(t.namespaceId);r&&r.clearElementCache(e)}this._onRemovalComplete(e,t.setForRemoval)}e.classList?.contains(u1)&&this.markElementAsDisabled(e,!1),this.driver.query(e,".ng-animate-disabled",!0).forEach(r=>{this.markElementAsDisabled(r,!1)})}flush(e=-1){let t=[];if(this.newHostElements.size&&(this.newHostElements.forEach((r,i)=>this._balanceNamespaceList(r,i)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let r=0;r<this.collectedEnterElements.length;r++)Ci(this.collectedEnterElements[r],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const r=[];try{t=this._flushAnimations(r,e)}finally{for(let i=0;i<r.length;i++)r[i]()}}else for(let r=0;r<this.collectedLeaveElements.length;r++)this.processLeaveNode(this.collectedLeaveElements[r]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(r=>r()),this._flushFns=[],this._whenQuietFns.length){const r=this._whenQuietFns;this._whenQuietFns=[],t.length?Ta(t).onDone(()=>{r.forEach(i=>i())}):r.forEach(i=>i())}}reportError(e){throw function JAe(n){return new x(3402,!1)}()}_flushAnimations(e,t){const r=new Lb,i=[],s=new Map,o=[],a=new Map,l=new Map,c=new Map,u=new Set;this.disabledNodes.forEach(K=>{u.add(K);const J=this.driver.query(K,".ng-animate-queued",!0);for(let ce=0;ce<J.length;ce++)u.add(J[ce])});const d=this.bodyNode,h=Array.from(this.statesByElement.keys()),f=UK(h,this.collectedEnterElements),p=new Map;let m=0;f.forEach((K,J)=>{const ce=XR+m++;p.set(J,ce),K.forEach(je=>Ci(je,ce))});const g=[],b=new Set,E=new Set;for(let K=0;K<this.collectedLeaveElements.length;K++){const J=this.collectedLeaveElements[K],ce=J[wi];ce&&ce.setForRemoval&&(g.push(J),b.add(J),ce.hasAnimation?this.driver.query(J,".ng-star-inserted",!0).forEach(je=>b.add(je)):E.add(J))}const v=new Map,M=UK(h,Array.from(b));M.forEach((K,J)=>{const ce=Db+m++;v.set(J,ce),K.forEach(je=>Ci(je,ce))}),e.push(()=>{f.forEach((K,J)=>{const ce=p.get(J);K.forEach(je=>Ed(je,ce))}),M.forEach((K,J)=>{const ce=v.get(J);K.forEach(je=>Ed(je,ce))}),g.forEach(K=>{this.processLeaveNode(K)})});const L=[],U=[];for(let K=this._namespaceList.length-1;K>=0;K--)this._namespaceList[K].drainQueuedTransitions(t).forEach(ce=>{const je=ce.player,xn=ce.element;if(L.push(je),this.collectedEnterElements.length){const sr=xn[wi];if(sr&&sr.setForMove){if(sr.previousTriggersValues&&sr.previousTriggersValues.has(ce.triggerName)){const Cc=sr.previousTriggersValues.get(ce.triggerName),Ti=this.statesByElement.get(ce.element);if(Ti&&Ti.has(ce.triggerName)){const Aw=Ti.get(ce.triggerName);Aw.value=Cc,Ti.set(ce.triggerName,Aw)}}return void je.destroy()}}const Ns=!d||!this.driver.containsElement(d,xn),ui=v.get(xn),Va=p.get(xn),Nt=this._buildInstruction(ce,r,Va,ui,Ns);if(Nt.errors&&Nt.errors.length)return void U.push(Nt);if(Ns)return je.onStart(()=>lc(xn,Nt.fromStyles)),je.onDestroy(()=>As(xn,Nt.toStyles)),void i.push(je);if(ce.isFallbackTransition)return je.onStart(()=>lc(xn,Nt.fromStyles)),je.onDestroy(()=>As(xn,Nt.toStyles)),void i.push(je);const $Y=[];Nt.timelines.forEach(sr=>{sr.stretchStartingKeyframe=!0,this.disabledNodes.has(sr.element)||$Y.push(sr)}),Nt.timelines=$Y,r.append(xn,Nt.timelines),o.push({instruction:Nt,player:je,element:xn}),Nt.queriedElements.forEach(sr=>si(a,sr,[]).push(je)),Nt.preStyleProps.forEach((sr,Cc)=>{if(sr.size){let Ti=l.get(Cc);Ti||l.set(Cc,Ti=new Set),sr.forEach((Aw,tO)=>Ti.add(tO))}}),Nt.postStyleProps.forEach((sr,Cc)=>{let Ti=c.get(Cc);Ti||c.set(Cc,Ti=new Set),sr.forEach((Aw,tO)=>Ti.add(tO))})});if(U.length){const K=[];U.forEach(J=>{K.push(function eMe(n,e){return new x(3505,!1)}())}),L.forEach(J=>J.destroy()),this.reportError(K)}const de=new Map,ct=new Map;o.forEach(K=>{const J=K.element;r.has(J)&&(ct.set(J,J),this._beforeAnimationBuild(K.player.namespaceId,K.instruction,de))}),i.forEach(K=>{const J=K.element;this._getPreviousPlayers(J,!1,K.namespaceId,K.triggerName,null).forEach(je=>{si(de,J,[]).push(je),je.destroy()})});const Qt=g.filter(K=>$K(K,l,c)),Er=new Map;BK(Er,this.driver,E,c,Mo).forEach(K=>{$K(K,l,c)&&Qt.push(K)});const No=new Map;f.forEach((K,J)=>{BK(No,this.driver,new Set(K),l,"!")}),Qt.forEach(K=>{const J=Er.get(K),ce=No.get(K);Er.set(K,new Map([...Array.from(J?.entries()??[]),...Array.from(ce?.entries()??[])]))});const Zi=[],Ud=[],Hd={};o.forEach(K=>{const{element:J,player:ce,instruction:je}=K;if(r.has(J)){if(u.has(J))return ce.onDestroy(()=>As(J,je.toStyles)),ce.disabled=!0,ce.overrideTotalTime(je.totalTime),void i.push(ce);let xn=Hd;if(ct.size>1){let ui=J;const Va=[];for(;ui=ui.parentNode;){const Nt=ct.get(ui);if(Nt){xn=Nt;break}Va.push(ui)}Va.forEach(Nt=>ct.set(Nt,xn))}const Ns=this._buildAnimation(ce.namespaceId,je,de,s,No,Er);if(ce.setRealPlayer(Ns),xn===Hd)Zi.push(ce);else{const ui=this.playersByElement.get(xn);ui&&ui.length&&(ce.parentPlayer=Ta(ui)),i.push(ce)}}else lc(J,je.fromStyles),ce.onDestroy(()=>As(J,je.toStyles)),Ud.push(ce),u.has(J)&&i.push(ce)}),Ud.forEach(K=>{const J=s.get(K.element);if(J&&J.length){const ce=Ta(J);K.setRealPlayer(ce)}}),i.forEach(K=>{K.parentPlayer?K.syncPlayerEvents(K.parentPlayer):K.destroy()});for(let K=0;K<g.length;K++){const J=g[K],ce=J[wi];if(Ed(J,Db),ce&&ce.hasAnimation)continue;let je=[];if(a.size){let Ns=a.get(J);Ns&&Ns.length&&je.push(...Ns);let ui=this.driver.query(J,ZR,!0);for(let Va=0;Va<ui.length;Va++){let Nt=a.get(ui[Va]);Nt&&Nt.length&&je.push(...Nt)}}const xn=je.filter(Ns=>!Ns.destroyed);xn.length?rxe(this,J,xn):this.processLeaveNode(J)}return g.length=0,Zi.forEach(K=>{this.players.push(K),K.onDone(()=>{K.destroy();const J=this.players.indexOf(K);this.players.splice(J,1)}),K.play()}),Zi}elementContainsData(e,t){let r=!1;const i=t[wi];return i&&i.setForRemoval&&(r=!0),this.playersByElement.has(t)&&(r=!0),this.playersByQueriedElement.has(t)&&(r=!0),this.statesByElement.has(t)&&(r=!0),this._fetchNamespace(e).elementContainsData(t)||r}afterFlush(e){this._flushFns.push(e)}afterFlushAnimationsDone(e){this._whenQuietFns.push(e)}_getPreviousPlayers(e,t,r,i,s){let o=[];if(t){const a=this.playersByQueriedElement.get(e);a&&(o=a)}else{const a=this.playersByElement.get(e);if(a){const l=!s||s==nm;a.forEach(c=>{c.queued||!l&&c.triggerName!=i||o.push(c)})}}return(r||i)&&(o=o.filter(a=>!(r&&r!=a.namespaceId||i&&i!=a.triggerName))),o}_beforeAnimationBuild(e,t,r){const s=t.element,o=t.isRemovalTransition?void 0:e,a=t.isRemovalTransition?void 0:t.triggerName;for(const l of t.timelines){const c=l.element,u=c!==s,d=si(r,c,[]);this._getPreviousPlayers(c,u,o,a,t.toState).forEach(f=>{const p=f.getRealPlayer();p.beforeDestroy&&p.beforeDestroy(),f.destroy(),d.push(f)})}lc(s,t.fromStyles)}_buildAnimation(e,t,r,i,s,o){const a=t.triggerName,l=t.element,c=[],u=new Set,d=new Set,h=t.timelines.map(p=>{const m=p.element;u.add(m);const g=m[wi];if(g&&g.removedBeforeQueried)return new jp(p.duration,p.delay);const b=m!==l,E=function ixe(n){const e=[];return HK(n,e),e}((r.get(m)||QMe).map(de=>de.getRealPlayer())).filter(de=>!!de.element&&de.element===m),v=s.get(m),M=o.get(m),L=fK(0,this._normalizer,0,p.keyframes,v,M),U=this._buildPlayer(p,L,E);if(p.subTimeline&&i&&d.add(m),b){const de=new f1(e,a,m);de.setRealPlayer(U),c.push(de)}return U});c.forEach(p=>{si(this.playersByQueriedElement,p.element,[]).push(p),p.onDone(()=>function exe(n,e,t){let r=n.get(e);if(r){if(r.length){const i=r.indexOf(t);r.splice(i,1)}0==r.length&&n.delete(e)}return r}(this.playersByQueriedElement,p.element,p))}),u.forEach(p=>Ci(p,CK));const f=Ta(h);return f.onDestroy(()=>{u.forEach(p=>Ed(p,CK)),As(l,t.toStyles)}),d.forEach(p=>{si(i,p,[]).push(f)}),f}_buildPlayer(e,t,r){return t.length>0?this.driver.animate(e.element,t,e.duration,e.delay,e.easing,r):new jp(e.duration,e.delay)}}class f1{constructor(e,t,r){this.namespaceId=e,this.triggerName=t,this.element=r,this._player=new jp,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(e){this._containsRealPlayer||(this._player=e,this._queuedCallbacks.forEach((t,r)=>{t.forEach(i=>GR(e,r,void 0,i))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(e.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(e){this.totalTime=e}syncPlayerEvents(e){const t=this._player;t.triggerCallback&&e.onStart(()=>t.triggerCallback("start")),e.onDone(()=>this.finish()),e.onDestroy(()=>this.destroy())}_queueEvent(e,t){si(this._queuedCallbacks,e,[]).push(t)}onDone(e){this.queued&&this._queueEvent("done",e),this._player.onDone(e)}onStart(e){this.queued&&this._queueEvent("start",e),this._player.onStart(e)}onDestroy(e){this.queued&&this._queueEvent("destroy",e),this._player.onDestroy(e)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(e){this.queued||this._player.setPosition(e)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(e){const t=this._player;t.triggerCallback&&t.triggerCallback(e)}}function Ub(n){return n&&1===n.nodeType}function VK(n,e){const t=n.style.display;return n.style.display=e??"none",t}function BK(n,e,t,r,i){const s=[];t.forEach(l=>s.push(VK(l)));const o=[];r.forEach((l,c)=>{const u=new Map;l.forEach(d=>{const h=e.computeStyle(c,d,i);u.set(d,h),(!h||0==h.length)&&(c[wi]=XMe,o.push(c))}),n.set(c,u)});let a=0;return t.forEach(l=>VK(l,s[a++])),o}function UK(n,e){const t=new Map;if(n.forEach(a=>t.set(a,[])),0==e.length)return t;const i=new Set(e),s=new Map;function o(a){if(!a)return 1;let l=s.get(a);if(l)return l;const c=a.parentNode;return l=t.has(c)?c:i.has(c)?1:o(c),s.set(a,l),l}return e.forEach(a=>{const l=o(a);1!==l&&t.get(l).push(a)}),t}function Ci(n,e){n.classList?.add(e)}function Ed(n,e){n.classList?.remove(e)}function rxe(n,e,t){Ta(t).onDone(()=>n.processLeaveNode(e))}function HK(n,e){for(let t=0;t<n.length;t++){const r=n[t];r instanceof K5?HK(r.players,e):e.push(r)}}function $K(n,e,t){const r=t.get(n);if(!r)return!1;let i=e.get(n);return i?r.forEach(s=>i.add(s)):e.set(n,r),t.delete(n),!0}class Hb{constructor(e,t,r){this.bodyNode=e,this._driver=t,this._normalizer=r,this._triggerCache={},this.onRemovalComplete=(i,s)=>{},this._transitionEngine=new JMe(e,t,r),this._timelineEngine=new GMe(e,t,r),this._transitionEngine.onRemovalComplete=(i,s)=>this.onRemovalComplete(i,s)}registerTrigger(e,t,r,i,s){const o=e+"-"+i;let a=this._triggerCache[o];if(!a){const l=[],u=n1(this._driver,s,l,[]);if(l.length)throw function jAe(n,e){return new x(3404,!1)}();a=function HMe(n,e,t){return new $Me(n,e,t)}(i,u,this._normalizer),this._triggerCache[o]=a}this._transitionEngine.registerTrigger(t,i,a)}register(e,t){this._transitionEngine.register(e,t)}destroy(e,t){this._transitionEngine.destroy(e,t)}onInsert(e,t,r,i){this._transitionEngine.insertNode(e,t,r,i)}onRemove(e,t,r,i){this._transitionEngine.removeNode(e,t,i||!1,r)}disableAnimations(e,t){this._transitionEngine.markElementAsDisabled(e,t)}process(e,t,r,i){if("@"==r.charAt(0)){const[s,o]=pK(r);this._timelineEngine.command(s,t,o,i)}else this._transitionEngine.trigger(e,t,r,i)}listen(e,t,r,i,s){if("@"==r.charAt(0)){const[o,a]=pK(r);return this._timelineEngine.listen(o,t,a,s)}return this._transitionEngine.listen(e,t,r,i,s)}flush(e=-1){this._transitionEngine.flush(e)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}let axe=(()=>{class n{constructor(t,r,i){this._element=t,this._startStyles=r,this._endStyles=i,this._state=0;let s=n.initialStylesByElement.get(t);s||n.initialStylesByElement.set(t,s=new Map),this._initialStyles=s}start(){this._state<1&&(this._startStyles&&As(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(As(this._element,this._initialStyles),this._endStyles&&(As(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(n.initialStylesByElement.delete(this._element),this._startStyles&&(lc(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(lc(this._element,this._endStyles),this._endStyles=null),As(this._element,this._initialStyles),this._state=3)}}return n.initialStylesByElement=new WeakMap,n})();function p1(n){let e=null;return n.forEach((t,r)=>{(function lxe(n){return"display"===n||"position"===n})(r)&&(e=e||new Map,e.set(r,t))}),e}class jK{constructor(e,t,r,i){this.element=e,this.keyframes=t,this.options=r,this._specialStyles=i,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=r.duration,this._delay=r.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const e=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,e,this.options),this._finalKeyframe=e.length?e[e.length-1]:new Map,this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(e){const t=[];return e.forEach(r=>{t.push(Object.fromEntries(r))}),t}_triggerWebAnimation(e,t,r){return e.animate(this._convertKeyframesToObject(t),r)}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(e=>e()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}setPosition(e){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=e*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const e=new Map;this.hasStarted()&&this._finalKeyframe.forEach((r,i)=>{"offset"!==i&&e.set(i,this._finished?r:AK(this.element,i))}),this.currentSnapshot=e}triggerCallback(e){const t="start"===e?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}}class cxe{validateStyleProperty(e){return!0}validateAnimatableStyleProperty(e){return!0}matchesElement(e,t){return!1}containsElement(e,t){return yK(e,t)}getParentElement(e){return YR(e)}query(e,t,r){return vK(e,t,r)}computeStyle(e,t,r){return window.getComputedStyle(e)[t]}animate(e,t,r,i,s,o=[]){const l={duration:r,delay:i,fill:0==i?"both":"forwards"};s&&(l.easing=s);const c=new Map,u=o.filter(f=>f instanceof jK);(function fMe(n,e){return 0===n||0===e})(r,i)&&u.forEach(f=>{f.currentSnapshot.forEach((p,m)=>c.set(m,p))});let d=function cMe(n){return n.length?n[0]instanceof Map?n:n.map(e=>EK(e)):[]}(t).map(f=>Sa(f));d=function pMe(n,e,t){if(t.size&&e.length){let r=e[0],i=[];if(t.forEach((s,o)=>{r.has(o)||i.push(o),r.set(o,s)}),i.length)for(let s=1;s<e.length;s++){let o=e[s];i.forEach(a=>o.set(a,AK(n,a)))}}return e}(e,d,c);const h=function oxe(n,e){let t=null,r=null;return Array.isArray(e)&&e.length?(t=p1(e[0]),e.length>1&&(r=p1(e[e.length-1]))):e instanceof Map&&(t=p1(e)),t||r?new axe(n,t,r):null}(e,d);return new jK(e,d,l,h)}}let uxe=(()=>{class n extends G5{constructor(t,r){super(),this._nextAnimationId=0,this._renderer=t.createRenderer(r.body,{id:"0",encapsulation:Di.None,styles:[],data:{animation:[]}})}build(t){const r=this._nextAnimationId.toString();this._nextAnimationId++;const i=Array.isArray(t)?W5(t):t;return zK(this._renderer,null,r,"register",[i]),new dxe(r,this._renderer)}}return n.\u0275fac=function(t){return new(t||n)(w(ph),w(Se))},n.\u0275prov=V({token:n,factory:n.\u0275fac}),n})();class dxe extends class rIe{}{constructor(e,t){super(),this._id=e,this._renderer=t}create(e,t){return new hxe(this._id,e,t||{},this._renderer)}}class hxe{constructor(e,t,r,i){this.id=e,this.element=t,this._renderer=i,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",r)}_listen(e,t){return this._renderer.listen(this.element,`@@${this.id}:${e}`,t)}_command(e,...t){return zK(this._renderer,this.element,this.id,e,t)}onDone(e){this._listen("done",e)}onStart(e){this._listen("start",e)}onDestroy(e){this._listen("destroy",e)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(e){this._command("setPosition",e)}getPosition(){return this._renderer.engine.players[+this.id]?.getPosition()??0}}function zK(n,e,t,r,i){return n.setProperty(e,`@@${t}:${r}`,i)}const GK="@.disabled";let fxe=(()=>{class n{constructor(t,r,i){this.delegate=t,this.engine=r,this._zone=i,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),r.onRemovalComplete=(s,o)=>{const a=o?.parentNode(s);a&&o.removeChild(a,s)}}createRenderer(t,r){const s=this.delegate.createRenderer(t,r);if(!(t&&r&&r.data&&r.data.animation)){let u=this._rendererCache.get(s);return u||(u=new WK("",s,this.engine,()=>this._rendererCache.delete(s)),this._rendererCache.set(s,u)),u}const o=r.id,a=r.id+"-"+this._currentId;this._currentId++,this.engine.register(a,t);const l=u=>{Array.isArray(u)?u.forEach(l):this.engine.registerTrigger(o,a,t,u.name,u)};return r.data.animation.forEach(l),new pxe(this,a,s,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(t,r,i){t>=0&&t<this._microtaskId?this._zone.run(()=>r(i)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(s=>{const[o,a]=s;o(a)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([r,i]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return n.\u0275fac=function(t){return new(t||n)(w(ph),w(Hb),w(se))},n.\u0275prov=V({token:n,factory:n.\u0275fac}),n})();class WK{constructor(e,t,r,i){this.namespaceId=e,this.delegate=t,this.engine=r,this._onDestroy=i,this.destroyNode=this.delegate.destroyNode?s=>t.destroyNode(s):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy(),this._onDestroy?.()}createElement(e,t){return this.delegate.createElement(e,t)}createComment(e){return this.delegate.createComment(e)}createText(e){return this.delegate.createText(e)}appendChild(e,t){this.delegate.appendChild(e,t),this.engine.onInsert(this.namespaceId,t,e,!1)}insertBefore(e,t,r,i=!0){this.delegate.insertBefore(e,t,r),this.engine.onInsert(this.namespaceId,t,e,i)}removeChild(e,t,r){this.engine.onRemove(this.namespaceId,t,this.delegate,r)}selectRootElement(e,t){return this.delegate.selectRootElement(e,t)}parentNode(e){return this.delegate.parentNode(e)}nextSibling(e){return this.delegate.nextSibling(e)}setAttribute(e,t,r,i){this.delegate.setAttribute(e,t,r,i)}removeAttribute(e,t,r){this.delegate.removeAttribute(e,t,r)}addClass(e,t){this.delegate.addClass(e,t)}removeClass(e,t){this.delegate.removeClass(e,t)}setStyle(e,t,r,i){this.delegate.setStyle(e,t,r,i)}removeStyle(e,t,r){this.delegate.removeStyle(e,t,r)}setProperty(e,t,r){"@"==t.charAt(0)&&t==GK?this.disableAnimations(e,!!r):this.delegate.setProperty(e,t,r)}setValue(e,t){this.delegate.setValue(e,t)}listen(e,t,r){return this.delegate.listen(e,t,r)}disableAnimations(e,t){this.engine.disableAnimations(e,t)}}class pxe extends WK{constructor(e,t,r,i,s){super(t,r,i,s),this.factory=e,this.namespaceId=t}setProperty(e,t,r){"@"==t.charAt(0)?"."==t.charAt(1)&&t==GK?this.disableAnimations(e,r=void 0===r||!!r):this.engine.process(this.namespaceId,e,t.slice(1),r):this.delegate.setProperty(e,t,r)}listen(e,t,r){if("@"==t.charAt(0)){const i=function mxe(n){switch(n){case"body":return document.body;case"document":return document;case"window":return window;default:return n}}(e);let s=t.slice(1),o="";return"@"!=s.charAt(0)&&([s,o]=function gxe(n){const e=n.indexOf(".");return[n.substring(0,e),n.slice(e+1)]}(s)),this.engine.listen(this.namespaceId,i,s,o,a=>{this.factory.scheduleListenerCallback(a._data||-1,r,a)})}return this.delegate.listen(e,t,r)}}let _xe=(()=>{class n extends Hb{constructor(t,r,i,s){super(t.body,r,i)}ngOnDestroy(){this.flush()}}return n.\u0275fac=function(t){return new(t||n)(w(Se),w(QR),w(l1),w(il))},n.\u0275prov=V({token:n,factory:n.\u0275fac}),n})();const qK=[{provide:G5,useClass:uxe},{provide:l1,useFactory:function yxe(){return new LMe}},{provide:Hb,useClass:_xe},{provide:ph,useFactory:function vxe(n,e,t){return new fxe(n,e,t)},deps:[h_,Hb,se]}],m1=[{provide:QR,useFactory:()=>new cxe},{provide:rl,useValue:"BrowserAnimations"},...qK],KK=[{provide:QR,useClass:bK},{provide:rl,useValue:"NoopAnimations"},...qK];let bxe=(()=>{class n{static withConfig(t){return{ngModule:n,providers:t.disableAnimations?KK:m1}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=te({type:n}),n.\u0275inj=ee({providers:m1,imports:[iU]}),n})(),wxe=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=te({type:n}),n.\u0275inj=ee({imports:[[at],at]}),n})(),Ixe=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=te({type:n}),n.\u0275inj=ee({imports:[[o$,at],o$,at]}),n})();const Mxe={provide:new N("mat-select-scroll-strategy"),deps:[Xp],useFactory:function Axe(n){return()=>n.scrollStrategies.reposition()}};let xxe=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=te({type:n}),n.\u0275inj=ee({providers:[Mxe],imports:[[fu,sK,u$,at],Ib,Gp,u$,at]}),n})(),JK=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=te({type:n}),n.\u0275inj=ee({}),n})(),$xe=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=te({type:n}),n.\u0275inj=ee({imports:[[J_,at,PI,JK],at,JK]}),n})();const e6_firebase={projectId:"pharm-delivery-5d5cd",appId:"1:779134555117:web:2f0da6f9bc36f994184de4",storageBucket:"pharm-delivery-5d5cd.appspot.com",apiKey:"AIzaSyC_9fjpf2pusEobvVHlJYI4AimD01C9g4o",authDomain:"pharm-delivery-5d5cd.firebaseapp.com",messagingSenderId:"779134555117"};class rm{constructor(e){return e}}const t6="analytics",n6=Ey.async,Wxe=kt(ppe,!0),qxe=kt(Rj,!0),Kxe=kt(_pe,!0);let g1=(()=>{class n{constructor(t,r,i){let s;this.disposables=[],Ae("angularfire",Jr.full,"user-tracking"),this.initialized=r.runOutsideAngular(()=>new Promise(o=>{s=o})),n6().then(()=>{const o=i.get(rm);o?this.disposables=[d3(t).subscribe(a=>{Kxe(o,a?.uid),s()})]:s()})}ngOnDestroy(){this.disposables.forEach(t=>t.unsubscribe())}}return n.\u0275fac=function(t){return new(t||n)(w(Fu),w(se),w(Je))},n.\u0275prov=V({token:n,factory:n.\u0275fac}),n})();const r6="firebase_screen_id",_1="outlet",im="screen_class",i6="screen_name";let oke=Math.floor(Math.random()*(Math.pow(2,32)-1))-Math.pow(2,31);const y1={},ake=n=>{const e=[n[im],n[_1]].join("#");if(y1.hasOwnProperty(e))return y1[e];{const t=oke++;return y1[e]=t,t}},lke=(n,e,t)=>n.events.pipe(dn(i=>i instanceof FU)).pipe(On(i=>{var s;const a=(null===(s=n.parseUrl(n.url.replace(/(?:\().+(?:\))/g,f=>f.replace("://",":///"))).root.children[i.snapshot.outlet])||void 0===s?void 0:s.toString())||"",l=n.routerState.root.children.map(f=>f).find(f=>f.outlet===i.snapshot.outlet);if(!l)return W(null);let c=l;for(;c.firstChild;)c=c.firstChild;const u=c.pathFromRoot.map(f=>{var p;return null===(p=f.routeConfig)||void 0===p?void 0:p.path}).filter(f=>f).join("/")||"/",d={[i6]:u,page_path:`/${a}`,firebase_event_origin:"auto",firebase_screen:u,[_1]:i.snapshot.outlet};e&&(d.page_title=e.getTitle());let h=l.component;if(h){if(h===D_){let f=i.snapshot;for(;f.firstChild;)f=f.firstChild;h=f.component}}else h=i.snapshot.component;if("string"==typeof h)return W(Object.assign(Object.assign({},d),{[im]:h}));if(h){const f=t.resolveComponentFactory(h);return W(Object.assign(Object.assign({},d),{[im]:f.selector}))}return W(null)}),dn(i=>!!i),re(i=>Object.assign({firebase_screen_class:i[im],[r6]:ake(i)},i)),function jxe(n,e,t,r){return yt((i,s)=>{let o;e&&"function"!=typeof e?({duration:t,element:o,connector:r}=e):o=e;const a=new Map,l=p=>{a.forEach(p),p(s)},c=p=>l(m=>m.error(p));let u=0,d=!1;const h=new dO(s,p=>{try{const m=n(p);let g=a.get(m);if(!g){a.set(m,g=r?r():new Le);const b=function f(p,m){const g=new ze(b=>{u++;const E=m.subscribe(b);return()=>{E.unsubscribe(),0==--u&&d&&h.unsubscribe()}});return g.key=p,g}(m,g);if(s.next(b),t){const E=nt(g,()=>{g.complete(),E?.unsubscribe()},void 0,void 0,()=>a.delete(m));h.add(kn(t(b)).subscribe(E))}}g.next(o?o(p):p)}catch(m){c(m)}},()=>l(p=>p.complete()),c,()=>a.clear(),()=>(d=!0,0===u));i.subscribe(h)})}(i=>i[_1]),Xt(i=>i.pipe(HH((s,o)=>JSON.stringify(s)===JSON.stringify(o)),Qo(void 0),function zxe(){return yt((n,e)=>{let t,r=!1;n.subscribe(nt(e,i=>{const s=t;t=i,r&&e.next([s,i]),r=!0}))})}(),re(([s,o])=>s?Object.assign({firebase_previous_class:s[im],firebase_previous_screen:s[i6],firebase_previous_id:s[r6]},o):o))));let s6=(()=>{class n{constructor(t,r,i,s,o,a){Ae("angularfire",Jr.full,"screen-tracking"),n6().then(()=>{const l=a.get(rm);!t||!l||s.runOutsideAngular(()=>{this.disposable=lke(t,r,i).pipe(On(c=>pO(this,void 0,void 0,function*(){return o&&(yield o.initialized),qxe(l,"screen_view",c)}))).subscribe()})})}ngOnDestroy(){this.disposable&&this.disposable.unsubscribe()}}return n.\u0275fac=function(t){return new(t||n)(w(Ht,8),w(jE,8),w(jo),w(se),w(g1,8),w(Je))},n.\u0275prov=V({token:n,factory:n.\u0275fac}),n})();const v1=new N("angularfire2.analytics-instances");function uke(n){return(e,t)=>{if(!Ey.sync())return null;const r=e.runOutsideAngular(()=>n(t));return new rm(r)}}const dke={provide:class Gxe{constructor(){return ms(t6)}},deps:[[new Ie,v1]]},hke={provide:rm,useFactory:function cke(n,e){if(!Ey.sync())return null;const t=ps(t6,n,e);return t&&new rm(t)},deps:[[new Ie,v1],ei]};let fke=(()=>{class n{constructor(t,r){Ae("angularfire",Jr.full,"analytics")}}return n.\u0275fac=function(t){return new(t||n)(w(s6,8),w(g1,8))},n.\u0275mod=te({type:n}),n.\u0275inj=ee({providers:[hke,dke,{provide:nl,useValue:Ey.async,multi:!0}]}),n})();function pke(n,...e){return{ngModule:fke,providers:[{provide:v1,useFactory:uke(n),multi:!0,deps:[se,Je,gs,_s,...e]}]}}const o6="@firebase/database",a6="0.13.10";let b1="";class gke{constructor(e){this.domStorage_=e,this.prefix_="firebase:"}set(e,t){null==t?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),Fn(t))}get(e){const t=this.domStorage_.getItem(this.prefixedName_(e));return null==t?null:uf(t)}remove(e){this.domStorage_.removeItem(this.prefixedName_(e))}prefixedName_(e){return this.prefix_+e}toString(){return this.domStorage_.toString()}}class _ke{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(e,t){null==t?delete this.cache_[e]:this.cache_[e]=t}get(e){return co(this.cache_,e)?this.cache_[e]:null}remove(e){delete this.cache_[e]}}const l6=function(n){try{if(typeof window<"u"&&typeof window[n]<"u"){const e=window[n];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new gke(e)}}catch{}return new _ke},dc=l6("localStorage"),w1=l6("sessionStorage"),Id=new ta("@firebase/database"),c6=function(){let n=1;return function(){return n++}}(),u6=function(n){const e=function(n){const e=[];let t=0;for(let r=0;r<n.length;r++){let i=n.charCodeAt(r);if(i>=55296&&i<=56319){const s=i-55296;r++,$(r<n.length,"Surrogate pair missing trail surrogate."),i=65536+(s<<10)+(n.charCodeAt(r)-56320)}i<128?e[t++]=i:i<2048?(e[t++]=i>>6|192,e[t++]=63&i|128):i<65536?(e[t++]=i>>12|224,e[t++]=i>>6&63|128,e[t++]=63&i|128):(e[t++]=i>>18|240,e[t++]=i>>12&63|128,e[t++]=i>>6&63|128,e[t++]=63&i|128)}return e}(n),t=new Tue;t.update(e);const r=t.digest();return iy.encodeByteArray(r)},sm=function(...n){let e="";for(let t=0;t<n.length;t++){const r=n[t];Array.isArray(r)||r&&"object"==typeof r&&"number"==typeof r.length?e+=sm.apply(null,r):e+="object"==typeof r?Fn(r):r,e+=" "}return e};let hc=null,d6=!0;const Dn=function(...n){if(!0===d6&&(d6=!1,null===hc&&!0===w1.get("logging_enabled")&&function(n,e){$(!e||!0===n||!1===n,"Can't turn on custom loggers persistently."),!0===n?(Id.logLevel=Ne.VERBOSE,hc=Id.log.bind(Id),e&&w1.set("logging_enabled",!0)):"function"==typeof n?hc=n:(hc=null,w1.remove("logging_enabled"))}(!0)),hc){const e=sm.apply(null,n);hc(e)}},om=function(n){return function(...e){Dn(n,...e)}},C1=function(...n){const e="FIREBASE INTERNAL ERROR: "+sm(...n);Id.error(e)},Ms=function(...n){const e=`FIREBASE FATAL ERROR: ${sm(...n)}`;throw Id.error(e),new Error(e)},ir=function(...n){const e="FIREBASE WARNING: "+sm(...n);Id.warn(e)},jb=function(n){return"number"==typeof n&&(n!=n||n===Number.POSITIVE_INFINITY||n===Number.NEGATIVE_INFINITY)},Po="[MIN_NAME]",xs="[MAX_NAME]",fc=function(n,e){if(n===e)return 0;if(n===Po||e===xs)return-1;if(e===Po||n===xs)return 1;{const t=zb(n),r=zb(e);return null!==t?null!==r?t-r==0?n.length-e.length:t-r:-1:null!==r?1:n<e?-1:1}},bke=function(n,e){return n===e?0:n<e?-1:1},am=function(n,e){if(e&&n in e)return e[n];throw new Error("Missing required key ("+n+") in object: "+Fn(e))},E1=function(n){if("object"!=typeof n||null===n)return Fn(n);const e=[];for(const r in n)e.push(r);e.sort();let t="{";for(let r=0;r<e.length;r++)0!==r&&(t+=","),t+=Fn(e[r]),t+=":",t+=E1(n[e[r]]);return t+="}",t},f6=function(n,e){const t=n.length;if(t<=e)return[n];const r=[];for(let i=0;i<t;i+=e)r.push(n.substring(i,i+e>t?t:i+e));return r};function An(n,e){for(const t in n)n.hasOwnProperty(t)&&e(t,n[t])}const p6=function(n){$(!jb(n),"Invalid JSON number");const r=1023;let i,s,o,a,l;0===n?(s=0,o=0,i=1/n==-1/0?1:0):(i=n<0,(n=Math.abs(n))>=Math.pow(2,1-r)?(a=Math.min(Math.floor(Math.log(n)/Math.LN2),r),s=a+r,o=Math.round(n*Math.pow(2,52-a)-Math.pow(2,52))):(s=0,o=Math.round(n/Math.pow(2,-1074))));const c=[];for(l=52;l;l-=1)c.push(o%2?1:0),o=Math.floor(o/2);for(l=11;l;l-=1)c.push(s%2?1:0),s=Math.floor(s/2);c.push(i?1:0),c.reverse();const u=c.join("");let d="";for(l=0;l<64;l+=8){let h=parseInt(u.substr(l,8),2).toString(16);1===h.length&&(h="0"+h),d+=h}return d.toLowerCase()},Ike=new RegExp("^-?(0*)\\d{1,10}$"),zb=function(n){if(Ike.test(n)){const e=Number(n);if(e>=-2147483648&&e<=2147483647)return e}return null},Td=function(n){try{n()}catch(e){setTimeout(()=>{throw ir("Exception was thrown by user callback.",e.stack||""),e},Math.floor(0))}},lm=function(n,e){const t=setTimeout(n,e);return"number"==typeof t&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(t):"object"==typeof t&&t.unref&&t.unref(),t};class Ske{constructor(e,t){this.appName_=e,this.appCheckProvider=t,this.appCheck=t?.getImmediate({optional:!0}),this.appCheck||t?.get().then(r=>this.appCheck=r)}getToken(e){return this.appCheck?this.appCheck.getToken(e):new Promise((t,r)=>{setTimeout(()=>{this.appCheck?this.getToken(e).then(t,r):t(null)},0)})}addTokenChangeListener(e){var t;null===(t=this.appCheckProvider)||void 0===t||t.get().then(r=>r.addTokenListener(e))}notifyForInvalidToken(){ir(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}}class Dke{constructor(e,t,r){this.appName_=e,this.firebaseOptions_=t,this.authProvider_=r,this.auth_=null,this.auth_=r.getImmediate({optional:!0}),this.auth_||r.onInit(i=>this.auth_=i)}getToken(e){return this.auth_?this.auth_.getToken(e).catch(t=>t&&"auth/token-not-initialized"===t.code?(Dn("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(t)):new Promise((t,r)=>{setTimeout(()=>{this.auth_?this.getToken(e).then(t,r):t(null)},0)})}addTokenChangeListener(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then(t=>t.addAuthTokenListener(e))}removeTokenChangeListener(e){this.authProvider_.get().then(t=>t.removeAuthTokenListener(e))}notifyForInvalidToken(){let e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';e+="credential"in this.firebaseOptions_?'Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?'Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':'Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',ir(e)}}let cm=(()=>{class n{constructor(t){this.accessToken=t}getToken(t){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(t){t(this.accessToken)}removeTokenChangeListener(t){}notifyForInvalidToken(){}}return n.OWNER="owner",n})();const b6=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,E6="websocket",I6="long_polling";class S1{constructor(e,t,r,i,s=!1,o="",a=!1){this.secure=t,this.namespace=r,this.webSocketOnly=i,this.nodeAdmin=s,this.persistenceKey=o,this.includeNamespaceInQueryParams=a,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=dc.get("host:"+e)||this._host}isCacheableHost(){return"s-"===this.internalHost.substr(0,2)}isCustomHost(){return"firebaseio.com"!==this._domain&&"firebaseio-demo.com"!==this._domain}get host(){return this._host}set host(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&dc.set("host:"+this._host,this.internalHost))}toString(){let e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}toURLString(){return`${this.secure?"https://":"http://"}${this.host}/${this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:""}`}}function T6(n,e,t){let r;if($("string"==typeof e,"typeof type must == string"),$("object"==typeof t,"typeof params must == object"),e===E6)r=(n.secure?"wss://":"ws://")+n.internalHost+"/.ws?";else{if(e!==I6)throw new Error("Unknown connection type: "+e);r=(n.secure?"https://":"http://")+n.internalHost+"/.lp?"}(function Ake(n){return n.host!==n.internalHost||n.isCustomHost()||n.includeNamespaceInQueryParams})(n)&&(t.ns=n.namespace);const i=[];return An(t,(s,o)=>{i.push(s+"="+o)}),r+i.join("&")}class Mke{constructor(){this.counters_={}}incrementCounter(e,t=1){co(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=t}get(){return hue(this.counters_)}}const D1={},A1={};function M1(n){const e=n.toString();return D1[e]||(D1[e]=new Mke),D1[e]}class kke{constructor(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(e,t){this.closeAfterResponse=e,this.onClose=t,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(e,t){for(this.pendingResponses[e]=t;this.pendingResponses[this.currentResponseNum];){const r=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let i=0;i<r.length;++i)r[i]&&Td(()=>{this.onMessage_(r[i])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}class Da{constructor(e,t,r,i,s,o,a){this.connId=e,this.repoInfo=t,this.applicationId=r,this.appCheckToken=i,this.authToken=s,this.transportSessionId=o,this.lastSessionId=a,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=om(e),this.stats_=M1(t),this.urlFn=l=>(this.appCheckToken&&(l.ac=this.appCheckToken),T6(t,I6,l))}open(e,t){this.curSegmentNum=0,this.onDisconnect_=t,this.myPacketOrderer=new kke(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(3e4)),function(n){if("complete"===document.readyState)n();else{let e=!1;const t=function(){document.body?e||(e=!0,n()):setTimeout(t,Math.floor(10))};document.addEventListener?(document.addEventListener("DOMContentLoaded",t,!1),window.addEventListener("load",t,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{"complete"===document.readyState&&t()}),window.attachEvent("onload",t))}}(()=>{if(this.isClosed_)return;this.scriptTagHolder=new x1((...s)=>{const[o,a,l,c,u]=s;if(this.incrementIncomingBytes_(s),this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,"start"===o)this.id=a,this.password=l;else{if("close"!==o)throw new Error("Unrecognized command received: "+o);a?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(a,()=>{this.onClosed_()})):this.onClosed_()}},(...s)=>{const[o,a]=s;this.incrementIncomingBytes_(s),this.myPacketOrderer.handleResponse(o,a)},()=>{this.onClosed_()},this.urlFn);const r={start:"t"};r.ser=Math.floor(1e8*Math.random()),this.scriptTagHolder.uniqueCallbackIdentifier&&(r.cb=this.scriptTagHolder.uniqueCallbackIdentifier),r.v="5",this.transportSessionId&&(r.s=this.transportSessionId),this.lastSessionId&&(r.ls=this.lastSessionId),this.applicationId&&(r.p=this.applicationId),this.appCheckToken&&(r.ac=this.appCheckToken),typeof location<"u"&&location.hostname&&b6.test(location.hostname)&&(r.r="f");const i=this.urlFn(r);this.log_("Connecting via long-poll to "+i),this.scriptTagHolder.addTag(i,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){Da.forceAllow_=!0}static forceDisallow(){Da.forceDisallow_=!0}static isAvailable(){return!(!Da.forceAllow_&&(Da.forceDisallow_||!(typeof document<"u")||null==document.createElement||"object"==typeof window&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href)||"object"==typeof Windows&&"object"==typeof Windows.UI))}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(e){const t=Fn(e);this.bytesSent+=t.length,this.stats_.incrementCounter("bytes_sent",t.length);const r=v$(t),i=f6(r,1840);for(let s=0;s<i.length;s++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,i.length,i[s]),this.curSegmentNum++}addDisconnectPingFrame(e,t){this.myDisconnFrame=document.createElement("iframe");const r={dframe:"t"};r.id=e,r.pw=t,this.myDisconnFrame.src=this.urlFn(r),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(e){const t=Fn(e).length;this.bytesReceived+=t,this.stats_.incrementCounter("bytes_received",t)}}class x1{constructor(e,t,r,i){this.onDisconnect=r,this.urlFn=i,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(1e8*Math.random()),this.sendNewPolls=!0;{this.uniqueCallbackIdentifier=c6(),window["pLPCommand"+this.uniqueCallbackIdentifier]=e,window["pRTLPCB"+this.uniqueCallbackIdentifier]=t,this.myIFrame=x1.createIFrame_();let s="";this.myIFrame.src&&"javascript:"===this.myIFrame.src.substr(0,11)&&(s='<script>document.domain="'+document.domain+'";<\/script>');const o="<html><body>"+s+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(o),this.myIFrame.doc.close()}catch(a){Dn("frame writing exception"),a.stack&&Dn(a.stack),Dn(a)}}}static createIFrame_(){const e=document.createElement("iframe");if(e.style.display="none",!document.body)throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";document.body.appendChild(e);try{e.contentWindow.document||Dn("No IE domain setting required")}catch{const r=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+r+"';document.close();})())"}return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.innerHTML="",setTimeout(()=>{null!==this.myIFrame&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const e=this.onDisconnect;e&&(this.onDisconnect=null,e())}startLongPoll(e,t){for(this.myID=e,this.myPW=t,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const e={};e.id=this.myID,e.pw=this.myPW,e.ser=this.currentSerial;let t=this.urlFn(e),r="",i=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+30+r.length<=1870;){const o=this.pendingSegs.shift();r=r+"&seg"+i+"="+o.seg+"&ts"+i+"="+o.ts+"&d"+i+"="+o.d,i++}return t+=r,this.addLongPollTag_(t,this.currentSerial),!0}return!1}enqueueSegment(e,t,r){this.pendingSegs.push({seg:e,ts:t,d:r}),this.alive&&this.newRequest_()}addLongPollTag_(e,t){this.outstandingRequests.add(t);const r=()=>{this.outstandingRequests.delete(t),this.newRequest_()},i=setTimeout(r,Math.floor(25e3));this.addTag(e,()=>{clearTimeout(i),r()})}addTag(e,t){setTimeout(()=>{try{if(!this.sendNewPolls)return;const r=this.myIFrame.doc.createElement("script");r.type="text/javascript",r.async=!0,r.src=e,r.onload=r.onreadystatechange=function(){const i=r.readyState;(!i||"loaded"===i||"complete"===i)&&(r.onload=r.onreadystatechange=null,r.parentNode&&r.parentNode.removeChild(r),t())},r.onerror=()=>{Dn("Long-poll script failed to load: "+e),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(r)}catch{}},Math.floor(1))}}let Wb=null;typeof MozWebSocket<"u"?Wb=MozWebSocket:typeof WebSocket<"u"&&(Wb=WebSocket);let Sd=(()=>{class n{constructor(t,r,i,s,o,a,l){this.connId=t,this.applicationId=i,this.appCheckToken=s,this.authToken=o,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=om(this.connId),this.stats_=M1(r),this.connURL=n.connectionURL_(r,a,l,s,i),this.nodeAdmin=r.nodeAdmin}static connectionURL_(t,r,i,s,o){const a={v:"5"};return typeof location<"u"&&location.hostname&&b6.test(location.hostname)&&(a.r="f"),r&&(a.s=r),i&&(a.ls=i),s&&(a.ac=s),o&&(a.p=o),T6(t,E6,a)}open(t,r){this.onDisconnect=r,this.onMessage=t,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,dc.set("previous_websocket_failure",!0);try{let i;0,this.mySock=new Wb(this.connURL,[],i)}catch(i){this.log_("Error instantiating WebSocket.");const s=i.message||i.data;return s&&this.log_(s),void this.onClosed_()}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=i=>{this.handleIncomingFrame(i)},this.mySock.onerror=i=>{this.log_("WebSocket error.  Closing connection.");const s=i.message||i.data;s&&this.log_(s),this.onClosed_()}}start(){}static forceDisallow(){n.forceDisallow_=!0}static isAvailable(){let t=!1;if(typeof navigator<"u"&&navigator.userAgent){const i=navigator.userAgent.match(/Android ([0-9]{0,}\.[0-9]{0,})/);i&&i.length>1&&parseFloat(i[1])<4.4&&(t=!0)}return!t&&null!==Wb&&!n.forceDisallow_}static previouslyFailed(){return dc.isInMemoryStorage||!0===dc.get("previous_websocket_failure")}markConnectionHealthy(){dc.remove("previous_websocket_failure")}appendFrame_(t){if(this.frames.push(t),this.frames.length===this.totalFrames){const r=this.frames.join("");this.frames=null;const i=uf(r);this.onMessage(i)}}handleNewFrameCount_(t){this.totalFrames=t,this.frames=[]}extractFrameCount_(t){if($(null===this.frames,"We already have a frame buffer"),t.length<=6){const r=Number(t);if(!isNaN(r))return this.handleNewFrameCount_(r),null}return this.handleNewFrameCount_(1),t}handleIncomingFrame(t){if(null===this.mySock)return;const r=t.data;if(this.bytesReceived+=r.length,this.stats_.incrementCounter("bytes_received",r.length),this.resetKeepAlive(),null!==this.frames)this.appendFrame_(r);else{const i=this.extractFrameCount_(r);null!==i&&this.appendFrame_(i)}}send(t){this.resetKeepAlive();const r=Fn(t);this.bytesSent+=r.length,this.stats_.incrementCounter("bytes_sent",r.length);const i=f6(r,16384);i.length>1&&this.sendString_(String(i.length));for(let s=0;s<i.length;s++)this.sendString_(i[s])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(45e3))}sendString_(t){try{this.mySock.send(t)}catch(r){this.log_("Exception thrown from WebSocket.send():",r.message||r.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}return n.responsesRequiredToBeHealthy=2,n.healthyTimeout=3e4,n})(),R6=(()=>{class n{constructor(t){this.initTransports_(t)}static get ALL_TRANSPORTS(){return[Da,Sd]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}initTransports_(t){const r=Sd&&Sd.isAvailable();let i=r&&!Sd.previouslyFailed();if(t.webSocketOnly&&(r||ir("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),i=!0),i)this.transports_=[Sd];else{const s=this.transports_=[];for(const o of n.ALL_TRANSPORTS)o&&o.isAvailable()&&s.push(o);n.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}return n.globalTransportInitialized_=!1,n})();class B6{constructor(e,t,r,i,s,o,a,l,c,u){this.id=e,this.repoInfo_=t,this.applicationId_=r,this.appCheckToken_=i,this.authToken_=s,this.onMessage_=o,this.onReady_=a,this.onDisconnect_=l,this.onKill_=c,this.lastSessionId=u,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=om("c:"+this.id+":"),this.transportManager_=new R6(t),this.log_("Connection created"),this.start_()}start_(){const e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const t=this.connReceiver_(this.conn_),r=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(t,r)},Math.floor(0));const i=e.healthyTimeout||0;i>0&&(this.healthyTimeout_=lm(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>102400?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>10240?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(i)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(e){return t=>{e===this.conn_?this.onConnectionLost_(t):e===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(e){return t=>{2!==this.state_&&(e===this.rx_?this.onPrimaryMessageReceived_(t):e===this.secondaryConn_?this.onSecondaryMessageReceived_(t):this.log_("message on old connection"))}}sendRequest(e){this.sendData_({t:"d",d:e})}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(e){if("t"in e){const t=e.t;"a"===t?this.upgradeIfSecondaryHealthy_():"r"===t?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):"o"===t&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(e){const t=am("t",e),r=am("d",e);if("c"===t)this.onSecondaryControl_(r);else{if("d"!==t)throw new Error("Unknown protocol layer: "+t);this.pendingDataMessages.push(r)}}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:"p",d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:"a",d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:"n",d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(e){const t=am("t",e),r=am("d",e);"c"===t?this.onControl_(r):"d"===t&&this.onDataMessage_(r)}onDataMessage_(e){this.onPrimaryResponse_(),this.onMessage_(e)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(e){const t=am("t",e);if("d"in e){const r=e.d;if("h"===t)this.onHandshake_(r);else if("n"===t){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let i=0;i<this.pendingDataMessages.length;++i)this.onDataMessage_(this.pendingDataMessages[i]);this.pendingDataMessages=[],this.tryCleanupConnection()}else"s"===t?this.onConnectionShutdown_(r):"r"===t?this.onReset_(r):"e"===t?C1("Server Error: "+r):"o"===t?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):C1("Unknown control packet command: "+t)}}onHandshake_(e){const t=e.ts,r=e.v,i=e.h;this.sessionId=e.s,this.repoInfo_.host=i,0===this.state_&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,t),"5"!==r&&ir("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}startUpgrade_(e){this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const t=this.connReceiver_(this.secondaryConn_),r=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(t,r),lm(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(6e4))}onReset_(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,1===this.state_?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(e,t){this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(t,this.sessionId),this.onReady_=null),0===this.primaryResponsesRequired_?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):lm(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(5e3))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&1===this.state_&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:"p",d:{}}}))}onSecondaryConnectionLost_(){const e=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===e||this.rx_===e)&&this.close()}onConnectionLost_(e){this.conn_=null,e||0!==this.state_?1===this.state_&&this.log_("Realtime connection lost."):(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(dc.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)),this.close()}onConnectionShutdown_(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(e){if(1!==this.state_)throw"Connection is not connected";this.tx_.send(e)}close(){2!==this.state_&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}class U6{put(e,t,r,i){}merge(e,t,r,i){}refreshAuthToken(e){}refreshAppCheckToken(e){}onDisconnectPut(e,t,r){}onDisconnectMerge(e,t,r){}onDisconnectCancel(e,t){}reportStats(e){}}class H6{constructor(e){this.allowedEvents_=e,this.listeners_={},$(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}trigger(e,...t){if(Array.isArray(this.listeners_[e])){const r=[...this.listeners_[e]];for(let i=0;i<r.length;i++)r[i].callback.apply(r[i].context,t)}}on(e,t,r){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:t,context:r});const i=this.getInitialEvent(e);i&&t.apply(r,i)}off(e,t,r){this.validateEventType_(e);const i=this.listeners_[e]||[];for(let s=0;s<i.length;s++)if(i[s].callback===t&&(!r||r===i[s].context))return void i.splice(s,1)}validateEventType_(e){$(this.allowedEvents_.find(t=>t===e),"Unknown event: "+e)}}class qb extends H6{constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!$I()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}static getInstance(){return new qb}getInitialEvent(e){return $("online"===e,"Unknown event type: "+e),[this.online_]}currentlyOnline(){return this.online_}}class et{constructor(e,t){if(void 0===t){this.pieces_=e.split("/");let r=0;for(let i=0;i<this.pieces_.length;i++)this.pieces_[i].length>0&&(this.pieces_[r]=this.pieces_[i],r++);this.pieces_.length=r,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=t}toString(){let e="";for(let t=this.pieceNum_;t<this.pieces_.length;t++)""!==this.pieces_[t]&&(e+="/"+this.pieces_[t]);return e||"/"}}function We(){return new et("")}function Me(n){return n.pieceNum_>=n.pieces_.length?null:n.pieces_[n.pieceNum_]}function Aa(n){return n.pieces_.length-n.pieceNum_}function lt(n){let e=n.pieceNum_;return e<n.pieces_.length&&e++,new et(n.pieces_,e)}function R1(n){return n.pieceNum_<n.pieces_.length?n.pieces_[n.pieces_.length-1]:null}function um(n,e=0){return n.pieces_.slice(n.pieceNum_+e)}function z6(n){if(n.pieceNum_>=n.pieces_.length)return null;const e=[];for(let t=n.pieceNum_;t<n.pieces_.length-1;t++)e.push(n.pieces_[t]);return new et(e,0)}function St(n,e){const t=[];for(let r=n.pieceNum_;r<n.pieces_.length;r++)t.push(n.pieces_[r]);if(e instanceof et)for(let r=e.pieceNum_;r<e.pieces_.length;r++)t.push(e.pieces_[r]);else{const r=e.split("/");for(let i=0;i<r.length;i++)r[i].length>0&&t.push(r[i])}return new et(t,0)}function xe(n){return n.pieceNum_>=n.pieces_.length}function Cr(n,e){const t=Me(n),r=Me(e);if(null===t)return e;if(t===r)return Cr(lt(n),lt(e));throw new Error("INTERNAL ERROR: innerPath ("+e+") is not within outerPath ("+n+")")}function P1(n,e){if(Aa(n)!==Aa(e))return!1;for(let t=n.pieceNum_,r=e.pieceNum_;t<=n.pieces_.length;t++,r++)if(n.pieces_[t]!==e.pieces_[r])return!1;return!0}function Ei(n,e){let t=n.pieceNum_,r=e.pieceNum_;if(Aa(n)>Aa(e))return!1;for(;t<n.pieces_.length;){if(n.pieces_[t]!==e.pieces_[r])return!1;++t,++r}return!0}class eRe{constructor(e,t){this.errorPrefix_=t,this.parts_=um(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(let r=0;r<this.parts_.length;r++)this.byteLength_+=hy(this.parts_[r]);G6(this)}}function G6(n){if(n.byteLength_>768)throw new Error(n.errorPrefix_+"has a key path longer than 768 bytes ("+n.byteLength_+").");if(n.parts_.length>32)throw new Error(n.errorPrefix_+"path specified exceeds the maximum depth that can be written (32) or object contains a cycle "+pc(n))}function pc(n){return 0===n.parts_.length?"":"in property '"+n.parts_.join(".")+"'"}class O1 extends H6{constructor(){let e,t;super(["visible"]),typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(t="visibilitychange",e="hidden"):typeof document.mozHidden<"u"?(t="mozvisibilitychange",e="mozHidden"):typeof document.msHidden<"u"?(t="msvisibilitychange",e="msHidden"):typeof document.webkitHidden<"u"&&(t="webkitvisibilitychange",e="webkitHidden")),this.visible_=!0,t&&document.addEventListener(t,()=>{const r=!document[e];r!==this.visible_&&(this.visible_=r,this.trigger("visible",r))},!1)}static getInstance(){return new O1}getInitialEvent(e){return $("visible"===e,"Unknown event type: "+e),[this.visible_]}}const dm=1e3;let Yb,mc=(()=>{class n extends U6{constructor(t,r,i,s,o,a,l,c){if(super(),this.repoInfo_=t,this.applicationId_=r,this.onDataUpdate_=i,this.onConnectStatus_=s,this.onServerInfoUpdate_=o,this.authTokenProvider_=a,this.appCheckTokenProvider_=l,this.authOverride_=c,this.id=n.nextPersistentConnectionId_++,this.log_=om("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=dm,this.maxReconnectDelay_=3e5,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,c)throw new Error("Auth override specified in options, but not supported on non Node.js platforms");O1.getInstance().on("visible",this.onVisible_,this),-1===t.host.indexOf("fblocal")&&qb.getInstance().on("online",this.onOnline_,this)}sendRequest(t,r,i){const s=++this.requestNumber_,o={r:s,a:t,b:r};this.log_(Fn(o)),$(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(o),i&&(this.requestCBHash_[s]=i)}get(t){this.initConnection_();const r=new Su,i={p:t._path.toString(),q:t._queryObject};return this.outstandingGets_.push({action:"g",request:i,onComplete:a=>{const l=a.d;"ok"===a.s?r.resolve(l):r.reject(l)}}),this.outstandingGetCount_++,this.connected_&&this.sendGet_(this.outstandingGets_.length-1),r.promise}listen(t,r,i,s){this.initConnection_();const o=t._queryIdentifier,a=t._path.toString();this.log_("Listen called for "+a+" "+o),this.listens.has(a)||this.listens.set(a,new Map),$(t._queryParams.isDefault()||!t._queryParams.loadsAllData(),"listen() called for non-default but complete query"),$(!this.listens.get(a).has(o),"listen() called twice for same path/queryId.");const l={onComplete:s,hashFn:r,query:t,tag:i};this.listens.get(a).set(o,l),this.connected_&&this.sendListen_(l)}sendGet_(t){const r=this.outstandingGets_[t];this.sendRequest("g",r.request,i=>{delete this.outstandingGets_[t],this.outstandingGetCount_--,0===this.outstandingGetCount_&&(this.outstandingGets_=[]),r.onComplete&&r.onComplete(i)})}sendListen_(t){const r=t.query,i=r._path.toString(),s=r._queryIdentifier;this.log_("Listen on "+i+" for "+s);const o={p:i};t.tag&&(o.q=r._queryObject,o.t=t.tag),o.h=t.hashFn(),this.sendRequest("q",o,l=>{const c=l.d,u=l.s;n.warnOnListenWarnings_(c,r),(this.listens.get(i)&&this.listens.get(i).get(s))===t&&(this.log_("listen response",l),"ok"!==u&&this.removeListen_(i,s),t.onComplete&&t.onComplete(u,c))})}static warnOnListenWarnings_(t,r){if(t&&"object"==typeof t&&co(t,"w")){const i=Du(t,"w");if(Array.isArray(i)&&~i.indexOf("no_index")){const s='".indexOn": "'+r._queryParams.getIndex().toString()+'"',o=r._path.toString();ir(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${s} at ${o} to your security rules for better performance.`)}}}refreshAuthToken(t){this.authToken_=t,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(t)}reduceReconnectDelayIfAdminCredential_(t){(t&&40===t.length||function(n){const e=cy(n).claims;return"object"==typeof e&&!0===e.admin}(t))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=3e4)}refreshAppCheckToken(t){this.appCheckToken_=t,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const t=this.authToken_,r=function(n){const t=cy(n).claims;return!!t&&"object"==typeof t&&t.hasOwnProperty("iat")}(t)?"auth":"gauth",i={cred:t};null===this.authOverride_?i.noauth=!0:"object"==typeof this.authOverride_&&(i.authvar=this.authOverride_),this.sendRequest(r,i,s=>{const o=s.s,a=s.d||"error";this.authToken_===t&&("ok"===o?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(o,a))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},t=>{const r=t.s,i=t.d||"error";"ok"===r?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(r,i)})}unlisten(t,r){const i=t._path.toString(),s=t._queryIdentifier;this.log_("Unlisten called for "+i+" "+s),$(t._queryParams.isDefault()||!t._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(i,s)&&this.connected_&&this.sendUnlisten_(i,s,t._queryObject,r)}sendUnlisten_(t,r,i,s){this.log_("Unlisten on "+t+" for "+r);const o={p:t};s&&(o.q=i,o.t=s),this.sendRequest("n",o)}onDisconnectPut(t,r,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",t,r,i):this.onDisconnectRequestQueue_.push({pathString:t,action:"o",data:r,onComplete:i})}onDisconnectMerge(t,r,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",t,r,i):this.onDisconnectRequestQueue_.push({pathString:t,action:"om",data:r,onComplete:i})}onDisconnectCancel(t,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",t,null,r):this.onDisconnectRequestQueue_.push({pathString:t,action:"oc",data:null,onComplete:r})}sendOnDisconnect_(t,r,i,s){const o={p:r,d:i};this.log_("onDisconnect "+t,o),this.sendRequest(t,o,a=>{s&&setTimeout(()=>{s(a.s,a.d)},Math.floor(0))})}put(t,r,i,s){this.putInternal("p",t,r,i,s)}merge(t,r,i,s){this.putInternal("m",t,r,i,s)}putInternal(t,r,i,s,o){this.initConnection_();const a={p:r,d:i};void 0!==o&&(a.h=o),this.outstandingPuts_.push({action:t,request:a,onComplete:s}),this.outstandingPutCount_++,this.connected_?this.sendPut_(this.outstandingPuts_.length-1):this.log_("Buffering put: "+r)}sendPut_(t){const r=this.outstandingPuts_[t].action,i=this.outstandingPuts_[t].request,s=this.outstandingPuts_[t].onComplete;this.outstandingPuts_[t].queued=this.connected_,this.sendRequest(r,i,o=>{this.log_(r+" response",o),delete this.outstandingPuts_[t],this.outstandingPutCount_--,0===this.outstandingPutCount_&&(this.outstandingPuts_=[]),s&&s(o.s,o.d)})}reportStats(t){if(this.connected_){const r={c:t};this.log_("reportStats",r),this.sendRequest("s",r,i=>{"ok"!==i.s&&this.log_("reportStats","Error sending stats: "+i.d)})}}onDataMessage_(t){if("r"in t){this.log_("from server: "+Fn(t));const r=t.r,i=this.requestCBHash_[r];i&&(delete this.requestCBHash_[r],i(t.b))}else{if("error"in t)throw"A server-side error has occurred: "+t.error;"a"in t&&this.onDataPush_(t.a,t.b)}}onDataPush_(t,r){this.log_("handleServerMessage",t,r),"d"===t?this.onDataUpdate_(r.p,r.d,!1,r.t):"m"===t?this.onDataUpdate_(r.p,r.d,!0,r.t):"c"===t?this.onListenRevoked_(r.p,r.q):"ac"===t?this.onAuthRevoked_(r.s,r.d):"apc"===t?this.onAppCheckRevoked_(r.s,r.d):"sd"===t?this.onSecurityDebugPacket_(r):C1("Unrecognized action received from server: "+Fn(t)+"\nAre you using the latest client?")}onReady_(t,r){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=(new Date).getTime(),this.handleTimestamp_(t),this.lastSessionId=r,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(t){$(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(t))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(t){t&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=dm,this.realtime_||this.scheduleConnect_(0)),this.visible_=t}onOnline_(t){t?(this.log_("Browser went online."),this.reconnectDelay_=dm,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&((new Date).getTime()-this.lastConnectionEstablishedTime_>3e4&&(this.reconnectDelay_=dm),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=(new Date).getTime());const t=(new Date).getTime()-this.lastConnectionAttemptTime_;let r=Math.max(0,this.reconnectDelay_-t);r=Math.random()*r,this.log_("Trying to reconnect in "+r+"ms"),this.scheduleConnect_(r),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,1.3*this.reconnectDelay_)}this.onConnectStatus_(!1)}establishConnection_(){var t=this;return _(function*(){if(t.shouldReconnect_()){t.log_("Making a connection attempt"),t.lastConnectionAttemptTime_=(new Date).getTime(),t.lastConnectionEstablishedTime_=null;const r=t.onDataMessage_.bind(t),i=t.onReady_.bind(t),s=t.onRealtimeDisconnect_.bind(t),o=t.id+":"+n.nextConnectionId_++,a=t.lastSessionId;let l=!1,c=null;const u=function(){c?c.close():(l=!0,s())};t.realtime_={close:u,sendRequest:function(f){$(c,"sendRequest call when we're not connected not allowed."),c.sendRequest(f)}};const h=t.forceTokenRefresh_;t.forceTokenRefresh_=!1;try{const[f,p]=yield Promise.all([t.authTokenProvider_.getToken(h),t.appCheckTokenProvider_.getToken(h)]);l?Dn("getToken() completed but was canceled"):(Dn("getToken() completed. Creating connection."),t.authToken_=f&&f.accessToken,t.appCheckToken_=p&&p.token,c=new B6(o,t.repoInfo_,t.applicationId_,t.appCheckToken_,t.authToken_,r,i,s,m=>{ir(m+" ("+t.repoInfo_.toString()+")"),t.interrupt("server_kill")},a))}catch(f){t.log_("Failed to get token: "+f),l||(t.repoInfo_.nodeAdmin&&ir(f),u())}}})()}interrupt(t){Dn("Interrupting connection for reason: "+t),this.interruptReasons_[t]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(t){Dn("Resuming connection for reason: "+t),delete this.interruptReasons_[t],WI(this.interruptReasons_)&&(this.reconnectDelay_=dm,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(t){const r=t-(new Date).getTime();this.onServerInfoUpdate_({serverTimeOffset:r})}cancelSentTransactions_(){for(let t=0;t<this.outstandingPuts_.length;t++){const r=this.outstandingPuts_[t];r&&"h"in r.request&&r.queued&&(r.onComplete&&r.onComplete("disconnect"),delete this.outstandingPuts_[t],this.outstandingPutCount_--)}0===this.outstandingPutCount_&&(this.outstandingPuts_=[])}onListenRevoked_(t,r){let i;i=r?r.map(o=>E1(o)).join("$"):"default";const s=this.removeListen_(t,i);s&&s.onComplete&&s.onComplete("permission_denied")}removeListen_(t,r){const i=new et(t).toString();let s;if(this.listens.has(i)){const o=this.listens.get(i);s=o.get(r),o.delete(r),0===o.size&&this.listens.delete(i)}else s=void 0;return s}onAuthRevoked_(t,r){Dn("Auth token revoked: "+t+"/"+r),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),("invalid_token"===t||"permission_denied"===t)&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=3&&(this.reconnectDelay_=3e4,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(t,r){Dn("App check token revoked: "+t+"/"+r),this.appCheckToken_=null,this.forceTokenRefresh_=!0,("invalid_token"===t||"permission_denied"===t)&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=3&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(t){this.securityDebugCallback_?this.securityDebugCallback_(t):"msg"in t&&console.log("FIREBASE: "+t.msg.replace("\n","\nFIREBASE: "))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const t of this.listens.values())for(const r of t.values())this.sendListen_(r);for(let t=0;t<this.outstandingPuts_.length;t++)this.outstandingPuts_[t]&&this.sendPut_(t);for(;this.onDisconnectRequestQueue_.length;){const t=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(t.action,t.pathString,t.data,t.onComplete)}for(let t=0;t<this.outstandingGets_.length;t++)this.outstandingGets_[t]&&this.sendGet_(t)}sendConnectStats_(){const t={};let r="js";t["sdk."+r+"."+b1.replace(/\./g,"-")]=1,$I()?t["framework.cordova"]=1:C$()&&(t["framework.reactnative"]=1),this.reportStats(t)}shouldReconnect_(){const t=qb.getInstance().currentlyOnline();return WI(this.interruptReasons_)&&t}}return n.nextPersistentConnectionId_=0,n.nextConnectionId_=0,n})();class Re{constructor(e,t){this.name=e,this.node=t}static Wrap(e,t){return new Re(e,t)}}class Kb{getCompare(){return this.compare.bind(this)}indexedValueChanged(e,t){const r=new Re(Po,e),i=new Re(Po,t);return 0!==this.compare(r,i)}minPost(){return Re.MIN}}class K6 extends Kb{static get __EMPTY_NODE(){return Yb}static set __EMPTY_NODE(e){Yb=e}compare(e,t){return fc(e.name,t.name)}isDefinedOn(e){throw Iu("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(e,t){return!1}minPost(){return Re.MIN}maxPost(){return new Re(xs,Yb)}makePost(e,t){return $("string"==typeof e,"KeyIndex indexValue must always be a string."),new Re(e,Yb)}toString(){return".key"}}const ks=new K6;class Qb{constructor(e,t,r,i,s=null){this.isReverse_=i,this.resultGenerator_=s,this.nodeStack_=[];let o=1;for(;!e.isEmpty();)if(o=t?r(e.key,t):1,i&&(o*=-1),o<0)e=this.isReverse_?e.left:e.right;else{if(0===o){this.nodeStack_.push(e);break}this.nodeStack_.push(e),e=this.isReverse_?e.right:e.left}}getNext(){if(0===this.nodeStack_.length)return null;let t,e=this.nodeStack_.pop();if(t=this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return t}hasNext(){return this.nodeStack_.length>0}peek(){if(0===this.nodeStack_.length)return null;const e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}}let F1,Ki=(()=>{class n{constructor(t,r,i,s,o){this.key=t,this.value=r,this.color=i??n.RED,this.left=s??Fr.EMPTY_NODE,this.right=o??Fr.EMPTY_NODE}copy(t,r,i,s,o){return new n(t??this.key,r??this.value,i??this.color,s??this.left,o??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||!!t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,r,i){let s=this;const o=i(t,s.key);return s=o<0?s.copy(null,null,null,s.left.insert(t,r,i),null):0===o?s.copy(null,r,null,null,null):s.copy(null,null,null,null,s.right.insert(t,r,i)),s.fixUp_()}removeMin_(){if(this.left.isEmpty())return Fr.EMPTY_NODE;let t=this;return!t.left.isRed_()&&!t.left.left.isRed_()&&(t=t.moveRedLeft_()),t=t.copy(null,null,null,t.left.removeMin_(),null),t.fixUp_()}remove(t,r){let i,s;if(i=this,r(t,i.key)<0)!i.left.isEmpty()&&!i.left.isRed_()&&!i.left.left.isRed_()&&(i=i.moveRedLeft_()),i=i.copy(null,null,null,i.left.remove(t,r),null);else{if(i.left.isRed_()&&(i=i.rotateRight_()),!i.right.isEmpty()&&!i.right.isRed_()&&!i.right.left.isRed_()&&(i=i.moveRedRight_()),0===r(t,i.key)){if(i.right.isEmpty())return Fr.EMPTY_NODE;s=i.right.min_(),i=i.copy(s.key,s.value,null,null,i.right.removeMin_())}i=i.copy(null,null,null,null,i.right.remove(t,r))}return i.fixUp_()}isRed_(){return this.color}fixUp_(){let t=this;return t.right.isRed_()&&!t.left.isRed_()&&(t=t.rotateLeft_()),t.left.isRed_()&&t.left.left.isRed_()&&(t=t.rotateRight_()),t.left.isRed_()&&t.right.isRed_()&&(t=t.colorFlip_()),t}moveRedLeft_(){let t=this.colorFlip_();return t.right.left.isRed_()&&(t=t.copy(null,null,null,null,t.right.rotateRight_()),t=t.rotateLeft_(),t=t.colorFlip_()),t}moveRedRight_(){let t=this.colorFlip_();return t.left.left.isRed_()&&(t=t.rotateRight_(),t=t.colorFlip_()),t}rotateLeft_(){const t=this.copy(null,null,n.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight_(){const t=this.copy(null,null,n.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip_(){const t=this.left.copy(null,null,!this.left.color,null,null),r=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,r)}checkMaxDepth_(){const t=this.check_();return Math.pow(2,t)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const t=this.left.check_();if(t!==this.right.check_())throw new Error("Black depths differ");return t+(this.isRed_()?0:1)}}return n.RED=!0,n.BLACK=!1,n})();class Fr{constructor(e,t=Fr.EMPTY_NODE){this.comparator_=e,this.root_=t}insert(e,t){return new Fr(this.comparator_,this.root_.insert(e,t,this.comparator_).copy(null,null,Ki.BLACK,null,null))}remove(e){return new Fr(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,Ki.BLACK,null,null))}get(e){let t,r=this.root_;for(;!r.isEmpty();){if(t=this.comparator_(e,r.key),0===t)return r.value;t<0?r=r.left:t>0&&(r=r.right)}return null}getPredecessorKey(e){let t,r=this.root_,i=null;for(;!r.isEmpty();){if(t=this.comparator_(e,r.key),0===t){if(r.left.isEmpty())return i?i.key:null;for(r=r.left;!r.right.isEmpty();)r=r.right;return r.key}t<0?r=r.left:t>0&&(i=r,r=r.right)}throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(e){return this.root_.inorderTraversal(e)}reverseTraversal(e){return this.root_.reverseTraversal(e)}getIterator(e){return new Qb(this.root_,null,this.comparator_,!1,e)}getIteratorFrom(e,t){return new Qb(this.root_,e,this.comparator_,!1,t)}getReverseIteratorFrom(e,t){return new Qb(this.root_,e,this.comparator_,!0,t)}getReverseIterator(e){return new Qb(this.root_,null,this.comparator_,!0,e)}}function lRe(n,e){return fc(n.name,e.name)}function N1(n,e){return fc(n,e)}Fr.EMPTY_NODE=new class aRe{copy(e,t,r,i,s){return this}insert(e,t,r){return new Ki(e,t,null)}remove(e,t){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}};const Y6=function(n){return"number"==typeof n?"number:"+p6(n):"string:"+n},Q6=function(n){if(n.isLeafNode()){const e=n.val();$("string"==typeof e||"number"==typeof e||"object"==typeof e&&co(e,".sv"),"Priority must be a string or number.")}else $(n===F1||n.isEmpty(),"priority of unexpected type.");$(n===F1||n.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};let X6,Z6,J6,Dd=(()=>{class n{constructor(t,r=n.__childrenNodeConstructor.EMPTY_NODE){this.value_=t,this.priorityNode_=r,this.lazyHash_=null,$(null!=this.value_,"LeafNode shouldn't be created with null/undefined value."),Q6(this.priorityNode_)}static set __childrenNodeConstructor(t){X6=t}static get __childrenNodeConstructor(){return X6}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(t){return new n(this.value_,t)}getImmediateChild(t){return".priority"===t?this.priorityNode_:n.__childrenNodeConstructor.EMPTY_NODE}getChild(t){return xe(t)?this:".priority"===Me(t)?this.priorityNode_:n.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(t,r){return null}updateImmediateChild(t,r){return".priority"===t?this.updatePriority(r):r.isEmpty()&&".priority"!==t?this:n.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(t,r).updatePriority(this.priorityNode_)}updateChild(t,r){const i=Me(t);return null===i?r:r.isEmpty()&&".priority"!==i?this:($(".priority"!==i||1===Aa(t),".priority must be the last token in a path"),this.updateImmediateChild(i,n.__childrenNodeConstructor.EMPTY_NODE.updateChild(lt(t),r)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(t,r){return!1}val(t){return t&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(null===this.lazyHash_){let t="";this.priorityNode_.isEmpty()||(t+="priority:"+Y6(this.priorityNode_.val())+":");const r=typeof this.value_;t+=r+":",t+="number"===r?p6(this.value_):this.value_,this.lazyHash_=u6(t)}return this.lazyHash_}getValue(){return this.value_}compareTo(t){return t===n.__childrenNodeConstructor.EMPTY_NODE?1:t instanceof n.__childrenNodeConstructor?-1:($(t.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(t))}compareToLeafNode_(t){const r=typeof t.value_,i=typeof this.value_,s=n.VALUE_TYPE_ORDER.indexOf(r),o=n.VALUE_TYPE_ORDER.indexOf(i);return $(s>=0,"Unknown leaf type: "+r),$(o>=0,"Unknown leaf type: "+i),s===o?"object"===i?0:this.value_<t.value_?-1:this.value_===t.value_?0:1:o-s}withIndex(){return this}isIndexed(){return!0}equals(t){if(t===this)return!0;if(t.isLeafNode()){const r=t;return this.value_===r.value_&&this.priorityNode_.equals(r.priorityNode_)}return!1}}return n.VALUE_TYPE_ORDER=["object","boolean","number","string"],n})();const gt=new class hRe extends Kb{compare(e,t){const r=e.node.getPriority(),i=t.node.getPriority(),s=r.compareTo(i);return 0===s?fc(e.name,t.name):s}isDefinedOn(e){return!e.getPriority().isEmpty()}indexedValueChanged(e,t){return!e.getPriority().equals(t.getPriority())}minPost(){return Re.MIN}maxPost(){return new Re(xs,new Dd("[PRIORITY-POST]",J6))}makePost(e,t){const r=Z6(e);return new Re(t,new Dd("[PRIORITY-POST]",r))}toString(){return".priority"}},fRe=Math.log(2);class pRe{constructor(e){this.count=parseInt(Math.log(e+1)/fRe,10),this.current_=this.count-1;const i=(s=>parseInt(Array(this.count+1).join("1"),2))();this.bits_=e+1&i}nextBitIsOne(){const e=!(this.bits_&1<<this.current_);return this.current_--,e}}const Xb=function(n,e,t,r){n.sort(e);const i=function(l,c){const u=c-l;let d,h;if(0===u)return null;if(1===u)return d=n[l],h=t?t(d):d,new Ki(h,d.node,Ki.BLACK,null,null);{const f=parseInt(u/2,10)+l,p=i(l,f),m=i(f+1,c);return d=n[f],h=t?t(d):d,new Ki(h,d.node,Ki.BLACK,p,m)}},a=function(l){let c=null,u=null,d=n.length;const h=function(p,m){const g=d-p,b=d;d-=p;const E=i(g+1,b),v=n[g],M=t?t(v):v;f(new Ki(M,v.node,m,null,E))},f=function(p){c?(c.left=p,c=p):(u=p,c=p)};for(let p=0;p<l.count;++p){const m=l.nextBitIsOne(),g=Math.pow(2,l.count-(p+1));m?h(g,Ki.BLACK):(h(g,Ki.BLACK),h(g,Ki.RED))}return u}(new pRe(n.length));return new Fr(r||e,a)};let L1;const Ad={};class Oo{constructor(e,t){this.indexes_=e,this.indexSet_=t}static get Default(){return $(Ad&&gt,"ChildrenNode.ts has not been loaded"),L1=L1||new Oo({".priority":Ad},{".priority":gt}),L1}get(e){const t=Du(this.indexes_,e);if(!t)throw new Error("No index defined for "+e);return t instanceof Fr?t:null}hasIndex(e){return co(this.indexSet_,e.toString())}addIndex(e,t){$(e!==ks,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const r=[];let i=!1;const s=t.getIterator(Re.Wrap);let a,o=s.getNext();for(;o;)i=i||e.isDefinedOn(o.node),r.push(o),o=s.getNext();a=i?Xb(r,e.getCompare()):Ad;const l=e.toString(),c=Object.assign({},this.indexSet_);c[l]=e;const u=Object.assign({},this.indexes_);return u[l]=a,new Oo(u,c)}addToIndexes(e,t){const r=uy(this.indexes_,(i,s)=>{const o=Du(this.indexSet_,s);if($(o,"Missing index implementation for "+s),i===Ad){if(o.isDefinedOn(e.node)){const a=[],l=t.getIterator(Re.Wrap);let c=l.getNext();for(;c;)c.name!==e.name&&a.push(c),c=l.getNext();return a.push(e),Xb(a,o.getCompare())}return Ad}{const a=t.get(e.name);let l=i;return a&&(l=l.remove(new Re(e.name,a))),l.insert(e,e.node)}});return new Oo(r,this.indexSet_)}removeFromIndexes(e,t){const r=uy(this.indexes_,i=>{if(i===Ad)return i;{const s=t.get(e.name);return s?i.remove(new Re(e.name,s)):i}});return new Oo(r,this.indexSet_)}}let hm,ve=(()=>{class n{constructor(t,r,i){this.children_=t,this.priorityNode_=r,this.indexMap_=i,this.lazyHash_=null,this.priorityNode_&&Q6(this.priorityNode_),this.children_.isEmpty()&&$(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return hm||(hm=new n(new Fr(N1),null,Oo.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||hm}updatePriority(t){return this.children_.isEmpty()?this:new n(this.children_,t,this.indexMap_)}getImmediateChild(t){if(".priority"===t)return this.getPriority();{const r=this.children_.get(t);return null===r?hm:r}}getChild(t){const r=Me(t);return null===r?this:this.getImmediateChild(r).getChild(lt(t))}hasChild(t){return null!==this.children_.get(t)}updateImmediateChild(t,r){if($(r,"We should always be passing snapshot nodes"),".priority"===t)return this.updatePriority(r);{const i=new Re(t,r);let s,o;r.isEmpty()?(s=this.children_.remove(t),o=this.indexMap_.removeFromIndexes(i,this.children_)):(s=this.children_.insert(t,r),o=this.indexMap_.addToIndexes(i,this.children_));const a=s.isEmpty()?hm:this.priorityNode_;return new n(s,a,o)}}updateChild(t,r){const i=Me(t);if(null===i)return r;{$(".priority"!==Me(t)||1===Aa(t),".priority must be the last token in a path");const s=this.getImmediateChild(i).updateChild(lt(t),r);return this.updateImmediateChild(i,s)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(t){if(this.isEmpty())return null;const r={};let i=0,s=0,o=!0;if(this.forEachChild(gt,(a,l)=>{r[a]=l.val(t),i++,o&&n.INTEGER_REGEXP_.test(a)?s=Math.max(s,Number(a)):o=!1}),!t&&o&&s<2*i){const a=[];for(const l in r)a[l]=r[l];return a}return t&&!this.getPriority().isEmpty()&&(r[".priority"]=this.getPriority().val()),r}hash(){if(null===this.lazyHash_){let t="";this.getPriority().isEmpty()||(t+="priority:"+Y6(this.getPriority().val())+":"),this.forEachChild(gt,(r,i)=>{const s=i.hash();""!==s&&(t+=":"+r+":"+s)}),this.lazyHash_=""===t?"":u6(t)}return this.lazyHash_}getPredecessorChildName(t,r,i){const s=this.resolveIndex_(i);if(s){const o=s.getPredecessorKey(new Re(t,r));return o?o.name:null}return this.children_.getPredecessorKey(t)}getFirstChildName(t){const r=this.resolveIndex_(t);if(r){const i=r.minKey();return i&&i.name}return this.children_.minKey()}getFirstChild(t){const r=this.getFirstChildName(t);return r?new Re(r,this.children_.get(r)):null}getLastChildName(t){const r=this.resolveIndex_(t);if(r){const i=r.maxKey();return i&&i.name}return this.children_.maxKey()}getLastChild(t){const r=this.getLastChildName(t);return r?new Re(r,this.children_.get(r)):null}forEachChild(t,r){const i=this.resolveIndex_(t);return i?i.inorderTraversal(s=>r(s.name,s.node)):this.children_.inorderTraversal(r)}getIterator(t){return this.getIteratorFrom(t.minPost(),t)}getIteratorFrom(t,r){const i=this.resolveIndex_(r);if(i)return i.getIteratorFrom(t,s=>s);{const s=this.children_.getIteratorFrom(t.name,Re.Wrap);let o=s.peek();for(;null!=o&&r.compare(o,t)<0;)s.getNext(),o=s.peek();return s}}getReverseIterator(t){return this.getReverseIteratorFrom(t.maxPost(),t)}getReverseIteratorFrom(t,r){const i=this.resolveIndex_(r);if(i)return i.getReverseIteratorFrom(t,s=>s);{const s=this.children_.getReverseIteratorFrom(t.name,Re.Wrap);let o=s.peek();for(;null!=o&&r.compare(o,t)>0;)s.getNext(),o=s.peek();return s}}compareTo(t){return this.isEmpty()?t.isEmpty()?0:-1:t.isLeafNode()||t.isEmpty()?1:t===fm?-1:0}withIndex(t){if(t===ks||this.indexMap_.hasIndex(t))return this;{const r=this.indexMap_.addIndex(t,this.children_);return new n(this.children_,this.priorityNode_,r)}}isIndexed(t){return t===ks||this.indexMap_.hasIndex(t)}equals(t){if(t===this)return!0;if(t.isLeafNode())return!1;{const r=t;if(this.getPriority().equals(r.getPriority())){if(this.children_.count()===r.children_.count()){const i=this.getIterator(gt),s=r.getIterator(gt);let o=i.getNext(),a=s.getNext();for(;o&&a;){if(o.name!==a.name||!o.node.equals(a.node))return!1;o=i.getNext(),a=s.getNext()}return null===o&&null===a}return!1}return!1}}resolveIndex_(t){return t===ks?null:this.indexMap_.get(t.toString())}}return n.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/,n})();const fm=new class mRe extends ve{constructor(){super(new Fr(N1),ve.EMPTY_NODE,Oo.Default)}compareTo(e){return e===this?0:1}equals(e){return e===this}getPriority(){return this}getImmediateChild(e){return ve.EMPTY_NODE}isEmpty(){return!1}};function Ot(n,e=null){if(null===n)return ve.EMPTY_NODE;if("object"==typeof n&&".priority"in n&&(e=n[".priority"]),$(null===e||"string"==typeof e||"number"==typeof e||"object"==typeof e&&".sv"in e,"Invalid priority type found: "+typeof e),"object"==typeof n&&".value"in n&&null!==n[".value"]&&(n=n[".value"]),"object"!=typeof n||".sv"in n)return new Dd(n,Ot(e));if(n instanceof Array){let t=ve.EMPTY_NODE;return An(n,(r,i)=>{if(co(n,r)&&"."!==r.substring(0,1)){const s=Ot(i);(s.isLeafNode()||!s.isEmpty())&&(t=t.updateImmediateChild(r,s))}}),t.updatePriority(Ot(e))}{const t=[];let r=!1;if(An(n,(o,a)=>{if("."!==o.substring(0,1)){const l=Ot(a);l.isEmpty()||(r=r||!l.getPriority().isEmpty(),t.push(new Re(o,l)))}}),0===t.length)return ve.EMPTY_NODE;const s=Xb(t,lRe,o=>o.name,N1);if(r){const o=Xb(t,gt.getCompare());return new ve(s,Ot(e),new Oo({".priority":o},{".priority":gt}))}return new ve(s,Ot(e),Oo.Default)}}Object.defineProperties(Re,{MIN:{value:new Re(Po,ve.EMPTY_NODE)},MAX:{value:new Re(xs,fm)}}),K6.__EMPTY_NODE=ve.EMPTY_NODE,Dd.__childrenNodeConstructor=ve,function cRe(n){F1=n}(fm),function dRe(n){J6=n}(fm),function uRe(n){Z6=n}(Ot);class V1 extends Kb{constructor(e){super(),this.indexPath_=e,$(!xe(e)&&".priority"!==Me(e),"Can't create PathIndex with empty path or .priority key")}extractChild(e){return e.getChild(this.indexPath_)}isDefinedOn(e){return!e.getChild(this.indexPath_).isEmpty()}compare(e,t){const r=this.extractChild(e.node),i=this.extractChild(t.node),s=r.compareTo(i);return 0===s?fc(e.name,t.name):s}makePost(e,t){const r=Ot(e),i=ve.EMPTY_NODE.updateChild(this.indexPath_,r);return new Re(t,i)}maxPost(){const e=ve.EMPTY_NODE.updateChild(this.indexPath_,fm);return new Re(xs,e)}toString(){return um(this.indexPath_,0).join("/")}}const B1=new class _Re extends Kb{compare(e,t){const r=e.node.compareTo(t.node);return 0===r?fc(e.name,t.name):r}isDefinedOn(e){return!0}indexedValueChanged(e,t){return!e.equals(t)}minPost(){return Re.MIN}maxPost(){return Re.MAX}makePost(e,t){const r=Ot(e);return new Re(t,r)}toString(){return".value"}};function mm(n,e,t){return{type:"child_changed",snapshotNode:e,childName:n,oldSnap:t}}class $1{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=gt}hasStart(){return this.startSet_}hasStartAfter(){return this.startAfterSet_}hasEndBefore(){return this.endBeforeSet_}isViewFromLeft(){return""===this.viewFrom_?this.startSet_:"l"===this.viewFrom_}getIndexStartValue(){return $(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return $(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:Po}hasEnd(){return this.endSet_}getIndexEndValue(){return $(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return $(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:xs}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&""!==this.viewFrom_}getLimit(){return $(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===gt}copy(){const e=new $1;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e}}function o7(n){const e={};if(n.isDefault())return e;let t;return n.index_===gt?t="$priority":n.index_===B1?t="$value":n.index_===ks?t="$key":($(n.index_ instanceof V1,"Unrecognized index type!"),t=n.index_.toString()),e.orderBy=Fn(t),n.startSet_&&(e.startAt=Fn(n.indexStartValue_),n.startNameSet_&&(e.startAt+=","+Fn(n.indexStartName_))),n.endSet_&&(e.endAt=Fn(n.indexEndValue_),n.endNameSet_&&(e.endAt+=","+Fn(n.indexEndName_))),n.limitSet_&&(n.isViewFromLeft()?e.limitToFirst=n.limit_:e.limitToLast=n.limit_),e}function a7(n){const e={};if(n.startSet_&&(e.sp=n.indexStartValue_,n.startNameSet_&&(e.sn=n.indexStartName_)),n.endSet_&&(e.ep=n.indexEndValue_,n.endNameSet_&&(e.en=n.indexEndName_)),n.limitSet_){e.l=n.limit_;let t=n.viewFrom_;""===t&&(t=n.isViewFromLeft()?"l":"r"),e.vf=t}return n.index_!==gt&&(e.i=n.index_.toString()),e}class Jb extends U6{constructor(e,t,r,i){super(),this.repoInfo_=e,this.onDataUpdate_=t,this.authTokenProvider_=r,this.appCheckTokenProvider_=i,this.log_=om("p:rest:"),this.listens_={}}reportStats(e){throw new Error("Method not implemented.")}static getListenId_(e,t){return void 0!==t?"tag$"+t:($(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}listen(e,t,r,i){const s=e._path.toString();this.log_("Listen called for "+s+" "+e._queryIdentifier);const o=Jb.getListenId_(e,r),a={};this.listens_[o]=a;const l=o7(e._queryParams);this.restRequest_(s+".json",l,(c,u)=>{let d=u;if(404===c&&(d=null,c=null),null===c&&this.onDataUpdate_(s,d,!1,r),Du(this.listens_,o)===a){let h;h=c?401===c?"permission_denied":"rest_error:"+c:"ok",i(h,null)}})}unlisten(e,t){const r=Jb.getListenId_(e,t);delete this.listens_[r]}get(e){const t=o7(e._queryParams),r=e._path.toString(),i=new Su;return this.restRequest_(r+".json",t,(s,o)=>{let a=o;404===s&&(a=null,s=null),null===s?(this.onDataUpdate_(r,a,!1,null),i.resolve(a)):i.reject(new Error(a))}),i.promise}refreshAuthToken(e){}restRequest_(e,t={},r){return t.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([i,s])=>{i&&i.accessToken&&(t.auth=i.accessToken),s&&s.token&&(t.ac=s.token);const o=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+e+"?ns="+this.repoInfo_.namespace+hf(t);this.log_("Sending REST request for "+o);const a=new XMLHttpRequest;a.onreadystatechange=()=>{if(r&&4===a.readyState){this.log_("REST Response for "+o+" received. status:",a.status,"response:",a.responseText);let l=null;if(a.status>=200&&a.status<300){try{l=uf(a.responseText)}catch{ir("Failed to parse JSON response for "+o+": "+a.responseText)}r(null,l)}else 401!==a.status&&404!==a.status&&ir("Got unsuccessful REST response for "+o+" Status: "+a.status),r(a.status);r=null}},a.open("GET",o,!0),a.send()})}}class SRe{constructor(){this.rootNode_=ve.EMPTY_NODE}getNode(e){return this.rootNode_.getChild(e)}updateSnapshot(e,t){this.rootNode_=this.rootNode_.updateChild(e,t)}}function ew(){return{value:null,children:new Map}}function kd(n,e,t){if(xe(e))n.value=t,n.children.clear();else if(null!==n.value)n.value=n.value.updateChild(e,t);else{const r=Me(e);n.children.has(r)||n.children.set(r,ew()),kd(n.children.get(r),e=lt(e),t)}}function W1(n,e,t){null!==n.value?t(e,n.value):function DRe(n,e){n.children.forEach((t,r)=>{e(r,t)})}(n,(r,i)=>{W1(i,new et(e.toString()+"/"+r),t)})}class ARe{constructor(e){this.collection_=e,this.last_=null}get(){const e=this.collection_.get(),t=Object.assign({},e);return this.last_&&An(this.last_,(r,i)=>{t[r]=t[r]-i}),this.last_=e,t}}class kRe{constructor(e,t){this.server_=t,this.statsToReport_={},this.statsListener_=new ARe(e);const r=1e4+2e4*Math.random();lm(this.reportStats_.bind(this),Math.floor(r))}reportStats_(){const e=this.statsListener_.get(),t={};let r=!1;An(e,(i,s)=>{s>0&&co(this.statsToReport_,i)&&(t[i]=s,r=!0)}),r&&this.server_.reportStats(t),lm(this.reportStats_.bind(this),Math.floor(2*Math.random()*3e5))}}var Ii=(()=>(function(n){n[n.OVERWRITE=0]="OVERWRITE",n[n.MERGE=1]="MERGE",n[n.ACK_USER_WRITE=2]="ACK_USER_WRITE",n[n.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"}(Ii||(Ii={})),Ii))();function Y1(n){return{fromUser:!1,fromServer:!0,queryId:n,tagged:!0}}class tw{constructor(e,t,r){this.path=e,this.affectedTree=t,this.revert=r,this.type=Ii.ACK_USER_WRITE,this.source={fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}operationForChild(e){if(xe(this.path)){if(null!=this.affectedTree.value)return $(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const t=this.affectedTree.subtree(new et(e));return new tw(We(),t,this.revert)}}return $(Me(this.path)===e,"operationForChild called for unrelated child."),new tw(lt(this.path),this.affectedTree,this.revert)}}class gc{constructor(e,t,r){this.source=e,this.path=t,this.snap=r,this.type=Ii.OVERWRITE}operationForChild(e){return xe(this.path)?new gc(this.source,We(),this.snap.getImmediateChild(e)):new gc(this.source,lt(this.path),this.snap)}}class Rd{constructor(e,t,r){this.source=e,this.path=t,this.children=r,this.type=Ii.MERGE}operationForChild(e){if(xe(this.path)){const t=this.children.subtree(new et(e));return t.isEmpty()?null:t.value?new gc(this.source,We(),t.value):new Rd(this.source,We(),t)}return $(Me(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new Rd(this.source,lt(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}class Ma{constructor(e,t,r){this.node_=e,this.fullyInitialized_=t,this.filtered_=r}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(e){if(xe(e))return this.isFullyInitialized()&&!this.filtered_;const t=Me(e);return this.isCompleteForChild(t)}isCompleteForChild(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}getNode(){return this.node_}}function ym(n,e,t,r,i,s){const o=r.filter(a=>a.type===t);o.sort((a,l)=>function NRe(n,e,t){if(null==e.childName||null==t.childName)throw Iu("Should only compare child_ events.");const r=new Re(e.childName,e.snapshotNode),i=new Re(t.childName,t.snapshotNode);return n.index_.compare(r,i)}(n,a,l)),o.forEach(a=>{const l=function ORe(n,e,t){return"value"===e.type||"child_removed"===e.type||(e.prevName=t.getPredecessorChildName(e.childName,e.snapshotNode,n.index_)),e}(n,a,s);i.forEach(c=>{c.respondsTo(a.type)&&e.push(c.createEvent(l,n.query_))})})}function nw(n,e){return{eventCache:n,serverCache:e}}function vm(n,e,t,r){return nw(new Ma(e,t,r),n.serverCache)}function c7(n,e,t,r){return nw(n.eventCache,new Ma(e,t,r))}function rw(n){return n.eventCache.isFullyInitialized()?n.eventCache.getNode():null}function _c(n){return n.serverCache.isFullyInitialized()?n.serverCache.getNode():null}let Q1;class _t{constructor(e,t=(()=>(Q1||(Q1=new Fr(bke)),Q1))()){this.value=e,this.children=t}static fromObject(e){let t=new _t(null);return An(e,(r,i)=>{t=t.set(new et(r),i)}),t}isEmpty(){return null===this.value&&this.children.isEmpty()}findRootMostMatchingPathAndValue(e,t){if(null!=this.value&&t(this.value))return{path:We(),value:this.value};if(xe(e))return null;{const r=Me(e),i=this.children.get(r);if(null!==i){const s=i.findRootMostMatchingPathAndValue(lt(e),t);return null!=s?{path:St(new et(r),s.path),value:s.value}:null}return null}}findRootMostValueAndPath(e){return this.findRootMostMatchingPathAndValue(e,()=>!0)}subtree(e){if(xe(e))return this;{const t=Me(e),r=this.children.get(t);return null!==r?r.subtree(lt(e)):new _t(null)}}set(e,t){if(xe(e))return new _t(t,this.children);{const r=Me(e),s=(this.children.get(r)||new _t(null)).set(lt(e),t),o=this.children.insert(r,s);return new _t(this.value,o)}}remove(e){if(xe(e))return this.children.isEmpty()?new _t(null):new _t(null,this.children);{const t=Me(e),r=this.children.get(t);if(r){const i=r.remove(lt(e));let s;return s=i.isEmpty()?this.children.remove(t):this.children.insert(t,i),null===this.value&&s.isEmpty()?new _t(null):new _t(this.value,s)}return this}}get(e){if(xe(e))return this.value;{const t=Me(e),r=this.children.get(t);return r?r.get(lt(e)):null}}setTree(e,t){if(xe(e))return t;{const r=Me(e),s=(this.children.get(r)||new _t(null)).setTree(lt(e),t);let o;return o=s.isEmpty()?this.children.remove(r):this.children.insert(r,s),new _t(this.value,o)}}fold(e){return this.fold_(We(),e)}fold_(e,t){const r={};return this.children.inorderTraversal((i,s)=>{r[i]=s.fold_(St(e,i),t)}),t(e,this.value,r)}findOnPath(e,t){return this.findOnPath_(e,We(),t)}findOnPath_(e,t,r){const i=!!this.value&&r(t,this.value);if(i)return i;if(xe(e))return null;{const s=Me(e),o=this.children.get(s);return o?o.findOnPath_(lt(e),St(t,s),r):null}}foreachOnPath(e,t){return this.foreachOnPath_(e,We(),t)}foreachOnPath_(e,t,r){if(xe(e))return this;{this.value&&r(t,this.value);const i=Me(e),s=this.children.get(i);return s?s.foreachOnPath_(lt(e),St(t,i),r):new _t(null)}}foreach(e){this.foreach_(We(),e)}foreach_(e,t){this.children.inorderTraversal((r,i)=>{i.foreach_(St(e,r),t)}),this.value&&t(e,this.value)}foreachChild(e){this.children.inorderTraversal((t,r)=>{r.value&&e(t,r.value)})}}class Yi{constructor(e){this.writeTree_=e}static empty(){return new Yi(new _t(null))}}function bm(n,e,t){if(xe(e))return new Yi(new _t(t));{const r=n.writeTree_.findRootMostValueAndPath(e);if(null!=r){const i=r.path;let s=r.value;const o=Cr(i,e);return s=s.updateChild(o,t),new Yi(n.writeTree_.set(i,s))}{const i=new _t(t),s=n.writeTree_.setTree(e,i);return new Yi(s)}}}function X1(n,e,t){let r=n;return An(t,(i,s)=>{r=bm(r,St(e,i),s)}),r}function u7(n,e){if(xe(e))return Yi.empty();{const t=n.writeTree_.setTree(e,new _t(null));return new Yi(t)}}function Z1(n,e){return null!=yc(n,e)}function yc(n,e){const t=n.writeTree_.findRootMostValueAndPath(e);return null!=t?n.writeTree_.get(t.path).getChild(Cr(t.path,e)):null}function d7(n){const e=[],t=n.writeTree_.value;return null!=t?t.isLeafNode()||t.forEachChild(gt,(r,i)=>{e.push(new Re(r,i))}):n.writeTree_.children.inorderTraversal((r,i)=>{null!=i.value&&e.push(new Re(r,i.value))}),e}function xa(n,e){if(xe(e))return n;{const t=yc(n,e);return new Yi(null!=t?new _t(t):n.writeTree_.subtree(e))}}function J1(n){return n.writeTree_.isEmpty()}function Pd(n,e){return h7(We(),n.writeTree_,e)}function h7(n,e,t){if(null!=e.value)return t.updateChild(n,e.value);{let r=null;return e.children.inorderTraversal((i,s)=>{".priority"===i?($(null!==s.value,"Priority writes must always be leaf nodes"),r=s.value):t=h7(St(n,i),s,t)}),!t.getChild(n).isEmpty()&&null!==r&&(t=t.updateChild(St(n,".priority"),r)),t}}function iw(n,e){return _7(e,n)}function HRe(n,e){if(n.snap)return Ei(n.path,e);for(const t in n.children)if(n.children.hasOwnProperty(t)&&Ei(St(n.path,t),e))return!0;return!1}function jRe(n){return n.visible}function f7(n,e,t){let r=Yi.empty();for(let i=0;i<n.length;++i){const s=n[i];if(e(s)){const o=s.path;let a;if(s.snap)Ei(t,o)?(a=Cr(t,o),r=bm(r,a,s.snap)):Ei(o,t)&&(a=Cr(o,t),r=bm(r,We(),s.snap.getChild(a)));else{if(!s.children)throw Iu("WriteRecord should have .snap or .children");if(Ei(t,o))a=Cr(t,o),r=X1(r,a,s.children);else if(Ei(o,t))if(a=Cr(o,t),xe(a))r=X1(r,We(),s.children);else{const l=Du(s.children,Me(a));if(l){const c=l.getChild(lt(a));r=bm(r,We(),c)}}}}}return r}function p7(n,e,t,r,i){if(r||i){const s=xa(n.visibleWrites,e);return!i&&J1(s)?t:i||null!=t||Z1(s,We())?Pd(f7(n.allWrites,function(c){return(c.visible||i)&&(!r||!~r.indexOf(c.writeId))&&(Ei(c.path,e)||Ei(e,c.path))},e),t||ve.EMPTY_NODE):null}{const s=yc(n.visibleWrites,e);if(null!=s)return s;{const o=xa(n.visibleWrites,e);return J1(o)?t:null!=t||Z1(o,We())?Pd(o,t||ve.EMPTY_NODE):null}}}function sw(n,e,t,r){return p7(n.writeTree,n.treePath,e,t,r)}function eP(n,e){return function zRe(n,e,t){let r=ve.EMPTY_NODE;const i=yc(n.visibleWrites,e);if(i)return i.isLeafNode()||i.forEachChild(gt,(s,o)=>{r=r.updateImmediateChild(s,o)}),r;if(t){const s=xa(n.visibleWrites,e);return t.forEachChild(gt,(o,a)=>{const l=Pd(xa(s,new et(o)),a);r=r.updateImmediateChild(o,l)}),d7(s).forEach(o=>{r=r.updateImmediateChild(o.name,o.node)}),r}return d7(xa(n.visibleWrites,e)).forEach(o=>{r=r.updateImmediateChild(o.name,o.node)}),r}(n.writeTree,n.treePath,e)}function m7(n,e,t,r){return function GRe(n,e,t,r,i){$(r||i,"Either existingEventSnap or existingServerSnap must exist");const s=St(e,t);if(Z1(n.visibleWrites,s))return null;{const o=xa(n.visibleWrites,s);return J1(o)?i.getChild(t):Pd(o,i.getChild(t))}}(n.writeTree,n.treePath,e,t,r)}function ow(n,e){return function qRe(n,e){return yc(n.visibleWrites,e)}(n.writeTree,St(n.treePath,e))}function tP(n,e,t){return function WRe(n,e,t,r){const i=St(e,t),s=yc(n.visibleWrites,i);return null!=s?s:r.isCompleteForChild(t)?Pd(xa(n.visibleWrites,i),r.getNode().getImmediateChild(t)):null}(n.writeTree,n.treePath,e,t)}function g7(n,e){return _7(St(n.treePath,e),n.writeTree)}function _7(n,e){return{treePath:n,writeTree:e}}class XRe{constructor(){this.changeMap=new Map}trackChildChange(e){const t=e.type,r=e.childName;$("child_added"===t||"child_changed"===t||"child_removed"===t,"Only child changes supported for tracking"),$(".priority"!==r,"Only non-priority child changes can be tracked.");const i=this.changeMap.get(r);if(i){const s=i.type;if("child_added"===t&&"child_removed"===s)this.changeMap.set(r,mm(r,e.snapshotNode,i.snapshotNode));else if("child_removed"===t&&"child_added"===s)this.changeMap.delete(r);else if("child_removed"===t&&"child_changed"===s)this.changeMap.set(r,function pm(n,e){return{type:"child_removed",snapshotNode:e,childName:n}}(r,i.oldSnap));else if("child_changed"===t&&"child_added"===s)this.changeMap.set(r,function xd(n,e){return{type:"child_added",snapshotNode:e,childName:n}}(r,e.snapshotNode));else{if("child_changed"!==t||"child_changed"!==s)throw Iu("Illegal combination of changes: "+e+" occurred after "+i);this.changeMap.set(r,mm(r,e.snapshotNode,i.oldSnap))}}else this.changeMap.set(r,e)}getChanges(){return Array.from(this.changeMap.values())}}const y7=new class ZRe{getCompleteChild(e){return null}getChildAfterChild(e,t,r){return null}};class nP{constructor(e,t,r=null){this.writes_=e,this.viewCache_=t,this.optCompleteServerCache_=r}getCompleteChild(e){const t=this.viewCache_.eventCache;if(t.isCompleteForChild(e))return t.getNode().getImmediateChild(e);{const r=null!=this.optCompleteServerCache_?new Ma(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return tP(this.writes_,e,r)}}getChildAfterChild(e,t,r){const i=null!=this.optCompleteServerCache_?this.optCompleteServerCache_:_c(this.viewCache_),s=function QRe(n,e,t,r,i,s){return function KRe(n,e,t,r,i,s,o){let a;const l=xa(n.visibleWrites,e),c=yc(l,We());if(null!=c)a=c;else{if(null==t)return[];a=Pd(l,t)}if(a=a.withIndex(o),a.isEmpty()||a.isLeafNode())return[];{const u=[],d=o.getCompare(),h=s?a.getReverseIteratorFrom(r,o):a.getIteratorFrom(r,o);let f=h.getNext();for(;f&&u.length<i;)0!==d(f,r)&&u.push(f),f=h.getNext();return u}}(n.writeTree,n.treePath,e,t,r,i,s)}(this.writes_,i,t,1,r,e);return 0===s.length?null:s[0]}}function v7(n,e,t,r,i,s){const o=e.eventCache;if(null!=ow(r,t))return e;{let a,l;if(xe(t))if($(e.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),e.serverCache.isFiltered()){const c=_c(e),d=eP(r,c instanceof ve?c:ve.EMPTY_NODE);a=n.filter.updateFullNode(e.eventCache.getNode(),d,s)}else{const c=sw(r,_c(e));a=n.filter.updateFullNode(e.eventCache.getNode(),c,s)}else{const c=Me(t);if(".priority"===c){$(1===Aa(t),"Can't have a priority with additional path components");const u=o.getNode();l=e.serverCache.getNode();const d=m7(r,t,u,l);a=null!=d?n.filter.updatePriority(u,d):o.getNode()}else{const u=lt(t);let d;if(o.isCompleteForChild(c)){l=e.serverCache.getNode();const h=m7(r,t,o.getNode(),l);d=null!=h?o.getNode().getImmediateChild(c).updateChild(u,h):o.getNode().getImmediateChild(c)}else d=tP(r,c,e.serverCache);a=null!=d?n.filter.updateChild(o.getNode(),c,d,u,i,s):o.getNode()}}return vm(e,a,o.isFullyInitialized()||xe(t),n.filter.filtersNodes())}}function aw(n,e,t,r,i,s,o,a){const l=e.serverCache;let c;const u=o?n.filter:n.filter.getIndexedFilter();if(xe(t))c=u.updateFullNode(l.getNode(),r,null);else if(u.filtersNodes()&&!l.isFiltered()){const f=l.getNode().updateChild(t,r);c=u.updateFullNode(l.getNode(),f,null)}else{const f=Me(t);if(!l.isCompleteForPath(t)&&Aa(t)>1)return e;const p=lt(t),g=l.getNode().getImmediateChild(f).updateChild(p,r);c=".priority"===f?u.updatePriority(l.getNode(),g):u.updateChild(l.getNode(),f,g,p,y7,null)}const d=c7(e,c,l.isFullyInitialized()||xe(t),u.filtersNodes());return v7(n,d,t,i,new nP(i,d,s),a)}function rP(n,e,t,r,i,s,o){const a=e.eventCache;let l,c;const u=new nP(i,e,s);if(xe(t))c=n.filter.updateFullNode(e.eventCache.getNode(),r,o),l=vm(e,c,!0,n.filter.filtersNodes());else{const d=Me(t);if(".priority"===d)c=n.filter.updatePriority(e.eventCache.getNode(),r),l=vm(e,c,a.isFullyInitialized(),a.isFiltered());else{const h=lt(t),f=a.getNode().getImmediateChild(d);let p;if(xe(h))p=r;else{const m=u.getCompleteChild(d);p=null!=m?".priority"===R1(h)&&m.getChild(z6(h)).isEmpty()?m:m.updateChild(h,r):ve.EMPTY_NODE}l=f.equals(p)?e:vm(e,n.filter.updateChild(a.getNode(),d,p,h,u,o),a.isFullyInitialized(),n.filter.filtersNodes())}}return l}function b7(n,e){return n.eventCache.isCompleteForChild(e)}function w7(n,e,t){return t.foreach((r,i)=>{e=e.updateChild(r,i)}),e}function iP(n,e,t,r,i,s,o,a){if(e.serverCache.getNode().isEmpty()&&!e.serverCache.isFullyInitialized())return e;let c,l=e;c=xe(t)?r:new _t(null).setTree(t,r);const u=e.serverCache.getNode();return c.children.inorderTraversal((d,h)=>{if(u.hasChild(d)){const p=w7(0,e.serverCache.getNode().getImmediateChild(d),h);l=aw(n,l,new et(d),p,i,s,o,a)}}),c.children.inorderTraversal((d,h)=>{const f=!e.serverCache.isCompleteForChild(d)&&null===h.value;if(!u.hasChild(d)&&!f){const m=w7(0,e.serverCache.getNode().getImmediateChild(d),h);l=aw(n,l,new et(d),m,i,s,o,a)}}),l}function u1e(n,e){const t=_c(n.viewCache_);return t&&(n.query._queryParams.loadsAllData()||!xe(e)&&!t.getImmediateChild(Me(e)).isEmpty())?t.getChild(e):null}function I7(n,e,t,r){e.type===Ii.MERGE&&null!==e.source.queryId&&($(_c(n.viewCache_),"We should always have a full cache before handling merges"),$(rw(n.viewCache_),"Missing event cache, even though we have a server cache"));const i=n.viewCache_,s=function t1e(n,e,t,r,i){const s=new XRe;let o,a;if(t.type===Ii.OVERWRITE){const c=t;c.source.fromUser?o=rP(n,e,c.path,c.snap,r,i,s):($(c.source.fromServer,"Unknown source."),a=c.source.tagged||e.serverCache.isFiltered()&&!xe(c.path),o=aw(n,e,c.path,c.snap,r,i,a,s))}else if(t.type===Ii.MERGE){const c=t;c.source.fromUser?o=function r1e(n,e,t,r,i,s,o){let a=e;return r.foreach((l,c)=>{const u=St(t,l);b7(e,Me(u))&&(a=rP(n,a,u,c,i,s,o))}),r.foreach((l,c)=>{const u=St(t,l);b7(e,Me(u))||(a=rP(n,a,u,c,i,s,o))}),a}(n,e,c.path,c.children,r,i,s):($(c.source.fromServer,"Unknown source."),a=c.source.tagged||e.serverCache.isFiltered(),o=iP(n,e,c.path,c.children,r,i,a,s))}else if(t.type===Ii.ACK_USER_WRITE){const c=t;o=c.revert?function o1e(n,e,t,r,i,s){let o;if(null!=ow(r,t))return e;{const a=new nP(r,e,i),l=e.eventCache.getNode();let c;if(xe(t)||".priority"===Me(t)){let u;if(e.serverCache.isFullyInitialized())u=sw(r,_c(e));else{const d=e.serverCache.getNode();$(d instanceof ve,"serverChildren would be complete if leaf node"),u=eP(r,d)}c=n.filter.updateFullNode(l,u,s)}else{const u=Me(t);let d=tP(r,u,e.serverCache);null==d&&e.serverCache.isCompleteForChild(u)&&(d=l.getImmediateChild(u)),c=null!=d?n.filter.updateChild(l,u,d,lt(t),a,s):e.eventCache.getNode().hasChild(u)?n.filter.updateChild(l,u,ve.EMPTY_NODE,lt(t),a,s):l,c.isEmpty()&&e.serverCache.isFullyInitialized()&&(o=sw(r,_c(e)),o.isLeafNode()&&(c=n.filter.updateFullNode(c,o,s)))}return o=e.serverCache.isFullyInitialized()||null!=ow(r,We()),vm(e,c,o,n.filter.filtersNodes())}}(n,e,c.path,r,i,s):function i1e(n,e,t,r,i,s,o){if(null!=ow(i,t))return e;const a=e.serverCache.isFiltered(),l=e.serverCache;if(null!=r.value){if(xe(t)&&l.isFullyInitialized()||l.isCompleteForPath(t))return aw(n,e,t,l.getNode().getChild(t),i,s,a,o);if(xe(t)){let c=new _t(null);return l.getNode().forEachChild(ks,(u,d)=>{c=c.set(new et(u),d)}),iP(n,e,t,c,i,s,a,o)}return e}{let c=new _t(null);return r.foreach((u,d)=>{const h=St(t,u);l.isCompleteForPath(h)&&(c=c.set(u,l.getNode().getChild(h)))}),iP(n,e,t,c,i,s,a,o)}}(n,e,c.path,c.affectedTree,r,i,s)}else{if(t.type!==Ii.LISTEN_COMPLETE)throw Iu("Unknown operation type: "+t.type);o=function s1e(n,e,t,r,i){const s=e.serverCache;return v7(n,c7(e,s.getNode(),s.isFullyInitialized()||xe(t),s.isFiltered()),t,r,y7,i)}(n,e,t.path,r,s)}const l=s.getChanges();return function n1e(n,e,t){const r=e.eventCache;if(r.isFullyInitialized()){const i=r.getNode().isLeafNode()||r.getNode().isEmpty(),s=rw(n);(t.length>0||!n.eventCache.isFullyInitialized()||i&&!r.getNode().equals(s)||!r.getNode().getPriority().equals(s.getPriority()))&&t.push(function s7(n){return{type:"value",snapshotNode:n}}(rw(e)))}}(e,o,l),{viewCache:o,changes:l}}(n.processor_,i,e,t,r);return function e1e(n,e){$(e.eventCache.getNode().isIndexed(n.filter.getIndex()),"Event snap not indexed"),$(e.serverCache.getNode().isIndexed(n.filter.getIndex()),"Server snap not indexed")}(n.processor_,s.viewCache),$(s.viewCache.serverCache.isFullyInitialized()||!i.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),n.viewCache_=s.viewCache,function T7(n,e,t,r){return function PRe(n,e,t,r){const i=[],s=[];return e.forEach(o=>{"child_changed"===o.type&&n.index_.indexedValueChanged(o.oldSnap,o.snapshotNode)&&s.push(function vRe(n,e){return{type:"child_moved",snapshotNode:e,childName:n}}(o.childName,o.snapshotNode))}),ym(n,i,"child_removed",e,r,t),ym(n,i,"child_added",e,r,t),ym(n,i,"child_moved",s,r,t),ym(n,i,"child_changed",e,r,t),ym(n,i,"value",e,r,t),i}(n.eventGenerator_,e,t,r?[r]:n.eventRegistrations_)}(n,s.changes,s.viewCache.eventCache.getNode(),null)}let lw,uw;function sP(n,e,t,r){const i=e.source.queryId;if(null!==i){const s=n.views.get(i);return $(null!=s,"SyncTree gave us an op for an invalid query."),I7(s,e,t,r)}{let s=[];for(const o of n.views.values())s=s.concat(I7(o,e,t,r));return s}}function ka(n,e){let t=null;for(const r of n.views.values())t=t||u1e(r,e);return t}class k7{constructor(e){this.listenProvider_=e,this.syncPointTree_=new _t(null),this.pendingWriteTree_=function YRe(){return{visibleWrites:Yi.empty(),allWrites:[],lastWriteId:-1}}(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function oP(n,e,t,r,i){return function LRe(n,e,t,r,i){$(r>n.lastWriteId,"Stacking an older write on top of newer ones"),void 0===i&&(i=!0),n.allWrites.push({path:e,snap:t,writeId:r,visible:i}),i&&(n.visibleWrites=bm(n.visibleWrites,e,t)),n.lastWriteId=r}(n.pendingWriteTree_,e,t,r,i),i?Od(n,new gc({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},e,t)):[]}function Pa(n,e,t=!1){const r=function BRe(n,e){for(let t=0;t<n.allWrites.length;t++){const r=n.allWrites[t];if(r.writeId===e)return r}return null}(n.pendingWriteTree_,e);if(function URe(n,e){const t=n.allWrites.findIndex(a=>a.writeId===e);$(t>=0,"removeWrite called with nonexistent writeId.");const r=n.allWrites[t];n.allWrites.splice(t,1);let i=r.visible,s=!1,o=n.allWrites.length-1;for(;i&&o>=0;){const a=n.allWrites[o];a.visible&&(o>=t&&HRe(a,r.path)?i=!1:Ei(r.path,a.path)&&(s=!0)),o--}return!!i&&(s?(function $Re(n){n.visibleWrites=f7(n.allWrites,jRe,We()),n.lastWriteId=n.allWrites.length>0?n.allWrites[n.allWrites.length-1].writeId:-1}(n),!0):(r.snap?n.visibleWrites=u7(n.visibleWrites,r.path):An(r.children,l=>{n.visibleWrites=u7(n.visibleWrites,St(r.path,l))}),!0))}(n.pendingWriteTree_,e)){let s=new _t(null);return null!=r.snap?s=s.set(We(),!0):An(r.children,o=>{s=s.set(new et(o),!0)}),Od(n,new tw(r.path,s,t))}return[]}function wm(n,e,t){return Od(n,new gc({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},e,t))}function hw(n,e,t){const i=n.pendingWriteTree_,s=n.syncPointTree_.findOnPath(e,(o,a)=>{const c=ka(a,Cr(o,e));if(c)return c});return p7(i,e,s,t,!0)}function Od(n,e){return P7(e,n.syncPointTree_,null,iw(n.pendingWriteTree_,We()))}function P7(n,e,t,r){if(xe(n.path))return O7(n,e,t,r);{const i=e.get(We());null==t&&null!=i&&(t=ka(i,We()));let s=[];const o=Me(n.path),a=n.operationForChild(o),l=e.children.get(o);if(l&&a){const c=t?t.getImmediateChild(o):null,u=g7(r,o);s=s.concat(P7(a,l,c,u))}return i&&(s=s.concat(sP(i,n,r,t))),s}}function O7(n,e,t,r){const i=e.get(We());null==t&&null!=i&&(t=ka(i,We()));let s=[];return e.children.inorderTraversal((o,a)=>{const l=t?t.getImmediateChild(o):null,c=g7(r,o),u=n.operationForChild(o);u&&(s=s.concat(O7(u,a,l,c)))}),i&&(s=s.concat(sP(i,n,r,t))),s}function lP(n,e){return n.tagToQueryMap.get(e)}function cP(n){const e=n.indexOf("$");return $(-1!==e&&e<n.length-1,"Bad queryKey."),{queryId:n.substr(e+1),path:new et(n.substr(0,e))}}function uP(n,e,t){const r=n.syncPointTree_.get(e);return $(r,"Missing sync point for query tag that we're tracking"),sP(r,t,iw(n.pendingWriteTree_,e),null)}class dP{constructor(e){this.node_=e}getImmediateChild(e){const t=this.node_.getImmediateChild(e);return new dP(t)}node(){return this.node_}}class hP{constructor(e,t){this.syncTree_=e,this.path_=t}getImmediateChild(e){const t=St(this.path_,e);return new hP(this.syncTree_,t)}node(){return hw(this.syncTree_,this.path_)}}const F7=function(n,e,t){return n&&"object"==typeof n?($(".sv"in n,"Unexpected leaf node or priority contents"),"string"==typeof n[".sv"]?R1e(n[".sv"],e,t):"object"==typeof n[".sv"]?P1e(n[".sv"],e):void $(!1,"Unexpected server value: "+JSON.stringify(n,null,2))):n},R1e=function(n,e,t){if("timestamp"===n)return t.timestamp;$(!1,"Unexpected server value: "+n)},P1e=function(n,e,t){n.hasOwnProperty("increment")||$(!1,"Unexpected server value: "+JSON.stringify(n,null,2));const r=n.increment;"number"!=typeof r&&$(!1,"Unexpected increment value: "+r);const i=e.node();if($(null!==i&&typeof i<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!i.isLeafNode())return r;const o=i.getValue();return"number"!=typeof o?r:o+r},fP=function(n,e,t){return pP(n,new dP(e),t)};function pP(n,e,t){const r=n.getPriority().val(),i=F7(r,e.getImmediateChild(".priority"),t);let s;if(n.isLeafNode()){const o=n,a=F7(o.getValue(),e,t);return a!==o.getValue()||i!==o.getPriority().val()?new Dd(a,Ot(i)):n}{const o=n;return s=o,i!==o.getPriority().val()&&(s=s.updatePriority(new Dd(i))),o.forEachChild(gt,(a,l)=>{const c=pP(l,e.getImmediateChild(a),t);c!==l&&(s=s.updateImmediateChild(a,c))}),s}}class mP{constructor(e="",t=null,r={children:{},childCount:0}){this.name=e,this.parent=t,this.node=r}}function pw(n,e){let t=e instanceof et?e:new et(e),r=n,i=Me(t);for(;null!==i;){const s=Du(r.node.children,i)||{children:{},childCount:0};r=new mP(i,r,s),t=lt(t),i=Me(t)}return r}function vc(n){return n.node.value}function gP(n,e){n.node.value=e,_P(n)}function V7(n){return n.node.childCount>0}function mw(n,e){An(n.node.children,(t,r)=>{e(new mP(t,n,r))})}function B7(n,e,t,r){t&&!r&&e(n),mw(n,i=>{B7(i,e,!0,r)}),t&&r&&e(n)}function Im(n){return new et(null===n.parent?n.name:Im(n.parent)+"/"+n.name)}function _P(n){null!==n.parent&&function F1e(n,e,t){const r=function O1e(n){return void 0===vc(n)&&!V7(n)}(t),i=co(n.node.children,e);r&&i?(delete n.node.children[e],n.node.childCount--,_P(n)):!r&&!i&&(n.node.children[e]=t.node,n.node.childCount++,_P(n))}(n.parent,n.name,n)}const L1e=/[\[\].#$\/\u0000-\u001F\u007F]/,V1e=/[\[\].#$\u0000-\u001F\u007F]/,yP=10485760,gw=function(n){return"string"==typeof n&&0!==n.length&&!L1e.test(n)},Sm=function(n,e,t){const r=t instanceof et?new eRe(t,n):t;if(void 0===e)throw new Error(n+"contains undefined "+pc(r));if("function"==typeof e)throw new Error(n+"contains a function "+pc(r)+" with contents = "+e.toString());if(jb(e))throw new Error(n+"contains "+e.toString()+" "+pc(r));if("string"==typeof e&&e.length>yP/3&&hy(e)>yP)throw new Error(n+"contains a string greater than "+yP+" utf8 bytes "+pc(r)+" ('"+e.substring(0,50)+"...')");if(e&&"object"==typeof e){let i=!1,s=!1;if(An(e,(o,a)=>{if(".value"===o)i=!0;else if(".priority"!==o&&".sv"!==o&&(s=!0,!gw(o)))throw new Error(n+" contains an invalid key ("+o+") "+pc(r)+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');(function tRe(n,e){n.parts_.length>0&&(n.byteLength_+=1),n.parts_.push(e),n.byteLength_+=hy(e),G6(n)})(r,o),Sm(n,a,r),function nRe(n){const e=n.parts_.pop();n.byteLength_-=hy(e),n.parts_.length>0&&(n.byteLength_-=1)}(r)}),i&&s)throw new Error(n+' contains ".value" child '+pc(r)+" in addition to actual children.")}},$7=function(n,e){const t=e.path.toString();if("string"!=typeof e.repoInfo.host||0===e.repoInfo.host.length||!gw(e.repoInfo.namespace)&&"localhost"!==e.repoInfo.host.split(":")[0]||0!==t.length&&!function(n){return n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),function(n){return"string"==typeof n&&0!==n.length&&!V1e.test(n)}(n)}(t))throw new Error(function dy(n,e){return`${n} failed: ${e} argument `}(n,"url")+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".')};class $1e{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function ai(n,e,t){(function _w(n,e){let t=null;for(let r=0;r<e.length;r++){const i=e[r],s=i.getPath();null!==t&&!P1(s,t.path)&&(n.eventLists_.push(t),t=null),null===t&&(t={events:[],path:s}),t.events.push(i)}t&&n.eventLists_.push(t)})(n,t),function z7(n,e){n.recursionDepth_++;let t=!0;for(let r=0;r<n.eventLists_.length;r++){const i=n.eventLists_[r];i&&(e(i.path)?(j1e(n.eventLists_[r]),n.eventLists_[r]=null):t=!1)}t&&(n.eventLists_=[]),n.recursionDepth_--}(n,r=>Ei(r,e)||Ei(e,r))}function j1e(n){for(let e=0;e<n.events.length;e++){const t=n.events[e];if(null!==t){n.events[e]=null;const r=t.getEventRunner();hc&&Dn("event: "+t.toString()),Td(r)}}}class G1e{constructor(e,t,r,i){this.repoInfo_=e,this.forceRestClient_=t,this.authTokenProvider_=r,this.appCheckProvider_=i,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new $1e,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=ew(),this.transactionQueueTree_=new mP,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function W7(n){const t=n.infoData_.getNode(new et(".info/serverTimeOffset")).val()||0;return(new Date).getTime()+t}function Am(n){return function(n){return(n=n||{}).timestamp=n.timestamp||(new Date).getTime(),n}({timestamp:W7(n)})}function q7(n,e,t,r,i){n.dataUpdateCount++;const s=new et(e);t=n.interceptServerDataCallback_?n.interceptServerDataCallback_(e,t):t;let o=[];if(i)if(r){const l=uy(t,c=>Ot(c));o=function T1e(n,e,t,r){const i=lP(n,r);if(i){const s=cP(i),o=s.path,a=s.queryId,l=Cr(o,e),c=_t.fromObject(t);return uP(n,o,new Rd(Y1(a),l,c))}return[]}(n.serverSyncTree_,s,l,i)}else{const l=Ot(t);o=function R7(n,e,t,r){const i=lP(n,r);if(null!=i){const s=cP(i),o=s.path,a=s.queryId,l=Cr(o,e);return uP(n,o,new gc(Y1(a),l,t))}return[]}(n.serverSyncTree_,s,l,i)}else if(r){const l=uy(t,c=>Ot(c));o=function C1e(n,e,t){const r=_t.fromObject(t);return Od(n,new Rd({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},e,r))}(n.serverSyncTree_,s,l)}else{const l=Ot(t);o=wm(n.serverSyncTree_,s,l)}let a=s;o.length>0&&(a=Fd(n,s)),ai(n.eventQueue_,a,o)}function K7(n,e){wP(n,"connected",e),!1===e&&function Q1e(n){Nd(n,"onDisconnectEvents");const e=Am(n),t=ew();W1(n.onDisconnect_,We(),(i,s)=>{const o=function(n,e,t,r){return pP(e,new hP(t,n),r)}(i,s,n.serverSyncTree_,e);kd(t,i,o)});let r=[];W1(t,We(),(i,s)=>{r=r.concat(wm(n.serverSyncTree_,i,s));const o=function TP(n,e){const t=Im(X7(n,e)),r=pw(n.transactionQueueTree_,e);return function N1e(n,e,t){let r=t?n:n.parent;for(;null!==r;){if(e(r))return!0;r=r.parent}}(r,i=>{SP(n,i)}),SP(n,r),B7(r,i=>{SP(n,i)}),t}(n,i);Fd(n,o)}),n.onDisconnect_=ew(),ai(n.eventQueue_,We(),r)}(n)}function wP(n,e,t){const r=new et("/.info/"+e),i=Ot(t);n.infoData_.updateSnapshot(r,i);const s=wm(n.infoSyncTree_,r,i);ai(n.eventQueue_,r,s)}function yw(n){return n.nextWriteId_++}function Nd(n,...e){let t="";n.persistentConnection_&&(t=n.persistentConnection_.id+":"),Dn(t,...e)}function IP(n,e,t){return hw(n.serverSyncTree_,e,t)||ve.EMPTY_NODE}function vw(n,e=n.transactionQueueTree_){if(e||bw(n,e),vc(e)){const t=Z7(n,e);$(t.length>0,"Sending zero length transaction queue"),t.every(i=>0===i.status)&&function rPe(n,e,t){const r=t.map(c=>c.currentWriteId),i=IP(n,e,r);let s=i;const o=i.hash();for(let c=0;c<t.length;c++){const u=t[c];$(0===u.status,"tryToSendTransactionQueue_: items in queue should all be run."),u.status=1,u.retryCount++;const d=Cr(e,u.path);s=s.updateChild(d,u.currentOutputSnapshotRaw)}const a=s.val(!0),l=e;n.server_.put(l.toString(),a,c=>{Nd(n,"transaction put response",{path:l.toString(),status:c});let u=[];if("ok"===c){const d=[];for(let h=0;h<t.length;h++)t[h].status=2,u=u.concat(Pa(n.serverSyncTree_,t[h].currentWriteId)),t[h].onComplete&&d.push(()=>t[h].onComplete(null,!0,t[h].currentOutputSnapshotResolved)),t[h].unwatcher();bw(n,pw(n.transactionQueueTree_,e)),vw(n,n.transactionQueueTree_),ai(n.eventQueue_,e,u);for(let h=0;h<d.length;h++)Td(d[h])}else{if("datastale"===c)for(let d=0;d<t.length;d++)t[d].status=3===t[d].status?4:0;else{ir("transaction at "+l.toString()+" failed: "+c);for(let d=0;d<t.length;d++)t[d].status=4,t[d].abortReason=c}Fd(n,e)}},o)}(n,Im(e),t)}else V7(e)&&mw(e,t=>{vw(n,t)})}function Fd(n,e){const t=X7(n,e),r=Im(t);return function iPe(n,e,t){if(0===e.length)return;const r=[];let i=[];const o=e.filter(a=>0===a.status).map(a=>a.currentWriteId);for(let a=0;a<e.length;a++){const l=e[a],c=Cr(t,l.path);let d,u=!1;if($(null!==c,"rerunTransactionsUnderNode_: relativePath should not be null."),4===l.status)u=!0,d=l.abortReason,i=i.concat(Pa(n.serverSyncTree_,l.currentWriteId,!0));else if(0===l.status)if(l.retryCount>=25)u=!0,d="maxretry",i=i.concat(Pa(n.serverSyncTree_,l.currentWriteId,!0));else{const h=IP(n,l.path,o);l.currentInputSnapshot=h;const f=e[a].update(h.val());if(void 0!==f){Sm("transaction failed: Data returned ",f,l.path);let p=Ot(f);"object"==typeof f&&null!=f&&co(f,".priority")||(p=p.updatePriority(h.getPriority()));const g=l.currentWriteId,b=Am(n),E=fP(p,h,b);l.currentOutputSnapshotRaw=p,l.currentOutputSnapshotResolved=E,l.currentWriteId=yw(n),o.splice(o.indexOf(g),1),i=i.concat(oP(n.serverSyncTree_,l.path,E,l.currentWriteId,l.applyLocally)),i=i.concat(Pa(n.serverSyncTree_,g,!0))}else u=!0,d="nodata",i=i.concat(Pa(n.serverSyncTree_,l.currentWriteId,!0))}ai(n.eventQueue_,t,i),i=[],u&&(e[a].status=2,setTimeout(e[a].unwatcher,Math.floor(0)),e[a].onComplete&&r.push("nodata"===d?()=>e[a].onComplete(null,!1,e[a].currentInputSnapshot):()=>e[a].onComplete(new Error(d),!1,null)))}bw(n,n.transactionQueueTree_);for(let a=0;a<r.length;a++)Td(r[a]);vw(n,n.transactionQueueTree_)}(n,Z7(n,t),r),r}function X7(n,e){let t,r=n.transactionQueueTree_;for(t=Me(e);null!==t&&void 0===vc(r);)r=pw(r,t),t=Me(e=lt(e));return r}function Z7(n,e){const t=[];return J7(n,e,t),t.sort((r,i)=>r.order-i.order),t}function J7(n,e,t){const r=vc(e);if(r)for(let i=0;i<r.length;i++)t.push(r[i]);mw(e,i=>{J7(n,i,t)})}function bw(n,e){const t=vc(e);if(t){let r=0;for(let i=0;i<t.length;i++)2!==t[i].status&&(t[r]=t[i],r++);t.length=r,gP(e,t.length>0?t:void 0)}mw(e,r=>{bw(n,r)})}function SP(n,e){const t=vc(e);if(t){const r=[];let i=[],s=-1;for(let o=0;o<t.length;o++)3===t[o].status||(1===t[o].status?($(s===o-1,"All SENT items should be at beginning of queue."),s=o,t[o].status=3,t[o].abortReason="set"):($(0===t[o].status,"Unexpected transaction status in abort"),t[o].unwatcher(),i=i.concat(Pa(n.serverSyncTree_,t[o].currentWriteId,!0)),t[o].onComplete&&r.push(t[o].onComplete.bind(null,new Error("set"),!1,null))));-1===s?gP(e,void 0):t.length=s+1,ai(n.eventQueue_,Im(e),i);for(let o=0;o<r.length;o++)Td(r[o])}}const DP=function(n,e){const t=aPe(n),r=t.namespace;return"firebase.com"===t.domain&&Ms(t.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!r||"undefined"===r)&&"localhost"!==t.domain&&Ms("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),t.secure||typeof window<"u"&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&ir("Insecure Firebase access from a secure page. Please use https in calls to new Firebase()."),{repoInfo:new S1(t.host,t.secure,r,"ws"===t.scheme||"wss"===t.scheme,e,"",r!==t.subdomain),path:new et(t.pathString)}},aPe=function(n){let e="",t="",r="",i="",s="",o=!0,a="https",l=443;if("string"==typeof n){let c=n.indexOf("//");c>=0&&(a=n.substring(0,c-1),n=n.substring(c+2));let u=n.indexOf("/");-1===u&&(u=n.length);let d=n.indexOf("?");-1===d&&(d=n.length),e=n.substring(0,Math.min(u,d)),u<d&&(i=function sPe(n){let e="";const t=n.split("/");for(let r=0;r<t.length;r++)if(t[r].length>0){let i=t[r];try{i=decodeURIComponent(i.replace(/\+/g," "))}catch{}e+="/"+i}return e}(n.substring(u,d)));const h=function oPe(n){const e={};"?"===n.charAt(0)&&(n=n.substring(1));for(const t of n.split("&")){if(0===t.length)continue;const r=t.split("=");2===r.length?e[decodeURIComponent(r[0])]=decodeURIComponent(r[1]):ir(`Invalid query segment '${t}' in query '${n}'`)}return e}(n.substring(Math.min(n.length,d)));c=e.indexOf(":"),c>=0?(o="https"===a||"wss"===a,l=parseInt(e.substring(c+1),10)):c=e.length;const f=e.slice(0,c);if("localhost"===f.toLowerCase())t="localhost";else if(f.split(".").length<=2)t=f;else{const p=e.indexOf(".");r=e.substring(0,p).toLowerCase(),t=e.substring(p+1),s=r}"ns"in h&&(s=h.ns)}return{host:e,port:l,domain:t,subdomain:r,secure:o,scheme:a,pathString:i,namespace:s}};class li{constructor(e,t,r,i){this._repo=e,this._path=t,this._queryParams=r,this._orderByCalled=i}get key(){return xe(this._path)?null:R1(this._path)}get ref(){return new Qi(this._repo,this._path)}get _queryIdentifier(){const e=a7(this._queryParams),t=E1(e);return"{}"===t?"default":t}get _queryObject(){return a7(this._queryParams)}isEqual(e){if(!((e=Ge(e))instanceof li))return!1;const t=this._repo===e._repo,r=P1(this._path,e._path);return t&&r&&this._queryIdentifier===e._queryIdentifier}toJSON(){return this.toString()}toString(){return this._repo.toString()+function Zke(n){let e="";for(let t=n.pieceNum_;t<n.pieces_.length;t++)""!==n.pieces_[t]&&(e+="/"+encodeURIComponent(String(n.pieces_[t])));return e||"/"}(this._path)}}class Qi extends li{constructor(e,t){super(e,t,new $1,!1)}get parent(){const e=z6(this._path);return null===e?null:new Qi(this._repo,e)}get root(){let e=this;for(;null!==e.parent;)e=e.parent;return e}}(function f1e(n){$(!lw,"__referenceConstructor has already been defined"),lw=n})(Qi),function y1e(n){$(!uw,"__referenceConstructor has already been defined"),uw=n}(Qi);const MP={};class SPe{constructor(e,t){this._repoInternal=e,this.app=t,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(function W1e(n,e,t){if(n.stats_=M1(n.repoInfo_),n.forceRestClient_||("object"==typeof window&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0)n.server_=new Jb(n.repoInfo_,(r,i,s,o)=>{q7(n,r,i,s,o)},n.authTokenProvider_,n.appCheckProvider_),setTimeout(()=>K7(n,!0),0);else{if(typeof t<"u"&&null!==t){if("object"!=typeof t)throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{Fn(t)}catch(r){throw new Error("Invalid authOverride provided: "+r)}}n.persistentConnection_=new mc(n.repoInfo_,e,(r,i,s,o)=>{q7(n,r,i,s,o)},r=>{K7(n,r)},r=>{!function q1e(n,e){An(e,(t,r)=>{wP(n,t,r)})}(n,r)},n.authTokenProvider_,n.appCheckProvider_,t),n.server_=n.persistentConnection_}n.authTokenProvider_.addTokenChangeListener(r=>{n.server_.refreshAuthToken(r)}),n.appCheckProvider_.addTokenChangeListener(r=>{n.server_.refreshAppCheckToken(r.token)}),n.statsReporter_=function xke(n,e){const t=n.toString();return A1[t]||(A1[t]=e()),A1[t]}(n.repoInfo_,()=>new kRe(n.stats_,n.server_)),n.infoData_=new SRe,n.infoSyncTree_=new k7({startListening:(r,i,s,o)=>{let a=[];const l=n.infoData_.getNode(r._path);return l.isEmpty()||(a=wm(n.infoSyncTree_,r._path,l),setTimeout(()=>{o("ok")},0)),a},stopListening:()=>{}}),wP(n,"connected",!1),n.serverSyncTree_=new k7({startListening:(r,i,s,o)=>(n.server_.listen(r,s,i,(a,l)=>{const c=o(a,l);ai(n.eventQueue_,r._path,c)}),[]),stopListening:(r,i)=>{n.server_.unlisten(r,i)}})}(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new Qi(this._repo,We())),this._rootInternal}_delete(){return null!==this._rootInternal&&(function EPe(n,e){const t=MP[e];(!t||t[n.key]!==n)&&Ms(`Database ${e}(${n.repoInfo_}) has already been deleted.`),function Q7(n){n.persistentConnection_&&n.persistentConnection_.interrupt("repo_interrupt")}(n),delete t[n.key]}(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(e){null===this._rootInternal&&Ms("Cannot call "+e+" on a deleted database.")}}function DPe(n=fs(),e){const t=Ar(n,"database").getImmediate({identifier:e}),r=ly("database");return r&&function APe(n,e,t,r={}){(n=Ge(n))._checkNotDeleted("useEmulator"),n._instanceStarted&&Ms("Cannot call useEmulator() after instance has already been initialized.");const i=n._repoInternal;let s;if(i.repoInfo_.nodeAdmin)r.mockUserToken&&Ms('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),s=new cm(cm.OWNER);else if(r.mockUserToken){const o="string"==typeof r.mockUserToken?r.mockUserToken:GI(r.mockUserToken,n.app.options.projectId);s=new cm(o)}!function wPe(n,e,t,r){n.repoInfo_=new S1(`${e}:${t}`,!1,n.repoInfo_.namespace,n.repoInfo_.webSocketOnly,n.repoInfo_.nodeAdmin,n.repoInfo_.persistenceKey,n.repoInfo_.includeNamespaceInQueryParams),r&&(n.authTokenProvider_=r)}(i,e,t,s)}(t,...r),t}mc.prototype.simpleListen=function(n,e){this.sendRequest("q",{p:n},e)},mc.prototype.echo=function(n,e){this.sendRequest("echo",{d:n},e)},function MPe(n){(function mke(n){b1=n})(na),hn(new rn("database",(e,{instanceIdentifier:t})=>function CPe(n,e,t,r,i){let s=r||n.options.databaseURL;void 0===s&&(n.options.projectId||Ms("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),Dn("Using default host for project ",n.options.projectId),s=`${n.options.projectId}-default-rtdb.firebaseio.com`);let l,c,o=DP(s,i),a=o.repoInfo;typeof process<"u"&&process.env&&(c=process.env.FIREBASE_DATABASE_EMULATOR_HOST),c?(l=!0,s=`http://${c}?ns=${a.namespace}`,o=DP(s,i),a=o.repoInfo):l=!o.repoInfo.secure;const u=i&&l?new cm(cm.OWNER):new Dke(n.name,n.options,e);$7("Invalid Firebase Database URL",o),xe(o.path)||Ms("Database URL must point to the root of a Firebase Database (not including a child path).");const d=function IPe(n,e,t,r){let i=MP[e.name];i||(i={},MP[e.name]=i);let s=i[n.toURLString()];return s&&Ms("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),s=new G1e(n,!1,t,r),i[n.toURLString()]=s,s}(a,n,u,new Ske(n.name,t));return new SPe(d,n)}(e.getProvider("app").getImmediate(),e.getProvider("auth-internal"),e.getProvider("app-check-internal"),t),"PUBLIC").setMultipleInstances(!0)),Ae(o6,a6,n),Ae(o6,a6,"esm2017")}();class xP{constructor(e){return e}}const aY="database",kP=new N("angularfire2.database-instances");function OPe(n){return(e,t)=>{const r=e.runOutsideAngular(()=>n(t));return new xP(r)}}const NPe={provide:class RPe{constructor(){return ms(aY)}},deps:[[new Ie,kP]]},FPe={provide:xP,useFactory:function PPe(n,e){const t=ps(aY,n,e);return t&&new xP(t)},deps:[[new Ie,kP],ei]};let LPe=(()=>{class n{constructor(){Ae("angularfire",Jr.full,"rtdb")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=te({type:n}),n.\u0275inj=ee({providers:[FPe,NPe]}),n})();function VPe(n,...e){return{ngModule:LPe,providers:[{provide:kP,useFactory:OPe(n),multi:!0,deps:[se,Je,gs,_s,[new Ie,Rf],[new Ie,Pu],...e]}]}}const BPe=kt(DPe,!0),PP="functions";class zPe{constructor(e,t,r){this.auth=null,this.messaging=null,this.appCheck=null,this.auth=e.getImmediate({optional:!0}),this.messaging=t.getImmediate({optional:!0}),this.auth||e.get().then(i=>this.auth=i,()=>{}),this.messaging||t.get().then(i=>this.messaging=i,()=>{}),this.appCheck||r.get().then(i=>this.appCheck=i,()=>{})}getAuthToken(){var e=this;return _(function*(){if(e.auth)try{return(yield e.auth.getToken())?.accessToken}catch{return}})()}getMessagingToken(){var e=this;return _(function*(){if(e.messaging&&"Notification"in self&&"granted"===Notification.permission)try{return yield e.messaging.getToken()}catch{return}})()}getAppCheckToken(){var e=this;return _(function*(){if(e.appCheck){const t=yield e.appCheck.getToken();return t.error?null:t.token}return null})()}getContext(){var e=this;return _(function*(){return{authToken:yield e.getAuthToken(),messagingToken:yield e.getMessagingToken(),appCheckToken:yield e.getAppCheckToken()}})()}}const OP="us-central1";class WPe{constructor(e,t,r,i,s=OP,o){this.app=e,this.fetchImpl=o,this.emulatorOrigin=null,this.contextProvider=new zPe(t,r,i),this.cancelAllRequests=new Promise(a=>{this.deleteService=()=>Promise.resolve(a())});try{const a=new URL(s);this.customDomain=a.origin,this.region=OP}catch{this.customDomain=null,this.region=s}}_delete(){return this.deleteService()}_url(e){const t=this.app.options.projectId;return null!==this.emulatorOrigin?`${this.emulatorOrigin}/${t}/${this.region}/${e}`:null!==this.customDomain?`${this.customDomain}/${e}`:`https://${this.region}-${t}.cloudfunctions.net/${e}`}}const dY="@firebase/functions";function nOe(n=fs(),e=OP){const r=Ar(Ge(n),PP).getImmediate({identifier:e}),i=ly("functions");return i&&function rOe(n,e,t){!function qPe(n,e,t){n.emulatorOrigin=`http://${e}:${t}`}(Ge(n),e,t)}(r,...i),r}!function tOe(n,e){hn(new rn(PP,(r,{instanceIdentifier:i})=>{const s=r.getProvider("app").getImmediate(),o=r.getProvider("auth-internal"),a=r.getProvider("messaging-internal"),l=r.getProvider("app-check-internal");return new WPe(s,o,a,l,i,n)},"PUBLIC").setMultipleInstances(!0)),Ae(dY,"0.8.8",e),Ae(dY,"0.8.8","esm2017")}(fetch.bind(self));class LP{constructor(e){return e}}const fY="functions",VP=new N("angularfire2.functions-instances");function oOe(n){return(e,t)=>{const r=e.runOutsideAngular(()=>n(t));return new LP(r)}}const aOe={provide:class iOe{constructor(){return ms(fY)}},deps:[[new Ie,VP]]},lOe={provide:LP,useFactory:function sOe(n,e){const t=ps(fY,n,e);return t&&new LP(t)},deps:[[new Ie,VP],ei]};let cOe=(()=>{class n{constructor(){Ae("angularfire",Jr.full,"fn")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=te({type:n}),n.\u0275inj=ee({providers:[lOe,aOe]}),n})();function uOe(n,...e){return{ngModule:cOe,providers:[{provide:VP,useFactory:oOe(n),multi:!0,deps:[se,Je,gs,_s,[new Ie,Rf],[new Ie,Pu],...e]}]}}const dOe=kt(nOe,!0);class BP{constructor(e){return e}}const pY="messaging",UP=new N("angularfire2.messaging-instances");function pOe(n){return(e,t)=>{if(!wy.sync())return null;const r=e.runOutsideAngular(()=>n(t));return new BP(r)}}const mOe={provide:class hOe{constructor(){return ms(pY)}},deps:[[new Ie,UP]]},gOe={provide:BP,useFactory:function fOe(n,e){if(!wy.sync())return null;const t=ps(pY,n,e);return t&&new BP(t)},deps:[[new Ie,UP],ei]};let _Oe=(()=>{class n{constructor(){Ae("angularfire",Jr.full,"fcm")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=te({type:n}),n.\u0275inj=ee({providers:[gOe,mOe,{provide:nl,useValue:wy.async,multi:!0}]}),n})();function yOe(n,...e){return{ngModule:_Oe,providers:[{provide:UP,useFactory:pOe(n),multi:!0,deps:[se,Je,gs,_s,...e]}]}}const vOe=kt(Ffe,!0),mY="@firebase/performance",HP="0.5.17",$P="FB-PERF-TRACE-MEASURE",wY="@firebase/performance/config",CY="@firebase/performance/configexpire",EY="Performance",Wn=new $i("performance",EY,{"trace started":"Trace {$traceName} was started before.","trace stopped":"Trace {$traceName} is not running.","nonpositive trace startTime":"Trace {$traceName} startTime should be positive.","nonpositive trace duration":"Trace {$traceName} duration should be positive.","no window":"Window is not available.","no app id":"App id is not available.","no project id":"Project id is not available.","no api key":"Api key is not available.","invalid cc log":"Attempted to queue invalid cc event","FB not default":"Performance can only start when Firebase app instance is the default one.","RC response not ok":"RC response is not ok","invalid attribute name":"Attribute name {$attributeName} is invalid.","invalid attribute value":"Attribute value {$attributeValue} is invalid.","invalid custom metric name":"Custom metric name {$customMetricName} is invalid","invalid String merger input":"Input for String merger is invalid, contact support team to resolve.","already initialized":"initializePerformance() has already been called with different options. To avoid this error, call initializePerformance() with the same options as when it was originally called, or call getPerformance() to return the already initialized instance."}),Os=new ta(EY);let jP,IY,TY,GP;Os.logLevel=Ne.INFO;class Mn{constructor(e){if(this.window=e,!e)throw Wn.create("no window");this.performance=e.performance,this.PerformanceObserver=e.PerformanceObserver,this.windowLocation=e.location,this.navigator=e.navigator,this.document=e.document,this.navigator&&this.navigator.cookieEnabled&&(this.localStorage=e.localStorage),e.perfMetrics&&e.perfMetrics.onFirstInputDelay&&(this.onFirstInputDelay=e.perfMetrics.onFirstInputDelay)}getUrl(){return this.windowLocation.href.split("?")[0]}mark(e){!this.performance||!this.performance.mark||this.performance.mark(e)}measure(e,t,r){!this.performance||!this.performance.measure||this.performance.measure(e,t,r)}getEntriesByType(e){return this.performance&&this.performance.getEntriesByType?this.performance.getEntriesByType(e):[]}getEntriesByName(e){return this.performance&&this.performance.getEntriesByName?this.performance.getEntriesByName(e):[]}getTimeOrigin(){return this.performance&&(this.performance.timeOrigin||this.performance.timing.navigationStart)}requiredApisAvailable(){return fetch&&Promise&&ay()?!!ea()||(Os.info("IndexedDB is not supported by current browswer"),!1):(Os.info("Firebase Performance cannot start if browser does not support fetch and Promise or cookie is disabled."),!1)}setupObserver(e,t){this.PerformanceObserver&&new this.PerformanceObserver(i=>{for(const s of i.getEntries())t(s)}).observe({entryTypes:[e]})}static getInstance(){return void 0===jP&&(jP=new Mn(IY)),jP}}function zP(){return TY}function SY(n,e){const t=n.length-e.length;if(t<0||t>1)throw Wn.create("invalid String merger input");const r=[];for(let i=0;i<n.length;i++)r.push(n.charAt(i)),e.length>i&&r.push(e.charAt(i));return r.join("")}class ci{constructor(){this.instrumentationEnabled=!0,this.dataCollectionEnabled=!0,this.loggingEnabled=!1,this.tracesSamplingRate=1,this.networkRequestsSamplingRate=1,this.logEndPointUrl="https://firebaselogging.googleapis.com/v0cc/log?format=json_proto",this.flTransportEndpointUrl=SY("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),this.transportKey=SY("AzSC8r6ReiGqFMyfvgow","Iayx0u-XT3vksVM-pIV"),this.logSource=462,this.logTraceAfterSampling=!1,this.logNetworkAfterSampling=!1,this.configTimeToLive=12}getFlTransportFullUrl(){return this.flTransportEndpointUrl.concat("?key=",this.transportKey)}static getInstance(){return void 0===GP&&(GP=new ci),GP}}var wc=(()=>(function(n){n[n.UNKNOWN=0]="UNKNOWN",n[n.VISIBLE=1]="VISIBLE",n[n.HIDDEN=2]="HIDDEN"}(wc||(wc={})),wc))();const DOe=["firebase_","google_","ga_"],AOe=new RegExp("^[a-zA-Z]\\w*$");function kOe(){const n=Mn.getInstance().navigator;return n?.serviceWorker?n.serviceWorker.controller?2:3:1}function DY(){switch(Mn.getInstance().document.visibilityState){case"visible":return wc.VISIBLE;case"hidden":return wc.HIDDEN;default:return wc.UNKNOWN}}function ROe(){const e=Mn.getInstance().navigator.connection;switch(e&&e.effectiveType){case"slow-2g":return 1;case"2g":return 2;case"3g":return 3;case"4g":return 4;default:return 0}}function AY(n){var e;const t=null===(e=n.options)||void 0===e?void 0:e.appId;if(!t)throw Wn.create("no app id");return t}const Xi={loggingEnabled:!0};const $Oe="Could not fetch config, will use default configs";function MY(n){if(!n)return n;const e=ci.getInstance(),t=n.entries||{};return e.loggingEnabled=void 0!==t.fpr_enabled?"true"===String(t.fpr_enabled):Xi.loggingEnabled,t.fpr_log_source?e.logSource=Number(t.fpr_log_source):Xi.logSource&&(e.logSource=Xi.logSource),t.fpr_log_endpoint_url?e.logEndPointUrl=t.fpr_log_endpoint_url:Xi.logEndPointUrl&&(e.logEndPointUrl=Xi.logEndPointUrl),t.fpr_log_transport_key?e.transportKey=t.fpr_log_transport_key:Xi.transportKey&&(e.transportKey=Xi.transportKey),void 0!==t.fpr_vc_network_request_sampling_rate?e.networkRequestsSamplingRate=Number(t.fpr_vc_network_request_sampling_rate):void 0!==Xi.networkRequestsSamplingRate&&(e.networkRequestsSamplingRate=Xi.networkRequestsSamplingRate),void 0!==t.fpr_vc_trace_sampling_rate?e.tracesSamplingRate=Number(t.fpr_vc_trace_sampling_rate):void 0!==Xi.tracesSamplingRate&&(e.tracesSamplingRate=Xi.tracesSamplingRate),e.logTraceAfterSampling=xY(e.tracesSamplingRate),e.logNetworkAfterSampling=xY(e.networkRequestsSamplingRate),n}function xY(n){return Math.random()<=n}let qP,WP=1;function kY(n){return WP=2,qP=qP||function WOe(n){return function qOe(){const n=Mn.getInstance().document;return new Promise(e=>{if(n&&"complete"!==n.readyState){const t=()=>{"complete"===n.readyState&&(n.removeEventListener("readystatechange",t),e())};n.addEventListener("readystatechange",t)}else e()})}().then(()=>function TOe(n){const e=n.getId();return e.then(t=>{TY=t}),e}(n.installations)).then(e=>function BOe(n,e){const t=function UOe(){const n=Mn.getInstance().localStorage;if(!n)return;const e=n.getItem(CY);if(!e||!function zOe(n){return Number(n)>Date.now()}(e))return;const t=n.getItem(wY);if(t)try{return JSON.parse(t)}catch{return}}();return t?(MY(t),Promise.resolve()):function jOe(n,e){return function SOe(n){const e=n.getToken();return e.then(t=>{}),e}(n.installations).then(t=>{const r=function NOe(n){var e;const t=null===(e=n.options)||void 0===e?void 0:e.projectId;if(!t)throw Wn.create("no project id");return t}(n.app),i=function FOe(n){var e;const t=null===(e=n.options)||void 0===e?void 0:e.apiKey;if(!t)throw Wn.create("no api key");return t}(n.app),o=new Request(`https://firebaseremoteconfig.googleapis.com/v1/projects/${r}/namespaces/fireperf:fetch?key=${i}`,{method:"POST",headers:{Authorization:`FIREBASE_INSTALLATIONS_AUTH ${t}`},body:JSON.stringify({app_instance_id:e,app_instance_id_token:t,app_id:AY(n.app),app_version:"0.5.17",sdk_version:"0.0.1"})});return fetch(o).then(a=>{if(a.ok)return a.json();throw Wn.create("RC response not ok")})}).catch(()=>{Os.info($Oe)})}(n,e).then(MY).then(r=>function HOe(n){const e=Mn.getInstance().localStorage;!n||!e||(e.setItem(wY,JSON.stringify(n)),e.setItem(CY,String(Date.now()+60*ci.getInstance().configTimeToLive*60*1e3)))}(r),()=>{})}(n,e)).then(()=>RY(),()=>RY())}(n),qP}function RY(){WP=3}let YP,Tw=3,Fa=[],OY=!1;function Sw(n){setTimeout(()=>{if(0!==Tw){if(!Fa.length)return Sw(1e4);!function XOe(){const n=Fa.splice(0,1e3),e=n.map(r=>({source_extension_json_proto3:r.message,event_time_ms:String(r.eventTime)}));(function ZOe(n,e){return function JOe(n){const e=ci.getInstance().getFlTransportFullUrl();return fetch(e,{method:"POST",body:JSON.stringify(n)})}(n).then(t=>(t.ok||Os.info("Call to Firebase backend failed."),t.json())).then(t=>{const r=Number(t.nextRequestWaitMillis);let i=1e4;isNaN(r)||(i=Math.max(r,i));const s=t.logResponseDetails;Array.isArray(s)&&s.length>0&&"RETRY_REQUEST_LATER"===s[0].responseAction&&(Fa=[...e,...Fa],Os.info("Retry transport request later.")),Tw=3,Sw(i)})})({request_time_ms:String(Date.now()),client_info:{client_type:1,js_client_info:{}},log_source:ci.getInstance().logSource,log_event:e},n).catch(()=>{Fa=[...n,...Fa],Tw--,Os.info(`Tries left: ${Tw}.`),Sw(1e4)})}()}},n)}function NY(n,e){YP||(YP=function tNe(n){return(...e)=>{!function eNe(n){if(!n.eventTime||!n.message)throw Wn.create("invalid cc log");Fa=[...Fa,n]}({message:n(...e),eventTime:Date.now()})}}(rNe)),YP(n,e)}function Dw(n){const e=ci.getInstance();!e.instrumentationEnabled&&n.isAuto||!e.dataCollectionEnabled&&!n.isAuto||!Mn.getInstance().requiredApisAvailable()||n.isAuto&&DY()!==wc.VISIBLE||(function GOe(){return 3===WP}()?QP(n):kY(n.performanceController).then(()=>QP(n),()=>QP(n)))}function QP(n){if(!zP())return;const e=ci.getInstance();!e.loggingEnabled||!e.logTraceAfterSampling||setTimeout(()=>NY(n,1),0)}function rNe(n,e){return 0===e?function iNe(n){const e={url:n.url,http_method:n.httpMethod||0,http_response_code:200,response_payload_bytes:n.responsePayloadBytes,client_start_time_us:n.startTimeUs,time_to_response_initiated_us:n.timeToResponseInitiatedUs,time_to_response_completed_us:n.timeToResponseCompletedUs},t={application_info:FY(n.performanceController.app),network_request_metric:e};return JSON.stringify(t)}(n):function sNe(n){const e={name:n.name,is_auto:n.isAuto,client_start_time_us:n.startTimeUs,duration_us:n.durationUs};0!==Object.keys(n.counters).length&&(e.counters=n.counters);const t=n.getAttributes();0!==Object.keys(t).length&&(e.custom_attributes=t);const r={application_info:FY(n.performanceController.app),trace_metric:e};return JSON.stringify(r)}(n)}function FY(n){return{google_app_id:AY(n),app_instance_id:zP(),web_app_info:{sdk_version:"0.5.17",page_url:Mn.getInstance().getUrl(),service_worker_status:kOe(),visibility_state:DY(),effective_connection_type:ROe()},application_process_state:0}}const lNe=["_fp","_fcp","_fid"];class La{constructor(e,t,r=!1,i){this.performanceController=e,this.name=t,this.isAuto=r,this.state=1,this.customAttributes={},this.counters={},this.api=Mn.getInstance(),this.randomId=Math.floor(1e6*Math.random()),this.isAuto||(this.traceStartMark=`FB-PERF-TRACE-START-${this.randomId}-${this.name}`,this.traceStopMark=`FB-PERF-TRACE-STOP-${this.randomId}-${this.name}`,this.traceMeasure=i||`${$P}-${this.randomId}-${this.name}`,i&&this.calculateTraceMetrics())}start(){if(1!==this.state)throw Wn.create("trace started",{traceName:this.name});this.api.mark(this.traceStartMark),this.state=2}stop(){if(2!==this.state)throw Wn.create("trace stopped",{traceName:this.name});this.state=3,this.api.mark(this.traceStopMark),this.api.measure(this.traceMeasure,this.traceStartMark,this.traceStopMark),this.calculateTraceMetrics(),Dw(this)}record(e,t,r){if(e<=0)throw Wn.create("nonpositive trace startTime",{traceName:this.name});if(t<=0)throw Wn.create("nonpositive trace duration",{traceName:this.name});if(this.durationUs=Math.floor(1e3*t),this.startTimeUs=Math.floor(1e3*e),r&&r.attributes&&(this.customAttributes=Object.assign({},r.attributes)),r&&r.metrics)for(const i of Object.keys(r.metrics))isNaN(Number(r.metrics[i]))||(this.counters[i]=Math.floor(Number(r.metrics[i])));Dw(this)}incrementMetric(e,t=1){this.putMetric(e,void 0===this.counters[e]?t:this.counters[e]+t)}putMetric(e,t){if(!function cNe(n,e){return!(0===n.length||n.length>100)&&(e&&e.startsWith("_wt_")&&lNe.indexOf(n)>-1||!n.startsWith("_"))}(e,this.name))throw Wn.create("invalid custom metric name",{customMetricName:e});this.counters[e]=function uNe(n){const e=Math.floor(n);return e<n&&Os.info(`Metric value should be an Integer, setting the value as : ${e}.`),e}(t??0)}getMetric(e){return this.counters[e]||0}putAttribute(e,t){const r=function POe(n){return!(0===n.length||n.length>40||DOe.some(t=>n.startsWith(t))||!n.match(AOe))}(e),i=function OOe(n){return 0!==n.length&&n.length<=100}(t);if(r&&i)this.customAttributes[e]=t;else{if(!r)throw Wn.create("invalid attribute name",{attributeName:e});if(!i)throw Wn.create("invalid attribute value",{attributeValue:t})}}getAttribute(e){return this.customAttributes[e]}removeAttribute(e){void 0!==this.customAttributes[e]&&delete this.customAttributes[e]}getAttributes(){return Object.assign({},this.customAttributes)}setStartTime(e){this.startTimeUs=e}setDuration(e){this.durationUs=e}calculateTraceMetrics(){const e=this.api.getEntriesByName(this.traceMeasure),t=e&&e[0];t&&(this.durationUs=Math.floor(1e3*t.duration),this.startTimeUs=Math.floor(1e3*(t.startTime+this.api.getTimeOrigin())))}static createOobTrace(e,t,r,i){const s=Mn.getInstance().getUrl();if(!s)return;const o=new La(e,"_wt_"+s,!0),a=Math.floor(1e3*Mn.getInstance().getTimeOrigin());if(o.setStartTime(a),t&&t[0]&&(o.setDuration(Math.floor(1e3*t[0].duration)),o.putMetric("domInteractive",Math.floor(1e3*t[0].domInteractive)),o.putMetric("domContentLoadedEventEnd",Math.floor(1e3*t[0].domContentLoadedEventEnd)),o.putMetric("loadEventEnd",Math.floor(1e3*t[0].loadEventEnd))),r){const u=r.find(h=>"first-paint"===h.name);u&&u.startTime&&o.putMetric("_fp",Math.floor(1e3*u.startTime));const d=r.find(h=>"first-contentful-paint"===h.name);d&&d.startTime&&o.putMetric("_fcp",Math.floor(1e3*d.startTime)),i&&o.putMetric("_fid",Math.floor(1e3*i))}Dw(o)}static createUserTimingTrace(e,t){Dw(new La(e,t,!1,t))}}function LY(n,e){const t=e;if(!t||void 0===t.responseStart)return;const r=Mn.getInstance().getTimeOrigin(),i=Math.floor(1e3*(t.startTime+r)),s=t.responseStart?Math.floor(1e3*(t.responseStart-t.startTime)):void 0,o=Math.floor(1e3*(t.responseEnd-t.startTime));!function nNe(n){const e=ci.getInstance();if(!e.instrumentationEnabled)return;const t=n.url,r=e.logEndPointUrl.split("?")[0],i=e.flTransportEndpointUrl.split("?")[0];t===r||t===i||!e.loggingEnabled||!e.logNetworkAfterSampling||setTimeout(()=>NY(n,0),0)}({performanceController:n,url:t.name&&t.name.split("?")[0],responsePayloadBytes:t.transferSize,startTimeUs:i,timeToResponseInitiatedUs:s,timeToResponseCompletedUs:o})}function VY(n){!zP()||(setTimeout(()=>function fNe(n){const e=Mn.getInstance(),t=e.getEntriesByType("navigation"),r=e.getEntriesByType("paint");if(e.onFirstInputDelay){let i=setTimeout(()=>{La.createOobTrace(n,t,r),i=void 0},5e3);e.onFirstInputDelay(s=>{i&&(clearTimeout(i),La.createOobTrace(n,t,r,s))})}else La.createOobTrace(n,t,r)}(n),0),setTimeout(()=>function hNe(n){const e=Mn.getInstance(),t=e.getEntriesByType("resource");for(const r of t)LY(n,r);e.setupObserver("resource",r=>LY(n,r))}(n),0),setTimeout(()=>function pNe(n){const e=Mn.getInstance(),t=e.getEntriesByType("measure");for(const r of t)BY(n,r);e.setupObserver("measure",r=>BY(n,r))}(n),0))}function BY(n,e){const t=e.name;t.substring(0,$P.length)!==$P&&La.createUserTimingTrace(n,t)}class mNe{constructor(e,t){this.app=e,this.installations=t,this.initialized=!1}_init(e){this.initialized||(void 0!==e?.dataCollectionEnabled&&(this.dataCollectionEnabled=e.dataCollectionEnabled),void 0!==e?.instrumentationEnabled&&(this.instrumentationEnabled=e.instrumentationEnabled),Mn.getInstance().requiredApisAvailable()?Tu().then(t=>{t&&(function QOe(){OY||(Sw(5500),OY=!0)}(),kY(this).then(()=>VY(this),()=>VY(this)),this.initialized=!0)}).catch(t=>{Os.info(`Environment doesn't support IndexedDB: ${t}`)}):Os.info('Firebase Performance cannot start if the browser does not support "Fetch" and "Promise", or cookies are disabled.'))}set instrumentationEnabled(e){ci.getInstance().instrumentationEnabled=e}get instrumentationEnabled(){return ci.getInstance().instrumentationEnabled}set dataCollectionEnabled(e){ci.getInstance().dataCollectionEnabled=e}get dataCollectionEnabled(){return ci.getInstance().dataCollectionEnabled}}function _Ne(n=fs()){return Ar(n=Ge(n),"performance").getImmediate()}const yNe=(n,{options:e})=>{const t=n.getProvider("app").getImmediate(),r=n.getProvider("installations-internal").getImmediate();if("[DEFAULT]"!==t.name)throw Wn.create("FB not default");if(typeof window>"u")throw Wn.create("no window");!function IOe(n){IY=n}(window);const i=new mNe(t,r);return i._init(e),i};!function vNe(){hn(new rn("performance",yNe,"PUBLIC")),Ae(mY,HP),Ae(mY,HP,"esm2017")}();class XP{constructor(e){return e}}const UY="performance",ZP=new N("angularfire2.performance-instances");function CNe(n){return(e,t,r)=>{if(!NE(t))return null;const i=e.runOutsideAngular(()=>n(r));return new XP(i)}}const ENe={provide:class bNe{constructor(){return ms(UY)}},deps:[[new Ie,ZP]]},INe={provide:XP,useFactory:function wNe(n,e,t){if(!NE(t))return null;const r=ps(UY,n,e);return r&&new XP(r)},deps:[[new Ie,ZP],ei,Xs]};let TNe=(()=>{class n{constructor(){Ae("angularfire",Jr.full,"perf")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=te({type:n}),n.\u0275inj=ee({providers:[INe,ENe]}),n})();function SNe(n,...e){return{ngModule:TNe,providers:[{provide:ZP,useFactory:CNe(n),multi:!0,deps:[se,Xs,Je,gs,_s,...e]}]}}const DNe=kt(_Ne,!0);class JP{constructor(e){return e}}const HY="remote-config",eO=new N("angularfire2.remote-config-instances");function xNe(n){return(e,t)=>{if(!Cy.sync())return null;const r=e.runOutsideAngular(()=>n(t));return new JP(r)}}const kNe={provide:class ANe{constructor(){return ms(HY)}},deps:[[new Ie,eO]]},RNe={provide:JP,useFactory:function MNe(n,e){if(!Cy.sync())return null;const t=ps(HY,n,e);return t&&new JP(t)},deps:[[new Ie,eO],ei]};let PNe=(()=>{class n{constructor(){Ae("angularfire",Jr.full,"rc")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=te({type:n}),n.\u0275inj=ee({providers:[RNe,kNe,{provide:nl,useValue:Cy.async,multi:!0}]}),n})();function ONe(n,...e){return{ngModule:PNe,providers:[{provide:eO,useFactory:xNe(n),multi:!0,deps:[se,Je,gs,_s,...e]}]}}const NNe=kt(Rhe,!0);let FNe=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=te({type:n,bootstrap:[wAe]}),n.\u0275inj=ee({providers:[s6,g1],imports:[iU,cDe,bxe,mDe,eue,oue,Gp,Gp,FIe,O5,hAe,wxe,gAe,JSe,Ixe,xxe,$xe,Rpe(()=>Ppe(e6_firebase)),pke(()=>Wxe()),fye(()=>gye()),VPe(()=>BPe()),l0e(()=>u0e()),uOe(()=>dOe()),yOe(()=>vOe()),SNe(()=>DNe()),ONe(()=>NNe()),kSe(()=>PSe()),Hle,uEe]}),n})();(function Cre(){if(sB)throw new Error("Cannot enable prod mode after platform setup.");iB=!1})(),Wse().bootstrapModule(FNe).catch(n=>console.error(n))}},He=>{He(He.s=407)}]);